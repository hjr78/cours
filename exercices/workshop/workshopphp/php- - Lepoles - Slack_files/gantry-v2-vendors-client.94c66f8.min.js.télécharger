(()=>{var Pv=Object.defineProperty;var r=(U,c)=>Pv(U,"name",{value:c,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-vendors-client","gantry-v2-vendors-workflow-builder"],{"+7ft":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");c.default=v},"+D+n":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("t9Fz")),m=f(d("QzVx")),a=d("KyYT"),o=f(d("JTre"));let i=r(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new h.default(new m.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return v(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const t=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,t.destroy()})}bindVideoElement(t,n){const s=this.getVideoTile(t);if(s===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${t}`);return}s.bindVideoElement(n)}unbindVideoElement(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const s=this.getVideoTile(t);if(s===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${t}`);return}this.logger.info("Unbinding the video element");const p=s.stateRef().boundVideoElement;s.bindVideoElement(null),n&&(this.logger.info("Cleaning up the video element"),o.default.disconnectVideoStreamFromVideoElement(p,!1))}startLocalVideoTile(){const t=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),t.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(t){const n=this.getVideoTile(t);n&&(this.currentPausedTilesByIds.has(t)||(this.audioVideoController.pauseReceivingStream(n.stateRef().streamId),this.currentPausedTilesByIds.add(t)),n.pause())}unpauseVideoTile(t){const n=this.getVideoTile(t);n&&(this.currentPausedTilesByIds.has(t)&&(this.audioVideoController.resumeReceivingStream(n.stateRef().streamId),this.currentPausedTilesByIds.delete(t)),n.unpause())}getVideoTile(t){return this.tileMap.has(t)?this.tileMap.get(t):null}getVideoTileArea(t){const n=t.state();let s=0,p=0;return n.boundVideoElement&&(s=n.boundVideoElement.clientHeight*n.devicePixelRatio,p=n.boundVideoElement.clientWidth*n.devicePixelRatio),s*p}getAllRemoteVideoTiles(){const t=new Array;return this.tileMap.forEach((n,s)=>{(!this.currentLocalTile||s!==this.currentLocalTile.id())&&t.push(n)}),t}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const s=this.tileFactory.makeTile(n,t,this,this.devicePixelRatioMonitor);return this.tileMap.set(n,s),s}removeVideoTile(t){if(!this.tileMap.has(t))return;const n=this.tileMap.get(t);this.currentLocalTile===n&&(this.currentLocalTile=null),n.destroy(),this.tileMap.delete(t),this.audioVideoController.forEachObserver(s=>{a.Maybe.of(s.videoTileWasRemoved).map(p=>p.bind(s)(t))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(t){const n=[];for(const s of this.getAllVideoTiles()){const p=s.state();p.boundAttendeeId===t&&(this.removeVideoTile(p.tileId),n.push(p.tileId))}return n}removeAllVideoTiles(){const t=Array.from(this.tileMap.keys());for(const n of t)this.removeVideoTile(n)}sendTileStateUpdate(t){this.audioVideoController.forEachObserver(n=>{a.Maybe.of(n.videoTileDidUpdate).map(s=>s.bind(n)(t))})}haveVideoTilesWithStreams(){for(const t of this.getAllVideoTiles())if(t.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(t){return!!this.getVideoTileForAttendeeId(t)}getVideoTileForAttendeeId(t){for(const n of this.getAllVideoTiles())if(n.state().boundAttendeeId===t)return n}captureVideoTile(t){const n=this.getVideoTile(t);return n?n.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(t,n,s){this.tileFactory=t,this.audioVideoController=n,this.logger=s,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=n.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");c.default=i},"+DE9":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{destroy(){return v(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(m){this.observerQueue.add(m),m.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(m){this.observerQueue.delete(m)}constructor(m,a){if(this.devicePixelRatioSource=m,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(i=>{i.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const o=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof o.addEventListener=="function"?(o.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=o):typeof o.addListener=="function"?(o.addListener(this.mediaQueryListener),this.mediaQueryList=o):a.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");c.default=f},"+JPL":function(U,c,d){U.exports={default:d("gRli"),__esModule:!0}},"+br/":function(U,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return f}),d.d(c,"__assign",function(){return h}),d.d(c,"__rest",function(){return m}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return o}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return n}),d.d(c,"__exportStar",function(){return s}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return g}),d.d(c,"__spread",function(){return S}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return l}),d.d(c,"__asyncGenerator",function(){return E}),d.d(c,"__asyncDelegator",function(){return O}),d.d(c,"__asyncValues",function(){return P}),d.d(c,"__makeTemplateObject",function(){return x}),d.d(c,"__importStar",function(){return k}),d.d(c,"__importDefault",function(){return B}),d.d(c,"__classPrivateFieldGet",function(){return R}),d.d(c,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=r(function(w,A){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var X in K)K.hasOwnProperty(X)&&(D[X]=K[X])},v(w,A)},"extendStatics");function f(w,A){v(w,A);function D(){this.constructor=w}r(D,"__"),w.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}r(f,"__extends");var h=r(function(){return h=Object.assign||r(function(A){for(var D,K=1,X=arguments.length;K<X;K++){D=arguments[K];for(var j in D)Object.prototype.hasOwnProperty.call(D,j)&&(A[j]=D[j])}return A},"__assign"),h.apply(this,arguments)},"__assign");function m(w,A){var D={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&A.indexOf(K)<0&&(D[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,K=Object.getOwnPropertySymbols(w);X<K.length;X++)A.indexOf(K[X])<0&&Object.prototype.propertyIsEnumerable.call(w,K[X])&&(D[K[X]]=w[K[X]]);return D}r(m,"__rest");function a(w,A,D,K){var X=arguments.length,j=X<3?A:K===null?K=Object.getOwnPropertyDescriptor(A,D):K,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,A,D,K);else for(var me=w.length-1;me>=0;me--)(te=w[me])&&(j=(X<3?te(j):X>3?te(A,D,j):te(A,D))||j);return X>3&&j&&Object.defineProperty(A,D,j),j}r(a,"__decorate");function o(w,A){return function(D,K){A(D,K,w)}}r(o,"__param");function i(w,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,A)}r(i,"__metadata");function e(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})}r(e,"__awaiter");function t(w,A){var D={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},K,X,j,te;return te={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function me(pe){return function(Ae){return we([pe,Ae])}}function we(pe){if(K)throw new TypeError("Generator is already executing.");for(;D;)try{if(K=1,X&&(j=pe[0]&2?X.return:pe[0]?X.throw||((j=X.return)&&j.call(X),0):X.next)&&!(j=j.call(X,pe[1])).done)return j;switch(X=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return D.label++,{value:pe[1],done:!1};case 5:D.label++,X=pe[1],pe=[0];continue;case 7:pe=D.ops.pop(),D.trys.pop();continue;default:if(j=D.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){D=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){D.label=pe[1];break}if(pe[0]===6&&D.label<j[1]){D.label=j[1],j=pe;break}if(j&&D.label<j[2]){D.label=j[2],D.ops.push(pe);break}j[2]&&D.ops.pop(),D.trys.pop();continue}pe=A.call(w,D)}catch(Ae){pe=[6,Ae],X=0}finally{K=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}r(t,"__generator");function n(w,A,D,K){K===void 0&&(K=D),w[K]=A[D]}r(n,"__createBinding");function s(w,A){for(var D in w)D!=="default"&&!A.hasOwnProperty(D)&&(A[D]=w[D])}r(s,"__exportStar");function p(w){var A=typeof Symbol=="function"&&Symbol.iterator,D=A&&w[A],K=0;if(D)return D.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}r(p,"__values");function g(w,A){var D=typeof Symbol=="function"&&w[Symbol.iterator];if(!D)return w;var K=D.call(w),X,j=[],te;try{for(;(A===void 0||A-- >0)&&!(X=K.next()).done;)j.push(X.value)}catch(me){te={error:me}}finally{try{X&&!X.done&&(D=K.return)&&D.call(K)}finally{if(te)throw te.error}}return j}r(g,"__read");function S(){for(var w=[],A=0;A<arguments.length;A++)w=w.concat(g(arguments[A]));return w}r(S,"__spread");function u(){for(var w=0,A=0,D=arguments.length;A<D;A++)w+=arguments[A].length;for(var K=Array(w),X=0,A=0;A<D;A++)for(var j=arguments[A],te=0,me=j.length;te<me;te++,X++)K[X]=j[te];return K}r(u,"__spreadArrays");function l(w){return this instanceof l?(this.v=w,this):new l(w)}r(l,"__await");function E(w,A,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=D.apply(w,A||[]),X,j=[];return X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X;function te(Fe){K[Fe]&&(X[Fe]=function(Ue){return new Promise(function(Le,at){j.push([Fe,Ue,Le,at])>1||me(Fe,Ue)})})}function me(Fe,Ue){try{we(K[Fe](Ue))}catch(Le){Je(j[0][3],Le)}}function we(Fe){Fe.value instanceof l?Promise.resolve(Fe.value.v).then(pe,Ae):Je(j[0][2],Fe)}function pe(Fe){me("next",Fe)}function Ae(Fe){me("throw",Fe)}function Je(Fe,Ue){Fe(Ue),j.shift(),j.length&&me(j[0][0],j[0][1])}}r(E,"__asyncGenerator");function O(w){var A,D;return A={},K("next"),K("throw",function(X){throw X}),K("return"),A[Symbol.iterator]=function(){return this},A;function K(X,j){A[X]=w[X]?function(te){return(D=!D)?{value:l(w[X](te)),done:X==="return"}:j?j(te):te}:j}}r(O,"__asyncDelegator");function P(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=w[Symbol.asyncIterator],D;return A?A.call(w):(w=typeof p=="function"?p(w):w[Symbol.iterator](),D={},K("next"),K("throw"),K("return"),D[Symbol.asyncIterator]=function(){return this},D);function K(j){D[j]=w[j]&&function(te){return new Promise(function(me,we){te=w[j](te),X(me,we,te.done,te.value)})}}function X(j,te,me,we){Promise.resolve(we).then(function(pe){j({value:pe,done:me})},te)}}r(P,"__asyncValues");function x(w,A){return Object.defineProperty?Object.defineProperty(w,"raw",{value:A}):w.raw=A,w}r(x,"__makeTemplateObject");function k(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var D in w)Object.hasOwnProperty.call(w,D)&&(A[D]=w[D]);return A.default=w,A}r(k,"__importStar");function B(w){return w&&w.__esModule?w:{default:w}}r(B,"__importDefault");function R(w,A){if(!A.has(w))throw new TypeError("attempted to get private field on non-instance");return A.get(w)}r(R,"__classPrivateFieldGet");function N(w,A,D){if(!A.has(w))throw new TypeError("attempted to set private field on non-instance");return A.set(w,D),D}r(N,"__classPrivateFieldSet")},"+j7y":function(U,c,d){"use strict";var v=d("YXGX"),f=d("ifKl"),h=v.a?function(m){return v.a.get(m)}:f.a;c.a=h},"+vXQ":function(U,c,d){U.exports=!d("C61u")&&!d("S4vA")(function(){return Object.defineProperty(d("BfU5")("div"),"a",{get:function(){return 7}}).a!=7})},"/AJg":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.convertServerSideNetworkAdaptionEnumToSignaled=c.convertServerSideNetworkAdaptionEnumFromSignaled=c.serverSideNetworkAdaptionIsNoneOrDefault=c.ServerSideNetworkAdaption=void 0;const v=d("XCDq");var f;(function(o){o[o.Default=0]="Default",o[o.None=1]="None",o[o.BandwidthProbing=2]="BandwidthProbing",o[o.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(f=c.ServerSideNetworkAdaption||(c.ServerSideNetworkAdaption={})),c.default=f;function h(o){return o===f.None||o===f.Default}r(h,"serverSideNetworkAdaptionIsNoneOrDefault"),c.serverSideNetworkAdaptionIsNoneOrDefault=h;function m(o){switch(o){case v.SdkServerSideNetworkAdaption.DEFAULT:return f.Default;case v.SdkServerSideNetworkAdaption.NONE:return f.None;case v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return f.BandwidthProbing;case v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return f.BandwidthProbingAndRemoteVideoQualityAdaption}}r(m,"convertServerSideNetworkAdaptionEnumFromSignaled"),c.convertServerSideNetworkAdaptionEnumFromSignaled=m;function a(o){switch(o){case f.Default:return v.SdkServerSideNetworkAdaption.DEFAULT;case f.None:return v.SdkServerSideNetworkAdaption.NONE;case f.BandwidthProbing:return v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case f.BandwidthProbingAndRemoteVideoQualityAdaption:return v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}r(a,"convertServerSideNetworkAdaptionEnumToSignaled"),c.convertServerSideNetworkAdaptionEnumToSignaled=a},"/F7N":function(U,c){var d=Math.ceil,v=Math.floor;U.exports=function(f){return isNaN(f=+f)?0:(f>0?v:d)(f)}},"/N6y":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");c.default=v},"/NTb":function(U,c,d){c.f=d("zBWt")},"/U1e":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("wR/T")),h=d("R4Nl"),m=v(d("a16/")),a=v(d("iNgN"));let o=r(class{constructor(e,t){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new f.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,e&&(e=h.toLowerCasePropertyNames(e),e.meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new a.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl,e.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=e.mediaplacement.eventingestionurl)),t&&(t=h.toLowerCasePropertyNames(t),t.attendee&&(t=t.attendee),this.credentials=new m.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken)}},"MeetingSessionConfiguration");c.default=o},"/sFY":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{equals(h){return h!==void 0&&this.mid===h.mid&&this.attendeeId===h.attendeeId&&this.streamId===h.streamId&&this.groupId===h.groupId&&this.priority===h.priority&&this.targetBitrateKbps===h.targetBitrateKbps}},"SignalingClientVideoSubscriptionConfiguration");c.default=v},"/tXR":function(U,c){c.f=Object.getOwnPropertySymbols},"046c":function(U,c,d){"use strict";d.d(c,"a",function(){return f});const v={Shortcut:"shortcut",Event:"event",Webhook:"webhook",Scheduled:"scheduled",External:"external"},f={Shortcut:"shortcut",Event:"event",Webhook:"webhook",Scheduled:"scheduled",External:"external"}},"0JTw":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("HbHZ"));let h=r(class{isConnectionTerminated(){switch(this.type){case f.default.WebSocketFailed:case f.default.WebSocketError:case f.default.WebSocketClosing:case f.default.WebSocketClosed:return!0;default:return!1}}constructor(a,o,i,e,t){this.client=a,this.type=o,this.message=i,this.closeCode=e,this.closeReason=t,this.timestampMs=Date.now()}},"SignalingClientEvent");c.default=h},"0Kz9":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{mute(m){return v(this,void 0,void 0,function*(){})}stop(){var m;return v(this,void 0,void 0,function*(){(m=this.node)===null||m===void 0||m.disconnect()})}intrinsicDevice(){return v(this,void 0,void 0,function*(){return this.inner})}createAudioNode(m){var a;return v(this,void 0,void 0,function*(){return(a=this.node)===null||a===void 0||a.disconnect(),this.node=yield this.createSingleAudioNode(m),{start:this.node,end:this.node}})}constructor(m){this.inner=m}},"SingleNodeAudioTransformDevice");c.default=f},"0LIx":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("XCDq"),h=v(d("MpTp")),m=v(d("OEM7"));let a=r(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(i){return i>0&&i<1e3?1:Math.trunc(i/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const i=[];return this.currentIndex.sources.forEach(e=>{const t=new m.default;t.attendeeId=e.attendeeId,t.groupId=e.groupId,t.streamId=e.streamId,t.maxBitrateKbps=e.maxBitrateKbps,t.avgBitrateKbps=this.convertBpsToKbps(e.avgBitrateBps),i.push(t)}),i}integrateUplinkPolicyDecision(i){if(i&&i.length){const e=i[0];this.videoStreamDescription.maxBitrateKbps=e.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=e.maxFramerate}}integrateIndexFrame(i){if(this.currentIndex=i,!i)return;const e=new Map;let t=!1;for(const n of i.sources){if(!e.has(n.attendeeId)){e.set(n.attendeeId,n.groupId);continue}const s=e.get(n.attendeeId);s<n.groupId&&(this.logger.warn(`Old group ID ${s} found for attendee ID ${n.attendeeId}, replacing with newer group ID ${n.groupId}`),e.set(n.attendeeId,n.groupId)),t=!0}t&&(this.currentIndex.sources=this.currentIndex.sources.filter(n=>e.get(n.attendeeId)===n.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(i){this.currentSubscribeAck=i,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(i){if(this.currentIndex)for(const e of i.bitrates){const t=this.currentIndex.sources.find(n=>n.streamId===e.sourceStreamId);t!==void 0&&(t.avgBitrateBps=e.avgBitrateBps)}}allStreams(){const i=new h.default;if(this.currentIndex)for(const e of this.currentIndex.sources)i.add(e.streamId);return i}allVideoSendingSourcesExcludingSelf(i){const e=[],t=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const n of this.currentIndex.sources){const{attendeeId:s,externalUserId:p,mediaType:g}=n;s!==i&&g===f.SdkStreamMediaType.VIDEO&&(t.has(s)||(e.push({attendee:{attendeeId:s,externalUserId:p}}),t.add(s)))}return e}streamSelectionUnderBandwidthConstraint(i,e,t,n){const s=new Set;if(this.currentIndex)for(const l of this.currentIndex.sources)l.attendeeId===i||l.mediaType!==f.SdkStreamMediaType.VIDEO||!e.has(l.attendeeId)&&!t.has(l.attendeeId)&&s.add(l.attendeeId);const p=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i),g=new Map;let S=0;p.forEach((l,E)=>{g.set(E,l[0]),S+=l[0].maxBitrateKbps}),S=this.trySelectHighBitrateForAttendees(p,e,S,n,g),this.trySelectHighBitrateForAttendees(p,s,S,n,g);const u=new h.default;for(const l of g.values())u.add(l.streamId);return u}highestQualityStreamFromEachGroupExcludingSelf(i){const e=new h.default;if(this.currentIndex){const t=new Map;for(const n of this.currentIndex.sources)n.attendeeId===i||n.mediaType!==f.SdkStreamMediaType.VIDEO||(!t.has(n.groupId)||n.maxBitrateKbps>t.get(n.groupId).maxBitrateKbps)&&t.set(n.groupId,n);for(const n of t.values())e.add(n.streamId)}return e}numberOfVideoPublishingParticipantsExcludingSelf(i){return this.highestQualityStreamFromEachGroupExcludingSelf(i).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${i}`),"";const t=this.subscribeStreamToAttendeeMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known attendee`),"")}externalUserIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${i}`),"";const t=this.subscribeStreamToExternalUserIdMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(i){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const e=this.streamToAttendeeMap.get(i);return e||(this.logger.info(`stream ID ${i} does not correspond to a known attendee`),"")}attendeeIdForGroupId(i){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const e=this.groupIdToAttendeeMap.get(i);return e||(this.logger.info(`group ID ${i} does not correspond to a known attendee`),"")}groupIdForStreamId(i){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const e of this.currentIndex.sources)if(e.streamId===i)return e.groupId;if(this.indexForSubscribe){for(const e of this.indexForSubscribe.sources)if(e.streamId===i)return e.groupId}}}StreamIdsInSameGroup(i,e){return this.groupIdForStreamId(i)===this.groupIdForStreamId(e)}streamIdForTrack(i){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(i)}streamIdForSSRC(i){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(i)}overrideStreamIdMappings(i,e){if(this.subscribeTrackToStreamMap){for(const[t,n]of this.subscribeTrackToStreamMap.entries())if(i===n){this.subscribeTrackToStreamMap.set(t,e);break}}if(this.subscribeSsrcToStreamMap){for(const[t,n]of this.subscribeSsrcToStreamMap.entries())if(i===n){this.subscribeSsrcToStreamMap.set(t,e);break}}}groupIdForSSRC(i){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(i)}streamsPausedAtSource(){const i=new h.default;if(this.currentIndex)for(const e of this.currentIndex.pausedAtSourceIds)i.add(e);return i}buildTrackToStreamMap(i){const e=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.trackLabel,t.streamId);return e}buildSSRCToStreamMap(i){const e=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,t.streamId);return e}buildSSRCToGroupMap(i){const e=new Map;for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,this.groupIdForStreamId(t.streamId));return e}buildStreamToAttendeeMap(i){const e=new Map;if(i)for(const t of i.sources)e.set(t.streamId,t.attendeeId);return e}buildGroupIdToAttendeeMap(i){const e=new Map;for(const t of i.sources)e.set(t.groupId,t.attendeeId);return e}buildStreamExternalUserIdMap(i){const e=new Map;if(i)for(const t of i.sources)t.externalUserId&&e.set(t.streamId,t.externalUserId);return e}trySelectHighBitrateForAttendees(i,e,t,n,s){for(const p of e){if(t>=n)break;if(i.has(p)){const g=i.get(p);for(const S of g.reverse())if(t-s.get(p).maxBitrateKbps+S.maxBitrateKbps<n){t=t-s.get(p).maxBitrateKbps+S.maxBitrateKbps,s.set(p,S);break}}}return t}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i){const e=new Map;if(this.currentIndex)for(const t of this.currentIndex.sources)t.attendeeId===i||t.mediaType!==f.SdkStreamMediaType.VIDEO||(e.has(t.attendeeId)?e.get(t.attendeeId).push(t):e.set(t.attendeeId,[t]));return e.forEach((t,n)=>{t.sort((s,p)=>s.maxBitrateKbps>p.maxBitrateKbps?1:s.maxBitrateKbps<p.maxBitrateKbps?-1:0)}),e}constructor(i){this.logger=i,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new m.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");c.default=a},"0NFC":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(s,p,g,S){function u(l){return l instanceof g?l:new g(function(E){E(l)})}return r(u,"adopt"),new(g||(g=Promise))(function(l,E){function O(k){try{x(S.next(k))}catch(B){E(B)}}r(O,"fulfilled");function P(k){try{x(S.throw(k))}catch(B){E(B)}}r(P,"rejected");function x(k){k.done?l(k.value):u(k.value).then(O,P)}r(x,"step"),x((S=S.apply(s,p||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("/U1e")),m=f(d("a16/")),a=f(d("bTau")),o=f(d("6/h7")),i=d("KyYT"),e=f(d("NWIo")),t=f(d("34ho"));let n=r(class{static createContentShareMeetingSessionConfigure(p){const g=new h.default;return g.meetingId=p.meetingId,g.externalMeetingId=p.externalMeetingId,g.urls=p.urls,g.disablePeriodicKeyframeRequestOnContentSender=p.disablePeriodicKeyframeRequestOnContentSender,g.credentials=new m.default,g.credentials.attendeeId=p.credentials.attendeeId+t.default.Modality,g.credentials.externalUserId=p.credentials.externalUserId,g.credentials.joinToken=p.credentials.joinToken+t.default.Modality,g}setContentAudioProfile(p){this.contentAudioVideo.setAudioProfile(p)}enableSimulcastForContentShare(p,g){p?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new e.default(this.contentAudioVideo.logger,g)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(p){return v(this,void 0,void 0,function*(){if(p){this.mediaStreamBroker.mediaStream=p;for(let g=0;g<this.mediaStreamBroker.mediaStream.getTracks().length;g++)this.mediaStreamBroker.mediaStream.getTracks()[g].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(p,g){return v(this,void 0,void 0,function*(){const S=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(p,g);return yield this.startContentShare(S),S})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(p=>{i.Maybe.of(p.contentShareDidPause).map(g=>g.call(p))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(p=>{i.Maybe.of(p.contentShareDidUnpause).map(g=>g.call(p))})}setContentShareVideoCodecPreferences(p){this.contentAudioVideo.setVideoCodecSendPreferences(p)}destroy(){return v(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(p){this.observerQueue.add(p)}removeContentShareObserver(p){this.observerQueue.delete(p)}forEachContentShareObserver(p){for(const g of this.observerQueue)o.default.nextTick(()=>{this.observerQueue.has(g)&&p(g)})}audioVideoDidStart(){var p;((p=this.mediaStreamBroker.mediaStream)===null||p===void 0?void 0:p.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(p){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(g=>{i.Maybe.of(g.contentShareDidStop).map(S=>S.call(g))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((p,g,S,u)=>{const l=new a.default(p).hasModality(a.default.MODALITY_CONTENT),E=new a.default(p).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!l||!E||!g||this.contentShareTile)return;const O=this.mediaStreamBroker.mediaStream;if(O!=null&&O.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const P=O.getVideoTracks()[0];let x,k;if(P.getSettings){const B=P.getSettings();x=B.width,k=B.height}else{const B=P.getCapabilities();x=B.width,k=B.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,O,x,k,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(P=>{i.Maybe.of(P.contentShareDidStart).map(x=>x.call(P))})})}constructor(p,g,S){this.mediaStreamBroker=p,this.contentAudioVideo=g,this.attendeeAudioVideo=S,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");c.default=n},"0OOd":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isVideoTransformDevice=void 0;function v(f){return!!f&&typeof f=="object"&&"transformStream"in f&&"stop"in f&&"intrinsicDevice"in f}r(v,"isVideoTransformDevice"),c.isVideoTransformDevice=v},"0PSK":function(U,c,d){"use strict";var v=d("q1tI"),f=d.n(v);c.a=f.a.createContext(null)},"0WpP":function(U,c,d){var v=d("/F7N"),f=Math.min;U.exports=function(h){return h>0?f(v(h),9007199254740991):0}},"0YRd":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SDPCandidateType=void 0;var v;(function(f){f.Host="host",f.ServerReflexive="srflx",f.PeerReflexive="prflx",f.Relay="relay"})(v=c.SDPCandidateType||(c.SDPCandidateType={})),c.default=v},"0jNb":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("CtrA")),m=f(d("hEYi")),a=d("f2XL"),o=f(d("aVV0"));let i=r(class Af extends o.default{run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(t){if(t.type===m.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(const n of t.message.dataMessage.messages){const s=new h.default(n.ingestTimeNs/1e6,n.topic,n.data,n.senderAttendeeId,n.senderExternalUserId,n.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(s)}}validateDataMessage(t,n,s){if(!Af.TOPIC_REGEX.test(t))throw new Error("Invalid topic");if(n.length>Af.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(s&&s<0)throw new Error("The life time of the message has to be non negative")}constructor(t){super(t.logger),this.context=t,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(n,s,p)=>{if(this.context.signalingClient.ready()){let g;s instanceof Uint8Array?g=s:typeof s=="string"?g=new TextEncoder().encode(s):g=new TextEncoder().encode(JSON.stringify(s)),this.validateDataMessage(n,g,p);const S=a.SdkDataMessagePayload.create();S.topic=n,S.lifetimeMs=p,S.data=g;const u=a.SdkDataMessageFrame.create();u.messages=[S],this.context.signalingClient.sendDataMessage(u)}else this.context.logger.error("Signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");c.default=i,i.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),i.DATA_SIZE=2048},"1+fu":function(U,c,d){"use strict";var v=d("uRGJ"),f=d("LV2V"),h=d("FLqD"),m=d("IzLi");function a(n,s,p,g,S,u){return Object(m.a)(n)&&Object(m.a)(s)&&(u.set(s,n),Object(h.a)(n,s,void 0,a,u),u.delete(s)),n}r(a,"customDefaultsMerge");var o=a,i=d("dhcM"),e=Object(f.a)(function(n){return n.push(void 0,o),Object(v.a)(i.a,void 0,n)}),t=c.a=e},"10yS":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoLogEvent=void 0;var v;(function(f){f[f.InputAttached=0]="InputAttached",f[f.SendingFailed=1]="SendingFailed",f[f.SendingSuccess=2]="SendingSuccess"})(v=c.VideoLogEvent||(c.VideoLogEvent={})),c.default=v},"18tZ":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.Connect="connect"})(v||(v={})),c.default=v},"1AO7":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(m,a,o,i){function e(t){return t instanceof o?t:new o(function(n){n(t)})}return r(e,"adopt"),new(o||(o=Promise))(function(t,n){function s(S){try{g(i.next(S))}catch(u){n(u)}}r(s,"fulfilled");function p(S){try{g(i.throw(S))}catch(u){n(u)}}r(p,"rejected");function g(S){S.done?t(S.value):e(S.value).then(s,p)}r(g,"step"),g((i=i.apply(m,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxCanvasOpsManager=void 0;const f=d("Lxy7");let h=r(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return v(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const o=document.createElement("canvas");o.width=this.streamParameters.width,o.height=this.streamParameters.height,o.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=o}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return v(this,void 0,void 0,function*(){const o=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(o)try{const e=yield this.loadImage(o);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=this.streamParameters.width,o.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=o}resizeAndSetReplacementColor(a){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=this.streamParameters.width,o.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=o}loadImage(a){return v(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,n)=>{e.onload=()=>{t(e)},e.onerror=s=>{n(s)}})})}constructor(a,o){this.streamParameters=a,this.outputCanvas=o,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");c.VideoFxCanvasOpsManager=h},"1Apa":function(U,c,d){"use strict";var v=d("Ue8S");function f(n){var s=n.length;return s?n[Object(v.a)(0,s-1)]:void 0}r(f,"arraySample");var h=f,m=d("TGBA");function a(n){return h(Object(m.a)(n))}r(a,"baseSample");var o=a,i=d("/1FC");function e(n){var s=Object(i.a)(n)?h:o;return s(n)}r(e,"sample");var t=c.a=e},"1Cbm":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("8wPz"));let m=r(class{needUpdate(o){return this.activeSpeakers?this.speakerScores[o]===0&&this.activeSpeakers.includes(o)||this.speakerScores[o]>0&&!this.activeSpeakers.includes(o):!0}updateActiveSpeakers(o,i,e){if(!this.needUpdate(e))return;const t=[],n=Object.keys(this.speakerScores);for(let u=0;u<n.length;u++){const l=n[u];t.push({attendeeId:l,activeScore:this.speakerScores[l]})}const s=t.sort((u,l)=>l.activeScore-u.activeScore).filter(function(u){return u.activeScore>0}).map(function(u){return u.attendeeId});this.activeSpeakers=s,i(s);const g=s.length>0&&s[0]===this.selfAttendeeId&&o.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==g&&(this.hasBandwidthPriority=g,this.hasBandwidthPriorityCallback(g))}updateScore(o,i,e,t,n){const s=o.calculateScore(e,t,n);this.speakerScores[e]!==s&&(this.speakerScores[e]=s,this.mostRecentUpdateTimestamp[e]=Date.now(),this.updateActiveSpeakers(o,i,e))}subscribe(o,i,e,t){const n=r((p,g)=>{if(!g){this.speakerScores[p]=0,this.mostRecentUpdateTimestamp[p]=Date.now(),this.updateActiveSpeakers(o,i,p);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(p,(S,u,l,E)=>{this.mostRecentUpdateTimestamp[S]=Date.now(),l!==null&&(this.speakerMuteState[S]=l),this.updateScore(o,i,S,u,l)})},"handler");this.detectorCallbackToHandler.set(i,n);const s=new h.default(this.updateIntervalMs);if(s.start(()=>{for(const p in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[p]>this.waitIntervalMs&&this.updateScore(o,i,p,0,this.speakerMuteState[p])}),this.detectorCallbackToActivityTimer.set(i,s),e&&t){const p=new h.default(t);p.start(()=>{e(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(i,p)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)}unsubscribe(o){const i=this.detectorCallbackToHandler.get(o);this.detectorCallbackToHandler.delete(o),i&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i);const e=this.detectorCallbackToActivityTimer.get(o);e&&(e.stop(),this.detectorCallbackToActivityTimer.delete(o));const t=this.detectorCallbackToScoresTimer.get(o);t&&(t.stop(),this.detectorCallbackToHandler.delete(o))}destroy(){return v(this,void 0,void 0,function*(){for(const o of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(o);for(const o of this.detectorCallbackToActivityTimer.values())o.stop();for(const o of this.detectorCallbackToScoresTimer.values())o.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(o,i,e,t=1e3,n=200){this.realtimeController=o,this.selfAttendeeId=i,this.hasBandwidthPriorityCallback=e,this.waitIntervalMs=t,this.updateIntervalMs=n,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");c.default=m},"1GR6":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("oHvd"));let h=r(class extends f.default{isSendingAudioUnhealthy(){const a=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),o=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return a&&o}health(){if(this.isSendingAudioUnhealthy()){const a=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!a?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(a,o,i){super(o,i,"Sending Audio Health"),this.logger=a,this.sendingAudioFailureSamplesToConsider=o.sendingAudioFailureSamplesToConsider>0?o.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=o.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=o.maximumTimesToWarn,this.coolDownTimeMs=o.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");c.default=h},"1GvH":function(U,c,d){d("5w6Y"),U.exports=d("VSTI").Object.keys},"1J7j":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(s,p,g,S){function u(l){return l instanceof g?l:new g(function(E){E(l)})}return r(u,"adopt"),new(g||(g=Promise))(function(l,E){function O(k){try{x(S.next(k))}catch(B){E(B)}}r(O,"fulfilled");function P(k){try{x(S.throw(k))}catch(B){E(B)}}r(P,"rejected");function x(k){k.done?l(k.value):u(k.value).then(O,P)}r(x,"step"),x((S=S.apply(s,p||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("v8aG")),m=f(d("bTau")),a=f(d("CLOt")),o=f(d("hEYi")),i=d("f2XL"),e=d("KyYT"),t=f(d("aVV0"));let n=r(class extends t.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return v(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(p){if(p.type!==o.default.ReceivedSignalFrame||p.message.type!==i.SdkSignalFrame.Type.INDEX)return;const g=p.message.index;this.context.logger.info(`received new index ${JSON.stringify(g)}`),this.handleIndexFrame(g)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(p){if(!p)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=p;return}else this.pendingIndex=null;const g=this.context.audioVideoController.configuration.credentials.attendeeId;p.sources=p.sources.filter(P=>{const x=new m.default(P.attendeeId);return!(x.base()===g&&x.hasModality(m.default.MODALITY_CONTENT))});const{videoStreamIndex:S,videoDownlinkBandwidthPolicy:u,videoUplinkBandwidthPolicy:l}=this.context,E=S.allVideoSendingSourcesExcludingSelf(g);S.integrateIndexFrame(p),u.updateIndex(S),l.updateIndex(S),this.resubscribe(u,l),this.updateVideoAvailability(p),this.handleIndexVideosPausedAtSource(),p.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(p);const O=S.allVideoSendingSourcesExcludingSelf(g);this.areVideoSourcesEqual(E,O)||this.context.audioVideoController.forEachObserver(P=>{e.Maybe.of(P.remoteVideoSourcesDidChange).map(x=>x.bind(P)(O))})}areVideoSourcesEqual(p,g){if(p.length!==g.length)return!1;const S=r((E,O)=>E.attendee.attendeeId.localeCompare(O.attendee.attendeeId),"compare"),u=[...p].sort(S),l=[...g].sort(S);for(let E=0;E<u.length;E++)if(u[E].attendee.attendeeId!==l[E].attendee.attendeeId)return!1;return!0}resubscribe(p,g){const S=p.wantsResubscribe(),u=(this.context.videoDuplexMode===i.SdkStreamServiceType.TX||this.context.videoDuplexMode===i.SdkStreamServiceType.DUPLEX)&&g.wantsResubscribe(),l=S||u;if(this.logger.info(`should resubscribe: ${l} (downlink: ${S} uplink: ${u})`),!l)return;const E=p.chooseSubscriptions();this.context.videosToReceive=E.truncate(this.context.videoSubscriptionLimit),E.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=g.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${u} down=${S}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(p){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const g=new h.default;g.remoteVideoAvailable=!this.context.videosToReceive.empty(),g.canStartLocalVideo=!p.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(g))&&(this.context.lastKnownVideoAvailability=g.clone(),this.context.audioVideoController.forEachObserver(S=>{e.Maybe.of(S.videoAvailabilityDidChange).map(u=>u.bind(S)(g.clone()))}))}handleSupportedVideoReceiveCodecIntersection(p){if(this.context.videoSendCodecPreferences===void 0)return;const g=[];let S=!1;for(const u of this.context.videoSendCodecPreferences){let l=!1;for(const E of p.supportedReceiveCodecIntersection)if(u.equals(a.default.fromSignaled(E))){l=!0,g.push(u);break}this.context.currentVideoSendCodec!==void 0&&!l&&u.equals(this.context.currentVideoSendCodec)&&(S=!0)}g.length>0?this.context.meetingSupportedVideoSendCodecPreferences=g:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),S&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const p=this.context.videoStreamIndex.streamsPausedAtSource();for(const g of this.context.videoTileController.getAllVideoTiles()){const S=g.state();p.contain(S.streamId)?g.markPoorConnection()&&this.logger.info(`marks the tile ${S.tileId} as having a poor connection`):g.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${S.tileId} as having a poor connection`)}}constructor(p){super(p.logger),this.context=p,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");c.default=n},"1ZHK":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}onFallback(h,m){var a;for(const o of this.observers)(a=o.voiceFocusFellBackToInnerStream)===null||a===void 0||a.call(o,h,m)}onCPUWarning(){var h;for(const m of this.observers)(h=m.voiceFocusInsufficientResources)===null||h===void 0||h.call(m)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");c.default=v},"1i73":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("MpTp"));let h=r(class{reset(){}updateIndex(a){}updateMetrics(a){}wantsResubscribe(){return!1}chooseSubscriptions(){return new f.default}},"NoVideoDownlinkBandwidthPolicy");c.default=h},"1uai":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let v=r(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}},"AudioVideoControllerState");c.default=v},"25+x":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54"));let m=r(class Jg{getInnerDevice(){return this.device}mute(i){return v(this,void 0,void 0,function*(){this.node&&(i?yield this.node.disable():yield this.node.enable())})}stop(){return v(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(i){return v(this,void 0,void 0,function*(){return this.device===i&&!a(i)?this:new Jg(i,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return v(this,void 0,void 0,function*(){if(this.failed)return this.device;const i=this.nodeOptions.es,e={echoCancellation:!i,googEchoCancellation:!i,googEchoCancellation2:!i,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let t;return this.nodeOptions&&this.nodeOptions.agc!==void 0?t=this.nodeOptions.agc.useBuiltInAGC:t=!0,e.autoGainControl=t,e.googAutoGainControl=t,e.googAutoGainControl2=t,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?e.deviceId=this.device:e.deviceId={exact:this.device},e):this.device.id?this.device:Object.assign(Object.assign({},this.device),e):e})}createAudioNode(i){var e,t;return v(this,void 0,void 0,function*(){if(((e=this.node)===null||e===void 0?void 0:e.context)===i)return{start:this.node,end:this.node};const s=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((t=this.node)===null||t===void 0||t.disconnect(),this.node=yield this.voiceFocus.createNode(i,s),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(i,{channelCount:1,channelCountMode:"explicit"});for(const S of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(S);this.createMixSourceNode()}const p=this.node,g=this.node;return{start:p,end:g}}catch(p){throw this.failed=!0,this.delegate.onFallback(this,p),p}})}observeMeetingAudio(i){return v(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.addAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.addFarEndStream(e)})}unObserveMeetingAudio(i){return v(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.removeAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.removeFarendStream(e)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}addFarEndStream(i){return v(this,void 0,void 0,function*(){!this.nodeOptions.es||!i||this.farEndStreamToAudioSourceNode.has(i)||(this.node?this.assignFarEndStreamToAudioSourceNode(i):this.farEndStreamToAudioSourceNode.set(i,null))})}removeFarendStream(i){var e;return v(this,void 0,void 0,function*(){(e=this.farEndStreamToAudioSourceNode.get(i))===null||e===void 0||e.disconnect(),this.farEndStreamToAudioSourceNode.delete(i)})}meetingAudioStreamBecameActive(i){return v(this,void 0,void 0,function*(){this.addFarEndStream(i)})}meetingAudioStreamBecameInactive(i){return v(this,void 0,void 0,function*(){this.removeFarendStream(i)})}assignFarEndStreamToAudioSourceNode(i){const e=this.node.context.createMediaStreamSource(i);e.channelCount=1,e.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(i,e),e.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(i,e,t,n,s=!1,p=void 0,g=new h.default,S=new Map,u=void 0,l=void 0){this.device=i,this.voiceFocus=e,this.delegate=t,this.nodeOptions=n,this.failed=s,this.node=p,this.browserBehavior=g,this.farEndStreamToAudioSourceNode=S,this.mixDestNode=u,this.mixSourceNode=l}},"VoiceFocusTransformDevice");function a(o){return o==="default"?!0:!o||typeof o!="object"?!1:"deviceId"in o&&o.deviceId==="default"||"id"in o&&o.id==="default"}r(a,"isDefaultDevice"),c.default=m},"2Bsk":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckContentShareConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied",f[f.TimedOut=3]="TimedOut",f[f.ConnectionFailed=4]="ConnectionFailed"})(v=c.CheckContentShareConnectivityFeedback||(c.CheckContentShareConnectivityFeedback={})),c.default=v},"2IS5":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0}),c.TranscriptEventConverter=void 0;const f=d("XCDq"),h=v(d("VPK4")),m=v(d("PbSJ")),a=v(d("HrOX")),o=v(d("QPT4")),i={[f.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[f.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[f.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[f.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[f.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};let e=r(class{static from(n){let s;try{s=f.SdkTranscriptFrame.decode(n.data)}catch(g){throw new Error("Cannot decode transcript data message: "+g)}const p=[];for(const g of s.events)if(g.status){const S=i[g.status.type];if(!S)continue;const u=new m.default;u.type=S,u.eventTimeMs=g.status.eventTime,u.transcriptionRegion=g.status.transcriptionRegion,u.transcriptionConfiguration=g.status.transcriptionConfiguration,g.status.message&&(u.message=g.status.message),p.push(u)}else if(g.transcript){const S=new h.default;S.results=[];for(const u of g.transcript.results){const l={channelId:u.channelId,isPartial:u.isPartial,resultId:u.resultId,startTimeMs:u.startTime,endTimeMs:u.endTime,alternatives:[]};if(u.languageCode&&(l.languageCode=u.languageCode),u.languageIdentification&&u.languageIdentification.length>0){l.languageIdentification=[];for(const E of u.languageIdentification){const O={languageCode:E.languageCode,score:E.score};l.languageIdentification.push(O)}}for(const E of u.alternatives){const O={items:[],transcript:E.transcript};for(const P of E.items){const x={content:P.content,attendee:{attendeeId:P.speakerAttendeeId,externalUserId:P.speakerExternalUserId},startTimeMs:P.startTime,endTimeMs:P.endTime,type:null};switch(P.vocabularyFilterMatch&&(x.vocabularyFilterMatch=P.vocabularyFilterMatch),P.hasOwnProperty("stable")&&(x.stable=P.stable),P.hasOwnProperty("confidence")&&(x.confidence=P.confidence),P.type){case f.SdkTranscriptItem.Type.PRONUNCIATION:x.type=o.default.PRONUNCIATION;break;case f.SdkTranscriptItem.Type.PUNCTUATION:x.type=o.default.PUNCTUATION;break}O.items.push(x)}for(const P of E.entities){O.entities||(O.entities=[]);const x={category:P.category,confidence:P.confidence,content:P.content,startTimeMs:P.startTime,endTimeMs:P.endTime};P.type&&(x.type=P.type),O.entities.push(x)}l.alternatives.push(O)}S.results.push(l)}p.push(S)}return p}},"TranscriptEventConverter");c.TranscriptEventConverter=e},"2ZyS":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RawSha256=void 0;var v=d("V7js"),f=function(){function h(){this.state=Int32Array.from(v.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r(h,"RawSha2561"),h.prototype.update=function(m){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,o=m.byteLength;if(this.bytesHashed+=o,this.bytesHashed*8>v.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;o>0;)this.buffer[this.bufferLength++]=m[a++],o--,this.bufferLength===v.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},h.prototype.digest=function(){if(!this.finished){var m=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),o=this.bufferLength;if(a.setUint8(this.bufferLength++,128),o%v.BLOCK_SIZE>=v.BLOCK_SIZE-8){for(var i=this.bufferLength;i<v.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<v.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(v.BLOCK_SIZE-8,Math.floor(m/4294967296),!0),a.setUint32(v.BLOCK_SIZE-4,m),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(v.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},h.prototype.hashBuffer=function(){for(var m=this,a=m.buffer,o=m.state,i=o[0],e=o[1],t=o[2],n=o[3],s=o[4],p=o[5],g=o[6],S=o[7],u=0;u<v.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var l=this.temp[u-2],E=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10;l=this.temp[u-15];var O=(l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[u]=(E+this.temp[u-7]|0)+(O+this.temp[u-16]|0)}var P=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&p^~s&g)|0)+(S+(v.KEY[u]+this.temp[u]|0)|0)|0,x=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;S=g,g=p,p=s,s=n+P|0,n=t,t=e,e=i,i=P+x|0}o[0]+=i,o[1]+=e,o[2]+=t,o[3]+=n,o[4]+=s,o[5]+=p,o[6]+=g,o[7]+=S},h}();c.RawSha256=f},"2ede":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DeferredPromise=void 0;let v=r(class{getPromise(){return this.promise}resolvePromise(h){this.resolve(h)}resolveAndReplacePromise(h){this.resolve(h),this.promise=new Promise((m,a)=>{this.resolve=m,this.reject=a})}rejectPromise(h){this.reject(h)}rejectAndReplacePromise(h){this.reject(h),this.promise=new Promise((m,a)=>{this.resolve=m,this.reject=a})}constructor(){this.promise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}},"DeferredPromise");c.DeferredPromise=v},"2nae":function(U,c,d){"use strict";var v=this&&this.__createBinding||(Object.create?function(rn,ge,Re,Ve){Ve===void 0&&(Ve=Re),Object.defineProperty(rn,Ve,{enumerable:!0,get:function(){return ge[Re]}})}:function(rn,ge,Re,Ve){Ve===void 0&&(Ve=Re),rn[Ve]=ge[Re]}),f=this&&this.__setModuleDefault||(Object.create?function(rn,ge){Object.defineProperty(rn,"default",{enumerable:!0,value:ge})}:function(rn,ge){rn.default=ge}),h=this&&this.__importStar||function(rn){if(rn&&rn.__esModule)return rn;var ge={};if(rn!=null)for(var Re in rn)Re!=="default"&&Object.prototype.hasOwnProperty.call(rn,Re)&&v(ge,rn,Re);return f(ge,rn),ge},m=this&&this.__awaiter||function(rn,ge,Re,Ve){function kt(tt){return tt instanceof Re?tt:new Re(function(it){it(tt)})}return r(kt,"adopt"),new(Re||(Re=Promise))(function(tt,it){function bt(en){try{un(Ve.next(en))}catch(Mn){it(Mn)}}r(bt,"fulfilled");function an(en){try{un(Ve.throw(en))}catch(Mn){it(Mn)}}r(an,"rejected");function un(en){en.done?tt(en.value):kt(en.value).then(bt,an)}r(un,"step"),un((Ve=Ve.apply(rn,ge||[])).next())})},a=this&&this.__importDefault||function(rn){return rn&&rn.__esModule?rn:{default:rn}};Object.defineProperty(c,"__esModule",{value:!0});const o=a(d("1Cbm")),i=a(d("WHnE")),e=a(d("SO8M")),t=a(d("Sa54")),n=a(d("RfPO")),s=a(d("8dVZ")),p=a(d("6Bxv")),g=a(d("lUhs")),S=a(d("v8aG")),u=a(d("bTau")),l=a(d("ML5K")),E=a(d("gTDO")),O=a(d("6/h7")),P=a(d("9ETa")),x=a(d("JHsX")),k=a(d("I0Bj")),B=a(d("87Nr")),R=a(d("jP1N")),N=h(d("DUgj")),w=a(d("hEYi")),A=a(d("/sFY")),D=d("f2XL"),K=a(d("R9j3")),X=a(d("5ViG")),j=a(d("yMiq")),te=a(d("teem")),me=a(d("Fyq9")),we=a(d("7W6Z")),pe=a(d("N9oo")),Ae=a(d("xJ9D")),Je=a(d("FCN7")),Fe=a(d("curu")),Ue=a(d("3Ft5")),Le=a(d("mjQB")),at=a(d("mv1L")),lt=a(d("LNXf")),ot=a(d("LhvI")),pt=a(d("WRer")),ct=a(d("cizm")),rt=a(d("5z6C")),Tn=a(d("1J7j")),Qt=a(d("0jNb")),Ft=a(d("8tla")),Rn=a(d("ohOv")),Pn=a(d("CRwe")),ti=a(d("ZPwG")),Sn=a(d("L+i+")),oi=a(d("yqyw")),vi=a(d("IBi3")),Hn=a(d("riOr")),Di=a(d("OND3")),Bi=a(d("NUAg")),Gt=d("KyYT"),Dn=a(d("XJrD")),Dt=a(d("nYR4")),je=a(d("5mR7")),yt=d("P7D+"),dt=a(d("Zkgh")),cn=a(d("ldli")),li=a(d("nq15")),ci=a(d("+D+n")),Jn=a(d("rcF0")),di=a(d("LUct")),Mi=a(d("hhlX")),Sr=a(d("P3Bx")),Ai=a(d("rEUf"));let Hi=r(class xd{destroy(){return m(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new o.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(ge){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(ge):null}setAudioProfile(ge){this._audioProfile=ge}addObserver(ge){this.logger.info("adding meeting observer"),this.observerQueue.add(ge)}removeObserver(ge){this.logger.info("removing meeting observer"),this.observerQueue.delete(ge)}forEachObserver(ge){for(const Re of this.observerQueue)O.default.nextTick(()=>{this.observerQueue.has(Re)&&ge(Re)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new Ai.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new t.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new R.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const ge=r(()=>m(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Re){Re.type===w.default.WebSocketClosed&&ge()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(ge=>{this.logger.error(`Signaling task pre-start failed: ${ge}`),this.signalingTask=void 0})}start(ge){this.startReturningPromise(ge).then(()=>{this.logger.info("start completed")}).catch(Re=>{this.logger.error(`start failed: ${Re}`)})}startReturningPromise(ge){return(ge==null?void 0:ge.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Re,Ve)=>{this.sessionStateController.perform(x.default.Connect,()=>{this.actionConnect(!1).then(Re).catch(Ve)})}))}connectWithPromises(ge){const Re=this.meetingSessionContext,Ve=r((dr,Ki)=>new Sn.default(this.logger,Ki,dr),"timeout");this.monitorTask=new Ue.default(Re,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const kt=this.monitorTask.once(),tt=new ot.default(Re).once();this.receiveIndexTask=new Tn.default(Re),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const it=new Ft.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new Fe.default(Re),new Qt.default(Re),new Ae.default(Re),new ct.default(Re),this.receiveIndexTask]).once(),bt=new me.default(Re).once(it),an=new X.default(Re).once(bt,tt),un=new we.default(Re).once(an),en=new Rn.default(Re).once(un),Mn=new pe.default(Re).once(en),qi=new ti.default(Re).once(Mn),pi=new pt.default(Re).once(qi);return new Ft.default(this.logger,this.wrapTaskName("AudioVideoStart"),[kt,Ve(this.configuration.connectionTimeoutMs,new Ft.default(this.logger,"Peer",[qi,pi,ge?new Sn.default(this.logger,new at.default(this.logger,"FinalizeConnection",[new oi.default(Re),new Pn.default(Re)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Pn.default(Re)]))])}actionConnect(ge){var Re;return m(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new t.default().hasChromiumWebRTC();const Ve=!!this.configuration.urls.audioHostURL;if(Ve?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new u.default(this.configuration.credentials.attendeeId).hasModality(u.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Hn.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new Di.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new vi.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new Bi.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new Sr.default(this.logger,this._realtimeController,xd.MIN_VOLUME_DECIBELS,xd.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let it=this.meetingSessionContext.videoUplinkBandwidthPolicy;it||(it=new di.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=it),it.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new je.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new li.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new cn.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new Mi.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Dt.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new S.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Dn.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new dt.default,this.meetingSessionContext.videosPaused=new dt.default,this.meetingSessionContext.statsCollector=new K.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new s.default(this,this._realtimeController,this.connectionHealthData,new l.default(this.meetingSessionContext.signalingClient,xd.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},ge||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(it=>{Gt.Maybe.of(it.audioVideoDidStartConnecting).map(bt=>bt.bind(it)(!1))}),(Re=this.eventController)===null||Re===void 0||Re.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const kt=Ve&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+kt);const tt=this.connectWithPromises(kt);try{yield tt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(x.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(it){this.signalingTask=void 0;const bt=new p.default(this.getMeetingStatusCode(it)||g.default.TaskFailed);if(this.logger.info(`Start failed: ${bt} due to error ${it}.`),this.sessionStateController.state()===k.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(x.default.Fail,()=>m(this,void 0,void 0,function*(){yield this.actionDisconnect(bt,!0,it),this.handleMeetingSessionStatus(bt,it)||this.notifyStop(bt,it)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new Sn.default(this.logger,new Le.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=D.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(ge=>{Gt.Maybe.of(ge.audioVideoDidStart).map(Re=>Re.bind(ge)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var ge;return this._reconnectController.disableReconnect(),this.sessionStateController.state()===k.default.NotConnected?((ge=this.meetingSessionContext.signalingClient)===null||ge===void 0||ge.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Re,Ve)=>{this.sessionStateController.perform(x.default.Disconnect,()=>{this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new p.default(g.default.Left),!1,null).then(Re).catch(Ve)})})}stop(){this.stopReturningPromise()}actionDisconnect(ge,Re,Ve){return m(this,void 0,void 0,function*(){try{yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new Sn.default(this.logger,new Je.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const kt=[new Sn.default(this.logger,new te.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoClean"),kt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(x.default.FinishDisconnecting,()=>{Re||this.notifyStop(ge,Ve)})})}update(){let Re=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Re||(Re=this.meetingSessionContext.peer===void 0),Re||(Re=!this.updateRemoteVideosFromPolicy()),Re||(Re=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Re)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Ve=this.sessionStateController.perform(x.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Ve===B.default.Transitioned||Ve===B.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!N.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===N.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const ge=this.detectChangesInVideosToReceive();if(ge===void 0)return!1;const Re=ge.added,Ve=ge.simulcastStreamUpdates,kt=ge.removed,tt=this.meetingSessionContext,it=[];for(const[bt,an]of Ve.entries()){const un=new A.default;if(un.streamId=an,un.attendeeId=tt.videoStreamIndex.attendeeIdForStreamId(an),un.mid=tt.transceiverController.getMidForStreamId(bt),un.mid===void 0)return this.logger.info(`No MID found for stream ID ${bt}, cannot update stream without renegotiation`),!1;if(it.push(un),tt.transceiverController.setStreamIdForMid(un.mid,an),tt.videoStreamIndex.overrideStreamIdMappings(bt,an),tt.videoTileController.haveVideoTileForAttendeeId(un.attendeeId)){const en=tt.videoTileController.getVideoTileForAttendeeId(un.attendeeId);if(!en.setStreamId)return!1;en.setStreamId(an)}}return it.length!==0&&tt.signalingClient.remoteVideoUpdate(it,[]),Re.length!==0||kt.length!==0?!1:(tt.videoStreamIndex.subscribeFrameSent(),!0)}detectChangesInVideosToReceive(){const ge=this.meetingSessionContext;if(ge.videosToReceive===null||!ge.transceiverController||!ge.transceiverController.getMidForStreamId||!ge.transceiverController.setStreamIdForMid||!ge.videosToReceive.forEach||!ge.signalingClient.remoteVideoUpdate||!ge.videoStreamIndex.overrideStreamIdMappings)return;let Re=[];const Ve=new Map;let kt=[];if(ge.lastVideosToReceive===null)Re=ge.videosToReceive.array();else{const tt=ge.videoStreamIndex;ge.videosToReceive.forEach(it=>{if(ge.lastVideosToReceive.contain(it))return;let bt=!1;ge.lastVideosToReceive.forEach(an=>{bt||tt.StreamIdsInSameGroup(an,it)&&(Ve.set(an,it),bt=!0)}),bt||Re.push(it)}),kt=ge.lastVideosToReceive.array().filter(it=>{const bt=ge.videosToReceive.contain(it),an=Ve.has(it);return!bt&&!an})}return this.logger.info(`Request to update remote videos with added: ${Re}, updated: ${[...Ve.entries()]}, removed: ${kt}`),{added:Re,removed:kt,simulcastStreamUpdates:Ve}}isNotAddingOrRemovingStreams(){const ge=this.detectChangesInVideosToReceive();if(ge===void 0)return!1;const Re=ge.added,Ve=ge.removed;return!(Re.length!==0||Ve.length!==0)}sendRemoteVideoUpdate(){const ge=this.meetingSessionContext;if(ge.videosToReceive===null)return!1;const Re=ge.videosToReceive.array().map(bt=>ge.videoStreamIndex.groupIdForStreamId(bt)),Ve=yt.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(ge,Re,ge.videoDownlinkBandwidthPolicy.getVideoPreferences()),kt=new Map,tt=[];for(const bt of Ve){let an=!1;if(!ge.lastVideoSubscriptionConfiguration.has(bt.groupId))an=!0;else{const un=ge.lastVideoSubscriptionConfiguration.get(bt.groupId);bt.equals(un)||(this.logger.debug(`${JSON.stringify(bt)} does not equal ${JSON.stringify(un)}, sending update`),an=!0)}kt.set(bt.groupId,bt),an&&tt.push(bt)}ge.lastVideoSubscriptionConfiguration=kt;const it=[];if(ge.lastVideosToReceive!==null){const bt=new Set(Re);for(const an of ge.lastVideosToReceive.array()){const un=ge.videoStreamIndex.groupIdForStreamId(an);if(!bt.has(un)){const en=ge.transceiverController.getMidForGroupId(un);if(en===void 0){ge.logger.warn(`Could not find MID for group ID to remove: ${un}`);continue}it.push(en)}}}return(tt.length!==0||it.length!==0)&&ge.signalingClient.remoteVideoUpdate(tt,it),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const ge=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(ge)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const ge=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!ge||!ge.headerExtensions?!1:ge.headerExtensions.some(Re=>Re.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(ge){const Re=r(()=>m(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),ge()}),"restartVideo"),Ve=this.sessionStateController.perform(x.default.Update,()=>{Re()});return Ve===B.default.Transitioned||Ve===B.default.DeferredTransition}replaceLocalVideo(ge){return m(this,void 0,void 0,function*(){if(!ge||ge.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Re=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Re){const Ve=Re.state(),kt=ge.getVideoTracks()[0].getSettings();Re.bindVideoStream(Ve.boundAttendeeId,!0,ge,kt.width,kt.height,Ve.streamId,Ve.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(ge.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=ge,this.logger.info("Local video input is updated")})}replaceLocalAudio(ge){return m(this,void 0,void 0,function*(){if(!ge||ge.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(ge.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=ge,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(ge){return m(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new rt.default(this.meetingSessionContext),new Sn.default(this.logger,new Ft.default(this.logger,"UpdateSession",[new X.default(this.meetingSessionContext),new we.default(this.meetingSessionContext),new Rn.default(this.meetingSessionContext),new pe.default(this.meetingSessionContext),new ti.default(this.meetingSessionContext),new Pn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),ge&&this.sessionStateController.perform(x.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Re){this.sessionStateController.perform(x.default.FinishUpdating,()=>{const Ve=new p.default(this.getMeetingStatusCode(Re)||g.default.TaskFailed);Ve.statusCode()!==g.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Ve,Re)})}})}notifyStop(ge,Re){var Ve;if(this.forEachObserver(kt=>{Gt.Maybe.of(kt.audioVideoDidStop).map(tt=>tt.bind(kt)(ge))}),this.promotedToPrimaryMeeting&&Re&&this.forEachObserver(kt=>{this.promotedToPrimaryMeeting=!1,Gt.Maybe.of(kt.audioVideoWasDemotedFromPrimaryMeeting).map(tt=>tt.bind(kt)(new p.default(g.default.SignalingInternalServerError)))}),this.eventController){const{signalingOpenDurationMs:kt,poorConnectionCount:tt,startTimeMs:it,iceGatheringDurationMs:bt,attendeePresenceDurationMs:an,meetingStartDurationMs:un}=this.meetingSessionContext,en={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:it===null?0:Math.round(Date.now()-it),meetingStatus:g.default[ge.statusCode()],signalingOpenDurationMs:kt,iceGatheringDurationMs:bt,attendeePresenceDurationMs:an,poorConnectionCount:tt,meetingStartDurationMs:un,retryCount:this.totalRetryCount},Mn=Re&&Re.message||((Ve=ge.toString)===null||Ve===void 0?void 0:Ve.call(ge))||"";en.meetingDurationMs===0?(en.meetingErrorMessage=Mn,delete en.meetingDurationMs,delete en.attendeePresenceDurationMs,delete en.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",en)):ge.isFailure()||ge.isAudioConnectionFailure()?(en.meetingErrorMessage=Mn,this.eventController.publishEvent("meetingFailed",en)):this.eventController.publishEvent("meetingEnded",en)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const ge=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(ge)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(ge,Re){const Ve=this._reconnectController.retryWithBackoff(()=>m(this,void 0,void 0,function*(){this.sessionStateController.state()===k.default.NotConnected?this.sessionStateController.perform(x.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(x.default.Reconnect,()=>{this.actionReconnect(ge)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Ve||this.sessionStateController.perform(x.default.Fail,()=>{this.actionDisconnect(ge,!1,Re)}),Ve}actionReconnect(ge){return m(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Re=>{Gt.Maybe.of(Re.audioVideoDidStartConnecting).map(Ve=>Ve.bind(Re)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new Sn.default(this.logger,new Ft.default(this.logger,"Media",[new j.default(this.meetingSessionContext),new Ft.default(this.logger,"Signaling",[new Le.default(this.meetingSessionContext),new Ae.default(this.meetingSessionContext),new ct.default(this.meetingSessionContext)]),new me.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new rt.default(this.meetingSessionContext),new Sn.default(this.logger,new Ft.default(this.logger,"UpdateSession",[new X.default(this.meetingSessionContext),new we.default(this.meetingSessionContext),new Rn.default(this.meetingSessionContext),new pe.default(this.meetingSessionContext),new ti.default(this.meetingSessionContext),new Pn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(x.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Re,poorConnectionCount:Ve,startTimeMs:kt,iceGatheringDurationMs:tt,attendeePresenceDurationMs:it,meetingStartDurationMs:bt}=this.meetingSessionContext,an={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-kt),meetingStatus:g.default[ge.statusCode()],signalingOpenDurationMs:Re,iceGatheringDurationMs:tt,attendeePresenceDurationMs:it,poorConnectionCount:Ve,meetingStartDurationMs:bt,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",an)}this.actionFinishConnecting()})}catch(Re){this.sessionStateController.perform(x.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Ve=new p.default(this.getMeetingStatusCode(Re)||g.default.TaskFailed);this.handleMeetingSessionStatus(Ve,Re)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(ge){return`${ge}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(ge){const Re=/the meeting status code: (\d+)/.exec(ge&&ge.message);return Re&&Re.length>1?Number.parseInt(Re[1],10):null}enforceBandwidthLimitationForSender(ge){return m(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(ge)})}handleMeetingSessionStatus(ge,Re){if(this.logger.info(`handling status: ${g.default[ge.statusCode()]}`),ge.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(ge),ge.statusCode()===g.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(ge.statusCode()===g.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Ve=>{Gt.Maybe.of(Ve.videoSendDidBecomeUnavailable).map(kt=>kt.bind(Ve)())}),!1;if(ge.statusCode()===g.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Ve=>{Gt.Maybe.of(Ve.audioVideoWasDemotedFromPrimaryMeeting).map(kt=>kt.bind(Ve)(ge))}),!1;if(ge.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(ge.isFailure()||ge.isTerminal())&&this.meetingSessionContext.reconnectController){const Ve=this.reconnect(ge,Re);return Ve?this.logger.warn(`The audio video controller will reconnect due to status code ${g.default[ge.statusCode()]}${Re?` and error: ${Re.message}`:""}`):this.logger.error(`The audio video controller failed with status code ${g.default[ge.statusCode()]}${Re?` and error: ${Re.message}`:""}`),Ve}return!1}setVideoMaxBandwidthKbps(ge){if(ge<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${ge} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(ge)),this.maxUplinkBandwidthKbps=ge}handleHasBandwidthPriority(ge){return m(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(ge),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Re=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(ge);const Ve=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Re!==Ve&&(this.logger.info(`video send bandwidth priority ${ge} max has changed from ${Re} kbps to ${Ve} kbps`),yield this.enforceBandwidthLimitationForSender(Ve))}})}pauseReceivingStream(ge){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([ge])}resumeReceivingStream(ge){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([ge])}setVideoCodecSendPreferences(ge){this.videoSendCodecPreferences=ge,this.meetingSessionContext.videoSendCodecPreferences=ge,this.sessionStateController.state()!==k.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:ge}=this.meetingSessionContext;if(!ge)return this.logger.info("meeting has not started"),[];const Re=this.configuration.credentials.attendeeId;return ge.allVideoSendingSourcesExcludingSelf(Re)}encodingSimulcastLayersDidChange(ge){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Re=>{Gt.Maybe.of(Re.encodingSimulcastLayersDidChange).map(Ve=>Ve.bind(Re)(ge))})}promoteToPrimaryMeeting(ge){return this.actionPromoteToPrimaryMeeting(ge)}actionPromoteToPrimaryMeeting(ge){return m(this,void 0,void 0,function*(){let Re=new p.default(g.default.SignalingRequestFailed);return yield new Ft.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new Sn.default(this.logger,new lt.default(this.meetingSessionContext,ge,Ve=>{Re=Ve}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Re.statusCode()===g.default.OK,Re})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(ge=>{Gt.Maybe.of(ge.audioVideoWasDemotedFromPrimaryMeeting).map(Re=>Re.bind(ge)(new p.default(g.default.OK)))})}videoInputDidChange(ge){return m(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(ge?yield this.replaceLocalVideo(ge):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(ge){return m(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!ge)try{ge=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(ge)})}constructor(ge,Re,Ve,kt,tt,it){this._audioProfile=new e.default,this.connectionHealthData=new n.default,this.observerQueue=new Set,this.meetingSessionContext=new Ai.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=Re,this.sessionStateController=new P.default(this._logger),this._configuration=ge,this._webSocketAdapter=Ve,this._realtimeController=new E.default(kt),this._realtimeController.realtimeSetLocalAttendeeId(ge.credentials.attendeeId,ge.credentials.externalUserId),this._mediaStreamBroker=kt,this._reconnectController=tt,this._videoTileController=new ci.default(new Jn.default,this,this._logger),this._audioMixController=new i.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=it}},"DefaultAudioVideoController");c.default=Hi,Hi.MIN_VOLUME_DECIBELS=-42,Hi.MAX_VOLUME_DECIBELS=-14,Hi.PING_PONG_INTERVAL_MS=1e4},"2oFa":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"GlobalMetricReport");c.default=v},"2q7c":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("aVV0"));let h=r(class extends f.default{run(){return this.fn().then(()=>{})}constructor(a,o,i="RunnableTask"){super(a),this.fn=o,this.taskName=i}},"RunnableTask");c.default=h},"2vi8":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("HbHZ")),m=d("XCDq"),a=f(d("j+uH"));let o=r(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{let n=r(class{cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(g){if(g.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}g.type===h.default.ReceivedSignalFrame&&g.message.type===m.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}constructor(g,S){this.signalingClient=g,this.logger=S}},"Interceptor");const s=new n(this.context.signalingClient,this.context.logger);this.taskCanceler=s,this.context.signalingClient.registerObserver(s)})}constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");c.default=o},"2wCG":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"SDPMediaSection");c.default=v},"2xSc":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptEntity");c.default=v},"2y31":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("uctb"));let h=r(class{info(a){}warn(a){}error(a){}debug(a){f.default.DEBUG<this.level||typeof a!="string"&&a()}setLogLevel(a){this.level=a}getLogLevel(){return this.level}constructor(a=f.default.OFF){this.level=a}},"NoOpLogger");c.default=h},"2zfi":function(U,c,d){var v=d("d+lc"),f=d("FgkJ"),h=d("zBWt")("species");U.exports=function(m,a){var o=v(m).constructor,i;return o===void 0||(i=v(o)[h])==null?a:f(i)}},"3+Ww":function(U,c){},"34ho":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.Modality="#content"})(v||(v={})),c.default=v},"3B23":function(U,c,d){"use strict";var v=d("l5Mp");c.__esModule=!0,c.default=h;var f=v(d("RGQ0"));function h(m,a){m.classList?m.classList.add(a):(0,f.default)(m,a)||(typeof m.className=="string"?m.className=m.className+" "+a:m.setAttribute("class",(m.className&&m.className.baseVal||"")+" "+a))}r(h,"addClass"),U.exports=c.default},"3E7f":function(U,c,d){"use strict";U.exports={}},"3EKQ":function(U,c,d){"use strict";(function(v){var f=this&&this.__awaiter||function(n,s,p,g){function S(u){return u instanceof p?u:new p(function(l){l(u)})}return r(S,"adopt"),new(p||(p=Promise))(function(u,l){function E(x){try{P(g.next(x))}catch(k){l(k)}}r(E,"fulfilled");function O(x){try{P(g.throw(x))}catch(k){l(k)}}r(O,"rejected");function P(x){x.done?u(x.value):S(x.value).then(E,O)}r(P,"step"),P((g=g.apply(n,s||[])).next())})},h=this&&this.__rest||function(n,s){var p={};for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&s.indexOf(g)<0&&(p[g]=n[g]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,g=Object.getOwnPropertySymbols(n);S<g.length;S++)s.indexOf(g[S])<0&&Object.prototype.propertyIsEnumerable.call(n,g[S])&&(p[g[S]]=n[g[S]]);return p},m=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0});const a=m(d("Np2I")),o=m(d("8wPz")),i=m(d("X3Fi")),e=d("R4Nl");let t=r(class il{addEventListeners(){!this.beaconEventListener||!("window"in v)||!window.addEventListener||!("document"in v)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(s){(s.type==="visibilitychange"&&document.visibilityState==="hidden"||s.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in v)||!window.removeEventListener||!("document"in v)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var s;this.removeEventListeners(),this.addEventListeners(),(s=this.intervalScheduler)===null||s===void 0||s.stop(),this.intervalScheduler=new o.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var s;(s=this.intervalScheduler)===null||s===void 0||s.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(s){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(s)}`);const{name:p,ts:g,attributes:S}=s,u=S&&this.filterAttributes(S,this.attributesToFilter),l=Object.assign({name:p,ts:g},u);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(l)}`);const E=this.getSize(l);if(E>il.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${E} bytes. Item cannot exceed max item size allowed of ${il.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(p)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(l)}`),this.sendEventImmediately({name:p,ts:g,attributes:u});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(l),this.ingestionEventSize+=E,this.bufferItemThresholdReached(E)){const O=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(O),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(s,p){const g=new Set(p);return Object.keys(s).filter(u=>g.has(u)).forEach(u=>delete s[u]),s}initializeAndGetCurrentIngestionEvent(){const s={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(s),s}bufferItemThresholdReached(s){return s+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===il.MAX_PAYLOAD_ITEMS}getSize(s){let p=0;if(typeof s=="object")for(const[g,S]of Object.entries(s))p+=this.getPrimitiveSize(g),p+=this.getSize(S);else p+=this.getPrimitiveSize(s);return p}getPrimitiveSize(s){let p=0;return typeof s=="string"?p+=s.length*2:typeof s=="number"&&(p+=8),p}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(s){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(s=Math.min(this.buffer.length,s+1),this.buffer.splice(p,s))}makeBeaconRequestBody(s){const p={metadata:this.metadata,events:s,authorization:this.authenticationToken};return JSON.stringify(p)}makeRequestBody(s){const p={metadata:this.metadata,events:s};return JSON.stringify(p)}sendEventImmediately(s){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(s)}`);const{name:p,ts:g,attributes:S}=s,u={type:this.type,v:this.v,payloads:[Object.assign({name:p,ts:g},S)]};let l=!1,E=null;const O=this.makeRequestBody([u]);try{if(E=yield this.send(O),E.ok){try{const P=yield E.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${O}, message: ${JSON.stringify(P)}`)}catch(P){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${P} for event ${O}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${O} with response status ${E.status}`),l=!0}catch(P){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${O} to the ingestion endpoint ${P}.`),l=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const x=this.makeBeaconRequestBody([u]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${x}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,x)?l=!1:l=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${O}`),l=!0}}l&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${O}`),this.failedIngestionEvents.push(u))})}send(s){return f(this,void 0,void 0,function*(){const p=new a.default(il.RETRY_FIXED_BACKOFF_WAIT_MS,il.RETRY_SHORT_BACKOFF_MS,il.RETRY_LONG_BACKOFF_MS);try{let g=0;for(;g<this.retryCountLimit;){const S=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:s});if(S.ok||!il.SENDING_FAILURE_CODES.has(S.status))return S;if(this.logger.warn(`Will retry sending failure for ${s} due to status code ${S.status}.`),g++,g<this.retryCountLimit){const u=p.nextBackoffAmountMs();yield e.wait(u)}}if(g===this.retryCountLimit)throw new Error(`Retry count limit reached for ${s}`)}catch(g){throw g}})}sendBeacon(){return f(this,void 0,void 0,function*(){const s=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(s)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const g=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);s.push(g),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(g)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const g=this.failedIngestionEvents.map(S=>this.deepCopyCurrentIngestionEvent(S));s.push(...g),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(g)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(g=>{s.push(...g),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(g)}`)}),this.cancellableEvents.clear()),s.length===0)return;const p=this.makeBeaconRequestBody(s);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${p}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,p)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${p}`)}catch(g){this.logger.warn(`Event Reporting - Sending beacon data ${p} failed with error ${g}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(s,p,g,S,u){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=K=>({type:K.type,v:K.v,payloads:[...K.payloads]}),this.sendEvents=()=>f(this,void 0,void 0,function*(){if(this.lock)return;const K=this.getItems(this.flushSize);if(K.length===0)return;this.lock=!0;const X=this.makeRequestBody(K);let j=!1;const te=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(te,K);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${X}`);const me=yield this.send(X);if(this.cancellableEvents.delete(te),!me.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${X} with response status ${me.status}`),j=!0;else try{const we=yield me.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${X} message: ${JSON.stringify(we)}`)}catch(we){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${we} for events ${X}`)}}catch(me){j=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${X} to the ingestion endpoint ${me}`)}finally{this.lock=!1}j&&(this.cancellableEvents.delete(te),this.failedIngestionEvents.push(...K))});const l=new i.default(u).getParserResult(),{browserMajorVersion:E}=l,O=h(l,["browserMajorVersion"]),P=p.toJSON(),{type:x,v:k}=P,B=h(P,["type","v"]);this.authenticationToken=p.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},O),B),Object.keys(this.metadata).forEach(K=>this.attributesToFilter.push(K)),this.type=x,this.v=k,this.ingestionURL=g,this.logger=u,this.importantEvents=new Set(S);const{maxBufferCapacityKb:R,totalBufferItems:N,flushSize:w,flushIntervalMs:A,retryCountLimit:D}=s;this.maxBufferCapacityBytes=R*1024,this.totalBufferItems=N,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/N),this.flushIntervalMs=A,this.flushSize=w,this.retryCountLimit=D,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=K=>this.beaconEventHandler(K),this.addEventListeners()}},"InMemoryJSONEventBuffer");c.default=t,t.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),t.RETRY_FIXED_BACKOFF_WAIT_MS=0,t.RETRY_SHORT_BACKOFF_MS=1e3,t.RETRY_LONG_BACKOFF_MS=15e3,t.MAX_PAYLOAD_ITEMS=2,t.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,d("yLpj"))},"3Ft5":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(l,E,O,P){function x(k){return k instanceof O?k:new O(function(B){B(k)})}return r(x,"adopt"),new(O||(O=Promise))(function(k,B){function R(A){try{w(P.next(A))}catch(D){B(D)}}r(R,"fulfilled");function N(A){try{w(P.throw(A))}catch(D){B(D)}}r(N,"rejected");function w(A){A.done?k(A.value):x(A.value).then(R,N)}r(w,"step"),w((P=P.apply(l,E||[])).next())})},f=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("LmyK")),m=f(d("mpmV")),a=f(d("kItj")),o=f(d("LuEC")),i=f(d("pCf5")),e=f(d("6Bxv")),t=f(d("lUhs")),n=f(d("hEYi")),s=d("f2XL"),p=f(d("J+fJ")),g=d("KyYT"),S=f(d("aVV0"));let u=r(class extends S.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(E){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(E){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=E;return}else this.pendingMetricsReport=void 0;const O=E.getObservableMetrics(),P=O.availableOutgoingBitrate,x=O.nackCountReceivedPerSecond;let k=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(E);const B=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(k=k||B,B){const R=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=R.truncate(this.context.videoSubscriptionLimit),R.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${B}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:P/1e3,nackCountPerSecond:x});const R=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();k=k||R,R&&(this.logger.info(`trigger resubscribe for up=${R}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return k}metricsDidReceive(E){if(this.checkResubscribe(E)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const O=E.streamMetricReports,P=new Map;for(const x in O)O[x].mediaType===m.default.VIDEO&&O[x].direction===h.default.DOWNSTREAM&&P.set(O[x].streamId,O[x])}connectionHealthDidChange(E){E.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,E,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,E,()=>{var O;this.context.poorConnectionCount+=1;const P=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(O=this.context.eventController)===null||O===void 0||O.publishEvent("receivingAudioDropped",P),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(x=>{g.Maybe.of(x.connectionDidSuggestStopVideo).map(k=>k.bind(x)())}):this.context.audioVideoController.forEachObserver(x=>{g.Maybe.of(x.connectionDidBecomePoor).map(k=>k.bind(x)())})},()=>{this.context.audioVideoController.forEachObserver(O=>{g.Maybe.of(O.connectionDidBecomeGood).map(P=>P.bind(O)())})}),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,E,()=>{var O;const P=this.generateBaseAudioVideoEventAttributes();(O=this.context.eventController)===null||O===void 0||O.publishEvent("sendingAudioFailed",P)},()=>{var O;const P=this.generateBaseAudioVideoEventAttributes();(O=this.context.eventController)===null||O===void 0||O.publishEvent("sendingAudioRecovered",P)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(E){this.isMeetingConnected=!1}audioVideoDidStop(E){this.isMeetingConnected=!1}applyHealthPolicy(E,O,P,x){E.update(O);const k=E.healthIfChanged();k!==null&&(this.logger.info(`${E.name} value is now ${k}`),k<=E.minimumHealth()?g.Maybe.of(P).map(B=>B.bind(this)()):g.Maybe.of(x).map(B=>B.bind(this)()))}handleBitrateFrame(E){this.currentAvailableStreamAvgBitrates=E,E.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${E.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",E.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(E){var O;if(E.type===n.default.WebSocketClosed&&this.isUnexpectedWebsocketCloseCode(E.closeCode)||E.type===n.default.WebSocketError||E.type===n.default.WebSocketFailed){if(E.type===n.default.WebSocketClosed&&this.context.logger.info(`The signaling connection was closed with code ${E.closeCode} and reason: ${E.closeReason}`),!this.hasSignalingError){const P=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(O=this.context.eventController)===null||O===void 0||O.publishEvent("signalingDropped",P),this.hasSignalingError=!0}this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.SignalChannelClosedUnexpectedly),null)}else E.type===n.default.WebSocketOpen&&(this.hasSignalingError=!1);if(E.type===n.default.ReceivedSignalFrame){if(E.message.type===s.SdkSignalFrame.Type.NOTIFICATION){switch(E.message.notification.level){case s.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info(`Received notification from server: ${E.message.notification.message}`);break;case s.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn(`Received warning from server: ${E.message.notification.message}`);break;case s.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error(`Received error from server: ${E.message.notification.message}`);break;default:this.logger.error(`Received notification from server with unknown level ${E.message.notification.level}: ${E.message.notification.message}`);break}return}if(E.message.bitrates){const x=E.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(x),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(E.message.bitrates)}const P=e.default.fromSignalFrame(E.message);E.message.type!==s.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&P.statusCode()!==t.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(P,null)}}isUnexpectedWebsocketCloseCode(E){return E===1006||E>=4500&&E<4600}constructor(E,O,P){super(E.logger),this.context=E,this.initialConnectionHealthData=P,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=x=>{const k=x<1,B=this.prevSignalStrength<1,R=k?B?null:p.default.RedmicStartLoss:B?p.default.RedmicEndLoss:null;R&&this.context.statsCollector.logAudioEvent(R),this.prevSignalStrength=x},this.realtimeFatalErrorCallback=x=>{this.logger.error(`realtime error: ${x}: ${x.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.RealtimeApiFailed),x)},this.realtimeAttendeeIdPresenceHandler=(x,k)=>{var B;const R=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${R}`),R===x&&k&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(B=this.context.eventController)===null||B===void 0||B.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:x,startTimeMs:k,iceGatheringDurationMs:B,attendeePresenceDurationMs:R,meetingStartDurationMs:N}=this.context;return{meetingDurationMs:k===null?0:Math.round(Date.now()-k),signalingOpenDurationMs:x,iceGatheringDurationMs:B,attendeePresenceDurationMs:R,meetingStartDurationMs:N}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const x=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},x),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(E.logger,Object.assign({},O),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},O),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new o.default(E.logger,Object.assign({},O),this.initialConnectionHealthData.clone())}},"MonitorTask");c.default=u},"3ZJV":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Czkq"));let h=r(class extends f.default{},"BackgroundReplacementVideoFrameProcessorDelegate");c.default=h},"3i7i":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(h,m,a,o,i,e){this.timestampMs=h,this.topic=m,this.data=a,this.senderAttendeeId=o,this.senderExternalUserId=i,this.throttled=!!e}},"DataMessage");c.default=v},"3jln":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("ac3q")),h=v(d("z8+u"));let m=r(class{create(o,i,e){this.connection=new WebSocket(e?o:f.default.urlWithVersion(o),i),this.connection.binaryType="arraybuffer"}send(o){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return o instanceof Uint8Array?this.connection.send(o.buffer):this.connection.send(o),!0}catch(i){return this.logger.debug(()=>`send error: ${i.message}, websocket state=${h.default[this.readyState()]}`),!1}}close(o,i){var e;(e=this.connection)===null||e===void 0||e.close(o,i)}destroy(){this.connection=void 0}addEventListener(o,i){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(o,i)}removeEventListener(o,i){var e;(e=this.connection)===null||e===void 0||e.removeEventListener(o,i)}readyState(){if(!this.connection)return h.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return h.default.Connecting;case WebSocket.OPEN:return h.default.Open;case WebSocket.CLOSING:return h.default.Closing;case WebSocket.CLOSED:return h.default.Closed}}constructor(o){this.logger=o}},"DefaultWebSocketAdapter");c.default=m},"3niY":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(h){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(h){}removeMediaStreamBrokerObserver(h){}},"NoOpMediaStreamBroker");c.default=v},"3taG":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("HbHZ")),m=d("XCDq"),a=f(d("j+uH"));let o=r(class extends a.default{run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===h.default.ReceivedSignalFrame){if(e.message.type===m.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===m.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=t=>{this.context.signalingClient.mute(t)}}},"ListenForVolumeIndicatorsTask");c.default=o},"3wzr":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=d("+br/");v.__exportStar(d("irli"),c)},"3zPy":function(U,c){c=U.exports=function(a){if(a&&typeof a=="object"){var o=a.which||a.keyCode||a.charCode;o&&(a=o)}if(typeof a=="number")return h[a];var i=String(a),e=d[i.toLowerCase()];if(e)return e;var e=v[i.toLowerCase()];if(e)return e;if(i.length===1)return i.charCodeAt(0)};var d=c.code=c.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},v=c.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(f=97;f<123;f++)d[String.fromCharCode(f)]=f-32;for(var f=48;f<58;f++)d[f-48]=f;for(f=1;f<13;f++)d["f"+f]=f+111;for(f=0;f<10;f++)d["numpad "+f]=f+96;var h=c.names=c.title={};for(f in d)h[d[f]]=f;for(var m in v)d[m]=v[m]},"3zlU":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("KsuK")),m=15;let a=r(class{destroy(){if(this.stop(),this.stages)for(const i of this.stages)i.destroy()}get framerate(){return this.fr}set framerate(i){this.fr=i<0?m:i}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const i of this.outputMediaStream.getVideoTracks())i.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()}))}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}getInputMediaStream(){return v(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(i){return v(this,void 0,void 0,function*(){if(!i){this.stop();return}if(i.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=i;const e=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(e)}`),this.canvasOutput.width=e.width,this.canvasOutput.height=e.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const t=new h.default(this.canvasInput);this.sourceBuffers.push(t),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const i of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${i.id} from output stream`),this.outputMediaStream.removeTrack(i);for(const i of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${i.id} to output stream`),this.outputMediaStream.addTrack(i)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(i){this.stages=i}get processors(){return this.stages}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const i of this.inputVideoStream.getTracks())i.stop();this.inputVideoStream=null;for(const i of this.sourceBuffers)i.destroy();this.sourceBuffers=[]}constructor(i,e){this.logger=i,this.stages=e,this.fr=m,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=t=>v(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const n=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let s=[];s.push(this.sourceBuffers[0]);try{for(const O of this.processors)s=yield O.process(s)}catch{this.forEachObserver(P=>{P.processingDidFailToStart&&P.processingDidFailToStart()});return}this.destBuffers=s;let p;try{p=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(P=>{P.processingDidFailToStart&&P.processingDidFailToStart()}));return}const g=p.width,S=p.height;g!==0&&S!==0&&(this.canvasOutput.width!==g&&this.canvasOutput.height!==S&&(this.canvasOutput.width=g,this.canvasOutput.height=S),this.outputCtx.drawImage(p,0,0,g,S,0,0,g,S),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(O=>{O.processingDidStart&&O.processingDidStart()})));const u=performance.now()-n,l=1e3*2/this.framerate-u,E=Math.max(0,1e3/this.framerate-u);l<=0&&this.forEachObserver(O=>{O.processingLatencyTooHigh&&O.processingLatencyTooHigh(u)}),this.lastTimeOut=setTimeout(this.process,E)})}},"DefaultVideoFrameProcessorPipeline");c.default=a},"40oJ":function(U,c,d){var v=d("ixoo")("meta"),f=d("ekG2"),h=d("nA4W"),m=d("GhSp").f,a=0,o=Object.isExtensible||function(){return!0},i=!d("S4vA")(function(){return o(Object.preventExtensions({}))}),e=r(function(g){m(g,v,{value:{i:"O"+ ++a,w:{}}})},"setMeta"),t=r(function(g,S){if(!f(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!h(g,v)){if(!o(g))return"F";if(!S)return"E";e(g)}return g[v].i},"fastKey"),n=r(function(g,S){if(!h(g,v)){if(!o(g))return!0;if(!S)return!1;e(g)}return g[v].w},"getWeak"),s=r(function(g){return i&&p.NEED&&o(g)&&!h(g,v)&&e(g),g},"onFreeze"),p=U.exports={KEY:v,NEED:!1,fastKey:t,getWeak:n,onFreeze:s}},"42jQ":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");c.default=v},"4EN+":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.WebSocketReadyState=void 0;var v;(function(f){f[f.None=0]="None",f[f.Connecting=1]="Connecting",f[f.Open=2]="Open",f[f.Closing=3]="Closing",f[f.Closed=4]="Closed"})(v=c.WebSocketReadyState||(c.WebSocketReadyState={})),c.default=v},"4Ok1":function(U,c,d){"use strict";var v=d("5iG2"),f=d("fshX");function h(m,a,o){var i=m==null?0:m.length;return i?(a=o||a===void 0?1:Object(f.a)(a),Object(v.a)(m,a<0?0:a,i)):[]}r(h,"drop"),c.a=h},"4Zg2":function(U,c,d){var v=d("7whZ"),f=d("VSTI"),h=d("5ETA"),m=d("/NTb"),a=d("GhSp").f;U.exports=function(o){var i=f.Symbol||(f.Symbol=h?{}:v.Symbol||{});o.charAt(0)!="_"&&!(o in i)&&a(i,o,{value:m.f(o)})}},"4d7F":function(U,c,d){U.exports={default:d("Ir+t"),__esModule:!0}},"4k7n":function(U,c,d){"use strict";var v=d("Yvae"),f=d("uT1x"),h=d("jLvU");function m(a,o,i){var e=a.length;if(e<2)return e?Object(h.a)(a[0]):[];for(var t=-1,n=Array(e);++t<e;)for(var s=a[t],p=-1;++p<e;)p!=t&&(n[t]=Object(v.a)(n[t]||s,a[p],o,i));return Object(h.a)(Object(f.a)(n,1),o,i)}r(m,"baseXor"),c.a=m},"4vb1":function(U,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return f}),d.d(c,"__assign",function(){return h}),d.d(c,"__rest",function(){return m}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return o}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return n}),d.d(c,"__exportStar",function(){return s}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return g}),d.d(c,"__spread",function(){return S}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return l}),d.d(c,"__asyncGenerator",function(){return E}),d.d(c,"__asyncDelegator",function(){return O}),d.d(c,"__asyncValues",function(){return P}),d.d(c,"__makeTemplateObject",function(){return x}),d.d(c,"__importStar",function(){return k}),d.d(c,"__importDefault",function(){return B}),d.d(c,"__classPrivateFieldGet",function(){return R}),d.d(c,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=r(function(w,A){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var X in K)K.hasOwnProperty(X)&&(D[X]=K[X])},v(w,A)},"extendStatics");function f(w,A){v(w,A);function D(){this.constructor=w}r(D,"__"),w.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}r(f,"__extends");var h=r(function(){return h=Object.assign||r(function(A){for(var D,K=1,X=arguments.length;K<X;K++){D=arguments[K];for(var j in D)Object.prototype.hasOwnProperty.call(D,j)&&(A[j]=D[j])}return A},"__assign"),h.apply(this,arguments)},"__assign");function m(w,A){var D={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&A.indexOf(K)<0&&(D[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,K=Object.getOwnPropertySymbols(w);X<K.length;X++)A.indexOf(K[X])<0&&Object.prototype.propertyIsEnumerable.call(w,K[X])&&(D[K[X]]=w[K[X]]);return D}r(m,"__rest");function a(w,A,D,K){var X=arguments.length,j=X<3?A:K===null?K=Object.getOwnPropertyDescriptor(A,D):K,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,A,D,K);else for(var me=w.length-1;me>=0;me--)(te=w[me])&&(j=(X<3?te(j):X>3?te(A,D,j):te(A,D))||j);return X>3&&j&&Object.defineProperty(A,D,j),j}r(a,"__decorate");function o(w,A){return function(D,K){A(D,K,w)}}r(o,"__param");function i(w,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,A)}r(i,"__metadata");function e(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})}r(e,"__awaiter");function t(w,A){var D={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},K,X,j,te;return te={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function me(pe){return function(Ae){return we([pe,Ae])}}function we(pe){if(K)throw new TypeError("Generator is already executing.");for(;D;)try{if(K=1,X&&(j=pe[0]&2?X.return:pe[0]?X.throw||((j=X.return)&&j.call(X),0):X.next)&&!(j=j.call(X,pe[1])).done)return j;switch(X=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return D.label++,{value:pe[1],done:!1};case 5:D.label++,X=pe[1],pe=[0];continue;case 7:pe=D.ops.pop(),D.trys.pop();continue;default:if(j=D.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){D=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){D.label=pe[1];break}if(pe[0]===6&&D.label<j[1]){D.label=j[1],j=pe;break}if(j&&D.label<j[2]){D.label=j[2],D.ops.push(pe);break}j[2]&&D.ops.pop(),D.trys.pop();continue}pe=A.call(w,D)}catch(Ae){pe=[6,Ae],X=0}finally{K=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}r(t,"__generator");function n(w,A,D,K){K===void 0&&(K=D),w[K]=A[D]}r(n,"__createBinding");function s(w,A){for(var D in w)D!=="default"&&!A.hasOwnProperty(D)&&(A[D]=w[D])}r(s,"__exportStar");function p(w){var A=typeof Symbol=="function"&&Symbol.iterator,D=A&&w[A],K=0;if(D)return D.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}r(p,"__values");function g(w,A){var D=typeof Symbol=="function"&&w[Symbol.iterator];if(!D)return w;var K=D.call(w),X,j=[],te;try{for(;(A===void 0||A-- >0)&&!(X=K.next()).done;)j.push(X.value)}catch(me){te={error:me}}finally{try{X&&!X.done&&(D=K.return)&&D.call(K)}finally{if(te)throw te.error}}return j}r(g,"__read");function S(){for(var w=[],A=0;A<arguments.length;A++)w=w.concat(g(arguments[A]));return w}r(S,"__spread");function u(){for(var w=0,A=0,D=arguments.length;A<D;A++)w+=arguments[A].length;for(var K=Array(w),X=0,A=0;A<D;A++)for(var j=arguments[A],te=0,me=j.length;te<me;te++,X++)K[X]=j[te];return K}r(u,"__spreadArrays");function l(w){return this instanceof l?(this.v=w,this):new l(w)}r(l,"__await");function E(w,A,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=D.apply(w,A||[]),X,j=[];return X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X;function te(Fe){K[Fe]&&(X[Fe]=function(Ue){return new Promise(function(Le,at){j.push([Fe,Ue,Le,at])>1||me(Fe,Ue)})})}function me(Fe,Ue){try{we(K[Fe](Ue))}catch(Le){Je(j[0][3],Le)}}function we(Fe){Fe.value instanceof l?Promise.resolve(Fe.value.v).then(pe,Ae):Je(j[0][2],Fe)}function pe(Fe){me("next",Fe)}function Ae(Fe){me("throw",Fe)}function Je(Fe,Ue){Fe(Ue),j.shift(),j.length&&me(j[0][0],j[0][1])}}r(E,"__asyncGenerator");function O(w){var A,D;return A={},K("next"),K("throw",function(X){throw X}),K("return"),A[Symbol.iterator]=function(){return this},A;function K(X,j){A[X]=w[X]?function(te){return(D=!D)?{value:l(w[X](te)),done:X==="return"}:j?j(te):te}:j}}r(O,"__asyncDelegator");function P(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=w[Symbol.asyncIterator],D;return A?A.call(w):(w=typeof p=="function"?p(w):w[Symbol.iterator](),D={},K("next"),K("throw"),K("return"),D[Symbol.asyncIterator]=function(){return this},D);function K(j){D[j]=w[j]&&function(te){return new Promise(function(me,we){te=w[j](te),X(me,we,te.done,te.value)})}}function X(j,te,me,we){Promise.resolve(we).then(function(pe){j({value:pe,done:me})},te)}}r(P,"__asyncValues");function x(w,A){return Object.defineProperty?Object.defineProperty(w,"raw",{value:A}):w.raw=A,w}r(x,"__makeTemplateObject");function k(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var D in w)Object.hasOwnProperty.call(w,D)&&(A[D]=w[D]);return A.default=w,A}r(k,"__importStar");function B(w){return w&&w.__esModule?w:{default:w}}r(B,"__importDefault");function R(w,A){if(!A.has(w))throw new TypeError("attempted to get private field on non-instance");return A.get(w)}r(R,"__classPrivateFieldGet");function N(w,A,D){if(!A.has(w))throw new TypeError("attempted to set private field on non-instance");return A.set(w,D),D}r(N,"__classPrivateFieldSet")},"4w5z":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("cKqT")),h=v(d("KEX5")),m=v(d("ZHiL")),a=v(d("3niY")),o=v(d("94P3")),i=v(d("/N6y")),e=v(d("aZba")),t=v(d("papz")),n=v(d("GZjp")),s=v(d("l7oq")),p=v(d("3jln")),g=v(d("a6MJ"));let S=r(class extends g.default{setAudioProfile(l){}start(){}stop(){}promoteToPrimaryMeeting(l){return Promise.resolve(new e.default(t.default.OK))}demoteFromPrimaryMeeting(){}constructor(l){const E=new o.default;E.meetingId="",E.externalMeetingId="",E.credentials=new i.default,E.credentials.attendeeId="",E.credentials.joinToken="",E.urls=new n.default,E.urls.turnControlURL="",E.urls.audioHostURL="",E.urls.signalingURL="wss://localhost/";const O=new m.default;super(l||E,O,new p.default(new m.default),new a.default,new s.default(0,new f.default(0,0,0)),new h.default(l||E,O))}},"NoOpAudioVideoController");c.default=S},"5/Tg":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Np2I"));let h=r(class extends f.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(a,o,i,e){super(a,o,i),this.limit=e,this.attempts=0}},"FullJitterLimitedBackoff");c.default=h},"5/lR":function(U,c,d){"use strict";var v=this&&this.__createBinding||(Object.create?function(x,k,B,R){R===void 0&&(R=B),Object.defineProperty(x,R,{enumerable:!0,get:function(){return k[B]}})}:function(x,k,B,R){R===void 0&&(R=B),x[R]=k[B]}),f=this&&this.__setModuleDefault||(Object.create?function(x,k){Object.defineProperty(x,"default",{enumerable:!0,value:k})}:function(x,k){x.default=k}),h=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var k={};if(x!=null)for(var B in x)B!=="default"&&Object.prototype.hasOwnProperty.call(x,B)&&v(k,x,B);return f(k,x),k},m=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(c,"__esModule",{value:!0});const a=m(d("beBF")),o=m(d("bjg3")),i=m(d("x8On")),e=m(d("r3TB")),t=d("mlaT"),n=h(d("/AJg")),s=m(d("7p5e")),p=m(d("MpTp")),g=m(d("uTAD")),S=m(d("w1x/")),u=m(d("h96U")),l=d("T44/"),E=m(d("BY2i"));let O=r(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),P=r(class Ar{reset(){this.allHighestPolicy=new g.default(""),this.optimalReceiveSet=new p.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new p.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new p.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Ar.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Ar.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new O,this.prevDownlinkStats=new O,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(k){this.tileController=k,this.logger.info("tileController bound")}setWantsResubscribeObserver(k){this.wantsResubscribeObserver=k}chooseRemoteVideoSources(k){var B;if(!(!((B=this.videoPreferences)===null||B===void 0)&&B.equals(k))){if(this.videoPreferences=k==null?void 0:k.clone(),!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const R=new Array;for(const N of this.videoPreferences){const w=new s.default;w.attendee=new a.default,w.attendee.attendeeId=N.attendeeId,R.push(w)}this.allHighestPolicy.chooseRemoteVideoSources(R);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(k)}`)}}updateIndex(k){this.videoIndex=k,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(k),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const k=new Set;for(const w of this.videoIndex.remoteStreamDescriptions())k.add(w.attendeeId);const B=l.VideoPreferences.prepare(),R=k.size;let N=S.default.Maximum;R>8?N=S.default.Low:R>4&&(N=S.default.Medium);for(const w of k)B.add(new u.default(w,1,N));this.defaultVideoPreferences=B.build()}updateMetrics(k){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new O;const B=k.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=B.availableIncomingBitrate/1e3;for(const R in k.streamMetricReports){const N=Number.parseInt(R,10),w=k.streamMetricReports[N];w.direction===o.default.DOWNSTREAM&&w.mediaType===i.default.VIDEO&&(w.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=k.countPerSecond("nackCount",N)),w.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=k.countPerSecond("packetsLost",N)),w.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=k.bitsPerSecond("bytesReceived",N)/1e3))}}wantsResubscribe(){let k=!1;return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(k||(k=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?k||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),k||(k=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),k)}chooseSubscriptions(){return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(k){this.observerQueue.add(k)}removeObserver(k){this.observerQueue.delete(k)}forEachObserver(k){for(const B of this.observerQueue)k(B)}setVideoPriorityBasedPolicyConfigs(k){this.videoPriorityBasedPolicyConfig=k}calculateOptimalReceiveStreams(){var k;const B=[],R=this.videoIndex.remoteStreamDescriptions();if(R.length===0||!((k=this.videoPreferences)===null||k===void 0)&&k.isEmpty()){this.optimalReceiveStreams=[];return}const N=this.rateProbeState;this.cleanBwPausedTiles(R),this.handleAppPausedStreams(B,R);const w=this.availStreamsSameAsLast(R),A=!this.startupPeriod&&w;if(A&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;R.sort((Ae,Je)=>Ae.maxBitrateKbps===Je.maxBitrateKbps?Ae.streamId-Je.streamId:Ae.maxBitrateKbps-Je.maxBitrateKbps);for(const Ae of R)(Ae.avgBitrateKbps===0||Ae.avgBitrateKbps>Ae.maxBitrateKbps)&&(Ae.attendeeId.endsWith(e.default.Modality)&&Ae.maxBitrateKbps<100?Ae.maxBitrateKbps=Ae.avgBitrateKbps:Ae.avgBitrateKbps=Ae.maxBitrateKbps);const D={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};D.targetDownlinkBitrate=this.determineTargetRate();const K=this.subscribedReceiveSet.size(),X=this.downlinkStats.bandwidthEstimateKbps,j=!this.videoPriorityBasedPolicyConfig.allowSubscribe(K,X);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Ar.MIN_TIME_BETWEEN_SUBSCRIBE_MS,A&&j))return;const te=this.priorityPolicy(D,R,B),me=!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let we=0;if(!me&&!this.startupPeriod&&w?this.rateProbeState==="Probing"?we=this.handleProbe(B,D.targetDownlinkBitrate):D.deltaToNextUpgrade!==0&&(we=this.maybeOverrideOrProbe(B,D,te)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.prevRemoteInfos=R,this.videoPreferencesUpdated=!1,we===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=D.targetDownlinkBitrate;return}if(we===2){const Ae=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(R,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+Ae);return}this.optimalNonPausedReceiveStreams=B.slice();const pe=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(R,B),this.logger.getLogLevel()<=t.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==N||this.optimalReceiveStreams.length!==B.length||pe!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(R,D.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=D.targetDownlinkBitrate,this.optimalReceiveStreams=B.slice()}calculateOptimalReceiveSet(){const k=new p.default;this.calculateOptimalReceiveStreams();for(const B of this.optimalReceiveStreams)k.add(B.streamId);if(!this.optimalReceiveSet.equal(k)){const B=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(k)} subscribedRate:${B}`)}this.optimalReceiveSet=k}determineTargetRate(){let k=0;const B=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=B),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Ar.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||B-this.firstEstimateTimestamp>Ar.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?k=Ar.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Ar.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),k=this.downlinkStats.usedBandwidthKbps+Ar.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):k=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?k=Ar.DEFAULT_BANDWIDTH_KBPS:k=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Ar.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Ar.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,k=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,k}setProbeState(k){if(this.rateProbeState===k)return!1;const B=Date.now();switch(k){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||B-this.lastProbeTimestamp>Ar.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=B;else return!1;break;case"Probing":if(B-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=B,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Ar.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+k+" from "+this.rateProbeState),this.rateProbeState=k,!0}upgradeToStream(k,B){for(let R=0;R<k.length;R++)if(k[R].groupId===B.groupId){const N=B.avgBitrateKbps-k[R].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(k[R])+" to "+B),this.lastUpgradeRateKbps=N,k[R]=B,N}return k.push(B),this.lastUpgradeRateKbps=B.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(k,B){if(Date.now()-this.lastProbeTimestamp>Ar.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Ar.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Ar.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const R=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(k)||B>R?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Ar.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(k,B,R){const N=this.chosenStreamsSameAsLast(k);let w=0;const A=B.targetDownlinkBitrate>Ar.LOW_BITRATE_THRESHOLD_KBPS?Ar.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Ar.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,D=B.targetDownlinkBitrate*A/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!N&&Math.abs(B.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<D?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),w=1):this.targetRateBaselineForDeltaCheckKbps=B.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,w;if(N||w===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(k,R),w=0);break}else this.setProbeState("Not Probing");return w}calculateSubscribeRate(k){let B=0;for(const R of k)!this.pausedStreamIds.contain(R.streamId)&&!this.pausedBwAttendeeIds.has(R.attendeeId)&&(B+=R.maxBitrateKbps);return B}handleAppPausedStreams(k,B){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new p.default;const R=this.tileController.getAllRemoteVideoTiles();for(const N of R){const w=N.state();if(w.paused&&!this.pausedBwAttendeeIds.has(w.boundAttendeeId)){let A=B.length;for(;A--;)B[A].attendeeId===w.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+w.boundAttendeeId+" streamId: "+B[A].streamId),this.pausedStreamIds.add(B[A].streamId),this.subscribedReceiveSet.contain(B[A].streamId)&&k.push(B[A]),B.splice(A,1))}}}processBwPausedStreams(k,B){if(!this.tileController){this.logger.warn("tileController not found!");return}const R=this.getCurrentVideoPreferences();if(R&&this.shouldPauseTiles){const N=this.tileController.getAllVideoTiles();for(const w of R){const A=this.getVideoTileForAttendeeId(w.attendeeId,N),D=(A==null?void 0:A.state().paused)||!1;if(B.some(K=>K.attendeeId===w.attendeeId))D&&this.pausedBwAttendeeIds.has(w.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${w.attendeeId} due to bandwidth`),this.forEachObserver(K=>{K.tileWillBeUnpausedByDownlinkPolicy(A.id())}),this.tileController.unpauseVideoTile(A.id()),this.pausedBwAttendeeIds.delete(w.attendeeId));else{const K=k.some(X=>X.attendeeId===w.attendeeId);if(A&&K){const X=this.optimalReceiveStreams.find(j=>j.attendeeId===w.attendeeId);X!==void 0&&(D||(this.logger.info(`bwe: pausing streamId ${X.streamId} attendee ${w.attendeeId} due to bandwidth`),this.forEachObserver(j=>{j.tileWillBePausedByDownlinkPolicy(A.id())}),this.tileController.pauseVideoTile(A.id())),B.push(X)),this.pausedBwAttendeeIds.add(w.attendeeId)}else if(K){const X=this.tileController.addVideoTile();X.bindVideoStream(w.attendeeId,!1,null,0,0,0,null),this.forEachObserver(j=>{j.tileWillBePausedByDownlinkPolicy(X.id())}),X.pause(),this.logger.info(`bwe: Created video tile ${X.id()} for bw paused attendee ${w.attendeeId}`),this.pausedBwAttendeeIds.add(w.attendeeId)}}}}}cleanBwPausedTiles(k){if(!this.tileController){this.logger.warn("tileController not found!");return}const B=this.tileController.getAllRemoteVideoTiles(),R=this.getCurrentVideoPreferences();for(const N of B){const w=N.state();w.boundVideoStream||(k.some(A=>A.attendeeId===w.boundAttendeeId)?R!==void 0&&!R.some(A=>A.attendeeId===w.boundAttendeeId)&&this.tileController.removeVideoTile(w.tileId):(this.tileController.removeVideoTile(w.tileId),this.logger.info(`bwe: Removed video tile ${w.tileId} for bw paused attendee ${w.boundAttendeeId}`)))}}priorityPolicy(k,B,R){let N;const w=this.getCurrentVideoPreferences(),A=w.highestPriority();let D,K=A;for(;K!==-1;){D=-1;for(const X of w)if(X.priority===K)for(const j of B)j.attendeeId===X.attendeeId&&(R.some(te=>te.groupId===j.groupId)||(k.chosenTotalBitrate+j.avgBitrateKbps<=k.targetDownlinkBitrate?(R.push(j),k.chosenTotalBitrate+=j.avgBitrateKbps):k.deltaToNextUpgrade===0&&(k.deltaToNextUpgrade=j.avgBitrateKbps,N=j)));else if(X.priority>K){D=X.priority;break}for(const X of w)if(X.priority===K){for(const j of B)if(j.attendeeId===X.attendeeId){const te=R.findIndex(me=>me.groupId===j.groupId&&me.maxBitrateKbps<j.maxBitrateKbps);if(te!==-1){const me=j.avgBitrateKbps-R[te].avgBitrateKbps;this.hasSimulcastStreams(B,j.attendeeId,j.groupId)&&this.canUpgrade(j.avgBitrateKbps,X.targetSize,X.targetSizeToBitrateKbps(X.targetSize),j.attendeeId.endsWith(e.default.Modality))?(this.logger.info(`bwe: attendee: ${j.attendeeId} group: ${j.groupId} has simulcast and can upgrade avgBitrate: ${j.avgBitrateKbps} target: ${X.targetSizeToBitrateKbps(X.targetSize)} targetTotalBitrate: ${k.targetDownlinkBitrate}`),k.chosenTotalBitrate+me<=k.targetDownlinkBitrate?(k.chosenTotalBitrate+=me,R[te]=j):k.deltaToNextUpgrade===0&&(k.deltaToNextUpgrade=me,N=j)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(X.priority>K)break;if(K===A&&k.deltaToNextUpgrade!==0)break;K=D}return N}getVideoTileForAttendeeId(k,B){for(const R of B)if(R.state().boundAttendeeId===k)return R;return null}canUpgrade(k,B,R,N){let w=!1;return N?(B===S.default.High||B===S.default.Medium&&k<=R)&&(w=!0):k<=R&&(w=!0),w?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${k} targetBitrateKbp: ${R}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${k} targetBitrateKbp: ${R}`),!1)}hasSimulcastStreams(k,B,R){let N=0;for(const w of k)w.attendeeId===B&&w.groupId===R&&N++;return this.logger.info(`bwe: attendeeId: ${B} groupId: ${R} hasSimulcastStreams: streamCount: ${N}`),N>1}availStreamsSameAsLast(k){if(this.prevRemoteInfos===void 0||k.length!==this.prevRemoteInfos.length||this.videoPreferencesUpdated===!0)return!1;for(const B of k)if(this.prevRemoteInfos.find(N=>N.groupId===B.groupId&&N.streamId===B.streamId&&N.maxBitrateKbps===B.maxBitrateKbps)===void 0)return!1;return!0}chosenStreamsSameAsLast(k){if(this.optimalNonPausedReceiveStreams.length!==k.length)return!1;for(const B of this.optimalNonPausedReceiveStreams)if(!k.some(R=>R.streamId===B.streamId))return!1;return!0}policyStateLogStr(k,B){const R=this.calculateSubscribeRate(this.optimalReceiveStreams),N={targetBitrate:B,subscribedRate:R,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let w="remoteInfos: [";for(const D of k)w+=`{grpId:${D.groupId} strId:${D.streamId} maxBr:${D.maxBitrateKbps} avgBr:${D.avgBitrateKbps}}, `;w+="]";let A=`bwe: optimalReceiveSet ${JSON.stringify(N)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${w}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(A+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?A+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:A+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,A}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(k){this.serverSideNetworkAdaption=k,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[n.default.None,n.default.BandwidthProbing,n.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let k=this.getCurrentVideoPreferences();return k||(k=l.VideoPreferences.prepare().build()),k}constructor(k,B=E.default.Default){this.logger=k,this.videoPriorityBasedPolicyConfig=B,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.reset()}},"VideoPriorityBasedPolicy");c.default=P,P.DEFAULT_BANDWIDTH_KBPS=2800,P.STARTUP_PERIOD_MS=6e3,P.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,P.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,P.LOW_BITRATE_THRESHOLD_KBPS=300,P.MIN_TIME_BETWEEN_PROBE_MS=5e3,P.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,P.MAX_HOLD_BEFORE_PROBE_MS=3e4,P.MAX_ALLOWED_PROBE_TIME_MS=6e4,P.SPURIOUS_PACKET_LOST_THRESHOLD=2,P.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},"59sL":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Sa54")),h=v(d("AM8c"));let m=r(class qc{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return h.default.semverString}static get sdkVersionSemVer(){var o,i,e,t;const n=h.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(o=n==null?void 0:n.groups)===null||o===void 0?void 0:o.major,minor:(i=n==null?void 0:n.groups)===null||i===void 0?void 0:i.minor,patch:(e=n==null?void 0:n.groups)===null||e===void 0?void 0:e.patch,preRelease:(t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.preRelease}}static get buildSHA(){return h.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const o=new f.default;return`${o.name()}-${o.majorVersion()}`}static urlWithVersion(o){const i=new URL(o);return i.searchParams.append(qc.X_AMZN_VERSION,qc.sdkVersion),i.searchParams.append(qc.X_AMZN_USER_AGENT,qc.sdkUserAgentLowResolution),i.toString()}},"Versioning");c.default=m,m.X_AMZN_VERSION="X-Amzn-Version",m.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},"5ETA":function(U,c){U.exports=!0},"5Qd4":function(U,c,d){var v=d("USwo");v(v.S+v.F,"Object",{assign:d("By1P")})},"5ViG":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("DG83")),m=f(d("aVV0"));let a=r(class extends m.default{run(){return v(this,void 0,void 0,function*(){const i=this.context.transceiverController;i.setPeer(this.context.peer);try{i.setupLocalTransceivers()}catch(n){throw n}const e=this.context.activeAudioInput;if(e){const n=e.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield i.setAudioInput(n.length?n[0]:null)}else yield i.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const t=this.context.activeVideoInput;if(t){const n=t.getVideoTracks(),s=n.length?n[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield i.setVideoInput(s),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const p=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();i.setEncodingParameters(p)}s&&this.context.statsCollector.logVideoEvent(h.default.InputAttached,this.context.videoDeviceInformation)}else yield i.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=i.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)})}setAudioCodecPreferences(){const i=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,e=this.context.audioProfile.hasRedundancyEnabled();if(!i){this.context.logger.warn("Setting codec preferences not supported");return}const t=this.context.transceiverController.localAudioTransceiver(),{codecs:n}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug(`Available audio codecs ${JSON.stringify(n,null,4)}`);const s=n.findIndex(p=>p.mimeType==="audio/red");if(!t){this.context.logger.error("audio transceiver is null");return}if(s>=0){const p=n[s];n.splice(s,1),e?(n.unshift(p),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),t.setCodecPreferences(n);return}this.context.logger.info("audio/red codec not supported")}constructor(i){super(i.logger),this.context=i,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");c.default=a},"5Y0c":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("HbHZ")),m=d("XCDq"),a=f(d("j+uH"));let o=r(class extends a.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return v(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(e){if(e.type!==h.default.ReceivedSignalFrame||e.message.type!==m.SdkSignalFrame.Type.PAUSE&&e.message.type!==m.SdkSignalFrame.Type.RESUME)return;const t=e.message.pause,n=e.message.type;if(this.context.logger.info(`received new ${n===m.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),!t||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const s=t.groupIds.map(p=>{const g=this.context.videoStreamIndex.attendeeIdForGroupId(p);return this.context.videoTileController.getVideoTileForAttendeeId(g)});for(const p of s)p!==void 0&&(n===m.SdkSignalFrame.Type.PAUSE?p.state().paused||(this.serverPausedVideoTileIds.add(p.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBePausedByDownlinkPolicy(p.id())}),p.pause()):p.state().paused&&this.serverPausedVideoTileIds.has(p.id())&&(this.serverPausedVideoTileIds.delete(p.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBeUnpausedByDownlinkPolicy(p.id())}),p.unpause()))}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}},"ReceiveRemoteVideoPauseResume");c.default=o},"5mR7":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("34ho")),h=v(d("uaNU")),m=d("P7D+"),a=v(d("knPd"));let o=r(class extends a.default{reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);const t=m.VideoPreferences.prepare();let n=!1;const s=e.remoteStreamDescriptions();for(const p of s)t.some(g=>g.attendeeId===p.attendeeId)||(p.attendeeId.endsWith(f.default.Modality)?(t.add(new h.default(p.attendeeId,1)),n=!0):t.add(new h.default(p.attendeeId,2)));n?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(e){super(e),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");c.default=o},"5mqp":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Yg{clone(){const h=new Yg;return h.tileId=this.tileId,h.localTile=this.localTile,h.isContent=this.isContent,h.active=this.active,h.paused=this.paused,h.poorConnection=this.poorConnection,h.boundAttendeeId=this.boundAttendeeId,h.boundExternalUserId=this.boundExternalUserId,h.boundVideoStream=this.boundVideoStream,h.boundVideoElement=this.boundVideoElement,h.nameplate=this.nameplate,h.videoStreamContentWidth=this.videoStreamContentWidth,h.videoStreamContentHeight=this.videoStreamContentHeight,h.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,h.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,h.devicePixelRatio=this.devicePixelRatio,h.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,h.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,h.streamId=this.streamId,h}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}},"VideoTileState");c.default=v},"5rM1":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(h,m){this.signalingURL=h,this.joinToken=m}},"SignalingClientConnectionRequest");c.default=v},"5rZr":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptResult");c.default=v},"5w6Y":function(U,c,d){var v=d("CYMq"),f=d("mHY4");d("czaS")("keys",function(){return r(function(m){return f(v(m))},"keys")})},"5xrR":function(U,c,d){"use strict";U.exports=h;var v=d("s0Ci");(h.prototype=Object.create(v.prototype)).constructor=h;var f=d("kU+7");function h(m){v.call(this,m)}r(h,"BufferReader"),h._configure=function(){f.Buffer&&(h.prototype._slice=f.Buffer.prototype.slice)},h.prototype.string=r(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),h._configure()},"5z6C":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("bTau")),m=d("f2XL"),a=f(d("aVV0"));let o=r(class extends a.default{run(){return v(this,void 0,void 0,function*(){const e=this.context.videoDuplexMode===m.SdkStreamServiceType.RX||this.context.videoDuplexMode===m.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?m.SdkStreamServiceType.DUPLEX:m.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?m.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const t=this.context.videoTileController.getLocalVideoTile();let n;try{n=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const s=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(s.values()))}if(this.context.activeVideoInput=n,n){const s=n.getVideoTracks();if(!s||s.length===0)return;const p=this.context.meetingSessionConfiguration.credentials.attendeeId,g=new h.default(p).hasModality(h.default.MODALITY_CONTENT),S=s[0].getSettings();if(this.context.enableSimulcast&&!g){const l=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(l)}`);try{yield s[0].applyConstraints(l)}catch{this.context.logger.info("simulcast: pass video without more constraint")}}const u=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(p,!0,n,S.width,S.height,null,u);for(let l=0;l<s.length;l++){const E=s[l];this.logger.info(`using video device label=${E.label} id=${E.id}`),this.context.videoDeviceInformation.current_camera_name=E.label,this.context.videoDeviceInformation.current_camera_id=E.id}}})}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");c.default=o},"6/h7":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("yQ3g"));let h=r(class extends f.default{static nextTick(a){setTimeout(a,0)}constructor(){super(0)}},"AsyncScheduler");c.default=h},"6Bxv":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("f2XL"),h=v(d("lUhs"));let m=r(class lr{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:case h.default.VideoCallAtSourceCapacity:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.ICEGatheringTimeoutWorkaround:case h.default.ConnectionHealthReconnect:case h.default.RealtimeApiFailed:case h.default.TaskFailed:case h.default.NoAttendeePresent:case h.default.SignalChannelClosedUnexpectedly:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case h.default.Left:case h.default.AudioJoinedFromAnotherDevice:case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.MeetingEnded:case h.default.AudioDisconnected:case h.default.TURNCredentialsForbidden:case h.default.SignalingBadRequest:case h.default.SignalingRequestFailed:case h.default.VideoCallAtSourceCapacity:case h.default.RealtimeApiFailed:case h.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.ICEGatheringTimeoutWorkaround:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.RealtimeApiFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case h.default.OK:return"Everything is OK so far.";case h.default.Left:return"The attendee left the meeting.";case h.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case h.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case h.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case h.default.MeetingEnded:return"The meeting ended.";case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:return"The audio connection failed.";case h.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case h.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:return"The signaling connection failed.";case h.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case h.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case h.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case h.default.TaskFailed:return"The connection failed. See the error message for more details.";case h.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case h.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case h.default.NoAttendeePresent:return"The attendee was not present.";case h.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case h.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case h.default.AudioDisconnectAudio:return"The audio connection failed.";case h.default.SignalChannelClosedUnexpectedly:return"The websocket was closed unexpectedly. This may be due to a network change or backend detected failure.";default:{const o=this._statusCode;throw new Error(`Unhandled case: ${o}`)}}}static fromSignalFrame(o){return o.error&&o.error.status?this.fromSignalingStatus(o.error.status):o.type===f.SdkSignalFrame.Type.AUDIO_STATUS?o.audioStatus?this.fromAudioStatus(o.audioStatus.audioStatus):new lr(h.default.SignalingRequestFailed):o.type===f.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new lr(h.default.AudioVideoWasRemovedFromPrimaryMeeting):new lr(h.default.OK)}static fromAudioStatus(o){switch(o){case 200:return new lr(h.default.OK);case 301:return new lr(h.default.AudioJoinedFromAnotherDevice);case 302:return new lr(h.default.AudioDisconnectAudio);case 403:return new lr(h.default.AudioAuthenticationRejected);case 409:return new lr(h.default.AudioCallAtCapacity);case 410:return new lr(h.default.MeetingEnded);case 411:return new lr(h.default.AudioAttendeeRemoved);case 500:return new lr(h.default.AudioInternalServerError);case 503:return new lr(h.default.AudioServiceUnavailable);default:switch(Math.floor(o/100)){case 2:return new lr(h.default.OK);default:return new lr(h.default.AudioDisconnected)}}}static fromSignalingStatus(o){switch(o){case 206:return new lr(h.default.VideoCallSwitchToViewOnly);case 509:return new lr(h.default.VideoCallAtSourceCapacity);case 403:return new lr(h.default.AudioAuthenticationRejected);case 409:return new lr(h.default.AudioCallAtCapacity);default:switch(Math.floor(o/100)){case 2:return new lr(h.default.OK);case 4:return new lr(h.default.SignalingBadRequest);case 5:return new lr(h.default.SignalingInternalServerError);default:return new lr(h.default.SignalingRequestFailed)}}}constructor(o){this._statusCode=o}},"MeetingSessionStatus");c.default=m},"6DYs":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{matchesConstraints(h){return JSON.stringify(this.constraints)===JSON.stringify(h)}constructor(){this.groupId=""}},"DeviceSelection");c.default=v},"6JeQ":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(n,s,p,g){function S(u){return u instanceof p?u:new p(function(l){l(u)})}return r(S,"adopt"),new(p||(p=Promise))(function(u,l){function E(x){try{P(g.next(x))}catch(k){l(k)}}r(E,"fulfilled");function O(x){try{P(g.throw(x))}catch(k){l(k)}}r(O,"rejected");function P(x){x.done?u(x.value):S(x.value).then(E,O)}r(P,"step"),P((g=g.apply(n,s||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusDeviceTransformer=void 0;const h=d("o4xN"),m=d("R4Nl"),a=f(d("59sL")),o=f(d("X9Jc")),i=f(d("25+x")),e=f(d("8Bz5"));let t=r(class Oa{static isSupported(s,p){var g,S;const u=Oa.defaultFetchBehavior(),l=p!=null&&p.logger?new o.default(p.logger):void 0,E={fetchBehavior:u,logger:l};if(m.isIFramed()){if((p==null?void 0:p.allowIFrame)===!1)return(g=p==null?void 0:p.logger)===null||g===void 0||g.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(S=p==null?void 0:p.logger)===null||S===void 0||S.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return h.VoiceFocus.isSupported(Oa.augmentSpec(s),E)}static create(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2?arguments[2]:void 0,S=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;var l,E,O;return v(this,void 0,void 0,function*(){S&&S.Meeting.Meeting&&(S=S.Meeting);const P=((O=(E=(l=S==null?void 0:S.Meeting)===null||l===void 0?void 0:l.MeetingFeatures)===null||E===void 0?void 0:E.Audio)===null||O===void 0?void 0:O.EchoReduction)==="AVAILABLE",x=g&&g.supported===!0&&g.model.name==="ns_es"&&!P,k=s.name==="ns_es"&&!P;if(x||k)throw new Error("Echo Reduction requested but not enabled.");const B=new Oa(s,p,g);return yield B.init(),B})}static configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return v(this,void 0,void 0,function*(){return new Oa(s,p,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(s,p){return v(this,void 0,void 0,function*(){if(this.supported)try{const[S,u]=yield this.allocateVoiceFocus(!0),l=Object.assign(Object.assign({},p),{es:this.spec.name==="ns_es"});return new i.default(s,S,u,l)}catch{return}})}static destroyVoiceFocus(s){var p;return v(this,void 0,void 0,function*(){(p=s==null?void 0:s.vf)===null||p===void 0||p.destroy()})}static augmentSpec(s){return!s||!s.assetGroup&&!s.revisionID?Object.assign(Object.assign({},s),{assetGroup:Oa.currentSDKAssetGroup()}):s}configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const p={fetchBehavior:this.fetchBehavior,preResolve:s,logger:this.vfLogger};return h.VoiceFocus.configure(this.spec,p)})}init(){var s;return v(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const p=yield this.configuration;if(!p.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(p,this.preload);try{yield this.pendingVoiceFocus}catch(g){(s=this.logger)===null||s===void 0||s.error(`Unable to initialize Amazon Voice Focus: ${g}`),this.supported=!1}})}createVoiceFocus(s,p){return v(this,void 0,void 0,function*(){const g=new e.default;return this.vf=yield h.VoiceFocus.init(s,{delegate:g,preload:p,logger:this.vfLogger}),[this.vf,g]})}allocateVoiceFocus(s){return v(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const p=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,p}return this.createVoiceFocus(yield this.configuration,s)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const s=this.majorVersion();return s?`sdk-${s}`:"stable-v1"}static defaultFetchBehavior(){const s=Oa.majorMinorVersion()||"unknown",p=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(s)}&ua=${encodeURIComponent(p)}`}}constructor(s,{preload:p=!0,logger:g,fetchBehavior:S=Oa.defaultFetchBehavior()},u){this.spec=s,this.supported=!0,this.logger=g,this.vfLogger=g?new o.default(g):void 0,this.preload=p,this.fetchBehavior=S,this.spec=Oa.augmentSpec(this.spec),u&&(this.configuration=Promise.resolve(u))}},"VoiceFocusDeviceTransformer");c.VoiceFocusDeviceTransformer=t,c.default=t},"6SO8":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("XCDq"),h=v(d("bjg3")),m=v(d("x8On")),a=v(d("U3GI"));let o=r(class Xg{getMetricMap(e,t){switch(e){case m.default.AUDIO:switch(t){case h.default.UPSTREAM:return this.audioUpstreamMetricMap;case h.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case m.default.VIDEO:switch(t){case h.default.UPSTREAM:return this.videoUpstreamMetricMap;case h.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);const t=this.observableMetricSpec[e],s=this.getMetricMap(t.media,t.dir)[t.source],{transform:p,source:g}=s;if(t.hasOwnProperty("media"))for(const S in this.streamMetricReports){const u=this.streamMetricReports[S];if(u.direction===t.dir&&u.mediaType===t.media)return p(g||t.source,Number(S))}else return p(g||t.source);return 0}getObservableVideoMetricValue(e,t){const n=this.observableVideoMetricSpec[e],p=this.getMetricMap(n.media,n.dir)[n.source],{transform:g,source:S}=p;return g(S||n.source,t)}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===m.default.VIDEO){const n={};for(const S in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[S].dir===this.streamMetricReports[t].direction){const u=this.getObservableVideoMetricValue(S,Number(t));isNaN(u)||(n[S]=u)}const s=this.streamMetricReports[t].groupId,p=this.streamMetricReports[t].streamId;let g="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?g=s?this.videoStreamIndex.attendeeIdForGroupId(s):this.selfAttendeeId:g=p?this.videoStreamIndex.attendeeIdForStreamId(p):this.selfAttendeeId,e[g]=e[g]?e[g]:{},e[g][t]=n}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new Xg(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}constructor(e,t,n){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=n,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;return Number(g.currentMetrics[s])},this.decoderLossPercent=(s,p)=>{const g=this.streamMetricReports[p],S=g.currentMetrics.concealedSamples-(g.previousMetrics.concealedSamples||0),u=g.currentMetrics.totalSamplesReceived-(g.previousMetrics.totalSamplesReceived||0);return u<=0||u-S<=0?0:S/u*100},this.packetLossPercent=(s,p)=>{const g=this.streamMetricReports[p],S=g.currentMetrics[s]-(g.previousMetrics[s]||0),u=g.currentMetrics.packetsLost-(g.previousMetrics.packetsLost||0),l=S+u;return l<=0||u<=0?0:u*100/l},this.jitterBufferMs=(s,p)=>{const g=this.streamMetricReports[p],S=g.currentMetrics.jitterBufferDelay-(g.previousMetrics.jitterBufferDelay||0),u=g.currentMetrics.jitterBufferEmittedCount-(g.previousMetrics.jitterBufferEmittedCount||0);return S<=0||u<=0?0:S/u*1e3},this.countPerSecond=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);const u=g.currentMetrics[s]-(g.previousMetrics[s]||0);return u<=0?0:Math.trunc(u/S)},this.bitsPerSecond=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);const u=(g.currentMetrics[s]-(g.previousMetrics[s]||0))*8;return u<=0?0:Math.trunc(u/S)},this.secondsToMilliseconds=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;return Number(g.currentMetrics[s]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);const u=g.currentMetrics[s]-(g.previousMetrics[s]||0);return u<=0?0:u*1e3/S},this.isHardwareImplementation=(s,p)=>{const g=this.streamMetricReports[p],S=String(g.currentStringMetrics[s]),u=S.includes("ExternalDecoder")||S.includes("ExternalEncoder")||S.includes("EncodeAccelerator")||S.includes("DecodeAccelerator"),l=S.includes("fallback from");return u&&!l?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:f.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE}},this.streamDimensionMap={encoderImplementation:f.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:f.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:m.default.VIDEO,dir:h.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.AUDIO,dir:h.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:m.default.VIDEO,dir:h.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}},"ClientMetricReport");c.default=o},"6jRP":function(U,c){U.exports=function(d,v){return{value:v,done:!!d}}},"6k+I":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isAudioTransformDevice=void 0;function v(f){return!!f&&typeof f=="object"&&"mute"in f&&"stop"in f&&"intrinsicDevice"in f}r(v,"isAudioTransformDevice"),c.isAudioTransformDevice=v},"6k9T":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoInputFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(v=c.CheckVideoInputFeedback||(c.CheckVideoInputFeedback={})),c.default=v},"6qF3":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FXLIB_PATH=c.WORKER_PATH=c.CDN_BASE_PATH=c.RESOURCE_CONSTRAINTS=c.SEGMENTATION_MODEL=c.DEFAULT_STREAM_PARAMETERS=c.WORKER_MSG=void 0,c.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},c.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},c.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},c.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},c.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const v="/ml_media_fx/otherassets";c.WORKER_PATH=`${v}/worker.js`,c.FXLIB_PATH=`${v}/fxlib.js`},"725M":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});function v(h){return h.map(m=>typeof m=="object"?JSON.stringify(m):`${m}`).join(" ")}r(v,"stringify");let f=r(class{debug(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.debug(v(a))}info(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.info(v(a))}warn(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.warn(v(a))}error(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.error(v(a))}constructor(m){this.base=m}},"LoggerAdapter");c.default=f},"7EAL":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("j+uH"));let m=r(class extends h.default{run(){return v(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(o){super(o.logger),this.context=o,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");c.default=m},"7H4U":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=r(f=>{const h={};for(const[m,a]of Object.entries(f))if(!(a==null||a===""))if(typeof a=="number"||typeof a=="string")h[m]=a;else throw new TypeError("Unhandled type received while flattening attributes.");return h},"flattenEventAttributes");c.default=v},"7JaV":function(U,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return f}),d.d(c,"__assign",function(){return h}),d.d(c,"__rest",function(){return m}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return o}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return n}),d.d(c,"__exportStar",function(){return s}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return g}),d.d(c,"__spread",function(){return S}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return l}),d.d(c,"__asyncGenerator",function(){return E}),d.d(c,"__asyncDelegator",function(){return O}),d.d(c,"__asyncValues",function(){return P}),d.d(c,"__makeTemplateObject",function(){return x}),d.d(c,"__importStar",function(){return k}),d.d(c,"__importDefault",function(){return B}),d.d(c,"__classPrivateFieldGet",function(){return R}),d.d(c,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=r(function(w,A){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var X in K)K.hasOwnProperty(X)&&(D[X]=K[X])},v(w,A)},"extendStatics");function f(w,A){v(w,A);function D(){this.constructor=w}r(D,"__"),w.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}r(f,"__extends");var h=r(function(){return h=Object.assign||r(function(A){for(var D,K=1,X=arguments.length;K<X;K++){D=arguments[K];for(var j in D)Object.prototype.hasOwnProperty.call(D,j)&&(A[j]=D[j])}return A},"__assign"),h.apply(this,arguments)},"__assign");function m(w,A){var D={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&A.indexOf(K)<0&&(D[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,K=Object.getOwnPropertySymbols(w);X<K.length;X++)A.indexOf(K[X])<0&&Object.prototype.propertyIsEnumerable.call(w,K[X])&&(D[K[X]]=w[K[X]]);return D}r(m,"__rest");function a(w,A,D,K){var X=arguments.length,j=X<3?A:K===null?K=Object.getOwnPropertyDescriptor(A,D):K,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,A,D,K);else for(var me=w.length-1;me>=0;me--)(te=w[me])&&(j=(X<3?te(j):X>3?te(A,D,j):te(A,D))||j);return X>3&&j&&Object.defineProperty(A,D,j),j}r(a,"__decorate");function o(w,A){return function(D,K){A(D,K,w)}}r(o,"__param");function i(w,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,A)}r(i,"__metadata");function e(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})}r(e,"__awaiter");function t(w,A){var D={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},K,X,j,te;return te={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function me(pe){return function(Ae){return we([pe,Ae])}}function we(pe){if(K)throw new TypeError("Generator is already executing.");for(;D;)try{if(K=1,X&&(j=pe[0]&2?X.return:pe[0]?X.throw||((j=X.return)&&j.call(X),0):X.next)&&!(j=j.call(X,pe[1])).done)return j;switch(X=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return D.label++,{value:pe[1],done:!1};case 5:D.label++,X=pe[1],pe=[0];continue;case 7:pe=D.ops.pop(),D.trys.pop();continue;default:if(j=D.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){D=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){D.label=pe[1];break}if(pe[0]===6&&D.label<j[1]){D.label=j[1],j=pe;break}if(j&&D.label<j[2]){D.label=j[2],D.ops.push(pe);break}j[2]&&D.ops.pop(),D.trys.pop();continue}pe=A.call(w,D)}catch(Ae){pe=[6,Ae],X=0}finally{K=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}r(t,"__generator");function n(w,A,D,K){K===void 0&&(K=D),w[K]=A[D]}r(n,"__createBinding");function s(w,A){for(var D in w)D!=="default"&&!A.hasOwnProperty(D)&&(A[D]=w[D])}r(s,"__exportStar");function p(w){var A=typeof Symbol=="function"&&Symbol.iterator,D=A&&w[A],K=0;if(D)return D.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}r(p,"__values");function g(w,A){var D=typeof Symbol=="function"&&w[Symbol.iterator];if(!D)return w;var K=D.call(w),X,j=[],te;try{for(;(A===void 0||A-- >0)&&!(X=K.next()).done;)j.push(X.value)}catch(me){te={error:me}}finally{try{X&&!X.done&&(D=K.return)&&D.call(K)}finally{if(te)throw te.error}}return j}r(g,"__read");function S(){for(var w=[],A=0;A<arguments.length;A++)w=w.concat(g(arguments[A]));return w}r(S,"__spread");function u(){for(var w=0,A=0,D=arguments.length;A<D;A++)w+=arguments[A].length;for(var K=Array(w),X=0,A=0;A<D;A++)for(var j=arguments[A],te=0,me=j.length;te<me;te++,X++)K[X]=j[te];return K}r(u,"__spreadArrays");function l(w){return this instanceof l?(this.v=w,this):new l(w)}r(l,"__await");function E(w,A,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=D.apply(w,A||[]),X,j=[];return X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X;function te(Fe){K[Fe]&&(X[Fe]=function(Ue){return new Promise(function(Le,at){j.push([Fe,Ue,Le,at])>1||me(Fe,Ue)})})}function me(Fe,Ue){try{we(K[Fe](Ue))}catch(Le){Je(j[0][3],Le)}}function we(Fe){Fe.value instanceof l?Promise.resolve(Fe.value.v).then(pe,Ae):Je(j[0][2],Fe)}function pe(Fe){me("next",Fe)}function Ae(Fe){me("throw",Fe)}function Je(Fe,Ue){Fe(Ue),j.shift(),j.length&&me(j[0][0],j[0][1])}}r(E,"__asyncGenerator");function O(w){var A,D;return A={},K("next"),K("throw",function(X){throw X}),K("return"),A[Symbol.iterator]=function(){return this},A;function K(X,j){A[X]=w[X]?function(te){return(D=!D)?{value:l(w[X](te)),done:X==="return"}:j?j(te):te}:j}}r(O,"__asyncDelegator");function P(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=w[Symbol.asyncIterator],D;return A?A.call(w):(w=typeof p=="function"?p(w):w[Symbol.iterator](),D={},K("next"),K("throw"),K("return"),D[Symbol.asyncIterator]=function(){return this},D);function K(j){D[j]=w[j]&&function(te){return new Promise(function(me,we){te=w[j](te),X(me,we,te.done,te.value)})}}function X(j,te,me,we){Promise.resolve(we).then(function(pe){j({value:pe,done:me})},te)}}r(P,"__asyncValues");function x(w,A){return Object.defineProperty?Object.defineProperty(w,"raw",{value:A}):w.raw=A,w}r(x,"__makeTemplateObject");function k(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var D in w)Object.hasOwnProperty.call(w,D)&&(A[D]=w[D]);return A.default=w,A}r(k,"__importStar");function B(w){return w&&w.__esModule?w:{default:w}}r(B,"__importDefault");function R(w,A){if(!A.has(w))throw new TypeError("attempted to get private field on non-instance");return A.get(w)}r(R,"__classPrivateFieldGet");function N(w,A,D){if(!A.has(w))throw new TypeError("attempted to set private field on non-instance");return A.set(w,D),D}r(N,"__classPrivateFieldSet")},"7JpI":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"ClientVideoStreamReceivingReport");c.default=v},"7TH8":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR")),m=f(d("eFki"));let a=r(class Qg{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(i){if(this.pipe.processors)for(const e of this.pipe.processors)typeof e.setEventController=="function"&&e.setEventController(i)}chooseNewInnerDevice(i){const e=new Qg(this.logger,i,this.processors,this.browserBehavior);return e.pipe=this.pipe,e}getInnerDevice(){return this.device}intrinsicDevice(){return v(this,void 0,void 0,function*(){return this.device})}transformStream(i){return v(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(i),this.inputMediaStream=i,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const i=this.device&&this.device.id;if(this.pipe.stop(),!i&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return v(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(i=>{i.processingDidStart&&i.processingDidStart()})}processingLatencyTooHigh(i){this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(i)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(i=>{i.processingDidFailToStart&&i.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()})}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}constructor(i,e,t,n=new h.default){this.logger=i,this.device=e,this.processors=t,this.browserBehavior=n,this.observers=new Set,this.pipe=new m.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");c.default=a},"7UVU":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("j+uH"));let m=r(class extends h.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const o in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[o]()}addPeerConnectionEventLogger(){const o=this.context.peer;o.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${o.connectionState}`)}),o.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),o.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${o.iceGatheringState}`)}),o.addEventListener("icecandidate",i=>{this.context.logger.info(`peer connection ice candidate: ${i.candidate?i.candidate.candidate:"(null)"}`)}),o.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${o.iceConnectionState}`)})}run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const i=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};i.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),i.sdpSemantics="unified-plan",this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(i),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(o){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(o)):!1}addRemoteVideoTrack(o,i){var e;const t=i.id,n=this.context.videoStreamIndex.attendeeIdForTrack(t);let s,p;if(this.context.videoTileController.getVideoTileForAttendeeId?(p=this.context.videoTileController.getVideoTileForAttendeeId(n),s=!!(!((e=p==null?void 0:p.state())===null||e===void 0)&&e.boundVideoStream)):s=this.context.videoTileController.haveVideoTileForAttendeeId(n),s){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${n}`);return}p||(p=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${p.id()}`));let g=this.context.videoStreamIndex.streamIdForTrack(t);typeof g>"u"&&(this.logger.warn(`stream not found for tile=${p.id()} track=${t}`),g=null);for(let x=0;x<this.trackEvents.length;x++){const k=this.trackEvents[x],B=i.getVideoTracks();if(B&&B.length){const R=B[0],N=r(()=>{this.context.logger.info(`received the ${k} event for tile=${p.id()} id=${o.id} streamId=${g}`),k==="ended"&&this.removeRemoteVideoTrack(o,p.state())},"callback");R.addEventListener(k,N),this.removeVideoTrackEventListeners[o.id]||(this.removeVideoTrackEventListeners[o.id]=[]),this.removeVideoTrackEventListeners[o.id].push(()=>{R.removeEventListener(k,N)})}}let S,u;if(o.getSettings){const x=o.getSettings();S=x.width,u=x.height}else{const x=o.getCapabilities();S=x.width,u=x.height}const l=this.context.videoStreamIndex.externalUserIdForTrack(t);p.bindVideoStream(n,!1,i,S,u,g,l),this.logger.info(`video track added, use tile=${p.id()} track=${t} streamId=${g}`);const E="removetrack",O=i,P=r(()=>this.removeRemoteVideoTrack(o,p.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[o.id]=()=>{O.removeEventListener(E,P),delete this.removeTrackRemovedEventListeners[o.id]},O.addEventListener(E,P)}removeRemoteVideoTrack(o,i){if(this.removeTrackRemovedEventListeners.hasOwnProperty(o.id)){this.removeTrackRemovedEventListeners[o.id]();for(const e of this.removeVideoTrackEventListeners[o.id])e();delete this.removeVideoTrackEventListeners[o.id]}this.logger.info(`video track ended, removing tile=${i.tileId} id=${o.id} stream=${i.streamId}`),i.streamId?this.context.videosPaused.remove(i.streamId):this.logger.warn(`no stream found for tile=${i.tileId}`),this.context.videoTileController.removeVideoTile(i.tileId)}constructor(o){super(o.logger),this.context=o,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=i=>{const e=i.track;if(this.context.logger.info(`received track event: kind=${e.kind} id=${e.id} label=${e.label}`),i.transceiver&&i.transceiver.currentDirection==="inactive")return;if(i.streams.length===0){this.context.logger.warn("Track event but no stream");return}const t=i.streams[0];e.kind==="audio"?this.context.audioMixController.bindAudioStream(t):e.kind==="video"&&!this.trackIsVideoInput(e)&&this.addRemoteVideoTrack(e,t)}}},"CreatePeerConnectionTask");c.default=m,m.REMOVE_HANDLER_INTERVAL_MS=1e4},"7W6Z":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("lUhs")),m=f(d("AUdx")),a=f(d("aVV0"));let o=r(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(!((t=(e=this.context.meetingSessionConfiguration)===null||e===void 0?void 0:e.urls)===null||t===void 0)&&t.audioHostURL)}sessionUsesVideo(){let t;this.context.transceiverController.useTransceivers()?t=this.context.transceiverController.hasVideoInput():t=this.context.videoTileController.hasStartedLocalVideoTile();const n=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),s=t||n;return this.context.logger.info(`uses video: ${s} (enabled: ${!0}, sending: ${t}, receiving: ${n})`),s}run(){return v(this,void 0,void 0,function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,n)=>v(this,void 0,void 0,function*(){this.cancelPromise=s=>{n(s)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new m.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const s=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,n(s);return}t()}catch(s){n(s)}finally{delete this.cancelPromise}}))})}constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}},"CreateSDPTask");c.default=o},"7nob":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"Transcript");c.default=v},"7p5e":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"VideoSource");c.default=v},"7whZ":function(U,c){var d=U.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=d)},"83pg":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Mr6q"));let h=r(class extends f.default{},"BackgroundReplacementVideoFrameProcessorDelegate");c.default=h},"87Nr":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerTransitionResult=void 0;var v;(function(f){f[f.Transitioned=0]="Transitioned",f[f.NoTransitionAvailable=1]="NoTransitionAvailable",f[f.DeferredTransition=2]="DeferredTransition",f[f.TransitionFailed=3]="TransitionFailed"})(v=c.SessionStateControllerTransitionResult||(c.SessionStateControllerTransitionResult={})),c.default=v},"8Bz5":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}onFallback(h,m){var a;for(const o of this.observers)(a=o.voiceFocusFellBackToInnerStream)===null||a===void 0||a.call(o,h,m)}onCPUWarning(){var h;for(const m of this.observers)(h=m.voiceFocusInsufficientResources)===null||h===void 0||h.call(m)}constructor(){this.observers=new Set}},"VoiceFocusTransformDeviceDelegate");c.default=v},"8FET":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h=5e3,m=2,a=64,o=100,i=15){this.flushIntervalMs=h,this.flushSize=m,this.maxBufferCapacityKb=a,this.totalBufferItems=o,this.retryCountLimit=i}},"EventBufferConfiguration");c.default=v},"8V8Y":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=.8;let f=r(class{reportEvent(m){const a=m-this.lastReportedEventTimestamp;if(a>=this.reportingPeriodMillis){const o=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=m,this.framerate===0||o===0)return;const e=Math.round(i/o),t=Math.round(this.framerate*(a/1e3))-o,n=Math.round(100*i/a);e>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:t,avgFilterDurationMillis:e,framerate:this.framerate,periodMillis:a}),n>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:n,filterMillis:i,periodMillis:a})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*v)}frameReceived(m){m!==this.framerate&&(this.framerate=m,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const a=Date.now();this.reportEvent(a)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(m,a,o,i){this.delegate=m,this.reportingPeriodMillis=a,this.filterCPUUtilization=o,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");c.default=f},"8dVZ":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("KyYT");let f=r(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(m){m===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):m<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(m,a,o){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",o),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(m){let a=0,o=0;const i=m.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,n=i.audioSpeakerDelayMs;if(typeof n=="number"&&!isNaN(n)&&this.connectionHealthData.setAudioSpeakerDelayMs(n),typeof e=="number"&&typeof t=="number"){if(a=e,o=t,a<0||o<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,o),a>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||o>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(m){m>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(m,a){m.unshift(a),m.length>60&&m.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(m=>{v.Maybe.of(m.connectionHealthDidChange).map(a=>a.bind(m)(this.connectionHealthData.clone()))})}constructor(m,a,o,i,e){this.audioVideoController=m,this.realtimeController=a,this.connectionHealthData=o,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");c.default=f},"8pZh":function(U,c,d){"use strict";var v=d("MkRQ"),f=d("LV2V"),h=d("4k7n"),m=d("AQwl"),a=d("qAkX"),o=Object(f.a)(function(i){var e=Object(a.a)(i);return e=typeof e=="function"?e:void 0,Object(h.a)(Object(v.a)(i,m.a),void 0,e)});c.a=o},"8sL3":function(U,c,d){"use strict";var v=d("FgkJ");function f(h){var m,a;this.promise=new h(function(o,i){if(m!==void 0||a!==void 0)throw TypeError("Bad Promise constructor");m=o,a=i}),this.resolve=v(m),this.reject=v(a)}r(f,"PromiseCapability"),U.exports.f=function(h){return new f(h)}},"8tla":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("aVV0")),m=f(d("Sl5A"));let a=r(class extends h.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return v(this,void 0,void 0,function*(){for(const i of this.tasksToRunSerially){this.getStatus()===m.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${i.name()}`),this.currentTask=i,yield i.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${i.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskName=e,this.tasksToRunSerially=t,this.currentTask=null;for(const n of t)n.setParent(this)}},"SerialGroupTask");c.default=a},"8wPz":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{start(h){this.stop(),this.timer=setInterval(h,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(h){this.intervalMs=h}},"IntervalScheduler");c.default=v},"91j7":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a,o){this.sequenceNumber=h,this.message=m,this.timestampMs=a,this.logLevel=o}},"Log");c.default=v},"92Bn":function(U,c,d){"use strict";U.exports=h;var v=d("hl97");(h.prototype=Object.create(v.prototype)).constructor=h;var f=d("kU+7");function h(){v.call(this)}r(h,"BufferWriter"),h._configure=function(){h.alloc=f._Buffer_allocUnsafe,h.writeBytesBuffer=f.Buffer&&f.Buffer.prototype instanceof Uint8Array&&f.Buffer.prototype.set.name==="set"?r(function(o,i,e){i.set(o,e)},"writeBytesBuffer_set"):r(function(o,i,e){if(o.copy)o.copy(i,e,0,o.length);else for(var t=0;t<o.length;)i[e++]=o[t++]},"writeBytesBuffer_copy")},h.prototype.bytes=r(function(o){f.isString(o)&&(o=f._Buffer_from(o,"base64"));var i=o.length>>>0;return this.uint32(i),i&&this._push(h.writeBytesBuffer,i,o),this},"write_bytes_buffer");function m(a,o,i){a.length<40?f.utf8.write(a,o,i):o.utf8Write?o.utf8Write(a,i):o.write(a,i)}r(m,"writeStringBuffer"),h.prototype.string=r(function(o){var i=f.Buffer.byteLength(o);return this.uint32(i),i&&this._push(m,i,o),this},"write_string_buffer"),h._configure()},"94P3":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("U++r")),h=d("VCUZ"),m=v(d("/N6y")),a=v(d("GZjp"));let o=r(class{constructor(e,t){this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new f.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,e&&(e=h.toLowerCasePropertyNames(e),e.meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new a.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl,e.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=e.mediaplacement.eventingestionurl)),t&&(t=h.toLowerCasePropertyNames(t),t.attendee&&(t=t.attendee),this.credentials=new m.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken)}},"MeetingSessionConfiguration");c.default=o},"9AGb":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("KvYa"),h=d("nJ1/");let m=r(class extends h.VoiceFocusAudioWorkletNode{enable(){return v(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return v(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return v(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(o){var i;const e=o.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(o){var i;const e=o.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(o,i){super(o,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:n,fetchBehavior:s,delegate:p}=i;this.delegate=p,this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:g,agc:S,supportFarendStream:u}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:o.sampleRate===16e3?160:480,enabled:g,agc:S,fetchBehavior:s,model:e,supportFarendStream:u});const l=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:l,key:"buffer",fetchBehavior:s,path:t})}},"VoiceFocusWorkerPostMessageNode");c.default=m},"9BEE":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Zg{static create(h,m){const a=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!h||h.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!a.test(h))throw new Error(`appName must satisfy ${a} regular expression`);const o=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!m||m.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!o.test(m))throw new Error("appVersion must satisfy Semantic Versioning format");return new Zg(h,m)}constructor(h,m){this.appName=h,this.appVersion=m}},"ApplicationMetadata");c.default=v},"9Bli":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");c.default=v},"9ETa":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("JHsX"),f=d("hWev"),h=d("I0Bj"),m=d("87Nr");let a=r(class{perform(i,e){const t=this.currentState;if(t===h.SessionStateControllerState.NotConnected&&i===v.SessionStateControllerAction.Connect)this.transition(h.SessionStateControllerState.Connecting,i);else if(t===h.SessionStateControllerState.Connecting&&i===v.SessionStateControllerAction.Fail)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Connecting&&i===v.SessionStateControllerAction.FinishConnecting)this.transition(h.SessionStateControllerState.Connected,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Disconnect)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Reconnect)this.transition(h.SessionStateControllerState.Connecting,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Fail)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Update)this.transition(h.SessionStateControllerState.Updating,i);else if(t===h.SessionStateControllerState.Updating&&i===v.SessionStateControllerAction.Fail)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Updating&&i===v.SessionStateControllerAction.FinishUpdating)this.transition(h.SessionStateControllerState.Connected,i);else if(t===h.SessionStateControllerState.Disconnecting&&i===v.SessionStateControllerAction.FinishDisconnecting)this.transition(h.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${h.SessionStateControllerState[this.currentState]} with ${v.SessionStateControllerAction[i]}`),this.deferAction(i,e),m.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${h.SessionStateControllerState[this.currentState]} with ${v.SessionStateControllerAction[i]}`),m.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(n){return this.logger.error(`error during state ${h.SessionStateControllerState[this.currentState]} with action ${v.SessionStateControllerAction[i]}: ${n}`),this.logger.info(`rolling back transition to ${h.SessionStateControllerState[t]}`),this.currentState=t,m.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),m.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${h.SessionStateControllerState[this.currentState]} to ${h.SessionStateControllerState[i]} with ${v.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case v.SessionStateControllerAction.Disconnect:return f.SessionStateControllerDeferPriority.VeryHigh;case v.SessionStateControllerAction.Fail:return f.SessionStateControllerDeferPriority.High;case v.SessionStateControllerAction.Reconnect:return f.SessionStateControllerDeferPriority.Medium;case v.SessionStateControllerAction.Update:return f.SessionStateControllerDeferPriority.Low;default:return f.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==f.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===h.SessionStateControllerState.Connecting||this.currentState===h.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${v.SessionStateControllerAction[i]}`),this.perform(i,e)!==m.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${v.SessionStateControllerAction[i]} in state ${h.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=h.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");c.default=a},"9IN5":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_HASHABLE_LENGTH=c.INIT=c.KEY=c.DIGEST_LENGTH=c.BLOCK_SIZE=void 0,c.BLOCK_SIZE=64,c.DIGEST_LENGTH=32,c.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},"9IcX":function(U,c,d){"use strict";function v(f,h){return f.replace(new RegExp("(^|\\s)"+h+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}r(v,"replaceClassName"),U.exports=r(function(h,m){h.classList?h.classList.remove(m):typeof h.className=="string"?h.className=v(h.className,m):h.setAttribute("class",v(h.className&&h.className.baseVal||"",m))},"removeClass")},"9bRS":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{create(){const h={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{h.paused=!0},play:()=>(h.paused=!1,Promise.resolve())};return h}},"NoOpVideoElementFactory");c.default=v},"9mJw":function(U,c,d){"use strict";var v=d("wpDl"),f=Object(v.a)("round");c.a=f},"9oOt":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0}),c.NoOpDeviceControllerWithEventController=void 0;const h=f(d("3niY"));let m=r(class extends h.default{destroy(){return v(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(i){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(i){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(i){return Promise.reject()}addDeviceChangeObserver(i){}removeDeviceChangeObserver(i){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(i){}stopVideoPreviewForVideoInput(i){}setDeviceLabelTrigger(i){}mixIntoAudioInput(i){return null}chooseVideoInputQuality(i,e,t){}getVideoInputQualitySettings(){return null}constructor(i){super(),this.destroyed=!1}},"NoOpDeviceController");c.default=m;let a=r(class extends m{constructor(i){super(),this.eventController=i}},"NoOpDeviceControllerWithEventController");c.NoOpDeviceControllerWithEventController=a},A4hc:function(U,c,d){"use strict";U.exports=d("PhnE")},A9a0:function(U,c,d){var v=d("nA4W"),f=d("bKEA"),h=d("Oa1h")(!1),m=d("WpRT")("IE_PROTO");U.exports=function(a,o){var i=f(a),e=0,t=[],n;for(n in i)n!=m&&v(i,n)&&t.push(n);for(;o.length>e;)v(i,n=o[e++])&&(~h(t,n)||t.push(n));return t}},AI3F:function(U,c,d){"use strict";(function(v){Object.defineProperty(c,"__esModule",{value:!0}),c.convertToBuffer=void 0;var f=d("f/KM"),h=typeof v<"u"&&v.from?function(a){return v.from(a,"utf8")}:f.fromUtf8;function m(a){return a instanceof Uint8Array?a:typeof a=="string"?h(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}r(m,"convertToBuffer"),c.convertToBuffer=m}).call(this,d("HDXh").Buffer)},AM8c:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={hash:"c2db5b4",raw:"v3.18.1",semverString:"3.18.1"}},AUdx:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("0YRd")),h=v(d("Iwfh")),m=v(d("CLOt"));let a=r(class vn{clone(){return new vn(this.sdp)}static isRTPCandidate(i){const e=/candidate[:](\S+) (\d+)/g.exec(i);return!(e===null||e[2]!=="1")}static linesToSDP(i){return new vn(i.join(vn.CRLF))}static candidateTypeFromString(i){switch(i){case f.default.Host:return f.default.Host;case f.default.ServerReflexive:return f.default.ServerReflexive;case f.default.PeerReflexive:return f.default.PeerReflexive;case f.default.Relay:return f.default.Relay}return null}static candidateType(i){const e=/a[=]candidate[:].* typ ([a-z]+) /g.exec(i);return e===null?null:vn.candidateTypeFromString(e[1])}static mediaType(i){const e=/m=(audio|video)/g.exec(i);if(e!==null)return e[1]}static mid(i){if(i.includes("a=mid:"))return i.replace(/^(a=mid:)/,"")}static direction(i){const e=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(i);if(e!==null)return e[1]}static splitLines(i){return i.trim().split(`
`).map(e=>e.trim())}static splitSections(i){return i.split(`
m=`).map((t,n)=>(n>0?"m="+t:t).trim()+vn.CRLF)}static findActiveCameraSection(i){let e=0,t=!1;for(const n of i){if(/^m=video/.test(n)&&(n.indexOf("sendrecv")>-1||n.indexOf("sendonly")===-1&&n.indexOf("recvonly")===-1&&n.indexOf("inactive")===-1)){t=!0;break}e++}return t===!1&&(e=-1),e}static extractSSRCsFromFIDGroupLine(i){return/^a=ssrc-group:FID\s(.+)/.exec(i)[1]}static matchPrefix(i,e){return vn.splitLines(i).filter(t=>t.indexOf(e)===0)}lines(){return this.sdp.split(vn.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(i){return vn.linesToSDP(this.lines().filter(e=>vn.candidateType(e)!==i))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(f.default.ServerReflexive)}withAudioMaxAverageBitrate(i){if(!i)return this.clone();i=Math.trunc(Math.min(Math.max(i,vn.rfc7587LowestBitrate),vn.rfc7587HighestBitrate));const e=this.lines(),t=vn.findOpusFmtpAttributes(e),n=vn.updateOpusFmtpAttributes(e,t,[`maxaveragebitrate=${i}`]);return vn.linesToSDP(n)}withStereoAudio(){const i=this.lines(),e=vn.findOpusFmtpAttributes(i),t=vn.updateOpusFmtpAttributes(i,e,["stereo=1","sprop-stereo=1"]);return vn.linesToSDP(t)}static findOpusFmtpAttributes(i){const e=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let t=!1;const n=[];for(const s of i)if(s.startsWith("m=audio")&&(n.push(null),t=!0),s.startsWith("m=video")&&(t=!1),t){const p=e.exec(s);p!==null&&(n[n.length-1]=`a=fmtp:${p[1]} `)}return n}static updateOpusFmtpAttributes(i,e,t){const n=[];let s=0,p=null;for(const g of i)if(g.startsWith("m=audio")&&(p=e[s],s++),g.startsWith("m=video")&&(p=null),p&&g.startsWith(p)){const S=g.slice(p.length).split(";"),u=[];for(const l of S)t.findIndex(O=>O.startsWith(l.split("=")[0]))<0&&u.push(l);for(const l of t)u.push(l);n.push(p+u.join(";"))}else n.push(g);return n}withUnifiedPlanFormat(){let i=this.sdp;return i.includes("mozilla")?this.clone():(i=i.replace("o=-","o=mozilla-chrome"),new vn(i))}getUniqueRtpHeaderExtensionId(i){const e=[];for(const n of i)if(/^a=extmap:/.test(n.trim())){const p=+n.split("a=extmap:")[1].split(" ")[0];e.includes(p)||e.push(p)}e.sort((n,s)=>n-s);let t=0;for(const n of e){if(n-t>1)return t+1;t=n}return t===14?-1:t+1}withVideoLayersAllocationRtpHeaderExtension(i){const e="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",t=i?i.getRtpHeaderExtensionId(e):-1,n=t===-1?this.getUniqueRtpHeaderExtensionId(vn.splitLines(this.sdp)):t,s=vn.splitSections(this.sdp),p=[];for(let S of s){if(/^m=video/.test(S)&&vn.getRtpHeaderExtensionIdInSection(S,e)===-1){const u=vn.splitLines(S),l=[];if(n===-1||this.hasRtpHeaderExtensionId(n)){p.push(S);continue}for(const E of u)if(l.push(E),/^a=sendrecv/.test(E.trim())){const O="a=extmap:"+n+" "+e;l.push(O)}S=l.join(vn.CRLF)+vn.CRLF}else if(t!==-1&&/^m=video/.test(S)&&vn.getRtpHeaderExtensionIdInSection(S,e)!==t){const u=vn.splitLines(S),l=[];for(const E of u){if(/^a=extmap:/.test(E.trim())&&E.split("a=extmap:")[1].split(" ")[1]===e){if(!this.hasRtpHeaderExtensionId(t)){const P="a=extmap:"+t+" "+e;l.push(P)}continue}l.push(E)}S=l.join(vn.CRLF)+vn.CRLF}p.push(S)}const g=p.join("");return new vn(g)}ssrcForVideoSendingSection(){const i=this.sdp,e=vn.splitSections(i);if(e.length<2)return"";const t=vn.findActiveCameraSection(e);if(t===-1)return"";const n=vn.matchPrefix(e[t],"a=ssrc-group:FID ");if(n.length<1)return"";const s=vn.extractSSRCsFromFIDGroupLine(n[0]),[p]=s.split(" ").map(g=>parseInt(g,10));return p.toString()}videoSendSectionHasDifferentSSRC(i){const e=this.ssrcForVideoSendingSection(),t=i.ssrcForVideoSendingSection();if(e===""||t==="")return!1;const n=parseInt(e,10),s=parseInt(t,10);return n!==s}removeH264SupportFromSendSection(){const i=this.sdp,e=vn.splitSections(i),t=vn.findActiveCameraSection(e);if(t===-1)return new vn(this.sdp);const n=e[t],s=vn.splitLines(n),p=[],g=new Map;s.forEach(E=>{if(/^a=rtpmap:/.test(E)){const O=/^a=rtpmap:([0-9]+)\s/.exec(E);O&&E.toLowerCase().includes("h264")&&p.push(parseInt(O[1],10))}if(/^a=fmtp:/.test(E)){const O=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(E);if(O&&O.length===3){const P=parseInt(O[1],10),x=parseInt(O[2],10);g.has(x)?g.get(x).push(P):g.set(x,[P])}}});const S=new Set;for(const E of p){S.add(E);const O=g.get(E);if(O)for(const P of O)S.add(P)}if(p.length>0){const E=s[0].split(" ");s[0]=E.filter(O=>!S.has(parseInt(O))).join(" ")}const u=s.filter(E=>{if(!E.includes("rtpmap")&&!E.includes("rtcp-fb")&&!E.includes("fmtp"))return!0;for(const O of S)if(E.includes(O.toString()))return!1;return!0});e[t]=u.join(vn.CRLF)+vn.CRLF;const l=e.join("");return new vn(l)}mediaSections(){const i=vn.splitSections(this.sdp);if(i.length<2)return[];const e=[];for(let t=1;t<i.length;t++){const n=new h.default,s=vn.splitLines(i[t]);for(const p of s){const g=vn.mediaType(p);if(g!==void 0){n.mediaType=g;continue}const S=vn.direction(p);if(S!==void 0){n.direction=S;continue}const u=vn.mid(p);if(u!==void 0){n.mid=u;continue}}e.push(n)}return e}static getRtpHeaderExtensionIdInSection(i,e){const t=vn.splitLines(i);for(const n of t)if(/^a=extmap:/.test(n.trim())){const s=n.split("a=extmap:")[1].split(" "),p=+s[0];if(s[1]===e)return p}return-1}getRtpHeaderExtensionId(i){const e=vn.splitSections(this.sdp);for(const t of e)if(/^m=video/.test(t)){const n=vn.getRtpHeaderExtensionIdInSection(t,i);if(n!==-1)return n}return-1}hasRtpHeaderExtensionId(i){const e=vn.splitLines(this.sdp);for(const t of e)if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}withVideoSendCodecPreferences(i){const e=this.sdp,t=vn.splitSections(e),n=vn.findActiveCameraSection(t);if(n===-1)return new vn(this.sdp);t[n]=this.sectionWithCodecPreferences(t[n],i);const s=t.join("");return new vn(s)}sectionWithCodecPreferences(i,e){const t=new Map,n=vn.splitLines(i);n.forEach(S=>{if(/^a=rtpmap:/.test(S))for(const u of e){if(!S.includes(`${u.codecName}/${u.codecCapability.clockRate}`))continue;const l=/^a=rtpmap:([0-9]+)\s/.exec(S);let E=!1;if(u.codecCapability.sdpFmtpLine!==void 0){for(const O of n)if(O.startsWith(`a=fmtp:${l[1]} ${u.codecCapability.sdpFmtpLine}`)){E=!0;break}}else E=!0;if(E){t.set(u.codecName,l[1]);break}}});const s=new Set(t.values()),p=n[0].split(" ").filter(S=>!s.has(S)),g=Array.from(t.values()).sort((S,u)=>{const l=e.findIndex(O=>t.get(O.codecName)===S),E=e.findIndex(O=>t.get(O.codecName)===u);return l-E});return p.splice(3,0,...g.values()),n[0]=p.join(" "),n.join(vn.CRLF)+vn.CRLF}highestPriorityVideoSendCodec(){const i=this.sdp,e=vn.splitSections(i),t=vn.findActiveCameraSection(e);if(t===-1)return;const n=vn.splitLines(e[t]),s=n[0].split(" ");if(s.length<4)return;const p=s[3];let g,S,u;for(const l of n){const E=/^a=rtpmap:([0-9]+)\s/.exec(l);if(E===null||E.length<2||E[1]!==p)continue;const P=l.split(" ")[1].split("/");if(!(P===void 0||P.length<2)){g=P[0],S=P[1];for(const x of n)if(x.startsWith(`a=fmtp:${p}`)){const k=x.split(" ");if(k===void 0||k.length<2)return;u=k[1];continue}break}}if(g!==void 0)return new m.default(g,{clockRate:parseInt(S),mimeType:`video/${g}`,sdpFmtpLine:u})}getAudioPayloadTypes(){const i=new Map,e=this.sdp,t=vn.splitSections(e);return i.set("opus",vn.findAudioPayloadType("opus",t)),i.set("red",vn.findAudioPayloadType("red",t)),i}static findAudioPayloadType(i,e){const t=`a=rtpmap:\\s*(\\d+)\\s+${i}\\/48000`,n=new RegExp(t);for(const s of e)if(/^m=audio/.test(s)){const p=n.exec(s);if(p!==null)return Number(p[1])}return 0}constructor(i){this.sdp=i}},"SDP");c.default=a,a.CRLF=`\r
`,a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4},AXyi:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerState=void 0;var v;(function(f){f[f.NotConnected=0]="NotConnected",f[f.Connecting=1]="Connecting",f[f.Connected=2]="Connected",f[f.Updating=3]="Updating",f[f.Disconnecting=4]="Disconnecting"})(v=c.SessionStateControllerState||(c.SessionStateControllerState={})),c.default=v},AaDX:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={InvalidCampaign:"invalid_campaign"},t=Object(a.a)("promo.campaigns.eligibilityInfo generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u),E=yield s(Object(m.a)({method:"promo.campaigns.eligibilityInfo",args:l,reason:g.reason}));return Object(i.a)(E)}catch(S){throw Object(o.a)({getState:p}).error(`API call to promo.campaigns.eligibilityInfo
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherpromoCampaignsEligibilityInfoFetcher",description:"promo.campaigns.eligibilityInfo generated fetcher"}},"Agw+":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(n,s,p,g){function S(u){return u instanceof p?u:new p(function(l){l(u)})}return r(S,"adopt"),new(p||(p=Promise))(function(u,l){function E(x){try{P(g.next(x))}catch(k){l(k)}}r(E,"fulfilled");function O(x){try{P(g.throw(x))}catch(k){l(k)}}r(O,"rejected");function P(x){x.done?u(x.value):S(x.value).then(E,O)}r(P,"step"),P((g=g.apply(n,s||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("ywpn")),m=f(d("e/ca")),a=f(d("uctb")),o=f(d("Wjms")),i=f(d("raQ4"));let e=r(class extends o.default{loadAssets(){return v(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return v(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),t=r(class qg extends h.default{static create(s,p){return v(this,void 0,void 0,function*(){s=this.resolveSpec(s),p=this.resolveOptions(p),yield this.resolveOptionsAsync(p);const{logger:g}=p;if(!(yield qg.isSupported(s,p)))return g.warn("Using no-op processor because background replacement is not supported"),new e;g.info("Using background replacement filter");const u=new i.default(s,p);return yield u.loadAssets(),u})}static resolveOptions(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const p=Object.assign({},s);return p.logger||(p.logger=new m.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(p)}static resolveOptionsAsync(s){return v(this,void 0,void 0,function*(){if(!s.imageBlob){const p=document.createElement("canvas");p.width=100,p.height=100;const g=p.getContext("2d");g.fillStyle="blue",g.fillRect(0,0,100,100);const S=yield new Promise(u=>{p.toBlob(u)});s.imageBlob=S}})}static isSupported(s,p){const g=Object.create(null,{isSupported:{get:()=>super.isSupported}});return v(this,void 0,void 0,function*(){s=this.resolveSpec(s),p=this.resolveOptions(p),yield this.resolveOptionsAsync(p);const S=p.imageBlob,u=URL.createObjectURL(S);try{yield i.default.loadImage(u)}catch(l){return p.logger.info(`Failed to fetch load replacement image ${l.message}`),!1}finally{URL.revokeObjectURL(u)}return g.isSupported.call(this,s,p)})}},"BackgroundReplacementVideoFrameProcessor");c.default=t},Aplu:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.None=c.Some=c.Maybe=void 0;let v=r(class{static of(a){return a==null?h.of():f.of(a)}},"Maybe");c.Maybe=v;let f=r(class ev{map(a){return v.of(a(this.value))}flatMap(a){return a(this.value)}get(){return this.value}getOrElse(a){return this.value}defaulting(a){return v.of(this.getOrElse(a))}static of(a){if(a==null)throw new Error("value is ${value}");return new ev(a)}constructor(a){this.value=a,this.isSome=!0,this.isNone=!1}},"Some");c.Some=f;let h=r(class _d{get(){throw new Error("value is null")}getOrElse(a){return a}map(a){return new _d}flatMap(a){return new _d}defaulting(a){return v.of(this.getOrElse(a))}static of(){return new _d}constructor(){this.isSome=!1,this.isNone=!0}},"None");c.None=h},AqXs:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={ListNotFound:"list_not_found",TeamNotFound:"team_not_found",UserNotFound:"user_not_found",InvalidCursor:"invalid_cursor"},t=Object(a.a)("lists.records.list generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"lists.records.list",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to lists.records.list
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherlistsRecordsListFetcher",description:"lists.records.list generated fetcher"}},AtlK:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(l,E,O,P){function x(k){return k instanceof O?k:new O(function(B){B(k)})}return r(x,"adopt"),new(O||(O=Promise))(function(k,B){function R(A){try{w(P.next(A))}catch(D){B(D)}}r(R,"fulfilled");function N(A){try{w(P.throw(A))}catch(D){B(D)}}r(N,"rejected");function w(A){A.done?k(A.value):x(A.value).then(R,N)}r(w,"step"),w((P=P.apply(l,E||[])).next())})},f=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("o3U+"),m=d("EkyC"),a=d("KvYa"),o=f(d("U9CR")),i=f(d("aZJ3")),e=d("VCUZ"),t=f(d("ac3q")),n=f(d("Xv43")),s=d("O9RP"),p=d("1AO7"),g=d("Lxy7"),S=d("C5KY");let u=r(class yc{process(E){return v(this,void 0,void 0,function*(){return E})}fxProcess(E){return v(this,void 0,void 0,function*(){const O=E[0].asCanvasElement();this.didStreamParametersChange(O)&&(yield this.adjustProcessorForNewStreamParameters(O));try{yield this.manageSegmentationMask(O)}catch(P){throw this.logger.error(P),new Error("Video stream could not be processed")}return yield this.renderer.render(O,this.segmentationMask),E[0]=this.canvasVideoFrameBuffer,E})}noOpProcess(E){return v(this,void 0,void 0,function*(){return E})}didStreamParametersChange(E){return E.width!==this.streamParameters.width||E.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(E){return v(this,void 0,void 0,function*(){this.streamParameters.width=E.width,this.streamParameters.height=E.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return v(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new s.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:g.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(E){return v(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const O=this.canvasOpsManager.getInferenceInputData(E);this.segmentationMask=yield this.generateSegmentationMask(O),this.segmentationRateManager.completeSegmentation()}}catch(O){throw this.logger.error(O.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(E){return v(this,void 0,void 0,function*(){yc.isSharedArrayBufferSupported?(this.sharedImageData.set(E.data),this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:E},[E.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(O){throw this.logger.error(O.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(E){return{backgroundBlur:{isEnabled:E.backgroundBlur.isEnabled,strength:E.backgroundBlur.strength},backgroundReplacement:{isEnabled:E.backgroundReplacement.isEnabled,backgroundImageURL:E.backgroundReplacement.backgroundImageURL,defaultColor:E.backgroundReplacement.defaultColor}}}setEffectConfig(E){return v(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(E,this.effectConfig))return;const O=this.cloneConfigFrom(E);try{yield this.validateEffectConfig(O)}catch(P){throw this.logger.error(P.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}O.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(O),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,O),this.effectConfig=O,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(E){return v(this,void 0,void 0,function*(){if(E.backgroundBlur.isEnabled&&E.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");E.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(E))})}validateReplacementConfig(E){return v(this,void 0,void 0,function*(){if(E.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!E.backgroundReplacement.backgroundImageURL&&!E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{E.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(E.backgroundReplacement.backgroundImageURL))}catch(P){throw this.logger.error(P.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const O=E.backgroundReplacement.defaultColor;if(O&&O!=="black"&&O!=="#000000"&&O!=="#000"){if(O.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(O))throw new Error(`Invalid hexadecimal color code for default replacement background: ${O}`);const x=document.createElement("canvas").getContext("2d"),k=x.fillStyle;if(x.fillStyle=O,x.fillStyle===k)throw new Error(`Invalid color for default replacement background: ${O}`)}})}validateProcessingBudgetPerFrame(E){if(E<g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||E>g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return v(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const E=this.getVideoFxAssetParams();yield this.loadEngineWorker(E),yield this.buildEngine(E),yield this.loadFxLib(E),this.renderer=constructRenderer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(E){throw this.logger.error(E.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const E=e.getDefaultAssetSpec();return{assetGroup:E.assetGroup,revisionID:E.revisionID,sdk:encodeURIComponent(t.default.sdkVersion),ua:encodeURIComponent(t.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(E,O){const P=new URL(E);for(const[x,k]of Object.entries(O))if(k!==void 0){const B=encodeURIComponent(x),R=encodeURIComponent(k);P.searchParams.set(B,R)}return P.toString()}loadEngineWorker(E){return v(this,void 0,void 0,function*(){try{const O=this.getPathFromVideoFxAssetParams(g.CDN_BASE_PATH+g.WORKER_PATH,E);this.engineWorker=yield m.loadWorker(O,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",P=>this.engineWorkerReceiver(P))}catch(O){throw this.logger.error(O.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(E){return v(this,void 0,void 0,function*(){this.buildEnginePromise=new s.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:g.CDN_BASE_PATH,sdkVersioningParams:E}});try{yield this.buildEnginePromise.getPromise()}catch(O){throw this.logger.error(O.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(E){return v(this,void 0,void 0,function*(){const O=this.getPathFromVideoFxAssetParams(g.CDN_BASE_PATH+g.FXLIB_PATH,E),P={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const x=yield h.fetchWithBehavior(O,P,{});if(!x.ok)throw new Error("Fetch failed.");const k=window.URL.createObjectURL(yield x.blob());yield new Promise((B,R)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",k),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",B),this.fxLibScript.addEventListener("error",R),document.body.appendChild(this.fxLibScript)})}catch(x){throw this.logger.error(x.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(E){const O=E.data;switch(O.msg){case g.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(O.payload);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(O.payload.output);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case g.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(O)}`);break}}settleEngineBuildPromise(E){E!==g.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(E){E?this.segmentationRequestPromise.resolveAndReplacePromise(E):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const E=new ImageData(new Uint8ClampedArray(this.sharedImageData),g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(E)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new i.default,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return v(this,void 0,void 0,function*(){let P=!0;const x=r((R,N)=>{R&&(E.info(N),P=!1)},"checkEnv");x(typeof globalThis>"u","Browser does not have globalThis."),x(!a.supportsWorker(globalThis,E),"Browser does not support web workers."),x(!a.supportsWASM(globalThis,E),"Browser does not support wasm."),x(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const k=new o.default;x(!k.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const B=r(()=>v(this,void 0,void 0,function*(){if(O)try{const R=new yc(E);yield R.loadAssets(),yield R.destroy()}catch{return E.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(P?yield B():!1)})}static create(E,O){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME;return v(this,void 0,void 0,function*(){const x=new yc(E,P);try{return yield x.loadAssets(),yield x.setEffectConfig(O),x}catch(k){throw E.error(k.toString()),x.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(E){this.eventController?this.eventController=E:(this.eventController=E,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const E={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",E)}sameVideoFxConfig(E,O){return E.backgroundBlur.isEnabled===O.backgroundBlur.isEnabled&&E.backgroundBlur.strength===O.backgroundBlur.strength&&E.backgroundReplacement.backgroundImageURL===O.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor===O.backgroundReplacement.defaultColor&&E.backgroundReplacement.isEnabled===O.backgroundReplacement.isEnabled}constructor(E,O=g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,P){this.logger=E,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new n.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(O)}catch(x){throw this.logger.error(x),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${O}`)}P&&(this.eventController=P),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new s.DeferredPromise,this.segmentationRateManager=new S.VideoFxSegmentationRateManager(this.logger,O),this.streamParameters={framerate:g.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:g.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:g.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:g.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},yc.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${yc.isSharedArrayBufferSupported}`),this.canvasOpsManager=new p.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${O}`)}},"VideoFxProcessor");c.default=u,u.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},AyUB:function(U,c,d){U.exports={default:d("vNbC"),__esModule:!0}},B7cK:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("xzjI"));let h=r(class extends f.default{constructor(a){super(a),this.name="NotFoundError"}},"NotFoundError");c.default=h},BEtg:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("K4CH"),h=v(d("ac3q"));let m=r(class Dl{getParserResult(){var o,i;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((o=this.parserResult)===null||o===void 0?void 0:o.os.name)||Dl.UNAVAILABLE,osVersion:((i=this.parserResult)===null||i===void 0?void 0:i.os.version)||Dl.UNAVAILABLE,sdkVersion:h.default.sdkVersion,sdkName:h.default.sdkName}}constructor(o){var i,e,t,n,s,p,g;try{this.parserResult=navigator&&navigator.userAgent?new f.UAParser(navigator.userAgent).getResult():void 0}catch(S){o.error(S.message)}this.browserMajorVersion=((t=(e=(i=this.parserResult)===null||i===void 0?void 0:i.browser)===null||e===void 0?void 0:e.version)===null||t===void 0?void 0:t.split(".")[0])||Dl.UNAVAILABLE,this.browserName=((n=this.parserResult)===null||n===void 0?void 0:n.browser.name)||Dl.UNAVAILABLE,this.browserVersion=((s=this.parserResult)===null||s===void 0?void 0:s.browser.version)||Dl.UNAVAILABLE,this.deviceName=[((p=this.parserResult)===null||p===void 0?void 0:p.device.vendor)||"",((g=this.parserResult)===null||g===void 0?void 0:g.device.model)||""].join(" ").trim()||Dl.UNAVAILABLE}},"DefaultUserAgentParser");c.default=m,m.UNAVAILABLE="Unavailable"},BGMr:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("ezoW")),h=v(d("VYs+")),m=d("Aplu"),a=v(d("Biyp")),o=v(d("p5Ac"));let i=r(class _o{updateConnectionMetric(t){let{uplinkKbps:n=0}=t;if(isNaN(n))return;this.startTimeMs===0&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<_o.startupDurationMs?this.lastUplinkBandwidthKbps=_o.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=n,this.logger.debug(()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`);let s=_o.holdDownDurationMs;this.currentActiveStreams===3?s=_o.holdDownDurationMs*2:(this.currentActiveStreams===2&&n<=_o.kMidDisabledRate||this.currentActiveStreams===1&&n<=_o.kHiDisabledRate)&&(s=_o.holdDownDurationMs/2),!(Date.now()<this.lastUpdatedMs+s)&&(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(t){const n=[new o.default,new o.default,new o.default];let s=0,p=0;if(this.currentActiveStreams===0?(s=this.lastUplinkBandwidthKbps+1,p=0):this.currentActiveStreams===1?(s=2400,p=_o.kHiDisabledRate):this.currentActiveStreams===2?(s=1e3,p=_o.kMidDisabledRate):(s=300,p=0),t||this.lastUplinkBandwidthKbps>=s||this.lastUplinkBandwidthKbps<=p){this.shouldDisableSimulcast?(this.newActiveStreams=0,n[0].maxBitrateKbps=0,n[1].maxBitrateKbps=1200,n[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=_o.kHiDisabledRate?(this.newActiveStreams=1,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=_o.kMidDisabledRate?(this.newActiveStreams=2,n[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,n[1].maxBitrateKbps=this.numSenders<=6?600:350,n[2].maxBitrateKbps=0):(this.newActiveStreams=3,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=0);const g=n.map((S,u,l)=>S.maxBitrateKbps);this.newQualityMap=this.fillEncodingParamWithBitrates(g),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(t){const n=t.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,s=n!==this.numSenders,p=t.numberOfParticipants(),g=p>=0&&p<=2,S=this.shouldDisableSimulcast!==g;this.numSenders=n,this.shouldDisableSimulcast=g,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=t,this.newQualityMap=this.calculateEncodingParameters(s||S)}wantsResubscribe(){let t=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let n=0;n<this.nextLocalDescriptions.length;n++){const s=this.nextLocalDescriptions[n].streamId;if(s!==0&&s){const p=this.currLocalDescriptions.findIndex(g=>g.streamId===s);p!==-1&&this.nextLocalDescriptions[n].disabledByWebRTC!==this.currLocalDescriptions[p].disabledByWebRTC&&(t=!0)}}return t&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,t}compareEncodingParameter(t,n){return JSON.stringify(t)===JSON.stringify(n)}encodingParametersEqual(){let t=!1;for(const n of h.default.NAME_ARR_ASCENDING)if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(n),this.currentQualityMap.get(n)),t)break;return!t}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(t){}setHasBandwidthPriority(t){}fillEncodingParamWithBitrates(t){const n=new Map,s=1e3,p=h.default.NAME_ARR_ASCENDING,g=t;let S=this.shouldDisableSimulcast?1:4;for(let u=0;u<p.length;u++){const l=p[u];n.set(l,{rid:l,active:g[u]>0,scaleResolutionDownBy:Math.max(S,1),maxBitrate:g[u]*s}),S=S/2}return n}getQualityMapString(t){let n="";const s=this.videoIndex.localStreamDescriptions();return s.length===3&&t.forEach(p=>{let g=!1;p.rid==="low"?g=s[0].disabledByWebRTC:p.rid==="mid"?g=s[1].disabledByWebRTC:g=s[2].disabledByWebRTC,n+=`{ rid: ${p.rid} active:${p.active} disabledByWebRTC: ${g} maxBitrate:${p.maxBitrate}}`}),n}getEncodingSimulcastLayer(t){switch(t){case 0:return f.default.High;case 1:return f.default.LowAndHigh;case 2:return f.default.LowAndMedium;case 3:return f.default.Low}}publishEncodingSimulcastLayer(){const t=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(n=>{m.Maybe.of(n.encodingSimulcastLayersDidChange).map(s=>s.bind(n)(t))})}addObserver(t){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)t(n)}constructor(t,n){this.selfAttendeeId=t,this.logger=n,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=_o.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=_o.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}},"DefaultSimulcastUplinkPolicy");c.default=i,i.defaultUplinkBandwidthKbps=1200,i.startupDurationMs=6e3,i.holdDownDurationMs=4e3,i.defaultMaxFrameRate=15,i.kHiDisabledRate=700,i.kMidDisabledRate=240},BRsN:function(U,c,d){var v=d("GhSp"),f=d("ENu8");U.exports=d("C61u")?function(h,m,a){return v.f(h,m,f(1,a))}:function(h,m,a){return h[m]=a,h}},BY2i:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("/AJg"));let h=r(class ed{allowSubscribe(a,o){let i=0;const e=this.currentNetworkEvent;if(o>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=o,!0;if(o<this.referenceBitrate){if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,a),e!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=o,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(a,o){let i=ed.MINIMUM_DELAY_MS;const e=ed.MAXIMUM_DELAY_MS-ed.MINIMUM_DELAY_MS,t=this.networkIssueResponseDelayFactor;switch(a){case 1:i+=e*t*(1+o/10),i=Math.min(ed.MAXIMUM_DELAY_MS,i);break}return i}constructor(a=0,o=0){this.networkIssueResponseDelayFactor=a,this.networkIssueRecoveryDelayFactor=o,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=f.default.Default,a<0?a=0:a>1&&(a=1),this.networkIssueResponseDelayFactor=a,o<0?o=0:o>1&&(o=1),this.networkIssueRecoveryDelayFactor=o}},"VideoPriorityBasedPolicyConfig");c.default=h,h.MINIMUM_DELAY_MS=2e3,h.MAXIMUM_DELAY_MS=8e3,h.Default=new h(0,0),h.UnstableNetworkPreset=new h(0,1),h.StableNetworkPreset=new h(1,0)},BfU5:function(U,c,d){var v=d("ekG2"),f=d("7whZ").document,h=v(f)&&v(f.createElement);U.exports=function(m){return h?f.createElement(m):{}}},Biyp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class tv{equal(h){let m=h.captureWidth()===this.cameraWidth&&h.captureHeight()===this.cameraHeight&&h.captureFrameRate()===this.cameraFrameRate&&h.encodeBitrates().length===this.encodeBitrates().length&&h.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&h.encodeWidths().length===this.encodeWidths().length&&h.encodeHeights().length===this.encodeHeights().length;if(m){for(let a=0;a<h.encodeWidths().length;a++)if(h.encodeWidths()[a]!==this.encodeWidths()[a]||h.encodeHeights()[a]!==this.encodeHeights()[a]||h.encodeBitrates()[a]!==this.encodeBitrates()[a]||h.encodeScaleResolutionDownBy()[a]!==this.encodeScaleResolutionDownBy()[a])return m=!1,m}return m}clone(){return new tv(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}constructor(h,m,a,o,i,e=1){this.cameraWidth=h,this.cameraHeight=m,this.cameraFrameRate=a,this.maxEncodeBitrateKbps=o,this.isSimulcast=i,this.scaleResolutionDownBy=e}},"DefaultVideoCaptureAndEncodeParameter");c.default=v},BkFD:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{start(h){this.stop(),this.timer=setInterval(h,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}constructor(h){this.intervalMs=h}},"IntervalScheduler");c.default=v},Bkbp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var v=d("dJwD"),f=d("V7js"),h=d("2ZyS"),m=d("MdQ0"),a=function(){function i(e){if(this.hash=new h.RawSha256,e){this.outer=new h.RawSha256;var t=o(e),n=new Uint8Array(f.BLOCK_SIZE);n.set(t);for(var s=0;s<f.BLOCK_SIZE;s++)t[s]^=54,n[s]^=92;this.hash.update(t),this.outer.update(n);for(var s=0;s<t.byteLength;s++)t[s]=0}}return r(i,"Sha2561"),i.prototype.update=function(e){if(!((0,m.isEmptyData)(e)||this.error))try{this.hash.update((0,m.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(e){return[2,this.digestSync()]})})},i}();c.Sha256=a;function o(i){var e=(0,m.convertToBuffer)(i);if(e.byteLength>f.BLOCK_SIZE){var t=new h.RawSha256;t.update(e),e=t.digest()}var n=new Uint8Array(f.BLOCK_SIZE);return n.set(e),n}r(o,"bufferFromSecret")},BlE4:function(U,c,d){"use strict";var v=d("YSNz"),f=d("LFf6"),h=d("fshX"),m=d("efZk");function a(o,i,e){o=Object(m.a)(o),i=Object(f.a)(i);var t=o.length;e=e===void 0?t:Object(v.a)(Object(h.a)(e),0,t);var n=e;return e-=i.length,e>=0&&o.slice(e,n)==i}r(a,"endsWith"),c.a=a},BvK0:function(U,c,d){"use strict";var v=d("YBmv"),f=d("fywt"),h=d("eP7z");function m(a,o){return a&&a.length?Object(v.a)(a,Object(f.a)(o,2),h.a):void 0}r(m,"minBy"),c.a=m},By1P:function(U,c,d){"use strict";var v=d("C61u"),f=d("mHY4"),h=d("/tXR"),m=d("GRew"),a=d("CYMq"),o=d("n7vu"),i=Object.assign;U.exports=!i||d("S4vA")(function(){var e={},t={},n=Symbol(),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach(function(p){t[p]=p}),i({},e)[n]!=7||Object.keys(i({},t)).join("")!=s})?r(function(t,n){for(var s=a(t),p=arguments.length,g=1,S=h.f,u=m.f;p>g;)for(var l=o(arguments[g++]),E=S?f(l).concat(S(l)):f(l),O=E.length,P=0,x;O>P;)x=E[P++],(!v||u.call(l,x))&&(s[x]=l[x]);return s},"assign"):i},C5KY:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxSegmentationRateManager=void 0;const v=d("Lxy7");let f=r(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=v.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(m){m>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&m<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(m,a){this.logger=m,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=v.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");c.VideoFxSegmentationRateManager=f},C5aR:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function v(f){return typeof f=="string"?f.length===0:f.byteLength===0}r(v,"isEmptyData"),c.isEmptyData=v},C5kU:function(U,c,d){"use strict";var v=d("GfoU")(!0);d("OTpG")(String,"String",function(f){this._t=String(f),this._i=0},function(){var f=this._t,h=this._i,m;return h>=f.length?{value:void 0,done:!0}:(m=v(f,h),this._i+=m.length,{value:m,done:!1})})},C61u:function(U,c,d){U.exports=!d("S4vA")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},CAce:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("XCDq");let f=r(class Cc{equals(m){return m!==void 0&&this.codecName===m.codecName&&this.codecCapability.mimeType===m.codecCapability.mimeType&&this.codecCapability.clockRate===m.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===m.codecCapability.sdpFmtpLine}static vp8(){return new Cc("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new Cc("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return Cc.h264ConstrainedBaselineProfile()}static fromSignaled(m){switch(m){case v.SdkVideoCodecCapability.VP8:return Cc.vp8();case v.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return Cc.h264ConstrainedBaselineProfile();default:return}}constructor(m,a){this.codecName=m,this.codecCapability=a}},"VideoCodecCapability");c.default=f},"CE4/":function(U,c,d){"use strict";var v=d("nAx8"),f=d("USwo"),h=d("CYMq"),m=d("xMGN"),a=d("bS86"),o=d("0WpP"),i=d("SkeG"),e=d("I90/");f(f.S+f.F*!d("h3Hq")(function(t){Array.from(t)}),"Array",{from:r(function(n){var s=h(n),p=typeof this=="function"?this:Array,g=arguments.length,S=g>1?arguments[1]:void 0,u=S!==void 0,l=0,E=e(s),O,P,x,k;if(u&&(S=v(S,g>2?arguments[2]:void 0,2)),E!=null&&!(p==Array&&a(E)))for(k=E.call(s),P=new p;!(x=k.next()).done;l++)i(P,l,u?m(k,S,[x.value,l],!0):x.value);else for(O=o(s.length),P=new p(O);O>l;l++)i(P,l,u?S(s[l],l):s[l]);return P.length=l,P},"from")})},CLOt:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("f2XL");let f=r(class bc{equals(m){return m!==void 0&&this.codecName===m.codecName&&this.codecCapability.mimeType===m.codecCapability.mimeType&&this.codecCapability.clockRate===m.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===m.codecCapability.sdpFmtpLine}static vp8(){return new bc("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264ConstrainedBaselineProfile(){return new bc("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264(){return bc.h264ConstrainedBaselineProfile()}static fromSignaled(m){switch(m){case v.SdkVideoCodecCapability.VP8:return bc.vp8();case v.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return bc.h264ConstrainedBaselineProfile();default:return}}constructor(m,a){this.codecName=m,this.codecCapability=a}},"VideoCodecCapability");c.default=f},CMvH:function(U,c,d){"use strict";function v(){return v=Object.assign?Object.assign.bind():function(u){for(var l=1;l<arguments.length;l++){var E=arguments[l];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(u[O]=E[O])}return u},v.apply(this,arguments)}r(v,"_extends");function f(u,l){if(u==null)return{};var E={},O=Object.keys(u),P,x;for(x=0;x<O.length;x++)P=O[x],!(l.indexOf(P)>=0)&&(E[P]=u[P]);return E}r(f,"_objectWithoutPropertiesLoose");function h(u,l){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():r(function(O,P){return O.__proto__=P,O},"_setPrototypeOf"),h(u,l)}r(h,"_setPrototypeOf");function m(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,h(u,l)}r(m,"_inheritsLoose");var a=d("q1tI"),o=d("n3tL"),i=d("bdgK"),e=["client","offset","scroll","bounds","margin"];function t(u){var l=[];return e.forEach(function(E){u[E]&&l.push(E)}),l}r(t,"getTypes");function n(u,l){var E={};if(l.indexOf("client")>-1&&(E.client={top:u.clientTop,left:u.clientLeft,width:u.clientWidth,height:u.clientHeight}),l.indexOf("offset")>-1&&(E.offset={top:u.offsetTop,left:u.offsetLeft,width:u.offsetWidth,height:u.offsetHeight}),l.indexOf("scroll")>-1&&(E.scroll={top:u.scrollTop,left:u.scrollLeft,width:u.scrollWidth,height:u.scrollHeight}),l.indexOf("bounds")>-1){var O=u.getBoundingClientRect();E.bounds={top:O.top,right:O.right,bottom:O.bottom,left:O.left,width:O.width,height:O.height}}if(l.indexOf("margin")>-1){var P=getComputedStyle(u);E.margin={top:P?parseInt(P.marginTop):0,right:P?parseInt(P.marginRight):0,bottom:P?parseInt(P.marginBottom):0,left:P?parseInt(P.marginLeft):0}}return E}r(n,"getContentRect");function s(u){var l=u&&u.ownerDocument&&u.ownerDocument.defaultView;return l||window}r(s,"getWindowOf");function p(u){return function(l){var E,O;return O=E=function(P){m(x,P);function x(){for(var B,R=arguments.length,N=new Array(R),w=0;w<R;w++)N[w]=arguments[w];return B=P.call.apply(P,[this].concat(N))||this,B.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},B._animationFrameID=null,B._resizeObserver=null,B._node=null,B._window=null,B.measure=function(A){var D=n(B._node,u||t(B.props));A&&(D.entry=A[0].contentRect),B._animationFrameID=B._window.requestAnimationFrame(function(){B._resizeObserver!==null&&(B.setState({contentRect:D}),typeof B.props.onResize=="function"&&B.props.onResize(D))})},B._handleRef=function(A){B._resizeObserver!==null&&B._node!==null&&B._resizeObserver.unobserve(B._node),B._node=A,B._window=s(B._node);var D=B.props.innerRef;D&&(typeof D=="function"?D(B._node):D.current=B._node),B._resizeObserver!==null&&B._node!==null&&B._resizeObserver.observe(B._node)},B}r(x,"WithContentRect");var k=x.prototype;return k.componentDidMount=r(function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new i.a(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(n(this._node,u||t(this.props))))},"componentDidMount"),k.componentWillUnmount=r(function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},"componentWillUnmount"),k.render=r(function(){var R=this.props,N=R.innerRef,w=R.onResize,A=f(R,["innerRef","onResize"]);return Object(a.createElement)(l,v({},A,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},"render"),x}(a.Component),E.propTypes={client:o.default.bool,offset:o.default.bool,scroll:o.default.bool,bounds:o.default.bool,margin:o.default.bool,innerRef:o.default.oneOfType([o.default.object,o.default.func]),onResize:o.default.func},O}}r(p,"withContentRect");var g=p()(function(u){var l=u.measure,E=u.measureRef,O=u.contentRect,P=u.children;return P({measure:l,measureRef:E,contentRect:O})});g.displayName="Measure",g.propTypes.children=o.default.func;var S=c.a=g},COTZ:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("DUgj"));let h=r(class{constructor(a){this.applicationMetadata=a,this.serverSideNetworkAdaption=f.default.Default,this.supportedServerSideNetworkAdaptions=[],this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");c.default=h},CPHI:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckCameraResolutionFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.ResolutionNotSupported=2]="ResolutionNotSupported",f[f.PermissionDenied=3]="PermissionDenied"})(v=c.CheckCameraResolutionFeedback||(c.CheckCameraResolutionFeedback={})),c.default=v},CRwe:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("AUdx")),m=f(d("aVV0"));let a=r(class extends m.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return v(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let e=this.context.sdpAnswer;e=new h.default(e).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(e=new h.default(e).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(e=new h.default(e).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(e=new h.default(e).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new h.default(e).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${e}<<<`);const t={type:"answer",sdp:e,toJSON:null};try{yield this.createICEConnectionCompletedPromise(t)}catch(n){throw n}})}createICEConnectionCompletedPromise(i){return new Promise((e,t)=>v(this,void 0,void 0,function*(){const n=r(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",n),e())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",n),t(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",n);try{yield this.context.peer.setRemoteDescription(i),this.logger.info("set remote description, waiting for ICE connection"),n()}catch(s){t(s)}}))}constructor(i){super(i.logger),this.context=i,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");c.default=a},CWxj:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("a6MJ")),m=f(d("Fm4y")),a=f(d("cKqT")),o=f(d("U9CR")),i=f(d("InPl")),e=f(d("egzF")),t=f(d("p7bP")),n=d("crgu"),s=f(d("KEX5")),p=f(d("l7oq")),g=f(d("3jln"));let S=r(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return v(this,void 0,void 0,function*(){n.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),n.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),n.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),t.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const l=new o.default,E=`${l.name()} ${l.majorVersion()} (${l.version()})`;if(this.logger.info(`browser is ${E}`),l.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${l.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!l.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(l.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${l.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(l){return!!(l&&l.addObserver)}constructor(l,E,O,P){this._eventController=P,this._configuration=l,this._logger=E,this.checkBrowserSupportAndFeatureConfiguration(),t.default.addLogger(this._logger),t.default.register(),this._eventController||(this._eventController=new s.default(l,E)),O.eventController||(O.eventController=this.eventController),this.audioVideoController=new h.default(this._configuration,this._logger,new g.default(this._logger),O,new p.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=O;const x=new i.default(this._logger);this.contentShareController=new e.default(x,new h.default(e.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new g.default(this._logger),x,new p.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new m.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");c.default=S},CYMq:function(U,c,d){var v=d("yQFZ");U.exports=function(f){return Object(v(f))}},CmE0:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(t,n,s,p){function g(S){return S instanceof s?S:new s(function(u){u(S)})}return r(g,"adopt"),new(s||(s=Promise))(function(S,u){function l(P){try{O(p.next(P))}catch(x){u(x)}}r(l,"fulfilled");function E(P){try{O(p.throw(P))}catch(x){u(x)}}r(E,"rejected");function O(P){P.done?S(P.value):g(P.value).then(l,E)}r(O,"step"),O((p=p.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundFilterMonitor=void 0;const h=d("GEtQ"),m=f(d("KsuK")),a=f(d("8V8Y"));let o=r(class{whenNext(){return this.promise||(this.promise=new Promise(n=>this.resolve=n)),this.promise}next(n){this.value=n,this.resolve(n),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),i=r(class Rf{static createWorkerPromise(){const n={resolve:null,reject:null,promise:null};return n.promise=new Promise((s,p)=>{n.resolve=s,n.reject=p}),n}validateSpec(n){if(!n)throw new Error("processor has null spec");if(!n.model)throw new Error("processor spec has null model");if(!n.paths)throw new Error("processor spec has null paths")}validateOptions(n){if(!n)throw new Error("processor has null options");if(!n.logger)throw new Error("processor has null options - logger");if(!n.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!n.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(n){this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,n.reportingPeriodMillis,n.filterCPUUtilization,this.logger),this.cpuMonitor=new e(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(n){return JSON.stringify(n,null,2)}handleInitialize(n){if(this.logger.info(`received initialize message: ${this.stringify(n)}`),!n.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const s=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:s.path,inputHeight:s.input.height,inputWidth:s.input.width,inputChannels:4,modelRangeMin:s.input.range[0],modelRangeMax:s.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(n){if(this.logger.info(`received load model message: ${this.stringify(n)}`),n.payload!==2){this.logger.error("failed to load model! status: "+n.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+n.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(n){this.mask$.next(n.payload.output)}handleWorkerEvent(n){const s=n.data;switch(s.msg){case"initialize":this.handleInitialize(s);break;case"loadModel":this.handleLoadModel(s);break;case"predict":this.handlePredict(s);break;default:this.logger.info(`unexpected event msg: ${this.stringify(s)}`);break}}loadAssets(){return v(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield h.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",n=>this.handleWorkerEvent(n)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(n){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${n.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(n){return v(this,void 0,void 0,function*(){if(this.destroyed)return n;this.frameCounter.frameReceived(n[0].framerate),this.cpuMonitor.frameReceived();const s=n[0].asCanvasElement();if(!s)return n;if(!this.modelInitialized)return n[0]=this.canvasVideoFrameBuffer,n;const p=s.width,g=s.height;if(p===0||g===0)return n;this.sourceWidth===0&&(this.sourceWidth=p,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==p||this.sourceHeight!==g)&&(this.sourceWidth=p,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let S=this.mask$.value;const u=this.spec.model.input.width/s.width,l=this.spec.model.input.height/s.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const E=this.scaledCanvas.getContext("2d");E.save(),E.scale(u,l),E.drawImage(s,0,0),E.restore();const O=E.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const P=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:O},[O.data.buffer]),S=yield P}this.destroyed||this.drawImageWithMask(s,S)}catch(S){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${S}`),n}finally{this.frameCounter.filterComplete(),this.frameNumber++}return n[0]=this.canvasVideoFrameBuffer,n})}updateVideoFramesPerFilterUpdate(n){n!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=n,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var n,s,p,g;return v(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(n=this.worker)===null||n===void 0||n.postMessage({msg:"destroy"}),(s=this.worker)===null||s===void 0||s.postMessage({msg:"stop"}),(p=this.targetCanvas)===null||p===void 0||p.remove(),this.targetCanvas=void 0,(g=this.scaledCanvas)===null||g===void 0||g.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(n,s,p,g,S){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new m.default(this.targetCanvas),this.mask$=new o,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=Rf.createWorkerPromise(),this.loadModelPromise=Rf.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=n,this.validateSpec(s),this.validateOptions(p),this.spec=s,this.logger=p.logger,this.delegate=g,this.initCPUMonitor(p),this.eventController=S}},"BackgroundFilterProcessor");c.default=i;let e=r(class{filterCPUUtilizationHigh(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=n,this.observer.reduceCPUUtilization())}frameReceived(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=n,this.observer.increaseCPUUtilization())}constructor(n,s){this.monitoringPeriodMillis=n,this.observer=s,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");c.BackgroundFilterMonitor=e},CtrA:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}constructor(h,m,a,o,i,e){this.timestampMs=h,this.topic=m,this.data=a,this.senderAttendeeId=o,this.senderExternalUserId=i,this.throttled=!!e}},"DataMessage");c.default=v},CuL1:function(U,c,d){var v=d("mHY4"),f=d("/tXR"),h=d("GRew");U.exports=function(m){var a=v(m),o=f.f;if(o)for(var i=o(m),e=h.f,t=0,n;i.length>t;)e.call(m,n=i[t++])&&a.push(n);return a}},CxCb:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{calculateScore(h,m,a){(a||m===null)&&(m=0),this.volumes.hasOwnProperty(h)||(this.volumes[h]=0),m>this.silenceThreshold?m=1:m=0;const o=this.volumes[h]*this.speakerWeight+m*(1-this.speakerWeight);this.volumes[h]=o;for(const i in this.volumes)i!==h&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*m,0));return o<this.cutoffThreshold?0:o}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(h=.9,m=.01,a=.2,o=.2){this.speakerWeight=h,this.cutoffThreshold=m,this.silenceThreshold=a,this.takeoverRate=o,this.volumes={}}},"DefaultActiveSpeakerPolicy");c.default=v},Czkq:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}filterFrameDurationHigh(h){var m;for(const a of this.observers)(m=a.filterFrameDurationHigh)===null||m===void 0||m.call(a,h)}filterCPUUtilizationHigh(h){var m;for(const a of this.observers)(m=a.filterCPUUtilizationHigh)===null||m===void 0||m.call(a,h)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");c.default=v},D3pN:function(U,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return f}),d.d(c,"__assign",function(){return h}),d.d(c,"__rest",function(){return m}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return o}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return n}),d.d(c,"__exportStar",function(){return s}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return g}),d.d(c,"__spread",function(){return S}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return l}),d.d(c,"__asyncGenerator",function(){return E}),d.d(c,"__asyncDelegator",function(){return O}),d.d(c,"__asyncValues",function(){return P}),d.d(c,"__makeTemplateObject",function(){return x}),d.d(c,"__importStar",function(){return k}),d.d(c,"__importDefault",function(){return B}),d.d(c,"__classPrivateFieldGet",function(){return R}),d.d(c,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=r(function(w,A){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var X in K)K.hasOwnProperty(X)&&(D[X]=K[X])},v(w,A)},"extendStatics");function f(w,A){v(w,A);function D(){this.constructor=w}r(D,"__"),w.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}r(f,"__extends");var h=r(function(){return h=Object.assign||r(function(A){for(var D,K=1,X=arguments.length;K<X;K++){D=arguments[K];for(var j in D)Object.prototype.hasOwnProperty.call(D,j)&&(A[j]=D[j])}return A},"__assign"),h.apply(this,arguments)},"__assign");function m(w,A){var D={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&A.indexOf(K)<0&&(D[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,K=Object.getOwnPropertySymbols(w);X<K.length;X++)A.indexOf(K[X])<0&&Object.prototype.propertyIsEnumerable.call(w,K[X])&&(D[K[X]]=w[K[X]]);return D}r(m,"__rest");function a(w,A,D,K){var X=arguments.length,j=X<3?A:K===null?K=Object.getOwnPropertyDescriptor(A,D):K,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,A,D,K);else for(var me=w.length-1;me>=0;me--)(te=w[me])&&(j=(X<3?te(j):X>3?te(A,D,j):te(A,D))||j);return X>3&&j&&Object.defineProperty(A,D,j),j}r(a,"__decorate");function o(w,A){return function(D,K){A(D,K,w)}}r(o,"__param");function i(w,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,A)}r(i,"__metadata");function e(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})}r(e,"__awaiter");function t(w,A){var D={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},K,X,j,te;return te={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function me(pe){return function(Ae){return we([pe,Ae])}}function we(pe){if(K)throw new TypeError("Generator is already executing.");for(;D;)try{if(K=1,X&&(j=pe[0]&2?X.return:pe[0]?X.throw||((j=X.return)&&j.call(X),0):X.next)&&!(j=j.call(X,pe[1])).done)return j;switch(X=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return D.label++,{value:pe[1],done:!1};case 5:D.label++,X=pe[1],pe=[0];continue;case 7:pe=D.ops.pop(),D.trys.pop();continue;default:if(j=D.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){D=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){D.label=pe[1];break}if(pe[0]===6&&D.label<j[1]){D.label=j[1],j=pe;break}if(j&&D.label<j[2]){D.label=j[2],D.ops.push(pe);break}j[2]&&D.ops.pop(),D.trys.pop();continue}pe=A.call(w,D)}catch(Ae){pe=[6,Ae],X=0}finally{K=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}r(t,"__generator");function n(w,A,D,K){K===void 0&&(K=D),w[K]=A[D]}r(n,"__createBinding");function s(w,A){for(var D in w)D!=="default"&&!A.hasOwnProperty(D)&&(A[D]=w[D])}r(s,"__exportStar");function p(w){var A=typeof Symbol=="function"&&Symbol.iterator,D=A&&w[A],K=0;if(D)return D.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}r(p,"__values");function g(w,A){var D=typeof Symbol=="function"&&w[Symbol.iterator];if(!D)return w;var K=D.call(w),X,j=[],te;try{for(;(A===void 0||A-- >0)&&!(X=K.next()).done;)j.push(X.value)}catch(me){te={error:me}}finally{try{X&&!X.done&&(D=K.return)&&D.call(K)}finally{if(te)throw te.error}}return j}r(g,"__read");function S(){for(var w=[],A=0;A<arguments.length;A++)w=w.concat(g(arguments[A]));return w}r(S,"__spread");function u(){for(var w=0,A=0,D=arguments.length;A<D;A++)w+=arguments[A].length;for(var K=Array(w),X=0,A=0;A<D;A++)for(var j=arguments[A],te=0,me=j.length;te<me;te++,X++)K[X]=j[te];return K}r(u,"__spreadArrays");function l(w){return this instanceof l?(this.v=w,this):new l(w)}r(l,"__await");function E(w,A,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=D.apply(w,A||[]),X,j=[];return X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X;function te(Fe){K[Fe]&&(X[Fe]=function(Ue){return new Promise(function(Le,at){j.push([Fe,Ue,Le,at])>1||me(Fe,Ue)})})}function me(Fe,Ue){try{we(K[Fe](Ue))}catch(Le){Je(j[0][3],Le)}}function we(Fe){Fe.value instanceof l?Promise.resolve(Fe.value.v).then(pe,Ae):Je(j[0][2],Fe)}function pe(Fe){me("next",Fe)}function Ae(Fe){me("throw",Fe)}function Je(Fe,Ue){Fe(Ue),j.shift(),j.length&&me(j[0][0],j[0][1])}}r(E,"__asyncGenerator");function O(w){var A,D;return A={},K("next"),K("throw",function(X){throw X}),K("return"),A[Symbol.iterator]=function(){return this},A;function K(X,j){A[X]=w[X]?function(te){return(D=!D)?{value:l(w[X](te)),done:X==="return"}:j?j(te):te}:j}}r(O,"__asyncDelegator");function P(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=w[Symbol.asyncIterator],D;return A?A.call(w):(w=typeof p=="function"?p(w):w[Symbol.iterator](),D={},K("next"),K("throw"),K("return"),D[Symbol.asyncIterator]=function(){return this},D);function K(j){D[j]=w[j]&&function(te){return new Promise(function(me,we){te=w[j](te),X(me,we,te.done,te.value)})}}function X(j,te,me,we){Promise.resolve(we).then(function(pe){j({value:pe,done:me})},te)}}r(P,"__asyncValues");function x(w,A){return Object.defineProperty?Object.defineProperty(w,"raw",{value:A}):w.raw=A,w}r(x,"__makeTemplateObject");function k(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var D in w)Object.hasOwnProperty.call(w,D)&&(A[D]=w[D]);return A.default=w,A}r(k,"__importStar");function B(w){return w&&w.__esModule?w:{default:w}}r(B,"__importDefault");function R(w,A){if(!A.has(w))throw new TypeError("attempted to get private field on non-instance");return A.get(w)}r(R,"__classPrivateFieldGet");function N(w,A,D){if(!A.has(w))throw new TypeError("attempted to set private field on non-instance");return A.set(w,D),D}r(N,"__classPrivateFieldSet")},D7wJ:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("3i7i")),m=f(d("HbHZ")),a=d("XCDq"),o=f(d("j+uH"));let i=r(class Pf extends o.default{run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(t){if(t.type===m.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(const n of t.message.dataMessage.messages){const s=new h.default(n.ingestTimeNs/1e6,n.topic,n.data,n.senderAttendeeId,n.senderExternalUserId,n.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(s)}}validateDataMessage(t,n,s){if(!Pf.TOPIC_REGEX.test(t))throw new Error("Invalid topic");if(n.length>Pf.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(s&&s<0)throw new Error("The life time of the message has to be non negative")}constructor(t){super(t.logger),this.context=t,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(n,s,p)=>{if(this.context.signalingClient.ready()){let g;s instanceof Uint8Array?g=s:typeof s=="string"?g=new TextEncoder().encode(s):g=new TextEncoder().encode(JSON.stringify(s)),this.validateDataMessage(n,g,p);const S=a.SdkDataMessagePayload.create();S.topic=n,S.lifetimeMs=p,S.data=g;const u=a.SdkDataMessageFrame.create();u.messages=[S],this.context.signalingClient.sendDataMessage(u)}else this.context.logger.error("Signaling client is not ready")}}},"SendAndReceiveDataMessagesTask");c.default=i,i.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),i.DATA_SIZE=2048},DE61:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class nv{static builder(){return new nv}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const h={height:144,width:256,range:[0,1],channels:3},m={height:144,width:256,range:[0,1],channels:1},a="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=a,this.input=h,this.output=m,this}withPath(h){return this.path=h,this}withInput(h){return this.input=h,this}withOutput(h){return this.output=h,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");c.default=v},DG83:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoLogEvent=void 0;var v;(function(f){f[f.InputAttached=0]="InputAttached",f[f.SendingFailed=1]="SendingFailed",f[f.SendingSuccess=2]="SendingSuccess"})(v=c.VideoLogEvent||(c.VideoLogEvent={})),c.default=v},DJNY:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={hash:"f760ad3",raw:"v3.16.0",semverString:"3.16.0"}},DJgg:function(U,c,d){"use strict";U.exports=f;var v=d("kU+7");(f.prototype=Object.create(v.EventEmitter.prototype)).constructor=f;function f(h,m,a){if(typeof h!="function")throw TypeError("rpcImpl must be a function");v.EventEmitter.call(this),this.rpcImpl=h,this.requestDelimited=Boolean(m),this.responseDelimited=Boolean(a)}r(f,"Service"),f.prototype.rpcCall=r(function h(m,a,o,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return v.asPromise(h,t,m,a,o,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(m,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),r(function(s,p){if(s)return t.emit("error",s,m),e(s);if(p===null){t.end(!0);return}if(!(p instanceof o))try{p=o[t.responseDelimited?"decodeDelimited":"decode"](p)}catch(g){return t.emit("error",g,m),e(g)}return t.emit("data",p,m),e(null,p)},"rpcCallback"))}catch(n){t.emit("error",n,m),setTimeout(function(){e(n)},0);return}},"rpcCall"),f.prototype.end=r(function(m){return this.rpcImpl&&(m||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},DUgj:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.convertServerSideNetworkAdaptionEnumToSignaled=c.convertServerSideNetworkAdaptionEnumFromSignaled=c.serverSideNetworkAdaptionIsNoneOrDefault=c.ServerSideNetworkAdaption=void 0;const v=d("f2XL");var f;(function(o){o[o.Default=0]="Default",o[o.None=1]="None",o[o.BandwidthProbing=2]="BandwidthProbing",o[o.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(f=c.ServerSideNetworkAdaption||(c.ServerSideNetworkAdaption={})),c.default=f;function h(o){return o===f.None||o===f.Default}r(h,"serverSideNetworkAdaptionIsNoneOrDefault"),c.serverSideNetworkAdaptionIsNoneOrDefault=h;function m(o){switch(o){case v.SdkServerSideNetworkAdaption.DEFAULT:return f.Default;case v.SdkServerSideNetworkAdaption.NONE:return f.None;case v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return f.BandwidthProbing;case v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return f.BandwidthProbingAndRemoteVideoQualityAdaption}}r(m,"convertServerSideNetworkAdaptionEnumFromSignaled"),c.convertServerSideNetworkAdaptionEnumFromSignaled=m;function a(o){switch(o){case f.Default:return v.SdkServerSideNetworkAdaption.DEFAULT;case f.None:return v.SdkServerSideNetworkAdaption.NONE;case f.BandwidthProbing:return v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case f.BandwidthProbingAndRemoteVideoQualityAdaption:return v.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}r(a,"convertServerSideNetworkAdaptionEnumToSignaled"),c.convertServerSideNetworkAdaptionEnumToSignaled=a},DbLV:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{matchesConstraints(h){return JSON.stringify(this.constraints)===JSON.stringify(h)}constructor(){this.groupId=""}},"DeviceSelection");c.default=v},DcUe:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("XJrD"));let h=r(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new f.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}constructor(){}},"NoVideoUplinkBandwidthPolicy");c.default=h},DmQM:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class iv{static create(h,m){const a=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!h||h.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!a.test(h))throw new Error(`appName must satisfy ${a} regular expression`);const o=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!m||m.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!o.test(m))throw new Error("appVersion must satisfy Semantic Versioning format");return new iv(h,m)}constructor(h,m){this.appName=h,this.appVersion=m}},"ApplicationMetadata");c.default=v},DrT7:function(U,c,d){var v=d("ekG2"),f=d("d+lc"),h=r(function(m,a){if(f(m),!v(a)&&a!==null)throw TypeError(a+": can't set as prototype!")},"check");U.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(m,a,o){try{o=d("nAx8")(Function.call,d("TSC6").f(Object.prototype,"__proto__").set,2),o(m,[]),a=!(m instanceof Array)}catch{a=!0}return r(function(e,t){return h(e,t),a?e.__proto__=t:o(e,t),e},"setPrototypeOf")}({},!1):void 0),check:h}},E6e8:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=d("dJwD");v.__exportStar(d("Bkbp"),c)},EJiy:function(U,c,d){"use strict";c.__esModule=!0;var v=d("F+2o"),f=o(v),h=d("+JPL"),m=o(h),a=typeof m.default=="function"&&typeof f.default=="symbol"?function(i){return typeof i}:function(i){return i&&typeof m.default=="function"&&i.constructor===m.default&&i!==m.default.prototype?"symbol":typeof i};function o(i){return i&&i.__esModule?i:{default:i}}r(o,"_interopRequireDefault"),c.default=typeof m.default=="function"&&a(f.default)==="symbol"?function(i){return typeof i>"u"?"undefined":a(i)}:function(i){return i&&typeof m.default=="function"&&i.constructor===m.default&&i!==m.default.prototype?"symbol":typeof i>"u"?"undefined":a(i)}},EM4D:function(U,c,d){"use strict";d.r(c),d.d(c,"fromHex",function(){return h}),d.d(c,"toHex",function(){return m});const v={},f={};for(let a=0;a<256;a++){let o=a.toString(16).toLowerCase();o.length===1&&(o=`0${o}`),v[a]=o,f[o]=a}function h(a){if(a.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const o=new Uint8Array(a.length/2);for(let i=0;i<a.length;i+=2){const e=a.slice(i,i+2).toLowerCase();if(e in f)o[i/2]=f[e];else throw new Error(`Cannot decode unrecognized sequence ${e} as hexadecimal`)}return o}r(h,"fromHex");function m(a){let o="";for(let i=0;i<a.byteLength;i++)o+=v[a[i]];return o}r(m,"toHex")},ENu8:function(U,c){U.exports=function(d,v){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:v}}},EjQB:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxSegmentationRateManager=void 0;const v=d("6qF3");let f=r(class{submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=v.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(m){m>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&m<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}constructor(m,a){this.logger=m,this.targetSegmentationCyclePercentage=a/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=v.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}},"VideoFxSegmentationRateManager");c.VideoFxSegmentationRateManager=f},EkyC:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.loadWorker=void 0;const v=d("o3U+"),f={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},h=r((m,a,o,i)=>{i==null||i.debug(`Loading ${a} worker from ${m}.`);let e=!1;try{e=self.origin===new URL(m).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=v.withQueryString(m,o);return Promise.resolve(new Worker(t,{name:a}))}return v.fetchWithBehavior(m,f,o).then(t=>{if(t.ok)return t.blob().then(n=>new Worker(window.URL.createObjectURL(n)));throw new Error("Fetch failed.")})},"loadWorker");c.loadWorker=h},"F+2o":function(U,c,d){U.exports={default:d("UR8F"),__esModule:!0}},F7zz:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("zcg+"));let h=r(class extends f.default{static nextTick(a){setTimeout(a,0)}constructor(){super(0)}},"AsyncScheduler");c.default=h},FCN7:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("hEYi")),m=d("f2XL"),a=f(d("aVV0"));let o=r(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{let n=r(class{cancel(){this.signalingClient.removeObserver(this),t(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(g){if(g.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}g.type===h.default.ReceivedSignalFrame&&g.message.type===m.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}constructor(g,S){this.signalingClient=g,this.logger=S}},"Interceptor");const s=new n(this.context.signalingClient,this.context.logger);this.taskCanceler=s,this.context.signalingClient.registerObserver(s)})}constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}},"LeaveAndReceiveLeaveAckTask");c.default=o},FKpq:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Mr6q"));let h=r(class extends f.default{},"BackgroundBlurVideoFrameProcessorDelegate");c.default=h},FMuk:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{add(h){return new Promise((m,a)=>{this.queue=this.queue.then(h).then(m).catch(a)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");c.default=v},FYw3:function(U,c,d){"use strict";c.__esModule=!0;var v=d("EJiy"),f=h(v);function h(m){return m&&m.__esModule?m:{default:m}}r(h,"_interopRequireDefault"),c.default=function(m,a){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&((typeof a>"u"?"undefined":(0,f.default)(a))==="object"||typeof a=="function")?a:m}},FgkJ:function(U,c){U.exports=function(d){if(typeof d!="function")throw TypeError(d+" is not a function!");return d}},Fm4y:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(m,a,o,i){function e(t){return t instanceof o?t:new o(function(n){n(t)})}return r(e,"adopt"),new(o||(o=Promise))(function(t,n){function s(S){try{g(i.next(S))}catch(u){n(u)}}r(s,"fulfilled");function p(S){try{g(i.throw(S))}catch(u){n(u)}}r(p,"rejected");function g(S){S.done?t(S.value):e(S.value).then(s,p)}r(g,"step"),g((i=i.apply(m,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("0OOd");let h=r(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const o=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,o),o}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,o){this.videoTileController.bindVideoElement(a,o),this.trace("bindVideoElement",{tileId:a,videoElementId:o.id})}unbindVideoElement(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,o),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:o})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const o=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),o}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const o=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,o),o}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const o=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),o}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,o){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,o),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,o){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,o),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,o)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,o,i){this.realtimeController.realtimeSendDataMessage(a,o,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,o){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,o),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,o,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,o,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const o=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,o),o})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const o=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,o),o})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const o=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,o),o})}startAudioInput(a){return v(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return v(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return v(this,void 0,void 0,function*(){return f.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return v(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const o=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),o}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const o=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),o}chooseVideoInputQuality(a,o,i){this.deviceController.chooseVideoInputQuality(a,o,i),this.trace("chooseVideoInputQuality",{width:a,height:o,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,o){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,o)}startContentShare(a){const o=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),o}startContentShareFromScreenCapture(a,o){const i=this.contentShareController.startContentShareFromScreenCapture(a,o);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,o,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let n=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof o<"u"&&(n+=` ${JSON.stringify(o)}`),typeof i<"u"&&(n+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(n)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const o=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,o),o}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,o,i,e,t,n){this.audioVideoController=a,this.videoTileController=o,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=n}},"DefaultAudioVideoFacade");c.default=h},FxSh:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54")),m=f(d("3zlU"));let a=r(class rv{get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(i){if(this.pipe.processors)for(const e of this.pipe.processors)typeof e.setEventController=="function"&&e.setEventController(i)}chooseNewInnerDevice(i){const e=new rv(this.logger,i,this.processors,this.browserBehavior);return e.pipe=this.pipe,e}getInnerDevice(){return this.device}intrinsicDevice(){return v(this,void 0,void 0,function*(){return this.device})}transformStream(i){return v(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(i),this.inputMediaStream=i,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const i=this.device&&this.device.id;if(this.pipe.stop(),!i&&this.inputMediaStream)for(const e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return v(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const i of this.inputMediaStream.getVideoTracks())i.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(i=>{i.processingDidStart&&i.processingDidStart()})}processingLatencyTooHigh(i){this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(i)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(i=>{i.processingDidFailToStart&&i.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()})}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}constructor(i,e,t,n=new h.default){this.logger=i,this.device=e,this.processors=t,this.browserBehavior=n,this.observers=new Set,this.pipe=new m.default(this.logger,this.processors),this.pipe.addObserver(this)}},"DefaultVideoTransformDevice");c.default=a},FyfS:function(U,c,d){U.exports={default:d("fUKC"),__esModule:!0}},Fyq9:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("aVV0"));let m=r(class extends h.default{removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const o in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[o]()}addPeerConnectionEventLogger(){const o=this.context.peer;o.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${o.connectionState}`)}),o.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),o.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${o.iceGatheringState}`)}),o.addEventListener("icecandidate",i=>{this.context.logger.info(`peer connection ice candidate: ${i.candidate?i.candidate.candidate:"(null)"}`)}),o.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${o.iceConnectionState}`)})}run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const i=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};i.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),i.sdpSemantics="unified-plan",i.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(i),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(o){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(o)):!1}addRemoteVideoTrack(o,i){var e;const t=i.id,n=this.context.videoStreamIndex.attendeeIdForTrack(t);let s,p;if(this.context.videoTileController.getVideoTileForAttendeeId?(p=this.context.videoTileController.getVideoTileForAttendeeId(n),s=!!(!((e=p==null?void 0:p.state())===null||e===void 0)&&e.boundVideoStream)):s=this.context.videoTileController.haveVideoTileForAttendeeId(n),s){this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${n}`);return}p||(p=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${p.id()}`));let g=this.context.videoStreamIndex.streamIdForTrack(t);typeof g>"u"&&(this.logger.warn(`stream not found for tile=${p.id()} track=${t}`),g=null);for(let x=0;x<this.trackEvents.length;x++){const k=this.trackEvents[x],B=i.getVideoTracks();if(B&&B.length){const R=B[0],N=r(()=>{this.context.logger.info(`received the ${k} event for tile=${p.id()} id=${o.id} streamId=${g}`),k==="ended"&&this.removeRemoteVideoTrack(o,p.state())},"callback");R.addEventListener(k,N),this.removeVideoTrackEventListeners[o.id]||(this.removeVideoTrackEventListeners[o.id]=[]),this.removeVideoTrackEventListeners[o.id].push(()=>{R.removeEventListener(k,N)})}}let S,u;if(o.getSettings){const x=o.getSettings();S=x.width,u=x.height}else{const x=o.getCapabilities();S=x.width,u=x.height}const l=this.context.videoStreamIndex.externalUserIdForTrack(t);p.bindVideoStream(n,!1,i,S,u,g,l),this.logger.info(`video track added, use tile=${p.id()} track=${t} streamId=${g}`);const E="removetrack",O=i,P=r(()=>this.removeRemoteVideoTrack(o,p.state()),"trackRemovedHandler");this.removeTrackRemovedEventListeners[o.id]=()=>{O.removeEventListener(E,P),delete this.removeTrackRemovedEventListeners[o.id]},O.addEventListener(E,P)}removeRemoteVideoTrack(o,i){if(this.removeTrackRemovedEventListeners.hasOwnProperty(o.id)){this.removeTrackRemovedEventListeners[o.id]();for(const e of this.removeVideoTrackEventListeners[o.id])e();delete this.removeVideoTrackEventListeners[o.id]}this.logger.info(`video track ended, removing tile=${i.tileId} id=${o.id} stream=${i.streamId}`),i.streamId?this.context.videosPaused.remove(i.streamId):this.logger.warn(`no stream found for tile=${i.tileId}`),this.context.videoTileController.removeVideoTile(i.tileId)}constructor(o){super(o.logger),this.context=o,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=i=>{const e=i.track;if(this.context.logger.info(`received track event: kind=${e.kind} id=${e.id} label=${e.label}`),i.transceiver&&i.transceiver.currentDirection==="inactive")return;if(i.streams.length===0){this.context.logger.warn("Track event but no stream");return}const t=i.streams[0];e.kind==="audio"?this.context.audioMixController.bindAudioStream(t):e.kind==="video"&&!this.trackIsVideoInput(e)&&this.addRemoteVideoTrack(e,t)}}},"CreatePeerConnectionTask");c.default=m,m.REMOVE_HANDLER_INTERVAL_MS=1e4},GAXn:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={UnknownMethod:"unknown_method",UnknownWorkflowId:"unknown_workflow_id",AccessDenied:"access_denied"},t=Object(a.a)("workflows.get generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"workflows.get",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to workflows.get
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherworkflowsGetFetcher",description:"workflows.get generated fetcher"}},GDZC:function(U,c,d){var v=d("bKEA"),f=d("ZDin").f,h={}.toString,m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=r(function(o){try{return f(o)}catch{return m.slice()}},"getWindowNames");U.exports.f=r(function(i){return m&&h.call(i)=="[object Window]"?a(i):f(v(i))},"getOwnPropertyNames")},GEtQ:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.loadWorker=void 0;const v=d("XEV2"),f={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},h=r((m,a,o,i)=>{i==null||i.debug(`Loading ${a} worker from ${m}.`);let e=!1;try{e=self.origin===new URL(m).origin}catch(t){i==null||i.error("Could not compare origins.",t)}if(e){const t=v.withQueryString(m,o);return Promise.resolve(new Worker(t,{name:a}))}return v.fetchWithBehavior(m,f,o).then(t=>{if(t.ok)return t.blob().then(n=>new Worker(window.URL.createObjectURL(n)));throw new Error("Fetch failed.")})},"loadWorker");c.loadWorker=h},GQeE:function(U,c,d){U.exports={default:d("1GvH"),__esModule:!0}},GRew:function(U,c){c.f={}.propertyIsEnumerable},GW5S:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{mute(m){return v(this,void 0,void 0,function*(){})}stop(){var m;return v(this,void 0,void 0,function*(){(m=this.node)===null||m===void 0||m.disconnect()})}intrinsicDevice(){return v(this,void 0,void 0,function*(){return this.inner})}createAudioNode(m){var a;return v(this,void 0,void 0,function*(){return(a=this.node)===null||a===void 0||a.disconnect(),this.node=yield this.createSingleAudioNode(m),{start:this.node,end:this.node}})}constructor(m){this.inner=m}},"SingleNodeAudioTransformDevice");c.default=f},GZjp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(h){this._audioHostURL=h}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(h){this._signalingURL=h}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(h){this._turnControlURL=h}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(h){this._eventIngestionURL=h}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=h=>h}},"MeetingSessionURLs");c.default=v},GfoU:function(U,c,d){var v=d("/F7N"),f=d("yQFZ");U.exports=function(h){return function(m,a){var o=String(f(m)),i=v(a),e=o.length,t,n;return i<0||i>=e?h?"":void 0:(t=o.charCodeAt(i),t<55296||t>56319||i+1===e||(n=o.charCodeAt(i+1))<56320||n>57343?h?o.charAt(i):t:h?o.slice(i,i+2):(t-55296<<10)+(n-56320)+65536)}}},GhSp:function(U,c,d){var v=d("d+lc"),f=d("+vXQ"),h=d("M5dz"),m=Object.defineProperty;c.f=d("C61u")?Object.defineProperty:r(function(o,i,e){if(v(o),i=h(i,!0),v(e),f)try{return m(o,i,e)}catch{}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(o[i]=e.value),o},"defineProperty")},Gn1W:function(U,c,d){"use strict";var v=d("c3gm"),f=d("XFRR");function h(m,a){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}r(h,"LodashWrapper"),h.prototype=Object(v.a)(f.a.prototype),h.prototype.constructor=h,c.a=h},"Gs2/":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("zH6K"));let h=r(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new f.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");c.default=h},GtHv:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("CmE0")),m=d("vjEy"),a=f(d("l8QA"));let o=r(class extends h.default{validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:s,targetCanvas:p}=this,{width:g,height:S}=p;s.save(),s.clearRect(0,0,g,S),s.drawImage(this.scaledCanvas,0,0,g,S),s.globalCompositeOperation="source-in",s.drawImage(e,0,0,g,S),s.globalCompositeOperation="destination-over",s.filter=`blur(${this.blurAmount}px)`,s.drawImage(e,0,0,p.width,p.height),s.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return v(this,void 0,void 0,function*(){const e=document.createElement("canvas"),t=e.getContext("2d").filter!==void 0;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(t)}`)}},"BackgroundBlurProcessorProvided");c.default=o},GxrV:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"BitrateParameters");c.default=v},GzZI:function(U,c,d){"use strict";var v=d("u37q"),f=d("ZnfP"),h=d("fshX"),m=9007199254740991,a=4294967295,o=Math.min;function i(e,t){if(e=Object(h.a)(e),e<1||e>m)return[];var n=a,s=o(e,a);t=Object(f.a)(t),e-=a;for(var p=Object(v.a)(s,t);++n<e;)t(n);return p}r(i,"times"),c.a=i},H7ma:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SimulcastLayers=void 0;var v;(function(f){f[f.Low=0]="Low",f[f.LowAndMedium=1]="LowAndMedium",f[f.LowAndHigh=2]="LowAndHigh",f[f.Medium=3]="Medium",f[f.MediumAndHigh=4]="MediumAndHigh",f[f.High=5]="High"})(v=c.SimulcastLayers||(c.SimulcastLayers={})),c.default=v},HAqy:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("BkFD"));let m=r(class{needUpdate(o){return this.activeSpeakers?this.speakerScores[o]===0&&this.activeSpeakers.includes(o)||this.speakerScores[o]>0&&!this.activeSpeakers.includes(o):!0}updateActiveSpeakers(o,i,e){if(!this.needUpdate(e))return;const t=[],n=Object.keys(this.speakerScores);for(let u=0;u<n.length;u++){const l=n[u];t.push({attendeeId:l,activeScore:this.speakerScores[l]})}const s=t.sort((u,l)=>l.activeScore-u.activeScore).filter(function(u){return u.activeScore>0}).map(function(u){return u.attendeeId});this.activeSpeakers=s,i(s);const g=s.length>0&&s[0]===this.selfAttendeeId&&o.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==g&&(this.hasBandwidthPriority=g,this.hasBandwidthPriorityCallback(g))}updateScore(o,i,e,t,n){const s=o.calculateScore(e,t,n);this.speakerScores[e]!==s&&(this.speakerScores[e]=s,this.mostRecentUpdateTimestamp[e]=Date.now(),this.updateActiveSpeakers(o,i,e))}subscribe(o,i,e,t){const n=r((p,g)=>{if(!g){this.speakerScores[p]=0,this.mostRecentUpdateTimestamp[p]=Date.now(),this.updateActiveSpeakers(o,i,p);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(p,(S,u,l,E)=>{this.mostRecentUpdateTimestamp[S]=Date.now(),l!==null&&(this.speakerMuteState[S]=l),this.updateScore(o,i,S,u,l)})},"handler");this.detectorCallbackToHandler.set(i,n);const s=new h.default(this.updateIntervalMs);if(s.start(()=>{for(const p in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[p]>this.waitIntervalMs&&this.updateScore(o,i,p,0,this.speakerMuteState[p])}),this.detectorCallbackToActivityTimer.set(i,s),e&&t){const p=new h.default(t);p.start(()=>{e(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(i,p)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)}unsubscribe(o){const i=this.detectorCallbackToHandler.get(o);this.detectorCallbackToHandler.delete(o),i&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(i);const e=this.detectorCallbackToActivityTimer.get(o);e&&(e.stop(),this.detectorCallbackToActivityTimer.delete(o));const t=this.detectorCallbackToScoresTimer.get(o);t&&(t.stop(),this.detectorCallbackToHandler.delete(o))}destroy(){return v(this,void 0,void 0,function*(){for(const o of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(o);for(const o of this.detectorCallbackToActivityTimer.values())o.stop();for(const o of this.detectorCallbackToScoresTimer.values())o.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}constructor(o,i,e,t=1e3,n=200){this.realtimeController=o,this.selfAttendeeId=i,this.hasBandwidthPriorityCallback=e,this.waitIntervalMs=t,this.updateIntervalMs=n,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}},"DefaultActiveSpeakerDetector");c.default=m},HCbE:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("cKqT"));let h=r(class extends f.default{nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}constructor(a,o,i,e){super(a,o,i),this.limit=e,this.attempts=0}},"FullJitterLimitedBackoff");c.default=h},HG8V:function(U,c,d){"use strict";(function(v){var f=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR")),m=f(d("zcg+")),a=d("XCDq"),o=d("VCUZ"),i=f(d("ac3q")),e=f(d("z8+u")),t=d("/AJg"),n=f(d("0JTw")),s=f(d("HbHZ"));let p=r(class td{registerObserver(S){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(S)}removeObserver(S){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(S)}openConnection(S){this.logger.info("adding connection request to queue: "+S.url()),this.connectionRequestQueue.push(S),this.closeConnection()}pingPong(S){this.logger.debug(()=>"sending ping");const u=a.SdkSignalFrame.create();return u.type=a.SdkSignalFrame.Type.PING_PONG,u.pingPong=S,this.sendMessage(u),u.timestampMs}join(S){this.logger.info("sending join");const u=a.SdkJoinFrame.create();u.protocolVersion=2,u.flags=a.SdkJoinFlags.HAS_STREAM_UPDATE;const l=new h.default,E={platformName:l.name(),platformVersion:l.version(),clientSource:i.default.sdkName,chimeSdkVersion:i.default.sdkVersion,clientUtcOffset:o.getFormattedOffset(new Date().getTimezoneOffset())};if(S.applicationMetadata){const{appName:P,appVersion:x}=S.applicationMetadata;E.appName=P,E.appVersion=x}u.clientDetails=a.SdkClientDetails.create(E),u.audioSessionId=this.audioSessionId,u.wantsCompressedSdp=td.CLIENT_SUPPORTS_COMPRESSION,u.disablePeriodicKeyframeRequestOnContentSender=S.disablePeriodicKeyframeRequestOnContentSender,u.serverSideNetworkAdaption=t.convertServerSideNetworkAdaptionEnumToSignaled(S.serverSideNetworkAdaption),u.supportedServerSideNetworkAdaptions=S.supportedServerSideNetworkAdaptions.map(t.convertServerSideNetworkAdaptionEnumToSignaled);const O=a.SdkSignalFrame.create();O.type=a.SdkSignalFrame.Type.JOIN,O.join=u,this.sendMessage(O)}subscribe(S){const u=a.SdkSubscribeFrame.create();if(u.sendStreams=[],u.sdpOffer=S.sdpOffer,S.connectionTypeHasVideo&&(u.receiveStreamIds=S.receiveStreamIds),S.audioHost&&(u.audioCheckin=S.audioCheckin,u.audioHost=S.audioHost,u.audioMuted=S.audioMuted,!S.audioCheckin)){const E=a.SdkStreamDescriptor.create();E.mediaType=a.SdkStreamMediaType.AUDIO,E.trackLabel="AmazonChimeExpressAudio",E.attendeeId=S.attendeeId,E.streamId=1,E.groupId=1,E.framerate=15,E.maxBitrateKbps=600,E.avgBitrateBps=4e5,u.sendStreams.push(E)}if(u.compressedSdpOffer=S.compressedSdpOffer,u.duplex=a.SdkStreamServiceType.RX,S.localVideoEnabled){u.duplex=a.SdkStreamServiceType.DUPLEX;for(let E=0;E<S.videoStreamDescriptions.length;E++){const O=S.videoStreamDescriptions[E].clone();O.attendeeId=S.attendeeId,u.sendStreams.push(O.toStreamDescriptor())}}S.videoSubscriptionConfiguration.length>0&&(u.videoSubscriptionConfiguration=S.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const l=a.SdkSignalFrame.create();l.type=a.SdkSignalFrame.Type.SUBSCRIBE,l.sub=u,this.sendMessage(l)}remoteVideoUpdate(S,u){const l=a.SdkRemoteVideoUpdateFrame.create();l.addedOrUpdatedVideoSubscriptions=S.map(this.convertSignalingClientVideoSubscriptionConfiguration),l.removedVideoSubscriptionMids=u;const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,E.remoteVideoUpdate=l,this.sendMessage(E)}convertSignalingClientVideoSubscriptionConfiguration(S){const u=new a.SdkVideoSubscriptionConfiguration;return u.mid=S.mid,u.attendeeId=S.attendeeId,u.streamId=S.streamId,u.groupId=S.groupId,u.priority=S.priority,u.targetBitrateKbps=S.targetBitrateKbps,u}leave(){const S=a.SdkSignalFrame.create();S.type=a.SdkSignalFrame.Type.LEAVE,S.leave=a.SdkLeaveFrame.create(),this.sendMessage(S),this.logger.debug(()=>"sent leave")}sendClientMetrics(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.CLIENT_METRIC,u.clientMetric=S,this.sendMessage(u)}sendDataMessage(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.DATA_MESSAGE,u.dataMessage=S,this.sendMessage(u)}closeConnection(){var S,u;if(this.webSocket.readyState()!==e.default.None&&this.webSocket.readyState()!==e.default.Closed){this.isClosing=!0,this.sendEvent(new n.default(this,s.default.WebSocketClosing,null));const l=new m.default(td.CLOSE_EVENT_TIMEOUT_MS),E=r(O=>{var P,x;(x=(P=this.webSocket).removeEventListener)===null||x===void 0||x.call(P,"close",E),l.stop(),this.closeEventHandler(O)},"handler");(u=(S=this.webSocket).removeEventListener)===null||u===void 0||u.call(S,"close",this.closeEventHandler),this.webSocket.addEventListener("close",E),l.start(()=>{E(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===e.default.Open&&!this.isClosing&&this.wasOpened}mute(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.AUDIO_CONTROL;const l=a.SdkAudioControlFrame.create();l.muted=S,u.audioControl=l,this.sendMessage(u)}pause(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.PAUSE,u.pause=a.SdkPauseResumeFrame.create(),u.pause.streamIds=S,this.sendMessage(u)}resume(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.RESUME,u.pause=a.SdkPauseResumeFrame.create(),u.pause.streamIds=S,this.sendMessage(u)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(S){S.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(S)}`);const u=this.prependWithFrameTypeRTC(a.SdkSignalFrame.encode(S).finish());if(this.ready()){if(!this.webSocket.send(u)){this.sendEvent(new n.default(this,s.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new n.default(this,s.default.WebSocketSentMessage,null))}else this.sendEvent(new n.default(this,s.default.WebSocketSkippedMessage,null))}receiveMessage(S){let u;try{u=a.SdkSignalFrame.decode(S)}catch{this.logger.info(`failed to decode: ${S}`),this.sendEvent(new n.default(this,s.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(u)}`),this.webSocket.readyState()===e.default.Open?this.sendEvent(new n.default(this,s.default.ReceivedSignalFrame,u)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(u)}`)}stripFrameTypeRTC(S){const u=S[0];return u!==td.FRAME_TYPE_RTC&&u!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${u}`),S.slice(1)}prependWithFrameTypeRTC(S){const u=new Uint8Array(S.length+1);return u[0]=td.FRAME_TYPE_RTC,u.set(S,1),u}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const S=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${S.url()}`),this.isClosing=!1,this.webSocket.create(S.url(),S.protocols()),this.setUpEventListeners(),this.sendEvent(new n.default(this,s.default.WebSocketConnecting,null))}sendEvent(S){switch(S.type){case s.default.WebSocketMessage:case s.default.ReceivedSignalFrame:case s.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${s.default[S.type]}`);break;case s.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${s.default[S.type]}, websocket state=${e.default[this.webSocket.readyState()]}`);break;default:this.logger.info(`notifying event: ${s.default[S.type]}`);break}for(const u of this.observerQueue)u.handleSignalingClientEvent(S)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new n.default(this,s.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",S=>{this.sendEvent(new n.default(this,s.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(S.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new n.default(this,s.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new n.default(this,s.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const S=v;S.window&&S.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const S=v;S.window&&S.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const S=new Uint32Array(1);return window.crypto.getRandomValues(S)[0]}promoteToPrimaryMeeting(S){const u=a.SdkMeetingSessionCredentials.create();u.attendeeId=S.attendeeId,u.externalUserId=S.externalUserId,u.joinToken=S.joinToken;const l=a.SdkPrimaryMeetingJoinFrame.create();l.credentials=u;const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,E.primaryMeetingJoin=l,this.sendMessage(E)}demoteFromPrimaryMeeting(){const S=a.SdkPrimaryMeetingLeaveFrame.create(),u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,u.primaryMeetingLeave=S,this.sendMessage(u)}constructor(S,u){this.webSocket=S,this.logger=u,this.unloadHandler=null,this.closeEventHandler=l=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new n.default(this,s.default.WebSocketClosed,null,l.code,l.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");c.default=p,p.FRAME_TYPE_RTC=5,p.CLOSE_EVENT_TIMEOUT_MS=2e3,p.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,d("yLpj"))},HK1f:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("IKDz"));let h=r(class{constructor(a,o,i=new f.default){this.eventsClientConfiguration=a,this.ingestionURL=o,this.eventBufferConfiguration=i}},"EventIngestionConfiguration");c.default=h},HLgz:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(m,a,o,i){function e(t){return t instanceof o?t:new o(function(n){n(t)})}return r(e,"adopt"),new(o||(o=Promise))(function(t,n){function s(S){try{g(i.next(S))}catch(u){n(u)}}r(s,"fulfilled");function p(S){try{g(i.throw(S))}catch(u){n(u)}}r(p,"rejected");function g(S){S.done?t(S.value):e(S.value).then(s,p)}r(g,"step"),g((i=i.apply(m,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("dWP+");let h=r(class{addObserver(a){this.audioVideoController.addObserver(a),this.trace("addObserver")}removeObserver(a){this.audioVideoController.removeObserver(a),this.trace("removeObserver")}setAudioProfile(a){this.trace("setAudioProfile",a),this.audioVideoController.setAudioProfile(a)}start(a){this.audioVideoController.start(a),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(a){return this.trace("getRTCPeerConnectionStats",a?a.id:null),this.audioVideoController.getRTCPeerConnectionStats(a)}bindAudioElement(a){const o=this.audioMixController.bindAudioElement(a);return this.trace("bindAudioElement",a.id,o),o}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(a){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(a)}removeAudioMixObserver(a){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(a)}bindVideoElement(a,o){this.videoTileController.bindVideoElement(a,o),this.trace("bindVideoElement",{tileId:a,videoElementId:o.id})}unbindVideoElement(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.videoTileController.unbindVideoElement(a,o),this.trace("unbindVideoElement",{tileId:a,cleanUpVideoElement:o})}startLocalVideoTile(){const a=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,a),a}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const a=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,a),a}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const a=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),a}pauseVideoTile(a){this.videoTileController.pauseVideoTile(a),this.trace("pauseVideoTile",a)}unpauseVideoTile(a){this.videoTileController.unpauseVideoTile(a),this.trace("unpauseVideoTile",a)}getVideoTile(a){const o=this.videoTileController.getVideoTile(a);return this.trace("getVideoTile",a),o}getAllRemoteVideoTiles(){const a=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),a}getAllVideoTiles(){const a=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),a}addVideoTile(){const a=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,a.state()),a}removeVideoTile(a){this.videoTileController.removeVideoTile(a),this.trace("removeVideoTile",a)}removeVideoTilesByAttendeeId(a){const o=this.videoTileController.removeVideoTilesByAttendeeId(a);return this.trace("removeVideoTilesByAttendeeId",a,o),o}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(a){const o=this.videoTileController.captureVideoTile(a);return this.trace("captureVideoTile",a),o}realtimeSubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(a),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(a){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(a),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSetCanUnmuteLocalAudio(a),this.trace("realtimeSetCanUnmuteLocalAudio",a)}realtimeSubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const a=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,a),a}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const a=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),a}realtimeSubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(a),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const a=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),a}realtimeSubscribeToVolumeIndicator(a,o){this.realtimeController.realtimeSubscribeToVolumeIndicator(a,o),this.trace("realtimeSubscribeToVolumeIndicator",a)}realtimeUnsubscribeFromVolumeIndicator(a,o){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(a,o),this.trace("realtimeUnsubscribeFromVolumeIndicator",a,o)}realtimeSubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(a),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(a){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(a),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(a,o,i){this.realtimeController.realtimeSendDataMessage(a,o,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(a,o){this.realtimeController.realtimeSubscribeToReceiveDataMessage(a,o),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(a){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(a),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(a){this.realtimeController.realtimeSubscribeToFatalError(a),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(a){this.realtimeController.realtimeUnsubscribeToFatalError(a),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(a,o,i,e){this.audioVideoController.activeSpeakerDetector.subscribe(a,o,i,e),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(a){this.audioVideoController.activeSpeakerDetector.unsubscribe(a),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const o=yield this.deviceController.listAudioInputDevices(a);return this.trace("listAudioInputDevices",a,o),o})}listVideoInputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const o=yield this.deviceController.listVideoInputDevices(a);return this.trace("listVideoInputDevices",a,o),o})}listAudioOutputDevices(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const o=yield this.deviceController.listAudioOutputDevices(a);return this.trace("listAudioOutputDevices",a,o),o})}startAudioInput(a){return v(this,void 0,void 0,function*(){return this.trace("startAudioInput",a),this.deviceController.startAudioInput(a)})}stopAudioInput(){return v(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(a){return v(this,void 0,void 0,function*(){return f.isVideoTransformDevice(a)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",a),this.deviceController.startVideoInput(a)})}stopVideoInput(){return v(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(a){const o=this.deviceController.chooseAudioOutput(a);return this.trace("chooseAudioOutput",a),o}addDeviceChangeObserver(a){this.deviceController.addDeviceChangeObserver(a),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(a){this.deviceController.removeDeviceChangeObserver(a),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const a=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),a}startVideoPreviewForVideoInput(a){this.deviceController.startVideoPreviewForVideoInput(a),this.trace("startVideoPreviewForVideoInput",a.id)}stopVideoPreviewForVideoInput(a){this.deviceController.stopVideoPreviewForVideoInput(a),this.trace("stopVideoPreviewForVideoInput",a.id)}setDeviceLabelTrigger(a){this.deviceController.setDeviceLabelTrigger(a),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(a){const o=this.deviceController.mixIntoAudioInput(a);return this.trace("mixIntoAudioInput",a.id),o}chooseVideoInputQuality(a,o,i){this.deviceController.chooseVideoInputQuality(a,o,i),this.trace("chooseVideoInputQuality",{width:a,height:o,frameRate:i})}setVideoMaxBandwidthKbps(a){this.audioVideoController.setVideoMaxBandwidthKbps(a),this.trace("setVideoMaxBandwidthKbps",a)}setVideoCodecSendPreferences(a){this.audioVideoController.setVideoCodecSendPreferences(a),this.trace("setVideoCodecSendPreferences",a)}getVideoInputQualitySettings(){const a=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),a}setContentAudioProfile(a){this.trace("setContentAudioProfile",a),this.contentShareController.setContentAudioProfile(a)}enableSimulcastForContentShare(a,o){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(a,o)}startContentShare(a){const o=this.contentShareController.startContentShare(a);return this.trace("startContentShare"),o}startContentShareFromScreenCapture(a,o){const i=this.contentShareController.startContentShareFromScreenCapture(a,o);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(a){this.contentShareController.addContentShareObserver(a),this.trace("addContentShareObserver")}removeContentShareObserver(a){this.contentShareController.removeContentShareObserver(a),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(a){this.contentShareController.setContentShareVideoCodecPreferences(a),this.trace("setContentShareVideoCodecPreferences")}trace(a,o,i){const e=this.audioVideoController.configuration.meetingId,t=this.audioVideoController.configuration.credentials.attendeeId;let n=`API/DefaultAudioVideoFacade/${e}/${t}/${a}`;typeof o<"u"&&(n+=` ${JSON.stringify(o)}`),typeof i<"u"&&(n+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(n)}getRemoteVideoSources(){const a=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,a),a}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(a){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const o=this.audioVideoController.promoteToPrimaryMeeting(a);return this.trace("promoteToPrimaryMeeting",null,o),o}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(a){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}constructor(a,o,i,e,t,n){this.audioVideoController=a,this.videoTileController=o,this.realtimeController=i,this.audioMixController=e,this.deviceController=t,this.contentShareController=n}},"DefaultAudioVideoFacade");c.default=h},HXIC:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a){this.type=h,this.headers=m,this.payload=a}},"Message");c.default=v},HbHZ:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SignalingClientEventType=void 0;var v;(function(f){f[f.WebSocketConnecting=0]="WebSocketConnecting",f[f.WebSocketOpen=1]="WebSocketOpen",f[f.WebSocketError=2]="WebSocketError",f[f.WebSocketClosing=3]="WebSocketClosing",f[f.WebSocketClosed=4]="WebSocketClosed",f[f.WebSocketFailed=5]="WebSocketFailed",f[f.WebSocketMessage=6]="WebSocketMessage",f[f.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",f[f.WebSocketSentMessage=8]="WebSocketSentMessage",f[f.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",f[f.ReceivedSignalFrame=10]="ReceivedSignalFrame",f[f.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(v=c.SignalingClientEventType||(c.SignalingClientEventType={})),c.default=v},Hi4k:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(l,E,O,P){function x(k){return k instanceof O?k:new O(function(B){B(k)})}return r(x,"adopt"),new(O||(O=Promise))(function(k,B){function R(A){try{w(P.next(A))}catch(D){B(D)}}r(R,"fulfilled");function N(A){try{w(P.throw(A))}catch(D){B(D)}}r(N,"rejected");function w(A){A.done?k(A.value):x(A.value).then(R,N)}r(w,"step"),w((P=P.apply(l,E||[])).next())})},f=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("bjg3")),m=f(d("x8On")),a=f(d("Zful")),o=f(d("1GR6")),i=f(d("I/xa")),e=f(d("aZba")),t=f(d("papz")),n=f(d("HbHZ")),s=d("XCDq"),p=f(d("PPZC")),g=d("Aplu"),S=f(d("j+uH"));let u=r(class extends S.default{removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(E){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(E){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=E;return}else this.pendingMetricsReport=void 0;const O=E.getObservableMetrics(),P=O.availableOutgoingBitrate,x=O.nackCountReceivedPerSecond;let k=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(E);const B=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(k=k||B,B){const R=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=R.truncate(this.context.videoSubscriptionLimit),R.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${B}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:P/1e3,nackCountPerSecond:x});const R=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();k=k||R,R&&(this.logger.info(`trigger resubscribe for up=${R}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters(),this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints())}return k}metricsDidReceive(E){if(this.checkResubscribe(E)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const O=E.streamMetricReports,P=new Map;for(const x in O)O[x].mediaType===m.default.VIDEO&&O[x].direction===h.default.DOWNSTREAM&&P.set(O[x].streamId,O[x])}connectionHealthDidChange(E){E.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,E,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,E,()=>{var O;this.context.poorConnectionCount+=1;const P=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(O=this.context.eventController)===null||O===void 0||O.publishEvent("receivingAudioDropped",P),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(x=>{g.Maybe.of(x.connectionDidSuggestStopVideo).map(k=>k.bind(x)())}):this.context.audioVideoController.forEachObserver(x=>{g.Maybe.of(x.connectionDidBecomePoor).map(k=>k.bind(x)())})},()=>{this.context.audioVideoController.forEachObserver(O=>{g.Maybe.of(O.connectionDidBecomeGood).map(P=>P.bind(O)())})}),this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,E,()=>{var O;const P=this.generateBaseAudioVideoEventAttributes();(O=this.context.eventController)===null||O===void 0||O.publishEvent("sendingAudioFailed",P)},()=>{var O;const P=this.generateBaseAudioVideoEventAttributes();(O=this.context.eventController)===null||O===void 0||O.publishEvent("sendingAudioRecovered",P)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(E){this.isMeetingConnected=!1}audioVideoDidStop(E){this.isMeetingConnected=!1}applyHealthPolicy(E,O,P,x){E.update(O);const k=E.healthIfChanged();k!==null&&(this.logger.info(`${E.name} value is now ${k}`),k<=E.minimumHealth()?g.Maybe.of(P).map(B=>B.bind(this)()):g.Maybe.of(x).map(B=>B.bind(this)()))}handleBitrateFrame(E){this.currentAvailableStreamAvgBitrates=E,E.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${E.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",E.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(E){var O;if(E.type===n.default.WebSocketClosed&&(E.closeCode===4410||E.closeCode>=4500&&E.closeCode<4600)||E.type===n.default.WebSocketError||E.type===n.default.WebSocketFailed){if(!this.hasSignalingError){const P=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(O=this.context.eventController)===null||O===void 0||O.publishEvent("signalingDropped",P),this.hasSignalingError=!0}}else E.type===n.default.WebSocketOpen&&(this.hasSignalingError=!1);if(E.type===n.default.ReceivedSignalFrame){if(E.message.bitrates){const x=E.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(x),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(E.message.bitrates)}const P=e.default.fromSignalFrame(E.message);E.message.type!==s.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&P.statusCode()!==t.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(P,null)}}constructor(E,O,P){super(E.logger),this.context=E,this.initialConnectionHealthData=P,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.checkAndSendWeakSignalEvent=x=>{const k=x<1,B=this.prevSignalStrength<1,R=k?B?null:p.default.RedmicStartLoss:B?p.default.RedmicEndLoss:null;R&&this.context.statsCollector.logAudioEvent(R),this.prevSignalStrength=x},this.realtimeFatalErrorCallback=x=>{this.logger.error(`realtime error: ${x}: ${x.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new e.default(t.default.RealtimeApiFailed),x)},this.realtimeAttendeeIdPresenceHandler=(x,k)=>{var B;const R=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${R}`),R===x&&k&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(B=this.context.eventController)===null||B===void 0||B.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:x,startTimeMs:k,iceGatheringDurationMs:B,attendeePresenceDurationMs:R,meetingStartDurationMs:N}=this.context;return{meetingDurationMs:k===null?0:Math.round(Date.now()-k),signalingOpenDurationMs:x,iceGatheringDurationMs:B,attendeePresenceDurationMs:R,meetingStartDurationMs:N}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const x=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},x),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new a.default(E.logger,Object.assign({},O),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new i.default(Object.assign({},O),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new o.default(E.logger,Object.assign({},O),this.initialConnectionHealthData.clone())}},"MonitorTask");c.default=u},HlBM:function(U,c,d){"use strict";d.d(c,"a",function(){return i});var v=d("VDtp"),f=d.n(v);const h=v.Reader,m=v.Writer,a=v.util,o=v.roots.default||(v.roots.default={}),i=o.PeerMessage=(()=>{function e(t){if(t)for(let n=Object.keys(t),s=0;s<n.length;++s)t[n[s]]!=null&&(this[n[s]]=t[n[s]])}return r(e,"PeerMessage1"),e.prototype.reacji=null,e.prototype.draw=null,e.prototype.fromPeerId=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fromPeerIdString="",e.prototype.capabilities=null,e.prototype.background=null,e.prototype.muteRequest=null,e.prototype.awarenessBroadcast=null,e.prototype.awarenessQuery=null,e.prototype.awarenessClose=null,e.prototype.jukeboxRequest=null,e.prototype.contentShareDetails=null,e.create=r(function(n){return new e(n)},"create"),e.encode=r(function(n,s){return s||(s=m.create()),n.reacji!=null&&Object.hasOwnProperty.call(n,"reacji")&&o.PeerMessage.Reacji.encode(n.reacji,s.uint32(10).fork()).ldelim(),n.draw!=null&&Object.hasOwnProperty.call(n,"draw")&&o.PeerMessage.Draw.encode(n.draw,s.uint32(18).fork()).ldelim(),n.fromPeerId!=null&&Object.hasOwnProperty.call(n,"fromPeerId")&&s.uint32(24).uint64(n.fromPeerId),n.fromPeerIdString!=null&&Object.hasOwnProperty.call(n,"fromPeerIdString")&&s.uint32(34).string(n.fromPeerIdString),n.capabilities!=null&&Object.hasOwnProperty.call(n,"capabilities")&&o.PeerMessage.Capabilities.encode(n.capabilities,s.uint32(42).fork()).ldelim(),n.background!=null&&Object.hasOwnProperty.call(n,"background")&&o.PeerMessage.Background.encode(n.background,s.uint32(50).fork()).ldelim(),n.muteRequest!=null&&Object.hasOwnProperty.call(n,"muteRequest")&&o.PeerMessage.MuteRequest.encode(n.muteRequest,s.uint32(82).fork()).ldelim(),n.awarenessBroadcast!=null&&Object.hasOwnProperty.call(n,"awarenessBroadcast")&&o.PeerMessage.AwarenessBroadcast.encode(n.awarenessBroadcast,s.uint32(90).fork()).ldelim(),n.awarenessQuery!=null&&Object.hasOwnProperty.call(n,"awarenessQuery")&&o.PeerMessage.AwarenessQuery.encode(n.awarenessQuery,s.uint32(98).fork()).ldelim(),n.awarenessClose!=null&&Object.hasOwnProperty.call(n,"awarenessClose")&&o.PeerMessage.AwarenessClose.encode(n.awarenessClose,s.uint32(106).fork()).ldelim(),n.jukeboxRequest!=null&&Object.hasOwnProperty.call(n,"jukeboxRequest")&&o.PeerMessage.JukeboxRequest.encode(n.jukeboxRequest,s.uint32(114).fork()).ldelim(),n.contentShareDetails!=null&&Object.hasOwnProperty.call(n,"contentShareDetails")&&o.PeerMessage.ContentShareDetails.encode(n.contentShareDetails,s.uint32(122).fork()).ldelim(),s},"encode"),e.encodeDelimited=r(function(n,s){return this.encode(n,s).ldelim()},"encodeDelimited"),e.decode=r(function(n,s){n instanceof h||(n=h.create(n));let p=s===void 0?n.len:n.pos+s,g=new o.PeerMessage;for(;n.pos<p;){let S=n.uint32();switch(S>>>3){case 1:{g.reacji=o.PeerMessage.Reacji.decode(n,n.uint32());break}case 2:{g.draw=o.PeerMessage.Draw.decode(n,n.uint32());break}case 3:{g.fromPeerId=n.uint64();break}case 4:{g.fromPeerIdString=n.string();break}case 5:{g.capabilities=o.PeerMessage.Capabilities.decode(n,n.uint32());break}case 6:{g.background=o.PeerMessage.Background.decode(n,n.uint32());break}case 10:{g.muteRequest=o.PeerMessage.MuteRequest.decode(n,n.uint32());break}case 11:{g.awarenessBroadcast=o.PeerMessage.AwarenessBroadcast.decode(n,n.uint32());break}case 12:{g.awarenessQuery=o.PeerMessage.AwarenessQuery.decode(n,n.uint32());break}case 13:{g.awarenessClose=o.PeerMessage.AwarenessClose.decode(n,n.uint32());break}case 14:{g.jukeboxRequest=o.PeerMessage.JukeboxRequest.decode(n,n.uint32());break}case 15:{g.contentShareDetails=o.PeerMessage.ContentShareDetails.decode(n,n.uint32());break}default:n.skipType(S&7);break}}return g},"decode"),e.decodeDelimited=r(function(n){return n instanceof h||(n=new h(n)),this.decode(n,n.uint32())},"decodeDelimited"),e.verify=r(function(n){if(typeof n!="object"||n===null)return"object expected";if(n.reacji!=null&&n.hasOwnProperty("reacji")){let s=o.PeerMessage.Reacji.verify(n.reacji);if(s)return"reacji."+s}if(n.draw!=null&&n.hasOwnProperty("draw")){let s=o.PeerMessage.Draw.verify(n.draw);if(s)return"draw."+s}if(n.fromPeerId!=null&&n.hasOwnProperty("fromPeerId")&&!a.isInteger(n.fromPeerId)&&!(n.fromPeerId&&a.isInteger(n.fromPeerId.low)&&a.isInteger(n.fromPeerId.high)))return"fromPeerId: integer|Long expected";if(n.fromPeerIdString!=null&&n.hasOwnProperty("fromPeerIdString")&&!a.isString(n.fromPeerIdString))return"fromPeerIdString: string expected";if(n.capabilities!=null&&n.hasOwnProperty("capabilities")){let s=o.PeerMessage.Capabilities.verify(n.capabilities);if(s)return"capabilities."+s}if(n.background!=null&&n.hasOwnProperty("background")){let s=o.PeerMessage.Background.verify(n.background);if(s)return"background."+s}if(n.muteRequest!=null&&n.hasOwnProperty("muteRequest")){let s=o.PeerMessage.MuteRequest.verify(n.muteRequest);if(s)return"muteRequest."+s}if(n.awarenessBroadcast!=null&&n.hasOwnProperty("awarenessBroadcast")){let s=o.PeerMessage.AwarenessBroadcast.verify(n.awarenessBroadcast);if(s)return"awarenessBroadcast."+s}if(n.awarenessQuery!=null&&n.hasOwnProperty("awarenessQuery")){let s=o.PeerMessage.AwarenessQuery.verify(n.awarenessQuery);if(s)return"awarenessQuery."+s}if(n.awarenessClose!=null&&n.hasOwnProperty("awarenessClose")){let s=o.PeerMessage.AwarenessClose.verify(n.awarenessClose);if(s)return"awarenessClose."+s}if(n.jukeboxRequest!=null&&n.hasOwnProperty("jukeboxRequest")){let s=o.PeerMessage.JukeboxRequest.verify(n.jukeboxRequest);if(s)return"jukeboxRequest."+s}if(n.contentShareDetails!=null&&n.hasOwnProperty("contentShareDetails")){let s=o.PeerMessage.ContentShareDetails.verify(n.contentShareDetails);if(s)return"contentShareDetails."+s}return null},"verify"),e.fromObject=r(function(n){if(n instanceof o.PeerMessage)return n;let s=new o.PeerMessage;if(n.reacji!=null){if(typeof n.reacji!="object")throw TypeError(".PeerMessage.reacji: object expected");s.reacji=o.PeerMessage.Reacji.fromObject(n.reacji)}if(n.draw!=null){if(typeof n.draw!="object")throw TypeError(".PeerMessage.draw: object expected");s.draw=o.PeerMessage.Draw.fromObject(n.draw)}if(n.fromPeerId!=null&&(a.Long?(s.fromPeerId=a.Long.fromValue(n.fromPeerId)).unsigned=!0:typeof n.fromPeerId=="string"?s.fromPeerId=parseInt(n.fromPeerId,10):typeof n.fromPeerId=="number"?s.fromPeerId=n.fromPeerId:typeof n.fromPeerId=="object"&&(s.fromPeerId=new a.LongBits(n.fromPeerId.low>>>0,n.fromPeerId.high>>>0).toNumber(!0))),n.fromPeerIdString!=null&&(s.fromPeerIdString=String(n.fromPeerIdString)),n.capabilities!=null){if(typeof n.capabilities!="object")throw TypeError(".PeerMessage.capabilities: object expected");s.capabilities=o.PeerMessage.Capabilities.fromObject(n.capabilities)}if(n.background!=null){if(typeof n.background!="object")throw TypeError(".PeerMessage.background: object expected");s.background=o.PeerMessage.Background.fromObject(n.background)}if(n.muteRequest!=null){if(typeof n.muteRequest!="object")throw TypeError(".PeerMessage.muteRequest: object expected");s.muteRequest=o.PeerMessage.MuteRequest.fromObject(n.muteRequest)}if(n.awarenessBroadcast!=null){if(typeof n.awarenessBroadcast!="object")throw TypeError(".PeerMessage.awarenessBroadcast: object expected");s.awarenessBroadcast=o.PeerMessage.AwarenessBroadcast.fromObject(n.awarenessBroadcast)}if(n.awarenessQuery!=null){if(typeof n.awarenessQuery!="object")throw TypeError(".PeerMessage.awarenessQuery: object expected");s.awarenessQuery=o.PeerMessage.AwarenessQuery.fromObject(n.awarenessQuery)}if(n.awarenessClose!=null){if(typeof n.awarenessClose!="object")throw TypeError(".PeerMessage.awarenessClose: object expected");s.awarenessClose=o.PeerMessage.AwarenessClose.fromObject(n.awarenessClose)}if(n.jukeboxRequest!=null){if(typeof n.jukeboxRequest!="object")throw TypeError(".PeerMessage.jukeboxRequest: object expected");s.jukeboxRequest=o.PeerMessage.JukeboxRequest.fromObject(n.jukeboxRequest)}if(n.contentShareDetails!=null){if(typeof n.contentShareDetails!="object")throw TypeError(".PeerMessage.contentShareDetails: object expected");s.contentShareDetails=o.PeerMessage.ContentShareDetails.fromObject(n.contentShareDetails)}return s},"fromObject"),e.toObject=r(function(n,s){s||(s={});let p={};if(s.defaults){if(p.reacji=null,p.draw=null,a.Long){let g=new a.Long(0,0,!0);p.fromPeerId=s.longs===String?g.toString():s.longs===Number?g.toNumber():g}else p.fromPeerId=s.longs===String?"0":0;p.fromPeerIdString="",p.capabilities=null,p.background=null,p.muteRequest=null,p.awarenessBroadcast=null,p.awarenessQuery=null,p.awarenessClose=null,p.jukeboxRequest=null,p.contentShareDetails=null}return n.reacji!=null&&n.hasOwnProperty("reacji")&&(p.reacji=o.PeerMessage.Reacji.toObject(n.reacji,s)),n.draw!=null&&n.hasOwnProperty("draw")&&(p.draw=o.PeerMessage.Draw.toObject(n.draw,s)),n.fromPeerId!=null&&n.hasOwnProperty("fromPeerId")&&(typeof n.fromPeerId=="number"?p.fromPeerId=s.longs===String?String(n.fromPeerId):n.fromPeerId:p.fromPeerId=s.longs===String?a.Long.prototype.toString.call(n.fromPeerId):s.longs===Number?new a.LongBits(n.fromPeerId.low>>>0,n.fromPeerId.high>>>0).toNumber(!0):n.fromPeerId),n.fromPeerIdString!=null&&n.hasOwnProperty("fromPeerIdString")&&(p.fromPeerIdString=n.fromPeerIdString),n.capabilities!=null&&n.hasOwnProperty("capabilities")&&(p.capabilities=o.PeerMessage.Capabilities.toObject(n.capabilities,s)),n.background!=null&&n.hasOwnProperty("background")&&(p.background=o.PeerMessage.Background.toObject(n.background,s)),n.muteRequest!=null&&n.hasOwnProperty("muteRequest")&&(p.muteRequest=o.PeerMessage.MuteRequest.toObject(n.muteRequest,s)),n.awarenessBroadcast!=null&&n.hasOwnProperty("awarenessBroadcast")&&(p.awarenessBroadcast=o.PeerMessage.AwarenessBroadcast.toObject(n.awarenessBroadcast,s)),n.awarenessQuery!=null&&n.hasOwnProperty("awarenessQuery")&&(p.awarenessQuery=o.PeerMessage.AwarenessQuery.toObject(n.awarenessQuery,s)),n.awarenessClose!=null&&n.hasOwnProperty("awarenessClose")&&(p.awarenessClose=o.PeerMessage.AwarenessClose.toObject(n.awarenessClose,s)),n.jukeboxRequest!=null&&n.hasOwnProperty("jukeboxRequest")&&(p.jukeboxRequest=o.PeerMessage.JukeboxRequest.toObject(n.jukeboxRequest,s)),n.contentShareDetails!=null&&n.hasOwnProperty("contentShareDetails")&&(p.contentShareDetails=o.PeerMessage.ContentShareDetails.toObject(n.contentShareDetails,s)),p},"toObject"),e.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),e.getTypeUrl=r(function(n){return n===void 0&&(n="type.googleapis.com"),n+"/PeerMessage"},"getTypeUrl"),e.Reacji=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"Reacji"),t.prototype.emoji="",t.prototype.type=0,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.emoji!=null&&Object.hasOwnProperty.call(s,"emoji")&&p.uint32(10).string(s.emoji),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&p.uint32(16).int32(s.type),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.Reacji;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.emoji=s.string();break}case 2:{S.type=s.int32();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){if(typeof s!="object"||s===null)return"object expected";if(s.emoji!=null&&s.hasOwnProperty("emoji")&&!a.isString(s.emoji))return"emoji: string expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 0:case 1:case 2:break}return null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.Reacji)return s;let p=new o.PeerMessage.Reacji;switch(s.emoji!=null&&(p.emoji=String(s.emoji)),s.type){default:if(typeof s.type=="number"){p.type=s.type;break}break;case"Unknown_reaction_type":case 0:p.type=0;break;case"Effect":case 1:p.type=1;break;case"Standard":case 2:p.type=2;break}return p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.emoji="",g.type=p.enums===String?"Unknown_reaction_type":0),s.emoji!=null&&s.hasOwnProperty("emoji")&&(g.emoji=s.emoji),s.type!=null&&s.hasOwnProperty("type")&&(g.type=p.enums===String?o.PeerMessage.Reacji.Type[s.type]===void 0?s.type:o.PeerMessage.Reacji.Type[s.type]:s.type),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.Reacji"},"getTypeUrl"),t.Type=function(){const n={},s=Object.create(n);return s[n[0]="Unknown_reaction_type"]=0,s[n[1]="Effect"]=1,s[n[2]="Standard"]=2,s}(),t}(),e.Point=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"Point"),t.prototype.x=0,t.prototype.y=0,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.x!=null&&Object.hasOwnProperty.call(s,"x")&&p.uint32(9).double(s.x),s.y!=null&&Object.hasOwnProperty.call(s,"y")&&p.uint32(17).double(s.y),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.Point;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.x=s.double();break}case 2:{S.y=s.double();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.x!=null&&s.hasOwnProperty("x")&&typeof s.x!="number"?"x: number expected":s.y!=null&&s.hasOwnProperty("y")&&typeof s.y!="number"?"y: number expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.Point)return s;let p=new o.PeerMessage.Point;return s.x!=null&&(p.x=Number(s.x)),s.y!=null&&(p.y=Number(s.y)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.x=0,g.y=0),s.x!=null&&s.hasOwnProperty("x")&&(g.x=p.json&&!isFinite(s.x)?String(s.x):s.x),s.y!=null&&s.hasOwnProperty("y")&&(g.y=p.json&&!isFinite(s.y)?String(s.y):s.y),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.Point"},"getTypeUrl"),t}(),e.Segment=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"Segment"),t.prototype.a=null,t.prototype.b=null,t.prototype.c=null,t.prototype.d=null,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.a!=null&&Object.hasOwnProperty.call(s,"a")&&o.PeerMessage.Point.encode(s.a,p.uint32(10).fork()).ldelim(),s.b!=null&&Object.hasOwnProperty.call(s,"b")&&o.PeerMessage.Point.encode(s.b,p.uint32(18).fork()).ldelim(),s.c!=null&&Object.hasOwnProperty.call(s,"c")&&o.PeerMessage.Point.encode(s.c,p.uint32(26).fork()).ldelim(),s.d!=null&&Object.hasOwnProperty.call(s,"d")&&o.PeerMessage.Point.encode(s.d,p.uint32(34).fork()).ldelim(),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.Segment;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.a=o.PeerMessage.Point.decode(s,s.uint32());break}case 2:{S.b=o.PeerMessage.Point.decode(s,s.uint32());break}case 3:{S.c=o.PeerMessage.Point.decode(s,s.uint32());break}case 4:{S.d=o.PeerMessage.Point.decode(s,s.uint32());break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){if(typeof s!="object"||s===null)return"object expected";if(s.a!=null&&s.hasOwnProperty("a")){let p=o.PeerMessage.Point.verify(s.a);if(p)return"a."+p}if(s.b!=null&&s.hasOwnProperty("b")){let p=o.PeerMessage.Point.verify(s.b);if(p)return"b."+p}if(s.c!=null&&s.hasOwnProperty("c")){let p=o.PeerMessage.Point.verify(s.c);if(p)return"c."+p}if(s.d!=null&&s.hasOwnProperty("d")){let p=o.PeerMessage.Point.verify(s.d);if(p)return"d."+p}return null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.Segment)return s;let p=new o.PeerMessage.Segment;if(s.a!=null){if(typeof s.a!="object")throw TypeError(".PeerMessage.Segment.a: object expected");p.a=o.PeerMessage.Point.fromObject(s.a)}if(s.b!=null){if(typeof s.b!="object")throw TypeError(".PeerMessage.Segment.b: object expected");p.b=o.PeerMessage.Point.fromObject(s.b)}if(s.c!=null){if(typeof s.c!="object")throw TypeError(".PeerMessage.Segment.c: object expected");p.c=o.PeerMessage.Point.fromObject(s.c)}if(s.d!=null){if(typeof s.d!="object")throw TypeError(".PeerMessage.Segment.d: object expected");p.d=o.PeerMessage.Point.fromObject(s.d)}return p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.a=null,g.b=null,g.c=null,g.d=null),s.a!=null&&s.hasOwnProperty("a")&&(g.a=o.PeerMessage.Point.toObject(s.a,p)),s.b!=null&&s.hasOwnProperty("b")&&(g.b=o.PeerMessage.Point.toObject(s.b,p)),s.c!=null&&s.hasOwnProperty("c")&&(g.c=o.PeerMessage.Point.toObject(s.c,p)),s.d!=null&&s.hasOwnProperty("d")&&(g.d=o.PeerMessage.Point.toObject(s.d,p)),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.Segment"},"getTypeUrl"),t}(),e.Draw=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"Draw"),t.prototype.type=0,t.prototype.segment=null,t.prototype.hue=0,t.prototype.itemId="",t.prototype.x=0,t.prototype.y=0,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.type!=null&&Object.hasOwnProperty.call(s,"type")&&p.uint32(8).int32(s.type),s.segment!=null&&Object.hasOwnProperty.call(s,"segment")&&o.PeerMessage.Segment.encode(s.segment,p.uint32(18).fork()).ldelim(),s.hue!=null&&Object.hasOwnProperty.call(s,"hue")&&p.uint32(24).int32(s.hue),s.itemId!=null&&Object.hasOwnProperty.call(s,"itemId")&&p.uint32(34).string(s.itemId),s.x!=null&&Object.hasOwnProperty.call(s,"x")&&p.uint32(41).double(s.x),s.y!=null&&Object.hasOwnProperty.call(s,"y")&&p.uint32(49).double(s.y),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.Draw;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.type=s.int32();break}case 2:{S.segment=o.PeerMessage.Segment.decode(s,s.uint32());break}case 3:{S.hue=s.int32();break}case 4:{S.itemId=s.string();break}case 5:{S.x=s.double();break}case 6:{S.y=s.double();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){if(typeof s!="object"||s===null)return"object expected";if(s.type!=null&&s.hasOwnProperty("type"))switch(s.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(s.segment!=null&&s.hasOwnProperty("segment")){let p=o.PeerMessage.Segment.verify(s.segment);if(p)return"segment."+p}return s.hue!=null&&s.hasOwnProperty("hue")&&!a.isInteger(s.hue)?"hue: integer expected":s.itemId!=null&&s.hasOwnProperty("itemId")&&!a.isString(s.itemId)?"itemId: string expected":s.x!=null&&s.hasOwnProperty("x")&&typeof s.x!="number"?"x: number expected":s.y!=null&&s.hasOwnProperty("y")&&typeof s.y!="number"?"y: number expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.Draw)return s;let p=new o.PeerMessage.Draw;switch(s.type){default:if(typeof s.type=="number"){p.type=s.type;break}break;case"UNKNOWN_DRAW_TYPE":case 0:p.type=0;break;case"NEW":case 1:p.type=1;break;case"EDIT":case 2:p.type=2;break;case"END":case 3:p.type=3;break;case"CHANGE_HUE":case 4:p.type=4;break;case"POSITION":case 5:p.type=5;break}if(s.segment!=null){if(typeof s.segment!="object")throw TypeError(".PeerMessage.Draw.segment: object expected");p.segment=o.PeerMessage.Segment.fromObject(s.segment)}return s.hue!=null&&(p.hue=s.hue|0),s.itemId!=null&&(p.itemId=String(s.itemId)),s.x!=null&&(p.x=Number(s.x)),s.y!=null&&(p.y=Number(s.y)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.type=p.enums===String?"UNKNOWN_DRAW_TYPE":0,g.segment=null,g.hue=0,g.itemId="",g.x=0,g.y=0),s.type!=null&&s.hasOwnProperty("type")&&(g.type=p.enums===String?o.PeerMessage.Draw.Type[s.type]===void 0?s.type:o.PeerMessage.Draw.Type[s.type]:s.type),s.segment!=null&&s.hasOwnProperty("segment")&&(g.segment=o.PeerMessage.Segment.toObject(s.segment,p)),s.hue!=null&&s.hasOwnProperty("hue")&&(g.hue=s.hue),s.itemId!=null&&s.hasOwnProperty("itemId")&&(g.itemId=s.itemId),s.x!=null&&s.hasOwnProperty("x")&&(g.x=p.json&&!isFinite(s.x)?String(s.x):s.x),s.y!=null&&s.hasOwnProperty("y")&&(g.y=p.json&&!isFinite(s.y)?String(s.y):s.y),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.Draw"},"getTypeUrl"),t.Type=function(){const n={},s=Object.create(n);return s[n[0]="UNKNOWN_DRAW_TYPE"]=0,s[n[1]="NEW"]=1,s[n[2]="EDIT"]=2,s[n[3]="END"]=3,s[n[4]="CHANGE_HUE"]=4,s[n[5]="POSITION"]=5,s}(),t}(),e.Capabilities=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"Capabilities"),t.prototype.isDrawEnabled=!1,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.isDrawEnabled!=null&&Object.hasOwnProperty.call(s,"isDrawEnabled")&&p.uint32(8).bool(s.isDrawEnabled),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.Capabilities;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.isDrawEnabled=s.bool();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.isDrawEnabled!=null&&s.hasOwnProperty("isDrawEnabled")&&typeof s.isDrawEnabled!="boolean"?"isDrawEnabled: boolean expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.Capabilities)return s;let p=new o.PeerMessage.Capabilities;return s.isDrawEnabled!=null&&(p.isDrawEnabled=Boolean(s.isDrawEnabled)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.isDrawEnabled=!1),s.isDrawEnabled!=null&&s.hasOwnProperty("isDrawEnabled")&&(g.isDrawEnabled=s.isDrawEnabled),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.Capabilities"},"getTypeUrl"),t}(),e.ContentShareDetails=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"ContentShareDetails"),t.prototype.sourceType="",t.prototype.itemId="",t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.sourceType!=null&&Object.hasOwnProperty.call(s,"sourceType")&&p.uint32(10).string(s.sourceType),s.itemId!=null&&Object.hasOwnProperty.call(s,"itemId")&&p.uint32(18).string(s.itemId),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.ContentShareDetails;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.sourceType=s.string();break}case 2:{S.itemId=s.string();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.sourceType!=null&&s.hasOwnProperty("sourceType")&&!a.isString(s.sourceType)?"sourceType: string expected":s.itemId!=null&&s.hasOwnProperty("itemId")&&!a.isString(s.itemId)?"itemId: string expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.ContentShareDetails)return s;let p=new o.PeerMessage.ContentShareDetails;return s.sourceType!=null&&(p.sourceType=String(s.sourceType)),s.itemId!=null&&(p.itemId=String(s.itemId)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.sourceType="",g.itemId=""),s.sourceType!=null&&s.hasOwnProperty("sourceType")&&(g.sourceType=s.sourceType),s.itemId!=null&&s.hasOwnProperty("itemId")&&(g.itemId=s.itemId),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.ContentShareDetails"},"getTypeUrl"),t}(),e.Background=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"Background"),t.prototype.url="",t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.url!=null&&Object.hasOwnProperty.call(s,"url")&&p.uint32(10).string(s.url),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.Background;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.url=s.string();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.url!=null&&s.hasOwnProperty("url")&&!a.isString(s.url)?"url: string expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.Background)return s;let p=new o.PeerMessage.Background;return s.url!=null&&(p.url=String(s.url)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.url=""),s.url!=null&&s.hasOwnProperty("url")&&(g.url=s.url),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.Background"},"getTypeUrl"),t}(),e.MuteRequest=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"MuteRequest"),t.prototype.peerId="",t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.peerId!=null&&Object.hasOwnProperty.call(s,"peerId")&&p.uint32(10).string(s.peerId),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.MuteRequest;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.peerId=s.string();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.peerId!=null&&s.hasOwnProperty("peerId")&&!a.isString(s.peerId)?"peerId: string expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.MuteRequest)return s;let p=new o.PeerMessage.MuteRequest;return s.peerId!=null&&(p.peerId=String(s.peerId)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.peerId=""),s.peerId!=null&&s.hasOwnProperty("peerId")&&(g.peerId=s.peerId),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.MuteRequest"},"getTypeUrl"),t}(),e.JukeboxRequest=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"JukeboxRequest"),t.prototype.songKey="",t.prototype.stop=!1,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.songKey!=null&&Object.hasOwnProperty.call(s,"songKey")&&p.uint32(10).string(s.songKey),s.stop!=null&&Object.hasOwnProperty.call(s,"stop")&&p.uint32(16).bool(s.stop),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.JukeboxRequest;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.songKey=s.string();break}case 2:{S.stop=s.bool();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.songKey!=null&&s.hasOwnProperty("songKey")&&!a.isString(s.songKey)?"songKey: string expected":s.stop!=null&&s.hasOwnProperty("stop")&&typeof s.stop!="boolean"?"stop: boolean expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.JukeboxRequest)return s;let p=new o.PeerMessage.JukeboxRequest;return s.songKey!=null&&(p.songKey=String(s.songKey)),s.stop!=null&&(p.stop=Boolean(s.stop)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.songKey="",g.stop=!1),s.songKey!=null&&s.hasOwnProperty("songKey")&&(g.songKey=s.songKey),s.stop!=null&&s.hasOwnProperty("stop")&&(g.stop=s.stop),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.JukeboxRequest"},"getTypeUrl"),t}(),e.AwarenessPayload=function(){function t(s){if(s)for(let p=Object.keys(s),g=0;g<p.length;++g)s[p[g]]!=null&&(this[p[g]]=s[p[g]])}r(t,"AwarenessPayload"),t.prototype.fieldName="",t.prototype.fieldValue="",t.prototype.fieldTimestampMs=null;let n;return Object.defineProperty(t.prototype,"_fieldTimestampMs",{get:a.oneOfGetter(n=["fieldTimestampMs"]),set:a.oneOfSetter(n)}),t.create=r(function(p){return new t(p)},"create"),t.encode=r(function(p,g){return g||(g=m.create()),p.fieldName!=null&&Object.hasOwnProperty.call(p,"fieldName")&&g.uint32(10).string(p.fieldName),p.fieldValue!=null&&Object.hasOwnProperty.call(p,"fieldValue")&&g.uint32(18).string(p.fieldValue),p.fieldTimestampMs!=null&&Object.hasOwnProperty.call(p,"fieldTimestampMs")&&g.uint32(24).int64(p.fieldTimestampMs),g},"encode"),t.encodeDelimited=r(function(p,g){return this.encode(p,g).ldelim()},"encodeDelimited"),t.decode=r(function(p,g){p instanceof h||(p=h.create(p));let S=g===void 0?p.len:p.pos+g,u=new o.PeerMessage.AwarenessPayload;for(;p.pos<S;){let l=p.uint32();switch(l>>>3){case 1:{u.fieldName=p.string();break}case 2:{u.fieldValue=p.string();break}case 3:{u.fieldTimestampMs=p.int64();break}default:p.skipType(l&7);break}}return u},"decode"),t.decodeDelimited=r(function(p){return p instanceof h||(p=new h(p)),this.decode(p,p.uint32())},"decodeDelimited"),t.verify=r(function(p){if(typeof p!="object"||p===null)return"object expected";let g={};return p.fieldName!=null&&p.hasOwnProperty("fieldName")&&!a.isString(p.fieldName)?"fieldName: string expected":p.fieldValue!=null&&p.hasOwnProperty("fieldValue")&&!a.isString(p.fieldValue)?"fieldValue: string expected":p.fieldTimestampMs!=null&&p.hasOwnProperty("fieldTimestampMs")&&(g._fieldTimestampMs=1,!a.isInteger(p.fieldTimestampMs)&&!(p.fieldTimestampMs&&a.isInteger(p.fieldTimestampMs.low)&&a.isInteger(p.fieldTimestampMs.high)))?"fieldTimestampMs: integer|Long expected":null},"verify"),t.fromObject=r(function(p){if(p instanceof o.PeerMessage.AwarenessPayload)return p;let g=new o.PeerMessage.AwarenessPayload;return p.fieldName!=null&&(g.fieldName=String(p.fieldName)),p.fieldValue!=null&&(g.fieldValue=String(p.fieldValue)),p.fieldTimestampMs!=null&&(a.Long?(g.fieldTimestampMs=a.Long.fromValue(p.fieldTimestampMs)).unsigned=!1:typeof p.fieldTimestampMs=="string"?g.fieldTimestampMs=parseInt(p.fieldTimestampMs,10):typeof p.fieldTimestampMs=="number"?g.fieldTimestampMs=p.fieldTimestampMs:typeof p.fieldTimestampMs=="object"&&(g.fieldTimestampMs=new a.LongBits(p.fieldTimestampMs.low>>>0,p.fieldTimestampMs.high>>>0).toNumber())),g},"fromObject"),t.toObject=r(function(p,g){g||(g={});let S={};return g.defaults&&(S.fieldName="",S.fieldValue=""),p.fieldName!=null&&p.hasOwnProperty("fieldName")&&(S.fieldName=p.fieldName),p.fieldValue!=null&&p.hasOwnProperty("fieldValue")&&(S.fieldValue=p.fieldValue),p.fieldTimestampMs!=null&&p.hasOwnProperty("fieldTimestampMs")&&(typeof p.fieldTimestampMs=="number"?S.fieldTimestampMs=g.longs===String?String(p.fieldTimestampMs):p.fieldTimestampMs:S.fieldTimestampMs=g.longs===String?a.Long.prototype.toString.call(p.fieldTimestampMs):g.longs===Number?new a.LongBits(p.fieldTimestampMs.low>>>0,p.fieldTimestampMs.high>>>0).toNumber():p.fieldTimestampMs,g.oneofs&&(S._fieldTimestampMs="fieldTimestampMs")),S},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(p){return p===void 0&&(p="type.googleapis.com"),p+"/PeerMessage.AwarenessPayload"},"getTypeUrl"),t}(),e.AwarenessBroadcast=function(){function t(n){if(this.awarenessState=[],n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"AwarenessBroadcast"),t.prototype.channel="",t.prototype.user="",t.prototype.awarenessState=a.emptyArray,t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){if(p||(p=m.create()),s.channel!=null&&Object.hasOwnProperty.call(s,"channel")&&p.uint32(10).string(s.channel),s.user!=null&&Object.hasOwnProperty.call(s,"user")&&p.uint32(18).string(s.user),s.awarenessState!=null&&s.awarenessState.length)for(let g=0;g<s.awarenessState.length;++g)o.PeerMessage.AwarenessPayload.encode(s.awarenessState[g],p.uint32(26).fork()).ldelim();return p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.AwarenessBroadcast;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.channel=s.string();break}case 2:{S.user=s.string();break}case 3:{S.awarenessState&&S.awarenessState.length||(S.awarenessState=[]),S.awarenessState.push(o.PeerMessage.AwarenessPayload.decode(s,s.uint32()));break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){if(typeof s!="object"||s===null)return"object expected";if(s.channel!=null&&s.hasOwnProperty("channel")&&!a.isString(s.channel))return"channel: string expected";if(s.user!=null&&s.hasOwnProperty("user")&&!a.isString(s.user))return"user: string expected";if(s.awarenessState!=null&&s.hasOwnProperty("awarenessState")){if(!Array.isArray(s.awarenessState))return"awarenessState: array expected";for(let p=0;p<s.awarenessState.length;++p){let g=o.PeerMessage.AwarenessPayload.verify(s.awarenessState[p]);if(g)return"awarenessState."+g}}return null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.AwarenessBroadcast)return s;let p=new o.PeerMessage.AwarenessBroadcast;if(s.channel!=null&&(p.channel=String(s.channel)),s.user!=null&&(p.user=String(s.user)),s.awarenessState){if(!Array.isArray(s.awarenessState))throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: array expected");p.awarenessState=[];for(let g=0;g<s.awarenessState.length;++g){if(typeof s.awarenessState[g]!="object")throw TypeError(".PeerMessage.AwarenessBroadcast.awarenessState: object expected");p.awarenessState[g]=o.PeerMessage.AwarenessPayload.fromObject(s.awarenessState[g])}}return p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};if((p.arrays||p.defaults)&&(g.awarenessState=[]),p.defaults&&(g.channel="",g.user=""),s.channel!=null&&s.hasOwnProperty("channel")&&(g.channel=s.channel),s.user!=null&&s.hasOwnProperty("user")&&(g.user=s.user),s.awarenessState&&s.awarenessState.length){g.awarenessState=[];for(let S=0;S<s.awarenessState.length;++S)g.awarenessState[S]=o.PeerMessage.AwarenessPayload.toObject(s.awarenessState[S],p)}return g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.AwarenessBroadcast"},"getTypeUrl"),t}(),e.AwarenessQuery=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"AwarenessQuery"),t.prototype.channel="",t.prototype.user="",t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.channel!=null&&Object.hasOwnProperty.call(s,"channel")&&p.uint32(10).string(s.channel),s.user!=null&&Object.hasOwnProperty.call(s,"user")&&p.uint32(18).string(s.user),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.AwarenessQuery;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.channel=s.string();break}case 2:{S.user=s.string();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.channel!=null&&s.hasOwnProperty("channel")&&!a.isString(s.channel)?"channel: string expected":s.user!=null&&s.hasOwnProperty("user")&&!a.isString(s.user)?"user: string expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.AwarenessQuery)return s;let p=new o.PeerMessage.AwarenessQuery;return s.channel!=null&&(p.channel=String(s.channel)),s.user!=null&&(p.user=String(s.user)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.channel="",g.user=""),s.channel!=null&&s.hasOwnProperty("channel")&&(g.channel=s.channel),s.user!=null&&s.hasOwnProperty("user")&&(g.user=s.user),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.AwarenessQuery"},"getTypeUrl"),t}(),e.AwarenessClose=function(){function t(n){if(n)for(let s=Object.keys(n),p=0;p<s.length;++p)n[s[p]]!=null&&(this[s[p]]=n[s[p]])}return r(t,"AwarenessClose"),t.prototype.channel="",t.prototype.user="",t.create=r(function(s){return new t(s)},"create"),t.encode=r(function(s,p){return p||(p=m.create()),s.channel!=null&&Object.hasOwnProperty.call(s,"channel")&&p.uint32(10).string(s.channel),s.user!=null&&Object.hasOwnProperty.call(s,"user")&&p.uint32(18).string(s.user),p},"encode"),t.encodeDelimited=r(function(s,p){return this.encode(s,p).ldelim()},"encodeDelimited"),t.decode=r(function(s,p){s instanceof h||(s=h.create(s));let g=p===void 0?s.len:s.pos+p,S=new o.PeerMessage.AwarenessClose;for(;s.pos<g;){let u=s.uint32();switch(u>>>3){case 1:{S.channel=s.string();break}case 2:{S.user=s.string();break}default:s.skipType(u&7);break}}return S},"decode"),t.decodeDelimited=r(function(s){return s instanceof h||(s=new h(s)),this.decode(s,s.uint32())},"decodeDelimited"),t.verify=r(function(s){return typeof s!="object"||s===null?"object expected":s.channel!=null&&s.hasOwnProperty("channel")&&!a.isString(s.channel)?"channel: string expected":s.user!=null&&s.hasOwnProperty("user")&&!a.isString(s.user)?"user: string expected":null},"verify"),t.fromObject=r(function(s){if(s instanceof o.PeerMessage.AwarenessClose)return s;let p=new o.PeerMessage.AwarenessClose;return s.channel!=null&&(p.channel=String(s.channel)),s.user!=null&&(p.user=String(s.user)),p},"fromObject"),t.toObject=r(function(s,p){p||(p={});let g={};return p.defaults&&(g.channel="",g.user=""),s.channel!=null&&s.hasOwnProperty("channel")&&(g.channel=s.channel),s.user!=null&&s.hasOwnProperty("user")&&(g.user=s.user),g},"toObject"),t.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),t.getTypeUrl=r(function(s){return s===void 0&&(s="type.googleapis.com"),s+"/PeerMessage.AwarenessClose"},"getTypeUrl"),t}(),e})()},HpkP:function(U,c,d){"use strict";d.d(c,"a",function(){return e}),d.d(c,"b",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={NoAliasSelected:"no_alias_selected",RateLimited:"rate_limited",NoImageUploaded:"no_image_uploaded",InvalidMode:"invalid_mode",ErrorBadNameI18N:"error_bad_name_i18n",ErrorNameTaken:"error_name_taken",ErrorNameTakenI18N:"error_name_taken_i18n",ErrorInvalidAlias:"error_invalid_alias",ErrorBadUpload:"error_bad_upload",ErrorTooBig:"error_too_big",ErrorBadWide:"error_bad_wide",ErrorMissingName:"error_missing_name",ErrorNoImage:"error_no_image",ErrorBadFormat:"error_bad_format",ResizedButStillTooLarge:"resized_but_still_too_large",UnableToEnqueue:"unable_to_enqueue",TooManyFrames:"too_many_frames",UnknownMethod:"unknown_method",NoPermission:"no_permission",UnableToFetchEmoji:"unable_to_fetch_emoji",EmojiLimitReached:"emoji_limit_reached",NoUrlProvided:"no_url_provided",NoUrlImage:"no_url_image"},t=Object(a.a)("emoji.add generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"emoji.add",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to emoji.add
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcheremojiAddFetcher",description:"emoji.add generated fetcher"}},HrOX:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.STARTED="started",f.INTERRUPTED="interrupted",f.RESUMED="resumed",f.STOPPED="stopped",f.FAILED="failed"})(v||(v={})),c.default=v},"I/xa":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("oHvd"));let h=r(class extends f.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const a=this.pastSamplesToConsider,o=a*this.packetsExpected;let i=0;for(let e=0;e<a;e++)i+=this.currentData.packetsReceivedInLastMinute[e];return Math.min(Math.max(1-i/o,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(a,o){super(a,o,"Unusable Audio Warning"),this.coolDownTimeMs=a.cooldownTimeMs,this.pastSamplesToConsider=a.pastSamplesToConsider,this.fractionalLoss=a.fractionalLoss,this.packetsExpected=a.packetsExpected,this.maximumTimesToWarn=a.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");c.default=h},I0Bj:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerState=void 0;var v;(function(f){f[f.NotConnected=0]="NotConnected",f[f.Connecting=1]="Connecting",f[f.Connected=2]="Connected",f[f.Updating=3]="Updating",f[f.Disconnecting=4]="Disconnecting"})(v=c.SessionStateControllerState||(c.SessionStateControllerState={})),c.default=v},"I90/":function(U,c,d){var v=d("aqg2"),f=d("zBWt")("iterator"),h=d("ig3W");U.exports=d("VSTI").getIteratorMethod=function(m){if(m!=null)return m[f]||m["@@iterator"]||h[v(m)]}},IBi3:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(t,n,s,p){function g(S){return S instanceof s?S:new s(function(u){u(S)})}return r(g,"adopt"),new(s||(s=Promise))(function(S,u){function l(P){try{O(p.next(P))}catch(x){u(x)}}r(l,"fulfilled");function E(P){try{O(p.throw(P))}catch(x){u(x)}}r(E,"rejected");function O(P){P.done?S(P.value):g(P.value).then(l,E)}r(O,"step"),O((p=p.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("SO8M")),m=f(d("Xf/8")),a=f(d("uctb")),o=f(d("aNtF")),i=f(d("6/h7"));let e=r(class{setEncodingParameters(n){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const s=this._localCameraTransceiver.sender;if(!n||n.size===0)return;const p=Array.from(n.values()),g=s.getParameters();if(!g.encodings||g.encodings.length===0)g.encodings=p;else for(const S of g.encodings)for(const u of p){if((S.rid||u.rid)&&S.rid!==u.rid)continue;let l;for(l in u)l==="rid"||l==="codecPayloadType"||u.hasOwnProperty(l)&&(S[l]=u[l])}yield s.setParameters(g)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(n){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const s=this._localCameraTransceiver.sender;if(!s||n<=0)return;const p=s.getParameters();p.encodings||(p.encodings=[{}]);for(const g of p.encodings)g.maxBitrate=n*1e3;yield s.setParameters(p)})}setPeer(n){this.peer=n}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(n){return this._localCameraTransceiver?n===this._localCameraTransceiver.sender.track||n===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var n,s;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((s=(n=this.meetingSessionContext)===null||n===void 0?void 0:n.audioProfile)===null||s===void 0)&&s.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(n){return v(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(n),!0)})}setAudioInput(n){return v(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,n)})}setVideoInput(n){return v(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,n)})}updateVideoTransceivers(n,s){if(!this.useTransceivers())return s.array();const p=this.peer.getTransceivers();return this.videoSubscriptions=[0],s=s.clone(),this.updateTransceivers(p,n,s),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(n,s,p){const g=p.array();n.length!==0&&!n[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(n,s,g)):n.length!==0&&this.updateTransceiverWithStop(n,s,g);for(const S of g){const u=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(S,u),this.groupIdToTransceiver.set(s.groupIdForStreamId(S),u),this.videoSubscriptions.push(S),this.logger.info(`adding transceiver mid: ${u.mid} subscription: ${S} direction: recvonly`)}}updateTransceiverWithStop(n,s,p){let g=1;this.videoSubscriptions=[0];for(const S of n){if(S===this._localCameraTransceiver||!this.transceiverIsVideo(S)||!S.mid)continue;let u=!1;const l=s.streamIdForTrack("v_"+S.mid);if(S.direction!=="inactive"&&l!==void 0){for(const[E,O]of p.entries())if(s.StreamIdsInSameGroup(l,O)){S.direction="recvonly",this.videoSubscriptions[g]=O,u=!0,this.streamIdToTransceiver.delete(l),this.streamIdToTransceiver.set(O,S),p.splice(E,1);break}}if(!u){this.videoSubscriptions[g]=0,this.logger.info(`Stopping MID: ${S.mid}, direction: ${S.direction}, current direction: ${S.currentDirection}`),S.stop();for(const[E,O]of this.streamIdToTransceiver.entries())S.mid===O.mid&&(this.streamIdToTransceiver.delete(E),this.groupIdToTransceiver.delete(s.groupIdForStreamId(E)))}g+=1}}updateTransceiverWithoutStop(n,s,p){let g=1;for(const S of n)if(!(S===this._localCameraTransceiver||!this.transceiverIsVideo(S))){if(this.videoSubscriptions[g]=0,S.direction!=="inactive"){const u=s.streamIdForTrack("v_"+S.mid);if(u!==void 0){for(const[l,E]of p.entries())if(s.StreamIdsInSameGroup(u,E)){S.direction="recvonly",this.videoSubscriptions[g]=E,this.streamIdToTransceiver.delete(u),this.streamIdToTransceiver.set(E,S),p.splice(l,1);break}}}g+=1}g=1;for(const S of n)if(!(S===this._localCameraTransceiver||!this.transceiverIsVideo(S))){if(S.direction==="inactive"&&p.length>0){S.direction="recvonly";const u=p.shift();this.videoSubscriptions[g]=u,this.streamIdToTransceiver.set(u,S),this.groupIdToTransceiver.set(s.groupIdForStreamId(u),S)}else if(this.videoSubscriptions[g]===0){S.direction="inactive";for(const[u,l]of this.streamIdToTransceiver.entries())S===l&&(this.streamIdToTransceiver.delete(u),this.groupIdToTransceiver.delete(s.groupIdForStreamId(u)))}g+=1}}getMidForStreamId(n){var s;return(s=this.streamIdToTransceiver.get(n))===null||s===void 0?void 0:s.mid}setStreamIdForMid(n,s){for(const[p,g]of this.streamIdToTransceiver.entries())if(g.mid===n){this.streamIdToTransceiver.delete(p),this.streamIdToTransceiver.set(s,g);return}}getMidForGroupId(n){var s;return(s=this.groupIdToTransceiver.get(n))===null||s===void 0?void 0:s.mid}transceiverIsVideo(n){return n.receiver&&n.receiver.track&&n.receiver.track.kind==="video"||n.sender&&n.sender.track&&n.sender.track.kind==="video"}debugDumpTransceivers(){let n="",s=0;for(const p of this.peer.getTransceivers())this.transceiverIsVideo(p)&&(n+=`transceiver index=${s} mid=${p.mid} subscription=${this.videoSubscriptions[s]} direction=${p.direction}
`,s+=1);return n}setTransceiverInput(n,s){return v(this,void 0,void 0,function*(){n&&(s?n.direction="sendrecv":n.direction="inactive",yield n.sender.replaceTrack(s))})}forEachRedMetricsObserver(n){for(const s of this.redMetricsObservers)i.default.nextTick(()=>{this.redMetricsObservers.has(s)&&s.recoveryMetricsDidReceive(n)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new h.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var n,s;const p=!!window.RTCRtpScriptTransform,g=!!RTCRtpSender.prototype.createEncodedStreams;if(p)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(g)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");const S=o.default.toString(),u=S.match(/class\s*(\w+)\s*\{/)[1],l=[S];this.logger.getLogLevel()===a.default.DEBUG&&l.push(`${u}.shouldLogDebug=1;`),l.push(`${u}.shouldReportStats=1;`),l.push(`${u}.initializeWorker();`),this.audioRedWorkerURL=URL.createObjectURL(new Blob(l,{type:"application/javascript"})),this.logger.info(`[AudioRed] Redundant audio worker URL ${this.audioRedWorkerURL}`);try{this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(E){throw this.logger.error(`[AudioRed] Unable to create audio red worker due to ${E}`),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),E}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=E=>{if(E.data.type==="REDWorkerDebugLog")this.logger.debug(E.data.log);else if(E.data.type==="RedundantAudioEncoderStats"){const O=new m.default;O.currentTimestampMs=Date.now(),O.ssrc=E.data.ssrc,O.totalAudioPacketsLost=E.data.totalAudioPacketsLost,O.totalAudioPacketsExpected=E.data.totalAudioPacketsExpected,O.totalAudioPacketsRecoveredRed=E.data.totalAudioPacketsRecoveredRed,O.totalAudioPacketsRecoveredFec=E.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(O)}},p)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(g){const E=this._localAudioTransceiver.sender.createEncodedStreams(),O=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:E,receive:O},[E.readable,E.writable,O.readable,O.writable])}(n=this.meetingSessionContext)===null||n===void 0||n.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((s=this.meetingSessionContext)===null||s===void 0?void 0:s.statsCollector)}addTransceiver(n,s){var p;const g=this.peer.addTransceiver(n,s);if(!(!((p=this.peer.getConfiguration())===null||p===void 0)&&p.encodedInsertableStreams)||!this.audioRedWorker)return g;const S=!!window.RTCRtpScriptTransform,u=!!RTCRtpSender.prototype.createEncodedStreams;if(S)g.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),g.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(u){const l=g.sender.createEncodedStreams();l.readable.pipeTo(l.writable);const E=g.receiver.createEncodedStreams();E.readable.pipeTo(E.writable)}return g}destroyAudioRedWorkerAndStates(){var n,s;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(n=this.meetingSessionContext)===null||n===void 0||n.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((s=this.meetingSessionContext)===null||s===void 0?void 0:s.statsCollector))}setAudioPayloadTypes(n){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:n.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:n.get("opus")}))}metricsDidReceive(n){const{currentTimestampMs:s}=n,p=n.getRTCStatsReport();let g=0,S=0;if(p.forEach(x=>{x.kind==="audio"&&(x.type==="outbound-rtp"?g=x.packetsSent:x.type==="remote-inbound-rtp"&&(S=x.packetsLost))}),this.audioMetricsHistory.length>0&&g<=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)return;this.audioMetricsHistory.push({timestampMs:s,totalPacketsSent:g,totalPacketsLost:S}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const u=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),l=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),E=Math.max(u,l),[O,P]=o.default.getNumRedundantEncodingsForPacketLoss(E);if(P){this.lastHighPacketLossEventTimestampMs=s,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=s);return}else if(!this.audioRedEnabled){const x=s-this.lastAudioRedTurnOffTimestampMs,k=s-this.lastHighPacketLossEventTimestampMs;if(x>=this.audioRedPacketLossLongEvalPeriodMs&&k<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(s)}this.shouldUpdateAudioRedWorkerEncodings(s,O)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:O})}maybeResetHoldDownTimer(n){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=n)}lossPercent(n){if(this.audioMetricsHistory.length<2)return 0;const s=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,p=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,g=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let S=this.audioMetricsHistory.length-2;S>=0;S--)if(s-this.audioMetricsHistory[S].timestampMs>=n){const u=g-this.audioMetricsHistory[S].totalPacketsLost,l=p-this.audioMetricsHistory[S].totalPacketsSent;let E=100*(u/l);return E<0?E=0:E>100&&(E=100),E}return 0}shouldUpdateAudioRedWorkerEncodings(n,s){return this.currentNumRedundantEncodings===s?(this.maybeResetHoldDownTimer(n),!1):s<this.currentNumRedundantEncodings&&n-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=s,this.maybeResetHoldDownTimer(n),!0)}addRedundantAudioRecoveryMetricsObserver(n){this.redMetricsObservers.add(n)}removeRedundantAudioRecoveryMetricsObserver(n){this.redMetricsObservers.delete(n)}constructor(n,s,p){this.logger=n,this.browserBehavior=s,this.meetingSessionContext=p,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}},"DefaultTransceiverController");c.default=e},IGBW:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.IDLE="IDLE",f.RUNNING="RUNNING",f.CANCELED="CANCELED",f.FINISHED="FINISHED"})(v||(v={})),c.default=v},IKDz:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h=5e3,m=2,a=64,o=100,i=15){this.flushIntervalMs=h,this.flushSize=m,this.maxBufferCapacityKb=a,this.totalBufferItems=o,this.retryCountLimit=i}},"EventBufferConfiguration");c.default=v},InPl:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR")),m=f(d("ZsEg"));let a=r(class Df{get mediaStream(){return this._mediaStream}set mediaStream(i){this._mediaStream=i}acquireAudioInputStream(){return v(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),m.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return v(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(i){return v(this,void 0,void 0,function*(){return i&&i.video&&i.video.mandatory&&i.video.mandatory.chromeMediaSource&&i.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(i):navigator.mediaDevices.getDisplayMedia(i)})}acquireScreenCaptureDisplayInputStream(i,e){return v(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(i,e))})}screenCaptureDisplayMediaConstraints(i,e){return{audio:!!(!i&&new h.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!i&&{frameRate:{max:e||Df.defaultFrameRate}}),i&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:e||Df.defaultFrameRate}})}}toggleMediaStream(i){let e=!1;if(this.mediaStream)for(let t=0;t<this.mediaStream.getTracks().length;t++)this.mediaStream.getTracks()[t].enabled!==i&&(this.mediaStream.getTracks()[t].enabled=i,e=!0);return e}cleanup(){if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(i){}removeMediaStreamBrokerObserver(i){}constructor(i){this.logger=i}},"ContentShareMediaStreamBroker");c.default=a,a.defaultFrameRate=15},"Ir+t":function(U,c,d){d("3+Ww"),d("C5kU"),d("ZY/g"),d("xXl2"),d("Nlwn"),d("XLeT"),U.exports=d("VSTI").Promise},IsLT:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("EkyC"),m=d("KvYa"),a=f(d("DE61")),o=f(d("U9CR")),i=f(d("ac3q")),e=r(()=>a.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),t="https://static.sdkassets.chime.aws",n={worker:`${t}/bgblur/workers/worker.js`,wasm:`${t}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${t}/bgblur/wasm/_cwt-wasm-simd.wasm`};let s=r(class{static defaultAssetSpec(){const g=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${g.major}.${g.minor}`}}static createUrlWithParams(g,S){const u=new URL(g),l=Object.keys(S);for(const E of l)S[E]!==void 0&&u.searchParams.set(E,S[E]);return u.toString()}static resolveSpec(g){const{paths:S=n,model:u=e(),assetGroup:l=this.defaultAssetSpec().assetGroup,revisionID:E=this.defaultAssetSpec().revisionID}=g||{},O={assetGroup:l,revisionID:E,sdk:encodeURIComponent(i.default.sdkVersion),ua:encodeURIComponent(i.default.sdkUserAgentLowResolution)};return S.worker=this.createUrlWithParams(S.worker,O),S.wasm=this.createUrlWithParams(S.wasm,O),S.simd=this.createUrlWithParams(S.simd,O),u.path=this.createUrlWithParams(u.path,O),{paths:S,model:u,assetGroup:l,revisionID:E}}static resolveOptions(g){g.reportingPeriodMillis||(g.reportingPeriodMillis=1e3);const S=30;return g.filterCPUUtilization?(g.filterCPUUtilization<0||g.filterCPUUtilization>100)&&(g.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${S} percent`),g.filterCPUUtilization=S):g.filterCPUUtilization=S,g}static isSupported(g,S){const{logger:u}=S;return typeof globalThis>"u"?(u.info("Browser does not have globalThis."),Promise.resolve(!1)):new o.default().supportsBackgroundFilter()?m.supportsWASM(globalThis,u)?this.supportsBackgroundFilter(globalThis,g,u):(u.info("Browser does not support WASM."),Promise.resolve(!1)):(u.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0;return v(this,void 0,void 0,function*(){if(!m.supportsWorker(g,u))return u.info("Browser does not support web workers."),!1;const l=S.paths.worker;try{const E=yield h.loadWorker(l,"BackgroundFilterWorker",{},null);try{E.terminate()}catch(O){u.info(`Failed to terminate worker. ${O.message}`)}return!0}catch(E){return u.info(`Failed to fetch and instantiate test worker ${E.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");c.default=s},Iwfh:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"SDPMediaSection");c.default=v},"J+fJ":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AudioLogEvent=void 0;var v;(function(f){f[f.DeviceChanged=0]="DeviceChanged",f[f.MutedLocal=1]="MutedLocal",f[f.UnmutedLocal=2]="UnmutedLocal",f[f.Connected=3]="Connected",f[f.ConnectFailed=4]="ConnectFailed",f[f.RedmicStartLoss=5]="RedmicStartLoss",f[f.RedmicEndLoss=6]="RedmicEndLoss"})(v=c.AudioLogEvent||(c.AudioLogEvent={})),c.default=v},J1op:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("DUgj"));let h=r(class nd{allowSubscribe(a,o){let i=0;const e=this.currentNetworkEvent;if(o>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=o,!0;if(o<this.referenceBitrate){if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,a),e!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=o,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(a,o){let i=nd.MINIMUM_DELAY_MS;const e=nd.MAXIMUM_DELAY_MS-nd.MINIMUM_DELAY_MS,t=this.networkIssueResponseDelayFactor;switch(a){case 1:i+=e*t*(1+o/10),i=Math.min(nd.MAXIMUM_DELAY_MS,i);break}return i}constructor(a=0,o=0){this.networkIssueResponseDelayFactor=a,this.networkIssueRecoveryDelayFactor=o,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=f.default.Default,a<0?a=0:a>1&&(a=1),this.networkIssueResponseDelayFactor=a,o<0?o=0:o>1&&(o=1),this.networkIssueRecoveryDelayFactor=o}},"VideoPriorityBasedPolicyConfig");c.default=h,h.MINIMUM_DELAY_MS=2e3,h.MAXIMUM_DELAY_MS=8e3,h.Default=new h(0,0),h.UnstableNetworkPreset=new h(0,1),h.StableNetworkPreset=new h(1,0)},J5JU:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const v=d("2IS5");c.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let f=r(class{subscribeToTranscriptEvent(m){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const o of v.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(o)}),this.transcriptEventCallbacks.add(m)}unsubscribeFromTranscriptEvent(m){this.transcriptEventCallbacks.delete(m),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(m){this.realtimeController=m,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");c.default=f},J93s:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class ov{static builder(){return new ov}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const h={height:144,width:256,range:[0,1],channels:3},m={height:144,width:256,range:[0,1],channels:1},a="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=a,this.input=h,this.output=m,this}withPath(h){return this.path=h,this}withInput(h){return this.input=h,this}withOutput(h){return this.output=h,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}constructor(){this.path=null,this.input=null,this.output=null}},"ModelSpecBuilder");c.default=v},JBVX:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},JEbH:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},JHsX:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerAction=void 0;var v;(function(f){f[f.Connect=0]="Connect",f[f.FinishConnecting=1]="FinishConnecting",f[f.Update=2]="Update",f[f.FinishUpdating=3]="FinishUpdating",f[f.Reconnect=4]="Reconnect",f[f.Disconnect=5]="Disconnect",f[f.Fail=6]="Fail",f[f.FinishDisconnecting=7]="FinishDisconnecting"})(v=c.SessionStateControllerAction||(c.SessionStateControllerAction={})),c.default=v},JJ3a:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(S,u,l,E){function O(P){return P instanceof l?P:new l(function(x){x(P)})}return r(O,"adopt"),new(l||(l=Promise))(function(P,x){function k(N){try{R(E.next(N))}catch(w){x(w)}}r(k,"fulfilled");function B(N){try{R(E.throw(N))}catch(w){x(w)}}r(B,"rejected");function R(N){N.done?P(N.value):O(N.value).then(k,B)}r(R,"step"),R((E=E.apply(S,u||[])).next())})},f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Zit3"),m=f(d("Np2I")),a=f(d("Q8+J")),o=f(d("evlv")),i=f(d("ULlC")),e=f(d("6/h7")),t=f(d("PsbS")),n=f(d("jHTc")),s=f(d("4EN+")),p=f(d("p3mT"));let g=r(class{addObserver(u){this.logger.info("adding messaging observer"),this.observerQueue.add(u)}removeObserver(u){this.logger.info("removing messaging observer"),this.observerQueue.delete(u)}start(){return v(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(u){for(const l of this.observerQueue)e.default.nextTick(()=>{this.observerQueue.has(l)&&u(l)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",u=>{this.receiveMessageHandler(u.data)}),this.webSocket.addEventListener("close",u=>{this.closeEventHandler(u)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(u){return v(this,void 0,void 0,function*(){return yield this.startConnectingInternal(u),yield new Promise((l,E)=>{this.bootstrapResolved=l,this.bootstrapRejected=E})})}startConnectingInternal(u){var l;return v(this,void 0,void 0,function*(){let E=this.configuration.endpointUrl;if(u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),u||E===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const P=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((l=P.Endpoint)===null||l===void 0)&&l.Url?E=P.Endpoint.Url:E=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else E=(yield this.configuration.chimeClient.send(new h.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${E}`)}catch(P){this.logger.error(`Messaging Session failed to resolve endpoint: ${P}`);const x=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(x);return}const O=yield this.prepareWebSocketUrl(E);this.logger.info(`opening connection to ${O}`),u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(O,[],!0),this.forEachObserver(P=>{P.messagingSessionDidStartConnecting&&P.messagingSessionDidStartConnecting(u)}),this.setUpEventListeners()})}prepareWebSocketUrl(u){return v(this,void 0,void 0,function*(){const l=new Map;return l.set("userArn",[this.configuration.userArn]),l.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===p.default.Connect&&l.set("prefetch-on",[p.default.Connect]),this.configuration.prefetchSortBy&&l.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",u,"/connect","",l)})}isClosed(){return this.webSocket.readyState()===s.default.None||this.webSocket.readyState()===s.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(u){try{const l=JSON.parse(u),E=l.Headers["x-amz-chime-event-type"],O=new o.default(E,l.Headers,l.Payload||null);if(!this.isSessionEstablished&&E==="SESSION_ESTABLISHED"){this.forEachObserver(x=>{x.messagingSessionDidStart&&x.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const P=this.preBootstrapMessages.length;for(let x=0;x<P;x++){const k=this.preBootstrapMessages.shift();this.forEachObserver(B=>{this.sendMessageToObserver(B,k)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(O);return}this.forEachObserver(P=>{this.sendMessageToObserver(P,O)})}catch(l){this.logger.error(`Messaging parsing failed: ${l}`)}}sendMessageToObserver(u,l){u.messagingSessionDidReceiveMessage&&u.messagingSessionDidReceiveMessage(l)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>v(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(u){this.logger.info(`WebSocket close: ${u.code} ${u.reason}`),u.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(u.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(l=>{l.messagingSessionDidStop&&l.messagingSessionDidStop(u)}):this.bootstrapRejected(u))}canReconnect(u){return u===1001||u===1006||u>=1011&&u<=1014||u>4e3&&u!==4002&&u!==4003&&u!==4401}constructor(u,l,E,O,P){this.configuration=u,this.logger=l,this.webSocket=E,this.reconnectController=O,this.sigV4=P,this.observerQueue=new Set,this.webSocket||(this.webSocket=new n.default(this.logger)),this.reconnectController||(this.reconnectController=new i.default(u.reconnectTimeoutMs,new m.default(u.reconnectFixedWaitMs,u.reconnectShortBackoffMs,u.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new t.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");c.default=g},JKKi:function(U,c,d){var v=d("d+lc"),f=d("ekG2"),h=d("8sL3");U.exports=function(m,a){if(v(m),f(a)&&a.constructor===m)return a;var o=h.f(m),i=o.resolve;return i(a),o.promise}},"JMN+":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptAlternative");c.default=v},JO7F:function(U,c,d){U.exports={default:d("ZblS"),__esModule:!0}},JOZa:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerDeferPriority=void 0;var v;(function(f){f[f.DoNotDefer=0]="DoNotDefer",f[f.Low=1]="Low",f[f.Medium=2]="Medium",f[f.High=3]="High",f[f.VeryHigh=4]="VeryHigh"})(v=c.SessionStateControllerDeferPriority||(c.SessionStateControllerDeferPriority={})),c.default=v},JTre:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Sa54")),h=v(d("bTau")),m=v(d("5mqp"));let a=r(class rl{static connectVideoStreamToVideoElement(i,e,t){const n=t&&i.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(rl.setVideoElementFlag(e,"disablePictureInPicture",t),rl.setVideoElementFlag(e,"disableRemotePlayback",t),e.style.transform!==n&&(e.style.transform=n),e.hasAttribute("controls")&&e.removeAttribute("controls"),e.hasAttribute("autoplay")||e.setAttribute("autoplay","true"),e.hasAttribute("playsinline")||e.setAttribute("playsinline","true"),e.hasAttribute("muted")||(e.setAttribute("muted","true"),e.muted=!0),e.srcObject!==i&&(e.srcObject=i,new f.default().requiresVideoPlayWorkaround()&&e.paused)){const s=e.play();s!==void 0&&s.catch(p=>{console.warn("Error playing video in Safari",p)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i)if(e)t||(i.srcObject=null,i.style.transform="");else{if(!i.srcObject)return;i.pause(),i.style.transform="",rl.setVideoElementFlag(i,"disablePictureInPicture",!1),rl.setVideoElementFlag(i,"disableRemotePlayback",!1),i.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&rl.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new m.default}devicePixelRatioChanged(i){this.tileState.devicePixelRatio=i,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(i,e,t,n,s,p,g){let S=!1;this.tileState.boundAttendeeId!==i&&(this.tileState.boundAttendeeId=i,new h.default(i).hasModality(h.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),S=!0),this.tileState.boundExternalUserId!==g&&(this.tileState.boundExternalUserId=g,S=!0),this.tileState.localTile!==e&&(this.tileState.localTile=e,S=!0),this.tileState.boundVideoStream!==t&&(this.tileState.boundVideoStream=t,S=!0),this.tileState.videoStreamContentWidth!==n&&(this.tileState.videoStreamContentWidth=n,S=!0),this.tileState.videoStreamContentHeight!==s&&(this.tileState.videoStreamContentHeight=s,S=!0),this.tileState.streamId!==p&&(this.tileState.streamId=p,S=!0),S&&this.sendTileStateUpdate()}bindVideoElement(i){let e=!1;this.tileState.boundVideoElement!==i&&(this.tileState.boundVideoElement=i,e=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==i.clientWidth&&(this.tileState.videoElementCSSWidthPixels=i.clientWidth,e=!0),this.tileState.videoElementCSSHeightPixels!==i.clientHeight&&(this.tileState.videoElementCSSHeightPixels=i.clientHeight,e=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),e&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const i=document.createElement("canvas"),e=this.tileState.boundVideoElement;i.width=e.videoWidth||e.width,i.height=e.videoHeight||e.height;const t=i.getContext("2d");return t.drawImage(e,0,0,i.width,i.height),t.getImageData(0,0,i.width,i.height)}setStreamId(i){this.tileState.streamId=i,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?rl.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):rl.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(i,e,t){e in i&&(i[e]=t)}constructor(i,e,t,n){this.tileController=t,this.devicePixelRatioMonitor=n,this.tileState=new m.default,this.tileState.tileId=i,this.tileState.localTile=e,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");c.default=a},JXEU:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={FailedToRecordInteraction:"failed_to_record_interaction",InvalidComponent:"invalid_component",InvalidType:"invalid_type"},t=Object(a.a)("users.interactions.set generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u),E=yield s(Object(m.a)({method:"users.interactions.set",args:l,reason:g.reason}));return Object(i.a)(E)}catch(S){throw Object(o.a)({getState:p}).error(`API call to users.interactions.set
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherusersInteractionsSetFetcher",description:"users.interactions.set generated fetcher"}},JpO0:function(U,c,d){var v=d("CYMq"),f=d("znrX");d("czaS")("getPrototypeOf",function(){return r(function(m){return f(v(m))},"getPrototypeOf")})},JsnC:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SDPCandidateType=void 0;var v;(function(f){f.Host="host",f.ServerReflexive="srflx",f.PeerReflexive="prflx",f.Relay="relay"})(v=c.SDPCandidateType||(c.SDPCandidateType={})),c.default=v},Jsna:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Np2I")),h=v(d("eeYi")),m=v(d("ir/0")),a=v(d("r9Lw")),o=v(d("/U1e")),i=v(d("a16/")),e=v(d("6Bxv")),t=v(d("lUhs")),n=v(d("iNgN")),s=v(d("ULlC")),p=v(d("jHTc")),g=v(d("2nae"));let S=r(class extends g.default{setAudioProfile(l){}start(){}stop(){}promoteToPrimaryMeeting(l){return Promise.resolve(new e.default(t.default.OK))}demoteFromPrimaryMeeting(){}constructor(l){const E=new o.default;E.meetingId="",E.externalMeetingId="",E.credentials=new i.default,E.credentials.attendeeId="",E.credentials.joinToken="",E.urls=new n.default,E.urls.turnControlURL="",E.urls.audioHostURL="",E.urls.signalingURL="wss://localhost/";const O=new m.default;super(l||E,O,new p.default(new m.default),new a.default,new s.default(0,new f.default(0,0,0)),new h.default(l||E,O))}},"NoOpAudioVideoController");c.default=S},Jt1Q:function(U,c,d){"use strict";var v=d("b08l"),f=d("ENu8"),h=d("kvAF"),m={};d("BRsN")(m,d("zBWt")("iterator"),function(){return this}),U.exports=function(a,o,i){a.prototype=v(m,{next:f(1,i)}),h(a,o+" Iterator")}},JwAW:function(U,c,d){"use strict";d.d(c,"a",function(){return v});function v(f,h){if(f==null)return{};var m={},a=Object.keys(f),o,i;for(i=0;i<a.length;i++)o=a[i],!(h.indexOf(o)>=0)&&(m[o]=f[o]);return m}r(v,"_objectWithoutPropertiesLoose")},"K+bq":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("j+uH")),m=f(d("IGBW"));let a=r(class extends h.default{cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return v(this,void 0,void 0,function*(){for(const i of this.tasksToRunSerially){this.getStatus()===m.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${i.name()}`),this.currentTask=i,yield i.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${i.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskName=e,this.tasksToRunSerially=t,this.currentTask=null;for(const n of t)n.setParent(this)}},"SerialGroupTask");c.default=a},K4CH:function(U,c,d){var v;(function(f,h){"use strict";var m="1.0.2",a="",o="?",i="function",e="undefined",t="object",n="string",s="major",p="model",g="name",S="type",u="vendor",l="version",E="architecture",O="console",P="mobile",x="tablet",k="smarttv",B="wearable",R="embedded",N=255,w="Amazon",A="Apple",D="ASUS",K="BlackBerry",X="Browser",j="Chrome",te="Edge",me="Firefox",we="Google",pe="Huawei",Ae="LG",Je="Microsoft",Fe="Motorola",Ue="Opera",Le="Samsung",at="Sony",lt="Xiaomi",ot="Zebra",pt="Facebook",ct=r(function(Gt,Dn){var Dt={};for(var je in Gt)Dn[je]&&Dn[je].length%2===0?Dt[je]=Dn[je].concat(Gt[je]):Dt[je]=Gt[je];return Dt},"extend"),rt=r(function(Gt){for(var Dn={},Dt=0;Dt<Gt.length;Dt++)Dn[Gt[Dt].toUpperCase()]=Gt[Dt];return Dn},"enumerize"),Tn=r(function(Gt,Dn){return typeof Gt===n?Qt(Dn).indexOf(Qt(Gt))!==-1:!1},"has"),Qt=r(function(Gt){return Gt.toLowerCase()},"lowerize"),Ft=r(function(Gt){return typeof Gt===n?Gt.replace(/[^\d\.]/g,a).split(".")[0]:h},"majorize"),Rn=r(function(Gt,Dn){if(typeof Gt===n)return Gt=Gt.replace(/^\s\s*/,a).replace(/\s\s*$/,a),typeof Dn===e?Gt:Gt.substring(0,N)},"trim"),Pn=r(function(Gt,Dn){for(var Dt=0,je,yt,dt,cn,li,ci;Dt<Dn.length&&!li;){var Jn=Dn[Dt],di=Dn[Dt+1];for(je=yt=0;je<Jn.length&&!li;)if(li=Jn[je++].exec(Gt),li)for(dt=0;dt<di.length;dt++)ci=li[++yt],cn=di[dt],typeof cn===t&&cn.length>0?cn.length===2?typeof cn[1]==i?this[cn[0]]=cn[1].call(this,ci):this[cn[0]]=cn[1]:cn.length===3?typeof cn[1]===i&&!(cn[1].exec&&cn[1].test)?this[cn[0]]=ci?cn[1].call(this,ci,cn[2]):h:this[cn[0]]=ci?ci.replace(cn[1],cn[2]):h:cn.length===4&&(this[cn[0]]=ci?cn[3].call(this,ci.replace(cn[1],cn[2])):h):this[cn]=ci||h;Dt+=2}},"rgxMapper"),ti=r(function(Gt,Dn){for(var Dt in Dn)if(typeof Dn[Dt]===t&&Dn[Dt].length>0){for(var je=0;je<Dn[Dt].length;je++)if(Tn(Dn[Dt][je],Gt))return Dt===o?h:Dt}else if(Tn(Dn[Dt],Gt))return Dt===o?h:Dt;return Gt},"strMapper"),Sn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},oi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},vi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,l],[/opios[\/ ]+([\w\.]+)/i],[l,[g,Ue+" Mini"]],[/\bopr\/([\w\.]+)/i],[l,[g,Ue]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[g,"UC"+X]],[/\bqbcore\/([\w\.]+)/i],[l,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+X],l],[/\bfocus\/([\w\.]+)/i],[l,[g,me+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[g,Ue+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[g,Ue+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[g,"MIUI "+X]],[/fxios\/([-\w\.]+)/i],[l,[g,me]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+X]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+X],l],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,pt],l],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[g,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,j+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[g,"Android "+X]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,l],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[l,[g,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[l,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[l,ti,Sn]],[/(webkit|khtml)\/([\w\.]+)/i],[g,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[g,me+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,Qt]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,a,Qt]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,Qt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[u,Le],[S,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[u,Le],[S,P]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[u,A],[S,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[u,A],[S,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[u,pe],[S,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[p,[u,pe],[S,P]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[u,lt],[S,P]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[u,lt],[S,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[u,"OPPO"],[S,P]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[u,"Vivo"],[S,P]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[u,"Realme"],[S,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[u,Fe],[S,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[u,Fe],[S,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[u,Ae],[S,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[u,Ae],[S,P]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[u,"Lenovo"],[S,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[u,"Nokia"],[S,P]],[/(pixel c)\b/i],[p,[u,we],[S,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[u,we],[S,P]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[u,at],[S,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[u,at],[S,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[u,"OnePlus"],[S,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[u,w],[S,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[u,w],[S,P]],[/(playbook);[-\w\),; ]+(rim)/i],[p,u,[S,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[u,K],[S,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[u,D],[S,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[u,D],[S,P]],[/(nexus 9)/i],[p,[u,"HTC"],[S,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[u,[p,/_/g," "],[S,P]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[u,"Acer"],[S,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[u,"Meizu"],[S,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[u,"Sharp"],[S,P]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,p,[S,P]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,p,[S,x]],[/(surface duo)/i],[p,[u,Je],[S,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[u,"Fairphone"],[S,P]],[/(u304aa)/i],[p,[u,"AT&T"],[S,P]],[/\bsie-(\w*)/i],[p,[u,"Siemens"],[S,P]],[/\b(rct\w+) b/i],[p,[u,"RCA"],[S,x]],[/\b(venue[\d ]{2,7}) b/i],[p,[u,"Dell"],[S,x]],[/\b(q(?:mv|ta)\w+) b/i],[p,[u,"Verizon"],[S,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[u,"Barnes & Noble"],[S,x]],[/\b(tm\d{3}\w+) b/i],[p,[u,"NuVision"],[S,x]],[/\b(k88) b/i],[p,[u,"ZTE"],[S,x]],[/\b(nx\d{3}j) b/i],[p,[u,"ZTE"],[S,P]],[/\b(gen\d{3}) b.+49h/i],[p,[u,"Swiss"],[S,P]],[/\b(zur\d{3}) b/i],[p,[u,"Swiss"],[S,x]],[/\b((zeki)?tb.*\b) b/i],[p,[u,"Zeki"],[S,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],p,[S,x]],[/\b(ns-?\w{0,9}) b/i],[p,[u,"Insignia"],[S,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[u,"NextBook"],[S,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],p,[S,P]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],p,[S,P]],[/\b(ph-1) /i],[p,[u,"Essential"],[S,P]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[u,"Envizen"],[S,x]],[/\b(trio[-\w\. ]+) b/i],[p,[u,"MachSpeed"],[S,x]],[/\btu_(1491) b/i],[p,[u,"Rotor"],[S,x]],[/(shield[\w ]+) b/i],[p,[u,"Nvidia"],[S,x]],[/(sprint) (\w+)/i],[u,p,[S,P]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[u,Je],[S,P]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[u,ot],[S,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[u,ot],[S,P]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,p,[S,O]],[/droid.+; (shield) bui/i],[p,[u,"Nvidia"],[S,O]],[/(playstation [345portablevi]+)/i],[p,[u,at],[S,O]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[u,Je],[S,O]],[/smart-tv.+(samsung)/i],[u,[S,k]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[u,Le],[S,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,Ae],[S,k]],[/(apple) ?tv/i],[u,[p,A+" TV"],[S,k]],[/crkey/i],[[p,j+"cast"],[u,we],[S,k]],[/droid.+aft(\w)( bui|\))/i],[p,[u,w],[S,k]],[/\(dtv[\);].+(aquos)/i],[p,[u,"Sharp"],[S,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[u,Rn],[p,Rn],[S,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,k]],[/((pebble))app/i],[u,p,[S,B]],[/droid.+; (glass) \d/i],[p,[u,we],[S,B]],[/droid.+; (wt63?0{2,3})\)/i],[p,[u,ot],[S,B]],[/(quest( 2)?)/i],[p,[u,pt],[S,B]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[S,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[S,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[S,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,x]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[S,P]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[g,te+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[g,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[l,ti,oi]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[l,ti,oi]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[l,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,l],[/\(bb(10);/i],[l,[g,K]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[g,me+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[g,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[g,j+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[g,"Chromium OS"],l],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,l],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[g,l]]},Hn=r(function(Gt,Dn){if(typeof Gt===t&&(Dn=Gt,Gt=h),!(this instanceof Hn))return new Hn(Gt,Dn).getResult();var Dt=Gt||(typeof f!==e&&f.navigator&&f.navigator.userAgent?f.navigator.userAgent:a),je=Dn?ct(vi,Dn):vi;return this.getBrowser=function(){var yt={};return yt[g]=h,yt[l]=h,Pn.call(yt,Dt,je.browser),yt.major=Ft(yt.version),yt},this.getCPU=function(){var yt={};return yt[E]=h,Pn.call(yt,Dt,je.cpu),yt},this.getDevice=function(){var yt={};return yt[u]=h,yt[p]=h,yt[S]=h,Pn.call(yt,Dt,je.device),yt},this.getEngine=function(){var yt={};return yt[g]=h,yt[l]=h,Pn.call(yt,Dt,je.engine),yt},this.getOS=function(){var yt={};return yt[g]=h,yt[l]=h,Pn.call(yt,Dt,je.os),yt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Dt},this.setUA=function(yt){return Dt=typeof yt===n&&yt.length>N?Rn(yt,N):yt,this},this.setUA(Dt),this},"UAParser");Hn.VERSION=m,Hn.BROWSER=rt([g,l,s]),Hn.CPU=rt([E]),Hn.DEVICE=rt([p,u,S,O,P,k,x,B,R]),Hn.ENGINE=Hn.OS=rt([g,l]),typeof c!==e?(typeof U!==e&&U.exports&&(c=U.exports=Hn),c.UAParser=Hn):i==="function"&&d("PDX0")?(v=function(){return Hn}.call(c,d,c,U),v!==h&&(U.exports=v)):typeof f!==e&&(f.UAParser=Hn);var Di=typeof f!==e&&(f.jQuery||f.Zepto);if(Di&&!Di.ua){var Bi=new Hn;Di.ua=Bi.getResult(),Di.ua.get=function(){return Bi.getUA()},Di.ua.set=function(Gt){Bi.setUA(Gt);var Dn=Bi.getResult();for(var Dt in Dn)Di.ua[Dt]=Dn[Dt]}}})(typeof window=="object"?window:this)},K5tc:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerAction=void 0;var v;(function(f){f[f.Connect=0]="Connect",f[f.FinishConnecting=1]="FinishConnecting",f[f.Update=2]="Update",f[f.FinishUpdating=3]="FinishUpdating",f[f.Reconnect=4]="Reconnect",f[f.Disconnect=5]="Disconnect",f[f.Fail=6]="Fail",f[f.FinishDisconnecting=7]="FinishDisconnecting"})(v=c.SessionStateControllerAction||(c.SessionStateControllerAction={})),c.default=v},K7TJ:function(U,c,d){"use strict";function v(f){for(var h=-1,m=f==null?0:f.length,a={};++h<m;){var o=f[h];a[o[0]]=o[1]}return a}r(v,"fromPairs"),c.a=v},KCGh:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a,o){this.sequenceNumber=h,this.message=m,this.timestampMs=a,this.logLevel=o}},"Log");c.default=v},KEX5:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("K4CH"),m=d("crgu"),a=f(d("HK1f")),o=f(d("pewp")),i=f(d("V2kw")),e=f(d("F7zz")),t=f(d("ac3q")),n=f(d("iAlb"));let s=r(class kl{addObserver(g){this.observerSet.add(g)}removeObserver(g){this.observerSet.delete(g)}forEachObserver(g){for(const S of this.observerSet)e.default.nextTick(()=>{this.observerSet.has(S)&&g(S)})}publishEvent(g,S){return v(this,void 0,void 0,function*(){const u=Date.now();this.meetingHistoryStates.push({name:g,timestampMs:u});const l=Object.freeze(Object.assign(this.getAttributes(u),S));this.forEachObserver(E=>{E.eventDidReceive(g,l)}),this.reportEvent(g,u,S)})}reportEvent(g,S,u){var l;return v(this,void 0,void 0,function*(){let E;try{u&&(E=n.default(u)),yield(l=this.eventReporter)===null||l===void 0?void 0:l.reportEvent(S,g,E)}catch(O){this.logger.error(`Error reporting event ${O}`)}})}setupEventReporter(g,S,u){if(u)this._eventReporter=u;else if(g.urls){const l=g.urls.eventIngestionURL;if(l){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:E,credentials:{attendeeId:O,joinToken:P}}=g,x=new i.default(E,O,P),k=new a.default(x,l);this._eventReporter=new o.default(k,S)}}}getAttributes(g){var S,u;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((S=this.parserResult)===null||S===void 0?void 0:S.os.name)||kl.UNAVAILABLE,osVersion:((u=this.parserResult)===null||u===void 0?void 0:u.os.version)||kl.UNAVAILABLE,sdkVersion:t.default.sdkVersion,sdkName:t.default.sdkName,timestampMs:g}}get eventReporter(){return this._eventReporter}destroy(){return v(this,void 0,void 0,function*(){m.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(g,S,u){var l,E,O,P,x,k,B;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=S,this.configuration=g,this.setupEventReporter(g,S,u);try{this.parserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():null}catch(R){this.logger.error(R.message)}this.browserMajorVersion=((O=(E=(l=this.parserResult)===null||l===void 0?void 0:l.browser)===null||E===void 0?void 0:E.version)===null||O===void 0?void 0:O.split(".")[0])||kl.UNAVAILABLE,this.browserName=((P=this.parserResult)===null||P===void 0?void 0:P.browser.name)||kl.UNAVAILABLE,this.browserVersion=((x=this.parserResult)===null||x===void 0?void 0:x.browser.version)||kl.UNAVAILABLE,this.deviceName=[((k=this.parserResult)===null||k===void 0?void 0:k.device.vendor)||"",((B=this.parserResult)===null||B===void 0?void 0:B.device.model)||""].join(" ").trim()||kl.UNAVAILABLE}},"DefaultEventController");c.default=s,s.UNAVAILABLE="Unavailable"},KJDN:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class extends Error{constructor(h,m){super(m||"Error fetching device."),this.cause=h,this.name="GetUserMediaError"}},"GetUserMediaError");c.default=v},KSud:function(U,c,d){"use strict";function v(f){var h=f;return h.placeholder}r(v,"getHolder"),c.a=v},Ka3M:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptLanguageWithScore");c.default=v},KsuK:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return v(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(m){this.canvas=m,this.destroyed=!1}},"CanvasVideoFrameBuffer");c.default=f},KvYa:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.isOldChrome=c.supportsWASMStreaming=c.supportsSharedArrayBuffer=c.supportsWASM=c.supportsAudioWorklet=c.supportsWorker=c.supportsVoiceFocusWorker=c.supportsWASMPostMessage=c.isSafari=void 0;const f=d("EkyC"),h=r(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),m=r(function(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,E=l.match(/Safari\//),O=l.match(/Chrom(?:e|ium)\//);return!!(E&&!O)},"isSafari");c.isSafari=m;const a=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return c.isSafari(u)?!1:h(u)?(g(u)||0)<95:!0},"supportsWASMPostMessage");c.supportsWASMPostMessage=a;const o=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;return v(void 0,void 0,void 0,function*(){if(!c.supportsWorker(u,E))return!1;const O=`${l.paths.workers}worker-v1.js`;try{const P=yield f.loadWorker(O,"VoiceFocusTestWorker",l,E);try{P.terminate()}catch(x){E==null||E.debug("Failed to terminate worker.",x)}return!0}catch(P){return E==null||E.info("Failed to fetch and instantiate test worker",P),!1}})},"supportsVoiceFocusWorker");c.supportsVoiceFocusWorker=o;const i=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;try{return!!u.Worker}catch(E){return l==null||l.info("Does not support Worker",E),!1}},"supportsWorker");c.supportsWorker=i;const e=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;try{return!!u.AudioWorklet&&!!u.AudioWorkletNode}catch(E){return l==null||l.info("Does not support Audio Worklet",E),!1}},"supportsAudioWorklet");c.supportsAudioWorklet=e;const t=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;try{return!!u.WebAssembly&&(!!u.WebAssembly.compile||!!u.WebAssembly.compileStreaming)}catch(E){return l==null||l.info("Does not support WASM",E),!1}},"supportsWASM");c.supportsWASM=t;const n=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,E=arguments.length>2?arguments[2]:void 0;try{return!!u.SharedArrayBuffer&&(!!l.chrome||!!u.crossOriginIsolated)}catch{return E==null||E.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");c.supportsSharedArrayBuffer=n;const s=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;var E;try{return!!(!((E=u.WebAssembly)===null||E===void 0)&&E.compileStreaming)}catch(O){return l==null||l.info("Does not support WASM streaming compilation",O),!1}},"supportsWASMStreaming");c.supportsWASMStreaming=s;const p=90,g=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!u.chrome)return}catch{}const l=u.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(l)return parseInt(l[1],10)},"chromeVersion"),S=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;const E=g(u);return E&&E<p?(l==null||l.debug(`Chrome ${E} has incomplete SIMD support.`),!0):!1},"isOldChrome");c.isOldChrome=S},KyYT:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.None=c.Some=c.Maybe=void 0;let v=r(class{static of(a){return a==null?h.of():f.of(a)}},"Maybe");c.Maybe=v;let f=r(class sv{map(a){return v.of(a(this.value))}flatMap(a){return a(this.value)}get(){return this.value}getOrElse(a){return this.value}defaulting(a){return v.of(this.getOrElse(a))}static of(a){if(a==null)throw new Error("value is ${value}");return new sv(a)}constructor(a){this.value=a,this.isSome=!0,this.isNone=!1}},"Some");c.Some=f;let h=r(class Ld{get(){throw new Error("value is null")}getOrElse(a){return a}map(a){return new Ld}flatMap(a){return new Ld}defaulting(a){return v.of(this.getOrElse(a))}static of(){return new Ld}constructor(){this.isSome=!1,this.isNone=!0}},"None");c.None=h},"L+i+":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("yQ3g")),m=f(d("aVV0"));let a=r(class extends m.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return v(this,void 0,void 0,function*(){const i=new h.default(this.timeoutMs);i.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{i.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskToRunBeforeTimeout=e,this.timeoutMs=t,this.taskName=`Timeout${this.timeoutMs}ms`,e.setParent(this)}},"TimeoutTask");c.default=a},L5pH:function(U,c){U.exports=function(){}},LDIi:function(U,c,d){"use strict";U.exports=o;var v=d("j4TH"),f,h=v.LongBits,m=v.utf8;function a(p,g){return RangeError("index out of range: "+p.pos+" + "+(g||1)+" > "+p.len)}r(a,"indexOutOfRange");function o(p){this.buf=p,this.pos=0,this.len=p.length}r(o,"Reader");var i=typeof Uint8Array<"u"?r(function(g){if(g instanceof Uint8Array||Array.isArray(g))return new o(g);throw Error("illegal buffer")},"create_typed_array"):r(function(g){if(Array.isArray(g))return new o(g);throw Error("illegal buffer")},"create_array"),e=r(function(){return v.Buffer?r(function(S){return(o.create=r(function(l){return v.Buffer.isBuffer(l)?new f(l):i(l)},"create_buffer"))(S)},"create_buffer_setup"):i},"create");o.create=e(),o.prototype._slice=v.Array.prototype.subarray||v.Array.prototype.slice,o.prototype.uint32=r(function(){var g=4294967295;return r(function(){if(g=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(g=(g|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return g},"read_uint32")},"read_uint32_setup")(),o.prototype.int32=r(function(){return this.uint32()|0},"read_int32"),o.prototype.sint32=r(function(){var g=this.uint32();return g>>>1^-(g&1)|0},"read_sint32");function t(){var p=new h(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw a(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,p}if(this.len-this.pos>4){for(;g<5;++g)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;g<5;++g){if(this.pos>=this.len)throw a(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}r(t,"readLongVarint"),o.prototype.bool=r(function(){return this.uint32()!==0},"read_bool");function n(p,g){return(p[g-4]|p[g-3]<<8|p[g-2]<<16|p[g-1]<<24)>>>0}r(n,"readFixed32_end"),o.prototype.fixed32=r(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)},"read_fixed32"),o.prototype.sfixed32=r(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)|0},"read_sfixed32");function s(){if(this.pos+8>this.len)throw a(this,8);return new h(n(this.buf,this.pos+=4),n(this.buf,this.pos+=4))}r(s,"readFixed64"),o.prototype.float=r(function(){if(this.pos+4>this.len)throw a(this,4);var g=v.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},"read_float"),o.prototype.double=r(function(){if(this.pos+8>this.len)throw a(this,4);var g=v.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},"read_double"),o.prototype.bytes=r(function(){var g=this.uint32(),S=this.pos,u=this.pos+g;if(u>this.len)throw a(this,g);if(this.pos+=g,Array.isArray(this.buf))return this.buf.slice(S,u);if(S===u){var l=v.Buffer;return l?l.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,S,u)},"read_bytes"),o.prototype.string=r(function(){var g=this.bytes();return m.read(g,0,g.length)},"read_string"),o.prototype.skip=r(function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw a(this,g);this.pos+=g}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),o.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=this.uint32()&7)!==4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},o._configure=function(p){f=p,o.create=e(),f._configure();var g=v.Long?"toLong":"toNumber";v.merge(o.prototype,{int64:r(function(){return t.call(this)[g](!1)},"read_int64"),uint64:r(function(){return t.call(this)[g](!0)},"read_uint64"),sint64:r(function(){return t.call(this).zzDecode()[g](!1)},"read_sint64"),fixed64:r(function(){return s.call(this)[g](!0)},"read_fixed64"),sfixed64:r(function(){return s.call(this)[g](!1)},"read_sfixed64")})}},LEQH:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("GtHv")),m=d("vjEy");let a=r(class extends h.default{drawImageWithMask(i,e){const t=this.blurredImage,{canvasCtx:n,targetCanvas:s}=this,{width:p,height:g}=s;if(!e||!t){n.clearRect(0,0,p,g);return}this.scaledCanvas.getContext("2d").putImageData(e,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),n.save(),n.clearRect(0,0,p,g),n.drawImage(this.scaledCanvas,0,0,p,g),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,p,g),n.globalCompositeOperation="destination-over",n.drawImage(this.blurCanvas,0,0,p,g),n.restore()}setBlurStrength(i){if(super.setBlurStrength(i),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(i){if(this.logger.info(`received initialize message: ${this.stringify(i)}`),!i.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(i){this.blurredImage=i.payload.blurOutput,super.handlePredict(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});var e;return v(this,void 0,void 0,function*(){i.destroy.call(this),(e=this.blurCanvas)===null||e===void 0||e.remove(),this.blurCanvas=void 0})}constructor(i,e){super(i,e),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");c.default=a},LIUS:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("XCDq"),h=v(d("0LIx")),m=v(d("OEM7"));let a=r(class Ma extends h.default{localStreamDescriptions(){const i=[];return this._localStreamInfos.forEach(e=>{i.push(e.clone())}),i}integrateUplinkPolicyDecision(i){let e=!0,t=0;for(let n=0;n<i.length;n++){const s=i[n].maxBitrate/1e3,p=i[n].maxFramerate;if(!e||n===this._localStreamInfos.length){e=!1;const g=new m.default;g.maxBitrateKbps=s,g.maxFrameRate=p,g.disabledByUplinkPolicy=s===0,s!==0&&(g.timeEnabled=Date.now()),this._localStreamInfos.push(g),t++;continue}this._localStreamInfos[t].maxBitrateKbps===0&&s>0&&(this._localStreamInfos[t].timeEnabled=Date.now()),this._localStreamInfos[t].maxBitrateKbps=s,this._localStreamInfos[t].maxFrameRate=p,this._localStreamInfos[t].disabledByUplinkPolicy=s===0,this._localStreamInfos[t].disabledByUplinkPolicy===!0&&(this._localStreamInfos[t].disabledByWebRTC=!1),t++}e&&this._localStreamInfos.splice(t)}integrateBitratesFrame(i){super.integrateBitratesFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of i.bitrates)e.add(n.sourceStreamId),this.streamIdToBitrateKbpsMap.set(n.sourceStreamId,this.convertBpsToKbps(n.avgBitrateBps));for(const n of t)e.has(n)||(this.streamIdToBitrateKbpsMap.get(n)===Ma.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(n,Ma.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(n,Ma.NOT_SENDING_STREAM_BITRATE));for(let n=0;n<this._localStreamInfos.length;n++){this._localStreamInfos[n].disabledByWebRTC=!1;const s=this._localStreamInfos[n].streamId;this._localStreamInfos[n].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(s)?this.streamIdToBitrateKbpsMap.get(s)===Ma.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>Ma.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>Ma.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let i="";for(const e of this._localStreamInfos)i+=`streamId=${e.streamId} maxBitrate=${e.maxBitrateKbps} disabledByWebRTC=${e.disabledByWebRTC} disabledByUplink=${e.disabledByUplinkPolicy}
`;this.logger.debug(()=>i)}integrateIndexFrame(i){super.integrateIndexFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of this.currentIndex.sources)n.mediaType===f.SdkStreamMediaType.VIDEO&&(e.add(n.streamId),this.streamIdToBitrateKbpsMap.has(n.streamId)||this.streamIdToBitrateKbpsMap.set(n.streamId,Ma.UNSEEN_STREAM_BITRATE));for(const n of t)e.has(n)||this.streamIdToBitrateKbpsMap.delete(n)}integrateSubscribeAckFrame(i){if(super.integrateSubscribeAckFrame(i),!i.allocations||i.allocations===void 0)return;let e=0;for(const t of i.allocations){if(this._localStreamInfos.length<e+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[e].groupId=t.groupId,this._localStreamInfos[e].streamId=t.streamId,this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,Ma.UNSEEN_STREAM_BITRATE),e++}}constructor(i){super(i),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}},"SimulcastVideoStreamIndex");c.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},LK2A:function(U,c,d){"use strict";d.r(c),function(v){d.d(c,"AutocompleteActions",function(){return $n}),d.d(c,"CardRenderType",function(){return Mn}),d.d(c,"CollabApi",function(){return Dt}),d.d(c,"CollabPopoverDismissSource",function(){return tt}),d.d(c,"CollabUrlType",function(){return si}),d.d(c,"CommentFocusTarget",function(){return vt}),d.d(c,"CommentLevel",function(){return Dr}),d.d(c,"DocBlockStyle",function(){return ge}),d.d(c,"DocInlineStyle",function(){return rn}),d.d(c,"EmbeddedMoveDirection",function(){return qi}),d.d(c,"EmbeddedObjectType",function(){return en}),d.d(c,"EmbeddedUIAttributes",function(){return mi}),d.d(c,"EmbeddedUiAction",function(){return Pr}),d.d(c,"EmbeddedUiContext",function(){return _r}),d.d(c,"ErrorSource",function(){return Ji}),d.d(c,"Feature",function(){return it}),d.d(c,"FullTableModification",function(){return Ki}),d.d(c,"GetSlackObjectFailureReason",function(){return un}),d.d(c,"GrafterUrls",function(){return t}),d.d(c,"NavigationTypeMetric",function(){return Hi}),d.d(c,"SectionInsertionType",function(){return ur}),d.d(c,"ShortcutModifier",function(){return bt}),d.d(c,"SlackObjectActionType",function(){return Xi}),d.d(c,"SlackObjectType",function(){return an}),d.d(c,"TablePart",function(){return pi}),d.d(c,"TablePartModificationType",function(){return dr}),d.d(c,"TemplateTriggerType",function(){return Re}),d.d(c,"UnfurlType",function(){return or});var f,h,m=typeof v<"u"?v:self;class a{constructor(){this.o=!1,this.l=[]}run(){this.o=!0;const de=this.l;this.l=[];for(let Ie=0;Ie<de.length;Ie++)de[Ie]()}add(de){this.o?de():this.l.push(de)}}r(a,"s"),function(z){var de;(de=z.Op||(z.Op={}))[de.DID_INITIALIZE=8]="DID_INITIALIZE",de[de.DID_FAIL_TO_INITIALIZE=9]="DID_FAIL_TO_INITIALIZE"}(f||(f={})),function(z){var de;(de=z.Op||(z.Op={}))[de.INIT=0]="INIT"}(h||(h={}));class o{constructor(de){this._=new Map,this.u=null,this.destinationFn=de}setTransportHook(de){this.u=de}tearDown(){}addHandler(de,Ie){this._.has(de)&&this.logError(`Already had handler for op ${de} will overwrite.`),this._.set(de,Ie)}getHandler(de){const Ie=this._.get(de);return Ie?this.u?(xe,$e)=>{var ut;return(ut=this.u)===null||ut===void 0||ut.call(this,de,xe,e.INCOMING),Ie(xe,mt=>{var St;return(St=this.u)===null||St===void 0||St.call(this,de,mt,e.OUTGOING_REPLY),$e(mt)})}:Ie:null}invoke(de,Ie,xe){var $e;if(($e=this.u)===null||$e===void 0||$e.call(this,de,Ie,e.OUTGOING),this.u&&xe){const St=xe;xe=r(It=>{var Rt;(Rt=this.u)===null||Rt===void 0||Rt.call(this,de,It,e.INCOMING_REPLY),St(It)},"i")}const ut=this.destinationFn().getHandler(de);if(!ut)return void this.logError(`Bridge transport doesn't have handler for op ${de}`);let mt;try{mt=ut(Ie,St=>{xe?xe(St):this.logError(`Invoke response received without callback for op ${de}`)})}catch{i(de,Ie)}mt instanceof Promise&&mt.catch(St=>i(de,Ie))}logError(de){}}r(o,"n");let i=r((z,de,Ie)=>{let xe="";try{xe=JSON.stringify(de)}catch{xe="(Unserializable message)"}},"r");var e,t,n;(function(z){z[z.INCOMING=1]="INCOMING",z[z.INCOMING_REPLY=2]="INCOMING_REPLY",z[z.OUTGOING=3]="OUTGOING",z[z.OUTGOING_REPLY=4]="OUTGOING_REPLY"})(e||(e={})),function(z){z.CONTROLLER_CSS="https://quip.codes/-/static/less/stylesheet/-?retina=True&mode=normal&less=collab%2Fcontroller.less",z.CONTROLLER_JS="https://slackdocs.codes:3000/ts/src/collab/controller/bundle.ts",z.EMBEDDED_JS="https://slackdocs.codes/-/static-script-files?grafted=True&resource_bundle_name=collab_embedded"}(t||(t={})),function(z){z.BRIDGE_TRANSPORT_SET="bridge-transport-set",z.BRIDGE_TRANSPORT_READY="bridge-transport-ready",z.HANDLER_REGISTERED="handler-registered",z.HANDLER_REGISTRATION_FINISHED="handler_registration_finished",z.MESSAGE_SENT="message_sent",z.MESSAGE_HANDLED="message-handled",z.INIT_SENT="init_sent",z.INIT_RECEIVED="init_received",z.DID_INIT_SENT="did_init_sent",z.DID_INIT_RECEIVED="did_init_received",z.BRIDGE_OPEN="bridge-open",z.ERROR="error",z.SYSTEMJS_LOADED="systemjs-loaded",z.CONTROLLER_SYSTEMJS_MODULE_IMPORTED="controller-systemjs-imported",z.CONTROLLER_INIT_DATA_FETCHED="controller-init-data-fetched",z.CONTROLLER_RESOURCE_DATA_FETCHED="controller-resource-data-fetched",z.PROBE="probe",z.OTHER="misc"}(n||(n={}));class s{constructor(de){this.O=de,this.T=[],this.S=[],this.N=[],this.L=[],this.I=[],this.A=Date.now(),this.onlyBefore("Handler registered late",n.HANDLER_REGISTERED,[n.HANDLER_REGISTRATION_FINISHED]),this.onlyAfter("Message sent before bridge open",n.MESSAGE_SENT,[n.BRIDGE_OPEN]),this.onlyAfter("Message handled before bridge open",n.MESSAGE_HANDLED,[n.BRIDGE_OPEN])}getTimeoutForPromise(){return s.TIMEOUT_FOR_PROMISE}fireEvent(de,Ie=null){if(this.S.filter($e=>$e.beforeEvent==de).forEach($e=>{$e.afterEvents.some(ut=>this.T.includes(ut))&&$e.message&&this.C(`${this.O}: ${$e.message}`)}),this.N.filter($e=>$e.afterEvent==de).forEach($e=>{$e.beforeEvents.some(ut=>!this.T.includes(ut))&&$e.message&&this.C(`${this.O}: ${$e.message}`)}),de!=n.HANDLER_REGISTERED&&this.C(Ie?Promise.resolve(Ie).then($e=>`${de}: ${$e}`):de),this.T.includes(de))return;this.T.push(de);const xe=[];this.L=this.L.filter($e=>!$e.events.every(ut=>this.T.includes(ut))||(xe.push($e),!1)),xe.forEach($e=>{$e.description&&this.C(`${de} -> ${$e.description}`),$e.callback()})}after(de,Ie,xe=null){de.every($e=>this.T.includes($e))?Ie():(xe&&this.C(`${xe} deferred`),this.L.push({events:de,description:xe,callback:Ie}))}onlyBefore(de,Ie,xe){this.S.push({beforeEvent:Ie,afterEvents:xe,message:de})}onlyAfter(de,Ie,xe){this.N.push({beforeEvents:xe,afterEvent:Ie,message:de})}C(de){if(this.I.length>s.MAX_INIT_LOG)return;const Ie=Date.now()-this.A,xe=Promise.resolve(de);this.I.push({timestamp:Ie,message:xe}),xe.then($e=>{m.console.debug(`${this.O}: ${$e}`)})}getInitLog(de){const Ie=(de?this.I.slice(0,de):this.I).map(async xe=>({t:xe.timestamp,e:await xe.message}));return Promise.all(Ie).then(xe=>({id:this.O,log:xe}))}}r(s,"_"),s.MAX_INIT_LOG=50,s.TIMEOUT_FOR_PROMISE=3e4;function p(z,{logCallback:de=r(()=>{},"e"),timeoutMillis:Ie=3e4,name:xe="Unnamed"}={}){return new Promise(($e,ut)=>{let mt=m.window.setTimeout(()=>{mt=null,de(`${xe} promise timed out`),ut(new Error(`${xe} promise timed out`))},Ie);const St=r(()=>{mt&&(m.clearTimeout(mt),mt=null)},"l");z.then(It=>{mt?(St(),$e(It)):de(`${xe} promise resolved after timeout.`)}).catch(It=>{mt?(St(),ut(It)):de(`${xe} promise rejected after timeout`)})})}r(p,"h");function g(z,de,Ie,xe,$e){const{span:ut,closeSpanFn:mt}=xe.createBasicTraceSpan($e,Ie,{[Mi.URL]:z}),{closeSpanFn:St}=xe.createBasicTraceSpan(ut,di.HTTP_FETCH_HEADER),It=new m.AbortController,Rt=m.setTimeout(()=>{It.abort()},xe.bridgeInit.getTimeoutForPromise());return m.fetch(z,Object.assign({signal:It.signal},de)).catch(Zt=>{throw St(Zt),Error(`${Ie} fetch failed: ${Zt}`)}).then(Zt=>{if(m.clearTimeout(Rt),!Zt.ok)return St(new Error(`returned ${Zt.status}`)),u(xe,Ie,Zt,ut).then(on=>{throw Error(on)});St();const{closeSpanFn:Wt}=xe.createBasicTraceSpan(ut,di.HTTP_FETCH_CONTENT,{[Mi.URL]:z});return Zt.text().catch(on=>{throw Wt(on),on}).then(on=>{Wt();const{closeSpanFn:Tt}=xe.createBasicTraceSpan(ut,di.JSON_PARSE);try{const Yn=JSON.parse(on);return Tt(),Yn}catch(Yn){throw Tt(new Error(`${Yn}`)),xe.bridgeInit.fireEvent(n.ERROR,u(xe,Ie,Zt,null)),Yn}})}).finally(()=>{mt()})}r(g,"c");function S(z,de,Ie,xe){const $e=new m.AbortController,ut=m.setTimeout(()=>{$e.abort()},Ie.bridgeInit.getTimeoutForPromise());Ie.bridgeInit.fireEvent(n.OTHER,`${de} prefetch start`);const{span:mt,closeSpanFn:St}=Ie.createBasicTraceSpan(xe,di.MODULE_PREFETCH,{[Mi.URL]:z}),{closeSpanFn:It}=Ie.createBasicTraceSpan(mt,di.HTTP_FETCH_HEADER);return m.fetch(z,{method:"GET",mode:"cors",cache:"default",signal:$e.signal}).catch(Rt=>{throw It(Rt),Error(`${de} fetch failed: ${Rt}`)}).then(Rt=>{if(!Rt.ok)return It(new Error(`Returned ${Rt.status}`)),u(Ie,de,Rt,mt).then(Wt=>{throw Error(Wt)});It();const{closeSpanFn:Zt}=Ie.createBasicTraceSpan(mt,di.HTTP_FETCH_CONTENT);return Rt.text().then(()=>{Zt(),Ie.bridgeInit.fireEvent(n.OTHER,`${de} prefetch ok`)}).catch(Wt=>{throw Zt(Wt),Wt})}).finally(()=>{St(),m.clearTimeout(ut)})}r(S,"a");function u(z,de,Ie,xe){const{closeSpanFn:$e}=z.createBasicTraceSpan(xe,di.HTTP_FETCH_CONTENT);return Ie.text().then(ut=>{const mt=function(It){if(!It||It.trim().length==0)return"response body empty";try{const Rt=new m.DOMParser().parseFromString(It,"text/html").documentElement.textContent;if(Rt&&Rt.trim().length>0)return Rt.trim().replace(/\s+/g," ").slice(0,50)}catch{}return It.trim().slice(0,50)}(ut),St=`${de} fetch returned ${Ie.status}: ${mt}`;return $e(new Error(St)),St}).catch(ut=>{const mt=`${de} fetch returned ${Ie.status}: response body unavailable (${ut})`;return $e(new Error(mt)),mt})}r(u,"d");function l(z,de,Ie){let xe=null;const{id:$e,promise:ut}=function(It){const Rt=Symbol(),Zt=new Promise(Wt=>{X.push({id:Rt,callback:on=>{It(),Wt(on)}})});return j||(j=!0,m.window._collabInit=Wt=>{var on;(on=X.shift())===null||on===void 0||on.callback(Wt)}),{promise:Zt,id:Rt}}(()=>{var It,Rt;(Rt=(It=z==null?void 0:z.platformDelegate)===null||It===void 0?void 0:It.endTraceOrSpan)===null||Rt===void 0||Rt.call(It,xe)}),mt=ut.then(It=>(z.bridgeInit.fireEvent(n.OTHER,"_collabInit called"),It));return function(It,Rt,Zt){return Rt.then(Wt=>{if(Wt.module_loader_url==null)throw Error("No module loader URL.  Server likely isn't in SystemJS mode.");const{span:on,closeSpanFn:Tt}=It.createBasicTraceSpan(Zt,di.LOAD_CONTROLLER),Yn=It.config.useGraftedMode?t.CONTROLLER_JS:Wt.controller_entry_module_url;return function(kn,Si,ui,fi){ui&&function(ni,Ci){K(Ci.bridgeInit),A=ni,D=m.document.createElement("script"),D.type="systemjs-importmap",D.textContent=JSON.stringify(ni),m.document.body.appendChild(D),Ci.bridgeInit.fireEvent(n.OTHER,"Created import map script tag")}(ui,kn);const gi=kn.bridgeInit;if(B){const ni=k;return gi.fireEvent(n.OTHER,`Collab ${ni} is loading systemjs, reusing the promise`),B.then(()=>{gi.fireEvent(n.OTHER,`Systemjs promise reused from collab ${ni} succeeded`)}).catch(Ci=>{throw gi.fireEvent(n.ERROR,`Systemjs promise reused from collab ${ni} failed: ${Ci}`),Ci})}let yi,Fi=null;if(R())gi.fireEvent(n.OTHER,"systemjs already loaded, running prepareImport"),Fi="System.prepareImport() promise resolved",yi=p(System.prepareImport(!0),{name:"System.prepareImport",timeoutMillis:gi.getTimeoutForPromise()});else{gi.fireEvent(n.OTHER,"No SystemJS found, loading it");const{span:ni,closeSpanFn:Ci}=kn.createBasicTraceSpan(fi,di.LOAD_SYSTEMJS,{[Mi.JS_PREFETCH_ENABLED]:"true",[Mi.URL]:Si});Fi="systemjs script tag onload fired",yi=function(In,Qn,ii){return S(Qn,"systemjs-module-loader",In,ii).then(()=>{const Zn=m.document.createElement("script");return new Promise((yr,Ui)=>{const{closeSpanFn:sr}=In.createBasicTraceSpan(ii,di.SCRIPT_TAG);Zn.src=Qn,Zn.defer=!0,Zn.crossOrigin="anonymous",Zn.onload=()=>{sr(),yr()},Zn.onerror=Ri=>{const No=Error(`systemjs onerror called: ${Ri}`);sr(No),Ui(No)},m.document.body.appendChild(Zn)}).then(()=>{if(!R())throw Error("SystemJS not found after it was loaded")}).catch(yr=>{throw typeof System=="object"&&(delete m.window.System,In.bridgeInit.fireEvent(n.OTHER,"Cleaned up systemjs global object")),Zn.onload=null,Zn.onerror=null,Zn.parentNode&&(Zn.parentNode.removeChild(Zn),In.bridgeInit.fireEvent(n.OTHER,"Cleaned up systemjs loader script tag")),yr})})}(kn,Si,ni).finally(()=>{Ci()})}return k=kn.id,B=yi.then(()=>{gi.fireEvent(n.SYSTEMJS_LOADED,Fi)}).finally(()=>{B=null,k=null}),B}(It,Wt.module_loader_url,Wt.import_map,on).then(()=>P(Yn,It,on)).finally(()=>{Tt()})})}(z,de,Ie).then(()=>{var It,Rt,Zt;return xe=(Zt=(Rt=(It=z==null?void 0:z.platformDelegate)===null||It===void 0?void 0:It.startSpan)===null||Rt===void 0?void 0:Rt.call(It,Ie,di.AWAIT_CALLBACK))!==null&&Zt!==void 0?Zt:null,p(mt,{name:"_collabInit callback",timeoutMillis:z.bridgeInit.getTimeoutForPromise()}).catch(Wt=>{var on,Tt;throw(Tt=(on=z==null?void 0:z.platformDelegate)===null||on===void 0?void 0:on.endTraceOrSpan)===null||Tt===void 0||Tt.call(on,xe,{[Mi.ERROR]:`${Wt}`}),Wt})}).catch(It=>{var Rt;throw Rt=$e,X=X.filter(Zt=>Zt.id!==Rt),K(z.bridgeInit),It})}r(l,"u");let E=null,O=null;function P(z,de,Ie){const xe=de.bridgeInit;if(O){const St=E;return xe.fireEvent(n.OTHER,`Collab ${St} is loading the controller, waiting for it to finish...`),O.then(()=>(xe.fireEvent(n.OTHER,`Collab ${St} module loading complete`),P(z,de,Ie))).catch(It=>(xe.fireEvent(n.OTHER,`Collab ${St} module loading failed`),P(z,de,Ie)))}if(xe.fireEvent(n.OTHER,"Loading controller module"),System.fork===void 0)return Promise.reject(Error("SystemJS is missing the fork() method"));const $e=System.fork(globalThis);xe.fireEvent(n.OTHER,`controller module${System.isAlreadyLoaded(z)?" ":" not "}in systemjs cache`);const{span:ut,closeSpanFn:mt}=de.createBasicTraceSpan(Ie,di.LOAD_CONTROLLER_MODULE,{[Mi.JS_PREFETCH_ENABLED]:"true",[Mi.URL]:z});return O=S(z,"controller-module",de,ut).then(()=>{const{closeSpanFn:St}=de.createBasicTraceSpan(ut,di.SYSTEMJS_IMPORT_MODULE,{[Mi.URL]:z}),It=[],Rt=new m.MutationObserver(Zt=>{It.push(...x(Zt))});return Rt.observe(m.document.head,{childList:!0}),$e.import(z).then(()=>{St(),xe.fireEvent(n.CONTROLLER_SYSTEMJS_MODULE_IMPORTED)}).catch(Zt=>{St(Zt),It.push(...x(Rt.takeRecords()));let Wt=0;throw It.forEach(on=>{on.onload=null,on.onerror=null,on.parentNode&&(on.parentNode.removeChild(on),Wt++)}),Wt>0&&xe.fireEvent(n.OTHER,`Cleaned up ${Wt} SystemJS script tags`),System.resetInstantiationCache()&&xe.fireEvent(n.OTHER,"SystemJS cache cleared"),Zt}).finally(()=>{Rt.disconnect()})}).finally(()=>{mt(),E=null,O=null}),E=de.id,O}r(P,"S");function x(z){const de=[];return z.forEach(Ie=>{Ie.addedNodes.forEach(xe=>{xe instanceof m.HTMLScriptElement&&xe.getAttribute("systemjs")==="1"&&de.push(xe)})}),de}r(x,"N");let k=null,B=null;function R(){return typeof System=="object"&&typeof System.register=="function"}r(R,"A");function N(){if(!A)return m.console.warn("No import map data found"),[];const z=A.imports;return!z||typeof z!="object"?(m.console.warn("Imports property missing from importMapsData"),[]):Object.values(z).filter(de=>typeof de=="string"||de instanceof String)}r(N,"C");const w={};let A,D;function K(z){D&&(D.remove(),D=void 0,z.fireEvent(n.OTHER,"Cleaned up import map script tag"))}r(K,"p");let X=[],j=!1,te=null;class me extends o{constructor(de,Ie){super(Ie),this.m=de,this.D=de.bridgeInit,this.R()}tearDown(){super.tearDown()}p(de){var Ie,xe;m.console.error("EmbeddedSameOriginBridgeTransport did not load",de),de&&m.console.error(de.stack),this.D.fireEvent(n.ERROR,`Failure constructing EmbeddedSameOriginBridgeTransport: ${de}`),(xe=(Ie=this.m.config.delegate)===null||Ie===void 0?void 0:Ie.didFailToInitialize)===null||xe===void 0||xe.call(Ie,"exception",de)}R(){var de,Ie,xe;const $e=(xe=(Ie=(de=this.m.platformDelegate)===null||de===void 0?void 0:de.startTrace)===null||Ie===void 0?void 0:Ie.call(de,di.COLLAB_INIT,{[Mi.CONTROLLER_ID]:`${this.m.id}`}))!==null&&xe!==void 0?xe:null,ut=function(St,It){const Rt=new m.FormData,{authToken:Zt,userJwt:Wt,getSlackToken:on,slackToken:Tt,useCdnFallback:Yn,isGov:kn}=St.config;Zt&&Rt.append("oauth_token",Zt),Wt&&Rt.append("user_jwt",Wt),on?Rt.append("token",on()):Tt&&Rt.append("token",Tt);const Si=St.config.xhrWithCredentials===!0?"include":void 0,ui=g(`${Jn(St)}/collab/controller-init?format=map`,{method:"POST",body:Rt,credentials:Si},di.CONTROLLER_INIT,St,It).then(yi=>(St.bridgeInit.fireEvent(n.CONTROLLER_INIT_DATA_FETCHED),yi)),fi=m.window.QUIP_VERSION_NAME||"server",gi=new m.URLSearchParams([["version-name",fi]]);return St.config.enableSlackCDN&&gi.append("enable-slack-cdn","1"),St.config.language&&gi.append("language-code",St.config.language),Yn&&gi.append("cdn_fallback",`${St.getAttemptNumber()}`),kn&&gi.append("serve_gov","1"),te=g(`${Jn(St)}/collab/controller-resources?${gi.toString()}`,{method:"GET",credentials:Si},di.CONTROLLER_RESORCES,St,It).then(yi=>(St.bridgeInit.fireEvent(n.CONTROLLER_RESOURCE_DATA_FETCHED),yi)).catch(yi=>(te=null,St.bridgeInit.fireEvent(n.ERROR,`controller-resources request failed: ${yi}`),{module_loader_url:null,controller_entry_module_url:null,import_map:null})),Promise.all([ui,te]).then(yi=>{const[Fi,ni]=yi;return Object.assign(Object.assign({},Fi),ni)})}(this.m,$e),mt=l(this.m,ut,$e);Promise.all([mt,ut]).then(St=>{var It,Rt;const Zt=St[0],Wt=St[1];Zt.main(Wt.init_options,Wt.preserialized,(It=this.m.config.slackToken)!==null&&It!==void 0?It:Wt.oauth_token,this.m.config.slackToken?null:Wt.oauth_token_expiry,(Rt=this.m.config.getSlackToken)!==null&&Rt!==void 0?Rt:null,Jn(this.m),this.destinationFn(),Wt.js_initializer,Wt.user_id,this.m.config.xhrWithCredentials,this.m.config.enableWebCaching?Wt.web_cache_key:void 0,this.m.config.enableWebCaching?Wt.web_cache_key_version:void 0,this.m.config.requestsAreCors,Wt.body_classes,Wt.css_url,!!this.m.config.useGraftedMode,this.m.config.pathRewriteHook),this.D.fireEvent(n.BRIDGE_TRANSPORT_READY)}).catch(St=>this.p(St)).finally(()=>{var St,It;(It=(St=this.m.platformDelegate)===null||St===void 0?void 0:St.endTraceOrSpan)===null||It===void 0||It.call(St,$e)})}logError(de){this.D.fireEvent(n.ERROR,de)}}r(me,"P");class we{constructor(de){this.embeddedSide=new me(de,()=>this.controllerSide),this.controllerSide=new o(()=>this.embeddedSide)}}r(we,"U");function pe(z,de){let Ie=null;for(const xe of function($e){const ut=[];for(const mt of Object.keys($e))isNaN(Number(mt))&&ut.push(mt);return ut}(z))z[xe]===de&&(Ie=xe);return Ie||(Ie=String(de)),Ie+=` (${de})`,Ie}r(pe,"g");const Ae={[e.INCOMING]:"ToEmbedded",[e.OUTGOING]:"FromEmbedded",[e.INCOMING_REPLY]:"ReplyToEmbedded",[e.OUTGOING_REPLY]:"ReplyFromEmbedded"},Je=[f.Op.DID_INITIALIZE,f.Op.DID_FAIL_TO_INITIALIZE],Fe=[];class Ue{constructor(de,Ie){this.v=de,this.M=Ie,this.I=[],this.P=[],this.U={[Ae[e.INCOMING]]:{},[Ae[e.OUTGOING_REPLY]]:{},[Ae[e.OUTGOING]]:{},[Ae[e.INCOMING_REPLY]]:{}}}getHook(){const de=this.I,Ie=this.P,xe=this.U;return($e,ut,mt)=>{var St,It;const Rt={ts:Date.now(),op:$e,message:ut,type:mt},Zt=at(mt,$e);if((St=(It=xe[Ae[mt]])[Zt])!==null&&St!==void 0||(It[Zt]=0),xe[Ae[mt]][Zt]+=1,de.length>=30)for(Ie.push(Rt);Ie.length>20;)Ie.shift();else de.push(Rt)}}getReport(de=!0){var Ie;return{collabInstanceId:this.v,collabInstanceTeamId:(Ie=this.M)!==null&&Ie!==void 0?Ie:"not_provided",reportTimestamp:Date.now(),messageCounts:this.U,startupLog:Le(this.I,de),recentLog:Le(this.P,de)}}}r(Ue,"y");function Le(z,de=!0){return z.map(Ie=>{const xe={op:at(Ie.type,Ie.op),type:Ae[Ie.type]};var $e,ut;return de&&($e=Ie.type,ut=Ie.op,!([e.INCOMING,e.OUTGOING_REPLY].includes($e)?Je.includes(ut):Fe.includes(ut)))||(xe.message=Ie.message),de||(xe.ts=Ie.ts),xe})}r(Le,"B");function at(z,de){return[e.INCOMING,e.OUTGOING_REPLY].includes(z)?pe(f.Op,de):pe(h.Op,de)}r(at,"G");class lt{constructor(de){this.D=de.bridgeInit,this.F=function(Ie){return new we(Ie).embeddedSide}(de),this.B=new Ue(de.id,de.config.teamId),this.D.fireEvent(n.BRIDGE_TRANSPORT_SET),this.F.setTransportHook(this.B.getHook())}init(de){this.D.after([n.BRIDGE_TRANSPORT_SET,n.BRIDGE_TRANSPORT_READY,n.HANDLER_REGISTRATION_FINISHED],()=>{this.invoke(h.Op.INIT,de),this.D.fireEvent(n.INIT_SENT)})}tearDown(){this.F.tearDown()}invoke(de,Ie){const xe=de==h.Op.INIT,$e=r(()=>{this.F.invoke(de,Ie),xe||this.D.fireEvent(n.MESSAGE_SENT,`Op ${de}`)},"n");xe?$e():this.D.after([n.BRIDGE_OPEN],$e,`Send op ${de}`)}addHandler(de,Ie){this.F.addHandler(de,de===f.Op.DID_INITIALIZE?Ie:xe=>{this.D.after([n.BRIDGE_OPEN],()=>{Ie(xe),this.D.fireEvent(n.MESSAGE_HANDLED,`Op ${de}`)},`Handle op ${de}`)})}getDebugReport(de=!0){return this.B.getReport(de)}}r(lt,"H");class ot{constructor(de,Ie){this.G=new WeakMap,this.H=de,this.$=Ie}get(){const de=this.H.get();return this.K(de)}getAsync(){return this.H.getAsync().then(de=>this.K(de))}listen(de){let Ie=this.G.get(de);Ie||(Ie=r((xe,$e)=>{de(this.K(xe),this.$($e))},"e"),this.G.set(de,Ie)),this.H.listen(Ie)}once(de){let Ie=this.G.get(de);Ie||(Ie=r((xe,$e)=>{de(this.K(xe),this.$($e))},"e"),this.G.set(de,Ie)),this.H.once(Ie)}unlisten(de){const Ie=this.G.get(de);Ie&&this.H.unlisten(Ie)}K(de){if(de!==void 0)return this.$(de)}}r(ot,"$");class pt{constructor(de,Ie){this.H=de,this.V=Ie}get(){return this.H.get()}getAsync(){const de=this.H.getAsync();return new Promise((Ie,xe)=>{de.then($e=>{$e?Ie($e):this.H.once((ut,mt)=>{Ie(mt??this.V)})}).catch(xe)})}listen(de){this.H.listen(de)}unlisten(de){this.H.unlisten(de)}once(de){this.H.once(de)}}r(pt,"K");var ct;(function(z){z[z.DOC_DISPLAY_TITLE=0]="DOC_DISPLAY_TITLE",z[z.DOC_UPDATED_USEC=1]="DOC_UPDATED_USEC",z[z.DOC_EMBED_SCROLL_POSITION=2]="DOC_EMBED_SCROLL_POSITION",z[z.DOC_BLOCK_KIT_THUMBNAIL=3]="DOC_BLOCK_KIT_THUMBNAIL",z[z.SECTION_SNIPPET=4]="SECTION_SNIPPET",z[z.CANNED_DOC_NAME=5]="CANNED_DOC_NAME",z[z.DOC_IS_EMPTY=6]="DOC_IS_EMPTY",z[z.DOC_LAST_UPDATED_USER_ID=8]="DOC_LAST_UPDATED_USER_ID",z[z.A11Y_READ_ONLY_MODE=9]="A11Y_READ_ONLY_MODE",z[z.DOC_EMBED_FOCUS_STATE=10]="DOC_EMBED_FOCUS_STATE",z[z.DOC_EMBED_SELECTION_STATE=11]="DOC_EMBED_SELECTION_STATE",z[z.TEXT_SECTION_OVERLAY_SHOWING=12]="TEXT_SECTION_OVERLAY_SHOWING",z[z.DOC_HAS_FILE_UNFURLS=13]="DOC_HAS_FILE_UNFURLS",z[z.TEMPLATE_CONTROLS=14]="TEMPLATE_CONTROLS",z[z.DOC_NEW_SECTION_USEC=15]="DOC_NEW_SECTION_USEC"})(ct||(ct={}));const rt=new WeakMap;class Tn{constructor(de={}){this.Y=new Set,this.W=de}add(de,Ie){if(!this.Y.has(de)&&(this.Y.add(de),Ie&&rt.set(de,Ie),this.Y.size===1)){const{didStartHavingListeners:xe}=this.W;xe&&xe()}}addOneShot(de,Ie){const xe=r((...$e)=>{this.remove(xe),de.apply(m.window,$e)},"s");this.add(xe,Ie)}remove(de){if(this.Y.delete(de)&&this.Y.size===0){const{didStopHavingListeners:Ie}=this.W;Ie&&Ie()}}removeAll(){this.Y.forEach(de=>this.remove(de))}empty(){return this.Y.size===0}notify(...de){if(this.Y.size===0)return;const{notifyDecorator:Ie,catchError:xe}=this.W;let $e;Ie&&($e=Ie());const ut=Array.from(this.Y);for(let mt=0;mt<ut.length;mt++)if(xe)try{ut[mt].apply(m.window,de)}catch(St){xe(St)}else ut[mt].apply(m.window,de);$e&&$e.clear()}debugGetDescriptions(){return Array.from(this.Y,(de,Ie)=>rt.get(de)||`<anonymous-${Ie}>`)}}r(Tn,"j");class Qt{constructor(de,Ie,xe,$e=!1){this.J=de,this.X=Ie,this.Z=xe,this.q=$e;const ut=r((mt,St)=>{this.Y.notify(mt,St)},"n");this.Y=new Tn({didStartHavingListeners:()=>this.Z.addListener(de,Ie,ut),didStopHavingListeners:()=>{this.Z.removeListener(de,Ie,ut),this.q||this.Z.cleanupStorage(de,Ie)}})}get(){return this.Z.getValue(this.J,this.X)}getAsync(){return this.Z.getValueAsync(this.J,this.X)}listen(de){this.Y.add(de)}unlisten(de){this.Y.remove(de)}unlistenAll(){this.Y.removeAll()}once(de){this.Y.addOneShot(de)}}r(Qt,"Y");class Ft{constructor(de){this.Y=new Tn,this.tt=de}set(de){const Ie=this.tt;this.tt=de,this.Y.notify(Ie,de)}get(){return this.tt}getAsync(){return Promise.resolve(this.get())}listen(de){this.Y.add(de)}unlisten(de){this.Y.remove(de)}once(de){this.Y.addOneShot(de)}}r(Ft,"W");class Rn{constructor(de){this.et=new Map,this.m=de}didCreateDoc(de,Ie){const xe=this.et.get(de);xe?(this.et.set(Ie,xe),xe.idInternal.set(Ie)):m.console.warn(`Could not find doc mapped to ID ${de}`)}didDeleteDoc(de){const Ie=this.et.get(de);Ie==null||Ie.deletedInternal.set(!0)}create(de={}){const{title:Ie,cannedDoc:xe,context:$e,usesOnlyInlineTextComments:ut}=de;return this.controllerAccess.docs.createDoc(Ie,xe,$e,ut).then(mt=>this.get(mt))}get(de){let Ie=this.et.get(de);return Ie||(Ie=new Pn(de,this.m),this.et.set(de,Ie)),Ie}get controllerAccess(){return this.m.controllerAccess}setEditsDisabled(de,Ie){for(const xe of Sn.values())xe.doc().id.get()===de&&xe.docEditor.setEditsDisabled(Ie);this.controllerAccess.docs.reloadThread(de)}getBlockKitThumbnail(de,Ie=!0,xe){const $e=dt(this.m),ut=xe?`${de}/${xe}`:de;return new pt(new Qt(ct.DOC_BLOCK_KIT_THUMBNAIL,ut,$e,!0),'{"blocks": []}').getAsync().then(JSON.parse).then(mt=>(Ie&&mt.blocks.length>0&&mt.blocks.shift(),mt))}getCannedDocName(de){const Ie=dt(this.m);return new pt(new Qt(ct.CANNED_DOC_NAME,de,Ie,!0),"").getAsync().then(xe=>xe.length===0?null:xe)}getSectionSnippet(de){const Ie=dt(this.m);return new pt(new Qt(ct.SECTION_SNIPPET,de,Ie,!0),"").getAsync()}setDebugOption(de,Ie){this.controllerAccess.docs.setDebugOption(de,Ie)}findSlackObject(de,Ie,xe){return this.controllerAccess.docs.findSlackObject(de,Ie,xe)}insertSlackObject(de,Ie,xe,$e,ut){return this.controllerAccess.docs.insertSlackObject(de,Ie,xe,$e,ut)}editLink(de,Ie,xe){this.controllerAccess.docs.editLink(de,Ie,xe)}loadData(de,Ie){return this.controllerAccess.docs.loadData([de],Ie)}it(){return je(this.m)}}r(Rn,"J");class Pn{constructor(de,Ie){this.st=null,this.id=this.idInternal=new Ft(de),this.m=Ie;const xe=dt(this.m);this.title=new Qt(ct.DOC_DISPLAY_TITLE,de,xe),this.lastUpdated=new ot(new Qt(ct.DOC_UPDATED_USEC,de,xe,!0),$e=>new Date($e/1e3)),this.lastUpdatedUsec=new Qt(ct.DOC_UPDATED_USEC,de,xe,!0),this.lastUpdatedSlackUserId=new Qt(ct.DOC_LAST_UPDATED_USER_ID,de,xe,!0),this.deleted=this.deletedInternal=new Ft(!1),this.isEmpty=new Qt(ct.DOC_IS_EMPTY,de,xe,!0),this.hasPerformedEditingAction=new Ft(!1),this.hasFileUnfurls=new Qt(ct.DOC_HAS_FILE_UNFURLS,de,xe,!0),this.templateControlsInfo=new Qt(ct.TEMPLATE_CONTROLS,de,xe,!0),this.lastNewSectionUpdated=new ot(new Qt(ct.DOC_NEW_SECTION_USEC,de,xe,!0),$e=>new Date($e/1e3))}getBlockKitThumbnailValue(){if(!this.st&&this.isCreated()){const de=dt(this.m);this.st=new ot(new Qt(ct.DOC_BLOCK_KIT_THUMBNAIL,this.idInternal.get(),de,!0),JSON.parse)}return this.st}embed(de,Ie={mode:"editor",templateOptions:{allowTemplateOverlay:!1}}){let xe=ti.get(de);return xe||(xe=new vi(this,de,Ie,this.m),ti.set(de,xe),xe.mount()),xe.doc()!==this&&m.console.error("There was a different document embedded in the container",de),xe}isCreated(){return!this.idInternal.get().startsWith("temp:")}}r(Pn,"X");const ti=new WeakMap,Sn=new Map,oi={mode:"editor"};class vi{constructor(de,Ie,xe,$e){this.rendered=new Ft(!1),this.incrementalRendered=new Ft(!1),this.failedToLoad=new Ft(!1),this.loadInfo=new Ft(void 0),this.editingActionPerformed=new Ft(!1),this.loadError=new Ft(void 0),this.editorContainer=new Ft(void 0),this.nt=!1,this.rt=!1,this.ot=[],this.Et=de,this.lt=Ie,this.W=Object.assign(Object.assign({},oi),xe),this.m=$e,this._t=`${Di}-${this.m.id}-${Bi++}`,this.ht=function(){const ut=m.document.createElement("div");return ut.classList.add("collab-root"),ut}(),this.ct(ct.DOC_EMBED_SCROLL_POSITION),this.scrollPosition=this.ct(ct.DOC_EMBED_SCROLL_POSITION),this.focusState=this.ct(ct.DOC_EMBED_FOCUS_STATE),this.selectionState=this.ct(ct.DOC_EMBED_SELECTION_STATE),this.a11yReadOnlyMode=this.ct(ct.A11Y_READ_ONLY_MODE),this.textSectionOverlayShowing=this.ct(ct.TEXT_SECTION_OVERLAY_SHOWING),this.controllerAccess.run(()=>{this.at=this.controllerAccess.docs.getDocEditor(this._t)})}get docEditor(){if(!this.at)throw new Error("DocEditor object not set");return this.at}get controllerAccess(){return this.m.controllerAccess}ct(de){const Ie=dt(this.m),xe=new Qt(de,this._t,Ie,!1);return this.ot.push(xe),xe}onEditorLoadError(de){this.failedToLoad.set(!0),this.loadError.set(de),this.dt()}didLoadModel(de){this.loadInfo.set(de)}didRender(de){this.rendered.set(!0),this.failedToLoad.set(!1),this.loadError.set(void 0),this.editorContainer.set(de)}didFinishIncrementalRender(){this.incrementalRendered.set(!0)}didPerformEditingAction(){this.editingActionPerformed.set(!0)}doc(){return this.Et}docId(){return this.Et.id.get()}containerElement(){return this.lt}frameName(){return this._t}mount(){if(Sn.set(this._t,this),!this.rt){const de=this.ht;de.style.visibility="hidden",this.lt.appendChild(de);let Ie=de.ownerDocument.defaultView;Ie||(m.console.warn(`Mounting ${this._t} into element with no window`),Ie=m.window),this.nt=!0,this.controllerAccess.run(()=>{this.docEditor.createdViewFrame(de)}),de.style.visibility="visible",this.rt&&this.ut(),this.rt=!0}this.nt&&this.ut()}unmount(){this.nt&&(this.dt(),this.rendered.set(!1),this.incrementalRendered.set(!1),this.failedToLoad.set(!1),this.loadError.set(void 0),this.nt=!1),this.rt&&(ti.delete(this.lt),this.ht.remove(),this.rt=!1),Sn.delete(this._t),this.ot.forEach(de=>de.unlistenAll())}it(){return je(this.m)}ut(){this.controllerAccess.run(()=>{this.docEditor.renderDoc(this.Et.id.get(),this.W)})}dt(){this.controllerAccess.run(()=>{this.docEditor.cleanupViewFrame()})}setCommentsUiProvider(de){this.commentsUiProvider=de,de==null||de.setDelegate(this.docEditor)}setAutocompleteUiProvider(de){this.autocompleteUiProvider=de,de==null||de.setDelegate(this.docEditor)}setPermalinkUiProvider(de){this.permalinkUiProvider=de}setEmbeddedUiProvider(de){this.embeddedUiProvider=de}setErrorUiProvider(de){this.errorUiProvider=de}}r(vi,"z");class Hn{constructor(de){this.Ot=de}getFrameByName(de){return this.Ot.get(de)}withFrame(de,Ie){const xe=this.getFrameByName(de);xe||m.console.warn(`Could not find a frame with name ${de}.`),Ie(xe)}}r(Hn,"Q");const Di=`collab-doc-${(1e3*Math.random()).toString(36)}`;let Bi=0;class Gt{constructor(){this.Tt=[],this.St=!1}get docs(){return this.Nt}get settings(){return this.Lt}get providers(){return this.It}run(de){this.St?de():this.Tt.push(de)}setObjects({docs:de,settings:Ie,providers:xe}){this.St=!0,this.Nt=de,this.Lt=Ie,this.It=xe;for(const $e of this.Tt)$e();this.Tt=[]}}r(Gt,"it");let Dn=0;class Dt{constructor(de){this.id=Dn++,this.o=!1,this.At=!1,this.config=de,this.platformDelegate=de.delegate,this.bridgeInit=Dt.Ct(`embedded ${this.id}`);const Ie=new lt(this);yt.set(this,Ie),this.controllerAccess=new Gt,this.docs=new Rn(this),this.failedToInitialize=new Ft(!1),this.initializationError=new Ft(void 0),this.Dt()}Dt(){if(this.o)return void this.bridgeInit.fireEvent(n.ERROR,"Collab instance initialized more than once");const{appearance:de,language:Ie,delegate:xe,commentsDataProvider:$e,bookmarksDataProvider:ut,fileDataProvider:mt,slackObjectProvider:St,features:It,documentEventProvider:Rt,underlineAllLinks:Zt,enableAnimations:Wt,displayEmojiAsPlainText:on,embeddedConfigProvider:Tt,embeddedUiProvider:Yn,topLevelTeamId:kn,anchorLinkProvider:Si,slackObjectUIProvider:ui,slackTextyHtmlConversionProvider:fi,useSmartQuotesAndDashes:gi,atomStorageProvider:yi}=this.config,Fi=this.it();Fi.init({features:It,delegate:xe,anchorLinkProvider:Si,bookmarksDataProvider:ut,commentsDataProvider:$e,documentEventProvider:Rt,fileDataProvider:mt,slackObjectProvider:St,slackObjectUIProvider:ui,slackTextyHtmlConversionProvider:fi,mountedFrameProvider:new Hn(Sn),embeddedAccessDelegate:this.controllerAccess,docs:this.docs}),this.controllerAccess.run(()=>{this.atomClient=this.controllerAccess.providers.getAtomClient(yi)});const ni=new a;var Ci,In;ni.add(()=>{de&&this.Rt(de),Ie&&this.ft(Ie),Zt!==void 0&&this.setUnderlineAllLinks(Zt),Wt!==void 0&&this.setEnableAnimations(Wt),on!==void 0&&this.setDisplayEmojiAsPlainText(on),kn&&this.vt(kn),gi!==void 0&&this.setUseSmartQuotesAndDashes(gi)}),function(Qn,ii,Zn){if(!Zn)return;const yr=Zn.supportedAutocompleteTypes;yr&&ii.add(()=>{Qn.providers.registerAutocompleteTypes(yr)}),Qn.run(()=>Zn.setDelegate(Qn.providers.getSlackObjectProviderDelegate()))}(this.controllerAccess,ni,St),function(Qn,ii={},Zn,yr,Ui=sr=>{}){Qn.addHandler(f.Op.DID_INITIALIZE,()=>{var sr;(sr=ii.didInitialize)===null||sr===void 0||sr.call(ii),Zn.run(),yr.fireEvent(n.DID_INIT_RECEIVED)}),Qn.addHandler(f.Op.DID_FAIL_TO_INITIALIZE,({initError:sr})=>{var Ri;Ui(sr),(Ri=ii.didFailToInitialize)===null||Ri===void 0||Ri.call(ii,sr)})}(Fi,xe,ni,this.bridgeInit,Qn=>{this.Mt(!0,Qn)}),Ci=this.controllerAccess,In=$e,Ci.run(()=>{In==null||In.setDelegate(Ci.providers.getCommentsDataProviderDelegate())}),function(Qn,ii){Qn.run(()=>{ii==null||ii.setDelegate(Qn.providers.getBookmarksDataProviderDelegate())})}(this.controllerAccess,ut),function(Qn,ii){Qn.run(()=>ii==null?void 0:ii.setDelegate(Qn.providers.getDocumentEventProviderDelegate()))}(this.controllerAccess,Rt),function(Qn,ii,Zn){Zn&&ii.add(()=>{Qn.providers.registerEmbeddedUiProvider(Zn.config())})}(this.controllerAccess,ni,Tt||Yn),this.o=!0,this.bridgeInit.fireEvent(n.HANDLER_REGISTRATION_FINISHED)}Mt(de,Ie){const xe=this.failedToInitialize,$e=this.initializationError;xe.set(de),$e.set(Ie)}static Ct(de){const Ie=new s(de);return Ie.after([n.BRIDGE_TRANSPORT_SET,n.BRIDGE_TRANSPORT_READY,n.INIT_SENT,n.DID_INIT_RECEIVED,n.HANDLER_REGISTRATION_FINISHED],()=>{Ie.fireEvent(n.BRIDGE_OPEN)}),Ie}controllerModuleUrls(){return N()}preload(){return!this.At&&(N().forEach(de=>{if(!w[de]){const Ie=m.document.createElement("link");Ie.rel="preload",Ie.as="script",Ie.href=de,Ie.crossOrigin="anonymous",w[de]=Ie,m.document.head.appendChild(Ie)}}),this.At=!0,!0)}tearDown(){this.it().tearDown(),yt.delete(this),this.Mt(!1),this.o=!1}createBasicTraceSpan(de,Ie,xe){var $e,ut,mt;const St=(mt=(ut=($e=this.platformDelegate)===null||$e===void 0?void 0:$e.startSpan)===null||ut===void 0?void 0:ut.call($e,de,Ie,xe))!==null&&mt!==void 0?mt:null;return St?{span:St,closeSpanFn:It=>{var Rt,Zt;(Zt=(Rt=this.platformDelegate)===null||Rt===void 0?void 0:Rt.endTraceOrSpan)===null||Zt===void 0||Zt.call(Rt,St,It?{[Mi.ERROR]:`${It}`}:{})}}:{span:null,closeSpanFn:()=>{}}}getAttemptNumber(){var de;return(de=this.config.attemptNumber)!==null&&de!==void 0?de:0}preloadThreads(de,Ie){this.controllerAccess.run(()=>this.controllerAccess.docs.preloadData(de,Ie))}setAppearance(de){this.config.appearance=de,this.Rt(de)}setLanguage(de){this.config.language=de}setAppKeyboardFocusModeEnabled(de,Ie){this.Pt(de,Ie)}Rt(de){this.controllerAccess.settings.setAppearance(de)}ft(de){this.controllerAccess.settings.setLanguage(de)}Pt(de,Ie){this.controllerAccess.settings.setAppKeyboardFocusModeEnabled(de,Ie)}vt(de){this.controllerAccess.settings.setDefaultTeamId(de)}setUnderlineAllLinks(de){this.controllerAccess.settings.setUnderlineLinks(de)}setEnableAnimations(de){this.controllerAccess.settings.setEnableAnimations(de)}setDisplayEmojiAsPlainText(de){this.controllerAccess.settings.setDisplayEmojiAsPlainText(de)}setUseSmartQuotesAndDashes(de){this.controllerAccess.settings.setUseSmartQuotesAndDashes(de)}async getInitLog(de){return Object.assign(Object.assign({},await this.bridgeInit.getInitLog(de)),{lm:"SYSTEMJS_SCRIPT_CONTROLLER",dr:!0})}async getInitLogStr(de){for(let Ie=s.MAX_INIT_LOG;Ie>=0;Ie--){const xe=JSON.stringify(await this.getInitLog(Ie));if(xe.length<=de)return xe}return"Failed to generate"}getDebugReport(de){return this.getBridgeDebugReport(de)}getBridgeDebugReport(de=!0){return this.it().getDebugReport(de)}it(){return yt.get(this)}}r(Dt,"nt");function je(z){return yt.get(z)}r(je,"rt");const yt=new Map;function dt(z){return z.atomClient}r(dt,"Et");const cn=m.document.querySelector("script[src*='/collab/embedded.js']"),li=cn==null?void 0:cn.src,ci=li?new m.URL(li).origin:"https://prod.slack.quip.systems";function Jn(z){return z.config.origin||ci}r(Jn,"ct");var di,Mi;(function(z){z.COLLAB_INIT="collab-init",z.CONTROLLER_INIT="controller-init",z.CONTROLLER_RESORCES="controller-resources",z.HTTP_FETCH_HEADER="http-fetch-header",z.HTTP_FETCH_CONTENT="http-fetch-content",z.JSON_PARSE="json-parse",z.LOAD_CONTROLLER="load-controller",z.AWAIT_CALLBACK="await-callback",z.LOAD_SYSTEMJS="load-systemjs",z.MODULE_PREFETCH="module-prefetch",z.SCRIPT_TAG="script-tag",z.LOAD_CONTROLLER_MODULE="load-controller-module",z.SYSTEMJS_IMPORT_MODULE="systemjs-import-module"})(di||(di={})),function(z){z.CONTROLLER_ID="controller-id",z.ERROR="error",z.JS_PREFETCH_ENABLED="js-prefetch-enabled",z.URL="url"}(Mi||(Mi={}));const Sr=(()=>{if(typeof v=="object")return v;if(typeof m.window=="object")return m.window;if(typeof m.self=="object")return m.self;throw new Error("Cannot find global")})();function Ai(z,de,Ie){const xe=z.split(".");let $e=Ie||Sr;for(let ut=0;ut<xe.length;ut++){const mt=xe[ut];ut===xe.length-1?$e[mt]=de:(mt in $e||($e[mt]={}),$e=$e[mt])}}r(Ai,"Ot");var Hi,rn,ge,Re,Ve,kt,tt,it,bt,an,un,en,Mn,qi,pi,dr,Ki,mi,Pr,si,or,$n,ur,Ji,xr,Dr,Xi,_r,vt;(function(z){z[z.IN_APP_USER_INITIATED=0]="IN_APP_USER_INITIATED",z[z.PERMALINK=1]="PERMALINK",z[z.POPOUT=2]="POPOUT"})(Hi||(Hi={})),function(z){z.BOLD="bold",z.ITALIC="italic",z.UNDERLINE="underline",z.STRIKETHROUGH="strikethrough",z.CODE="code",z.SUBSCRIPT="subscript",z.SUPERSCRIPT="superscript",z.LINK="link"}(rn||(rn={})),function(z){z.PLAIN="plain",z.H1="h1",z.H2="h2",z.H3="h3",z.CODE="code",z.BLOCKQUOTE="blockquote",z.LIST_BULLET="list_bullet",z.LIST_NUMBERED="list_numbered",z.LIST_CHECKLIST="list_checklist"}(ge||(ge={})),function(z){z.TODO_LISTS="todo_lists",z.LINKS_N_RESOURCES="links_and_resources",z.MEETING_NOTES="meeting_notes",z.BLANK_PAGE="blank_page"}(Re||(Re={})),function(z){z.CACHE="cache",z.MEMORY="memory",z.NETWORK="network"}(Ve||(Ve={})),function(z){z.NONE="none",z.SCROLL_TO_SECTION="scroll_to_section",z.FOCUS_SECTION="focus_section"}(kt||(kt={})),function(z){z[z.ANY=1]="ANY",z[z.ON_MOUSE_LEAVE=2]="ON_MOUSE_LEAVE"}(tt||(tt={})),function(z){z[z.COMMENTS=0]="COMMENTS",z[z.FILE_UPLOADS=1]="FILE_UPLOADS",z[z.DOCUMENT_EVENTS=2]="DOCUMENT_EVENTS",z[z.SPREADSHEETS=3]="SPREADSHEETS",z[z.HOVERCARDS=4]="HOVERCARDS",z[z.LINK_UNFURL=5]="LINK_UNFURL",z[z.UNREAD_COMMENTS=6]="UNREAD_COMMENTS",z[z.REMINDERS=7]="REMINDERS",z[z.DOCUMENT_UPDATE=8]="DOCUMENT_UPDATE",z[z.FLEXBOX_COLLAB=9]="FLEXBOX_COLLAB",z[z.SLACK_WORKFLOW_BUTTON_PROTOTYPE=10]="SLACK_WORKFLOW_BUTTON_PROTOTYPE",z[z.DOPE_TABLE=11]="DOPE_TABLE",z[z.UI_PARITY=12]="UI_PARITY",z[z.MOBILE_DOCUMENT_EDITING=13]="MOBILE_DOCUMENT_EDITING",z[z.MOBILE_IMAGE_LOADING=14]="MOBILE_IMAGE_LOADING",z[z.GALLERY_LAYOUT=15]="GALLERY_LAYOUT",z[z.ANCHOR_LINKS=16]="ANCHOR_LINKS",z[z.IMAGE_EMBEDS=17]="IMAGE_EMBEDS",z[z.IMAGE_CAPTION=18]="IMAGE_CAPTION",z[z.EMBEDS_DRAG_HANDLE=19]="EMBEDS_DRAG_HANDLE",z[z.SLACK_AUTOCOMPLETE=20]="SLACK_AUTOCOMPLETE",z[z.SHARE_ANCHOR_LINK=21]="SHARE_ANCHOR_LINK",z[z.DOCUMENT_SLASH_COMMANDS=23]="DOCUMENT_SLASH_COMMANDS",z[z.DRAG_AND_DROP_MAX_DISTANCE=24]="DRAG_AND_DROP_MAX_DISTANCE",z[z.APP_UNFURL_NON_IFRAME_RENDERS=25]="APP_UNFURL_NON_IFRAME_RENDERS",z[z.A11Y_KEYBOARD_NAVIGATION=28]="A11Y_KEYBOARD_NAVIGATION",z[z.INSERT_TOOLBAR=29]="INSERT_TOOLBAR",z[z.MENTIONS_SHARE=30]="MENTIONS_SHARE",z[z.TEXT_IN_GALLERY_LAYOUT=31]="TEXT_IN_GALLERY_LAYOUT",z[z.AUTOSIZE_FLEXBOX=32]="AUTOSIZE_FLEXBOX",z[z.FORMATTING_TOOLBAR=33]="FORMATTING_TOOLBAR",z[z.UI_PARITY_SLACK_LINK_INSPECTOR=34]="UI_PARITY_SLACK_LINK_INSPECTOR",z[z.PREVENT_OBJECTS_IN_LISTS=35]="PREVENT_OBJECTS_IN_LISTS",z[z.DISALLOW_SECTION_COMMENTS=37]="DISALLOW_SECTION_COMMENTS",z[z.SECTION_TOOLBAR_ON_LEFT=38]="SECTION_TOOLBAR_ON_LEFT",z[z.MOBILE_WEBVIEW_UNFURLS=39]="MOBILE_WEBVIEW_UNFURLS",z[z.INLINE_COMMENTS=40]="INLINE_COMMENTS",z[z.UNIVERSAL_DRAG_PREVIEW=41]="UNIVERSAL_DRAG_PREVIEW",z[z.DISABLE_GLOBAL_SHORTCUTS=42]="DISABLE_GLOBAL_SHORTCUTS",z[z.NARROW_COLLAB_INDENTATION=43]="NARROW_COLLAB_INDENTATION",z[z.EXPANDED_FLEXBOX_MARGIN=44]="EXPANDED_FLEXBOX_MARGIN",z[z.ADD_COLUMN_FROM_SECTION_MENU=45]="ADD_COLUMN_FROM_SECTION_MENU",z[z.REQUEST_COMPLETION_HOOK=46]="REQUEST_COMPLETION_HOOK",z[z.A11Y_CARET=47]="A11Y_CARET",z[z.BOOKMARKS=48]="BOOKMARKS",z[z.GRIDLIKE_DRAG_AND_DROP_PLACEMENT=50]="GRIDLIKE_DRAG_AND_DROP_PLACEMENT",z[z.SLACK_MESSAGE_TITLE=51]="SLACK_MESSAGE_TITLE",z[z.LENIENT_STARTUP=52]="LENIENT_STARTUP",z[z.ALLOW_SELECTING_ARCHIVED_COMMENTS=53]="ALLOW_SELECTING_ARCHIVED_COMMENTS",z[z.ANIMATE_LAYOUT_DRAG=54]="ANIMATE_LAYOUT_DRAG",z[z.STATIC_TITLES=55]="STATIC_TITLES",z[z.PROFILE_UNFURLS=56]="PROFILE_UNFURLS",z[z.DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES=57]="DISABLE_PERSISTING_CLIENT_USER_DOCUMENT_OVERLAY_UPDATES",z[z.MOBILE_NATIVE_UNFURLS=58]="MOBILE_NATIVE_UNFURLS",z[z.DEFAULT_UNFURLS_ON_PASTE=59]="DEFAULT_UNFURLS_ON_PASTE",z[z.SAVED_FOR_LATER=60]="SAVED_FOR_LATER",z[z.COMMENTS_REDESIGN=61]="COMMENTS_REDESIGN",z[z.SLACK_USER_CONTEXT_MENU=62]="SLACK_USER_CONTEXT_MENU",z[z.SLACK_OBJECT_CONTROL_CONTEXT_MENUS=63]="SLACK_OBJECT_CONTROL_CONTEXT_MENUS",z[z.JS_MODULE_PREFETCH=64]="JS_MODULE_PREFETCH",z[z.SLACK_SECTION_MENUS=65]="SLACK_SECTION_MENUS",z[z.PADDING_RESIZING=66]="PADDING_RESIZING",z[z.HOVERABLE_SECTION_MENU=68]="HOVERABLE_SECTION_MENU",z[z.SLACK_PRESENCE_UPDATES=69]="SLACK_PRESENCE_UPDATES",z[z.HIDE_INLINE_COMMENT_BUBBLES=70]="HIDE_INLINE_COMMENT_BUBBLES",z[z.HIDE_ADD_COMMENT_BUBBLE=71]="HIDE_ADD_COMMENT_BUBBLE",z[z.HYPERLINK_CONTEXT_MENU=72]="HYPERLINK_CONTEXT_MENU",z[z.UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI=73]="UNIVERSAL_DRAG_PREVIEW_EMBEDDED_UI",z[z.LOCK_SECTION_FOR_INLINE_ANNOTATION=74]="LOCK_SECTION_FOR_INLINE_ANNOTATION",z[z.EDITABLE_CONTROL=75]="EDITABLE_CONTROL",z[z.OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION=76]="OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION",z[z.MOVE_CARET_WHEN_OPENING_ANNOTATION=77]="MOVE_CARET_WHEN_OPENING_ANNOTATION",z[z.DISABLE_TITLE_UNFURL=79]="DISABLE_TITLE_UNFURL",z[z.HIDE_STUB_ANNOTATIONS=80]="HIDE_STUB_ANNOTATIONS",z[z.OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS=81]="OBSERVE_CONTENT_OUTSIDE_SECTION_MUTATIONS",z[z.USE_EXTERNAL_EDITOR_SAVE=82]="USE_EXTERNAL_EDITOR_SAVE",z[z.IMPROVED_WORD_WRAPPING=83]="IMPROVED_WORD_WRAPPING",z[z.HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS=84]="HIGHLIGHT_TEXT_WITH_SECTION_LEVEL_COMMENTS",z[z.USE_NEW_FIND_MODAL=85]="USE_NEW_FIND_MODAL",z[z.DISPLAY_COMMENT_TOOLTIP=86]="DISPLAY_COMMENT_TOOLTIP",z[z.HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT=87]="HIDE_SLACK_SECTION_HIGHLIGHT_FOR_OPEN_COMMENT",z[z.SLACK_FILE_UNFURL_PLACEHOLDER=88]="SLACK_FILE_UNFURL_PLACEHOLDER",z[z.PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS=89]="PRIORITIZE_OPENING_ANNOTATIONS_OVER_LINKS",z[z.CLEANUP_SENTINEL=90]="CLEANUP_SENTINEL",z[z.OPEN_COMMENTS_HIGHLIGHT_TEMPORARY=91]="OPEN_COMMENTS_HIGHLIGHT_TEMPORARY",z[z.UNFURL_PRIVATE_MESSAGES=92]="UNFURL_PRIVATE_MESSAGES",z[z.MOBILE_DISABLE_PRESENCE_MENU_POPOVER=93]="MOBILE_DISABLE_PRESENCE_MENU_POPOVER",z[z.CANVAS_GA_FAST_FOLLOW=95]="CANVAS_GA_FAST_FOLLOW",z[z.BRIDGE_REFACTORING=96]="BRIDGE_REFACTORING",z[z.SIMPLE_TABLES=97]="SIMPLE_TABLES",z[z.ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS=98]="ALLOW_LARGE_SIZE_FILE_IMAGE_UPLOADS",z[z.ALLOW_SLACK_OBJECT_TITLE_UNFURL=99]="ALLOW_SLACK_OBJECT_TITLE_UNFURL",z[z.ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL=100]="ALLOW_SLACK_WEB_OR_APP_LINKS_TITLE_UNFURL",z[z.CANVAS_GA_FAST_FOLLOW_2=101]="CANVAS_GA_FAST_FOLLOW_2",z[z.USE_LEFT_GUTTER_DISPLAY=102]="USE_LEFT_GUTTER_DISPLAY",z[z.USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD=103]="USE_PRIVATE_MESSAGE_SPEEDBUMP_IN_CARD",z[z.TITLE_BLOCK_KIT_FORMAT=104]="TITLE_BLOCK_KIT_FORMAT",z[z.USE_LIST_ITEM_MARKER_CONTAINER=105]="USE_LIST_ITEM_MARKER_CONTAINER",z[z.ALLOW_SLACK_TEMPLATE_PLACEHOLDER=106]="ALLOW_SLACK_TEMPLATE_PLACEHOLDER",z[z.USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS=107]="USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS",z[z.IMAGE_RESIZING=108]="IMAGE_RESIZING",z[z.PRIVATE_MESSAGE_SPEEDBUMP_MODAL=109]="PRIVATE_MESSAGE_SPEEDBUMP_MODAL",z[z.ALLOW_HEADER_IMAGE=110]="ALLOW_HEADER_IMAGE",z[z.PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS=111]="PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS",z[z.USE_NEW_SECTION_HIGHLIGHT=112]="USE_NEW_SECTION_HIGHLIGHT",z[z.MODEL_INTEGRITY_PROBE=113]="MODEL_INTEGRITY_PROBE",z[z.MODEL_INTEGRITY_CHANGES_CHECK=114]="MODEL_INTEGRITY_CHANGES_CHECK",z[z.MODEL_FSCK_PROBE=115]="MODEL_FSCK_PROBE",z[z.MODEL_UPDATES_PROBE=116]="MODEL_UPDATES_PROBE",z[z.SIMPLE_TABLES_FULL_BLEED=117]="SIMPLE_TABLES_FULL_BLEED",z[z.IMAGE_MIN_DIMENSIONS=118]="IMAGE_MIN_DIMENSIONS",z[z.SIMPLE_TABLES_MOBILE_DISPLAY_SCALE=119]="SIMPLE_TABLES_MOBILE_DISPLAY_SCALE",z[z.SLACK_TEXTY_CLIPBOARD=120]="SLACK_TEXTY_CLIPBOARD",z[z.ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE=121]="ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE",z[z.SINGLE_HOVERABLE_SECTION_MENU=122]="SINGLE_HOVERABLE_SECTION_MENU",z[z.SIMPLE_TABLES_FIT_TO_PAGE=123]="SIMPLE_TABLES_FIT_TO_PAGE"}(it||(it={})),function(z){z[z.NONE=0]="NONE",z[z.SHIFT=1]="SHIFT",z[z.ALT=2]="ALT",z[z.META=4]="META",z[z.CTRL=8]="CTRL",z[z.MOD=16]="MOD"}(bt||(bt={})),function(z){z[z.CHANNEL=0]="CHANNEL",z[z.USER=1]="USER",z[z.EMOJI=2]="EMOJI",z[z.FILE=4]="FILE",z[z.UNFURL=5]="UNFURL",z[z.DOCUMENT=6]="DOCUMENT",z[z.LINK=7]="LINK",z[z.WORKFLOW=8]="WORKFLOW",z[z.DOCUMENT_USER_ACCESS=9]="DOCUMENT_USER_ACCESS",z[z.PENDING_URL=10]="PENDING_URL",z[z.GENERIC=11]="GENERIC",z[z.TEMPLATE=12]="TEMPLATE"}(an||(an={})),function(z){z[z.NOT_FOUND=0]="NOT_FOUND"}(un||(un={})),function(z){z[z.SLACK_OBJECT=0]="SLACK_OBJECT",z[z.LINK=1]="LINK",z[z.HEADER=2]="HEADER",z[z.TEXT=3]="TEXT",z[z.DIVIDER=4]="DIVIDER",z[z.HYPERLINK=5]="HYPERLINK",z[z.TITLE=6]="TITLE",z[z.TABLE=7]="TABLE",z[z.DRAG_OVERLAY=8]="DRAG_OVERLAY"}(en||(en={})),function(z){z[z.DEFAULT=0]="DEFAULT",z[z.BUTTON=1]="BUTTON"}(Mn||(Mn={})),function(z){z[z.PREVIOUS=0]="PREVIOUS",z[z.NEXT=1]="NEXT"}(qi||(qi={})),function(z){z[z.ROW=0]="ROW",z[z.COLUMN=1]="COLUMN"}(pi||(pi={})),function(z){z[z.INSERT_BEFORE=0]="INSERT_BEFORE",z[z.INSERT_AFTER=1]="INSERT_AFTER",z[z.DELETE=2]="DELETE"}(dr||(dr={})),function(z){z[z.TOGGLE_HAS_HEADER_ROW=0]="TOGGLE_HAS_HEADER_ROW",z[z.TOGGLE_HAS_HEADER_COLUMN=1]="TOGGLE_HAS_HEADER_COLUMN",z[z.TOGGLE_FIT_TO_PAGE=2]="TOGGLE_FIT_TO_PAGE"}(Ki||(Ki={})),function(z){z.NO_FOCUS_ON_CLICK="data-no-focus-section-on-click",z.NO_DRAG_ON_MOUSE_MOVE="data-no-drag-on-mouse-move",z.EMBEDDED_FILE_CARD_CLASSNAME="card-view__file_card",z.EMBEDDED_IMAGE_CARD_CLASSNAME="card-view__image_card"}(mi||(mi={})),function(z){z[z.DISMISS_POPOVER=0]="DISMISS_POPOVER",z[z.REMOVE_ASSOCIATED_CONTENT=1]="REMOVE_ASSOCIATED_CONTENT",z[z.COPY_OBJECT=2]="COPY_OBJECT",z[z.CREATE_OR_VIEW_COMMENT=3]="CREATE_OR_VIEW_COMMENT",z[z.REPLACE_FILE=4]="REPLACE_FILE",z[z.SWITCH_UNFURL_TYPE=5]="SWITCH_UNFURL_TYPE",z[z.PREVENT_POPOVER_DISMISS=6]="PREVENT_POPOVER_DISMISS",z[z.SYNC_METADATA=7]="SYNC_METADATA",z[z.COPY_SECTION_LINK=8]="COPY_SECTION_LINK",z[z.SET_BLOCK_STYLE=9]="SET_BLOCK_STYLE",z[z.ADD_COLUMN=10]="ADD_COLUMN",z[z.MOVE_LINE=11]="MOVE_LINE",z[z.TOGGLE_COLLAPSE=12]="TOGGLE_COLLAPSE",z[z.CHECK_ALL=13]="CHECK_ALL",z[z.UNCHECK_ALL=14]="UNCHECK_ALL",z[z.REMOVE_CHECKED=15]="REMOVE_CHECKED",z[z.MOVE_CHECKED_TO_BOTTOM=16]="MOVE_CHECKED_TO_BOTTOM",z[z.SORT_ALPHA=17]="SORT_ALPHA",z[z.TAKE_OVER_EDITING=18]="TAKE_OVER_EDITING",z[z.ADD_TEXT_BELOW=19]="ADD_TEXT_BELOW",z[z.UPDATE_INLINE_ENTITY_DISPLAY_INFO=20]="UPDATE_INLINE_ENTITY_DISPLAY_INFO",z[z.ON_LINK_INSPECTOR_INPUT_CHANGE=21]="ON_LINK_INSPECTOR_INPUT_CHANGE",z[z.FOCUS_ASSOCIATED_SECTION=22]="FOCUS_ASSOCIATED_SECTION",z[z.UNFURL_URL=23]="UNFURL_URL",z[z.MODIFY_TABLE=24]="MODIFY_TABLE",z[z.RESUME_SNAPSHOTS=25]="RESUME_SNAPSHOTS"}(Pr||(Pr={})),function(z){z[z.SLACK_MESSAGE=0]="SLACK_MESSAGE",z[z.SLACK_FILE=1]="SLACK_FILE",z[z.SLACK_IMAGE_FILE=8]="SLACK_IMAGE_FILE",z[z.SLACK_DOCUMENT=2]="SLACK_DOCUMENT",z[z.SLACK_DOCUMENT_SECTION=3]="SLACK_DOCUMENT_SECTION",z[z.SLACK_PUBLIC_LINK=4]="SLACK_PUBLIC_LINK",z[z.SLACK_USER=5]="SLACK_USER",z[z.SLACK_CHANNEL=6]="SLACK_CHANNEL",z[z.SLACK_WORKFLOW=7]="SLACK_WORKFLOW"}(si||(si={})),function(z){z[z.CARD=0]="CARD",z[z.INLINE=1]="INLINE",z[z.LINK=2]="LINK"}(or||(or={})),function(z){z[z.CLOSE=0]="CLOSE",z[z.SELECT=1]="SELECT",z[z.MOVE_SELECTION_DOWN=2]="MOVE_SELECTION_DOWN",z[z.MOVE_SELECTION_UP=3]="MOVE_SELECTION_UP"}($n||($n={})),function(z){z.IMAGE="image",z.HORIZONTAL_RULE="horizontal-rule",z.CHECKLIST="checklist",z.NUMBERED_LIST="numbered-list",z.BULLETED_LIST="bullet-list",z.TABLE="table"}(ur||(ur={})),function(z){z[z.DOCUMENT_SAVING=1]="DOCUMENT_SAVING",z[z.IO=2]="IO",z[z.LISTENER=3]="LISTENER",z[z.ELEMENT=4]="ELEMENT"}(Ji||(Ji={})),function(z){z[z.NONE=0]="NONE",z[z.DOCUMENT_FAILED_TO_LOAD=1]="DOCUMENT_FAILED_TO_LOAD",z[z.DOCUMENT_SAVE_FAILED=2]="DOCUMENT_SAVE_FAILED",z[z.DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE=3]="DOCUMENT_SAVE_FAILED_CONNECTION_OFFLINE",z[z.DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE=4]="DOCUMENT_SAVE_FAILED_SERVER_NOT_REACHABLE",z[z.DOCUMENT_TOO_LARGE_TO_SAVE=5]="DOCUMENT_TOO_LARGE_TO_SAVE",z[z.SESSION_EXPIRED=6]="SESSION_EXPIRED",z[z.THREAD_CLOSED=7]="THREAD_CLOSED",z[z.DOCUMENT_SAVE_FAILED_TO_COMPLETE=8]="DOCUMENT_SAVE_FAILED_TO_COMPLETE",z[z.DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES=9]="DOCUMENT_SAVE_FAILED_DUE_TO_PREVIOUS_FAILURES"}(xr||(xr={})),function(z){z[z.WRITE=0]="WRITE",z[z.READ=1]="READ",z[z.NONE=2]="NONE"}(Dr||(Dr={})),function(z){z.DOWNLOAD="download",z.EDIT_FILE="edit-file",z.OPEN_IN_NEW_WINDOW="open-in-new-window",z.PREVIEW_FILE="preview-file",z.VIEW_FULL_SCREEN="view-full-screen",z.SHARE="share"}(Xi||(Xi={})),function(z){z[z.HOVERCARD=0]="HOVERCARD",z[z.CARD=1]="CARD",z[z.HEADER=2]="HEADER",z[z.CONTROL_CONTEXT_MENU=3]="CONTROL_CONTEXT_MENU",z[z.SECTION_MENU=4]="SECTION_MENU",z[z.HYPERLINK_CONTEXT_MENU=5]="HYPERLINK_CONTEXT_MENU",z[z.HYPERLINK_INSPECTOR_TOOLBAR=6]="HYPERLINK_INSPECTOR_TOOLBAR",z[z.CONTROL_OBJECT_OBSERVER=7]="CONTROL_OBJECT_OBSERVER",z[z.TABLE_SELECTION_MENU=8]="TABLE_SELECTION_MENU",z[z.FILE_UPLOAD_BLOCKED_OVERLAY=9]="FILE_UPLOAD_BLOCKED_OVERLAY",z[z.EPHEMERAL_MESSAGE_MODAL_TRIGGER=10]="EPHEMERAL_MESSAGE_MODAL_TRIGGER",z[z.INLINE_PLACEHOLDER_EDIT_POPOVER=11]="INLINE_PLACEHOLDER_EDIT_POPOVER"}(_r||(_r={})),function(z){z.NONE="none",z.THREAD_ROOT="thread_root",z.THREAD_COMPOSER="thread_composer"}(vt||(vt={})),Ai("Collab",Dt),Ai("dumpCollabDebugReport",function(){yt.forEach((z,de)=>{de.getInitLog().then(Ie=>{m.console.log(`Collab instance ${de.id} debug report:`,de.getBridgeDebugReport(!1),Ie)})})}),window.JS_CLIENT_HASH="QyxnoFUIwXbug3zUk0KErA",window.QUIP_VERSION_NAME="quipbuild_2023_10_05T20_37_2ba560b"}.call(this,d("yLpj"))},LNXf:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("hGh8"),m=f(d("hEYi")),a=d("f2XL"),o=f(d("aVV0"));let i=r(class extends o.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((t,n)=>{let s=r(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),t()}handleSignalingClientEvent(S){S.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),t()),S.type===m.default.ReceivedSignalFrame&&S.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(h.MeetingSessionStatus.fromSignalFrame(S.message)),t())}constructor(S,u,l){this.signalingClient=S,this.completionCallback=u,this.logger=l}},"Interceptor");const p=new s(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=p,this.context.signalingClient.registerObserver(p)})}constructor(t,n,s){super(t.logger),this.context=t,this.credentials=n,this.completionCallback=s,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");c.default=i},LUct:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("H7ma")),h=v(d("OND3")),m=d("KyYT"),a=v(d("XJrD")),o=v(d("GxrV"));let i=r(class Lo{updateConnectionMetric(t){let{uplinkKbps:n=0}=t;if(isNaN(n))return;this.startTimeMs===0&&(this.startTimeMs=Date.now()),Date.now()-this.startTimeMs<Lo.startupDurationMs?this.lastUplinkBandwidthKbps=Lo.defaultUplinkBandwidthKbps:this.lastUplinkBandwidthKbps=n,this.logger.debug(()=>`simulcast: uplink policy update metrics ${this.lastUplinkBandwidthKbps}`);let s=Lo.holdDownDurationMs;this.currentActiveStreams===3?s=Lo.holdDownDurationMs*2:(this.currentActiveStreams===2&&n<=Lo.kMidDisabledRate||this.currentActiveStreams===1&&n<=Lo.kHiDisabledRate)&&(s=Lo.holdDownDurationMs/2),!(Date.now()<this.lastUpdatedMs+s)&&(this.newQualityMap=this.calculateEncodingParameters(!1))}calculateEncodingParameters(t){const n=[new o.default,new o.default,new o.default];let s=0,p=0;if(this.currentActiveStreams===0?(s=this.lastUplinkBandwidthKbps+1,p=0):this.currentActiveStreams===1?(s=2400,p=Lo.kHiDisabledRate):this.currentActiveStreams===2?(s=1e3,p=Lo.kMidDisabledRate):(s=300,p=0),t||this.lastUplinkBandwidthKbps>=s||this.lastUplinkBandwidthKbps<=p){this.shouldDisableSimulcast?(this.newActiveStreams=0,n[0].maxBitrateKbps=0,n[1].maxBitrateKbps=1200,n[2].maxBitrateKbps=0):this.numSenders<=4&&this.lastUplinkBandwidthKbps>=Lo.kHiDisabledRate?(this.newActiveStreams=1,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=1200):this.lastUplinkBandwidthKbps>=Lo.kMidDisabledRate?(this.newActiveStreams=2,n[0].maxBitrateKbps=this.lastUplinkBandwidthKbps>=350?200:150,n[1].maxBitrateKbps=this.numSenders<=6?600:350,n[2].maxBitrateKbps=0):(this.newActiveStreams=3,n[0].maxBitrateKbps=300,n[1].maxBitrateKbps=0,n[2].maxBitrateKbps=0);const g=n.map((S,u,l)=>S.maxBitrateKbps);this.newQualityMap=this.fillEncodingParamWithBitrates(g),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters bw:${this.lastUplinkBandwidthKbps} numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`)}return this.newQualityMap}chooseMediaTrackConstraints(){return{width:{ideal:1280},height:{ideal:768},frameRate:{ideal:15}}}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.currentActiveStreams=this.newActiveStreams,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(t){const n=t.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,s=n!==this.numSenders,p=t.numberOfParticipants(),g=p>=0&&p<=2,S=this.shouldDisableSimulcast!==g;this.numSenders=n,this.shouldDisableSimulcast=g,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=t,this.newQualityMap=this.calculateEncodingParameters(s||S)}wantsResubscribe(){let t=!this.encodingParametersEqual();this.nextLocalDescriptions=this.videoIndex.localStreamDescriptions();for(let n=0;n<this.nextLocalDescriptions.length;n++){const s=this.nextLocalDescriptions[n].streamId;if(s!==0&&s){const p=this.currLocalDescriptions.findIndex(g=>g.streamId===s);p!==-1&&this.nextLocalDescriptions[n].disabledByWebRTC!==this.currLocalDescriptions[p].disabledByWebRTC&&(t=!0)}}return t&&(this.lastUpdatedMs=Date.now()),this.currLocalDescriptions=this.nextLocalDescriptions,t}compareEncodingParameter(t,n){return JSON.stringify(t)===JSON.stringify(n)}encodingParametersEqual(){let t=!1;for(const n of h.default.NAME_ARR_ASCENDING)if(t=t||!this.compareEncodingParameter(this.newQualityMap.get(n),this.currentQualityMap.get(n)),t)break;return!t}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return 1280}captureHeight(){return 768}captureFrameRate(){return 15}maxBandwidthKbps(){return 1400}setIdealMaxBandwidthKbps(t){}setHasBandwidthPriority(t){}fillEncodingParamWithBitrates(t){const n=new Map,s=1e3,p=h.default.NAME_ARR_ASCENDING,g=t;let S=this.shouldDisableSimulcast?1:4;for(let u=0;u<p.length;u++){const l=p[u];n.set(l,{rid:l,active:g[u]>0,scaleResolutionDownBy:Math.max(S,1),maxBitrate:g[u]*s}),S=S/2}return n}getQualityMapString(t){let n="";const s=this.videoIndex.localStreamDescriptions();return s.length===3&&t.forEach(p=>{let g=!1;p.rid==="low"?g=s[0].disabledByWebRTC:p.rid==="mid"?g=s[1].disabledByWebRTC:g=s[2].disabledByWebRTC,n+=`{ rid: ${p.rid} active:${p.active} disabledByWebRTC: ${g} maxBitrate:${p.maxBitrate}}`}),n}getEncodingSimulcastLayer(t){switch(t){case 0:return f.default.High;case 1:return f.default.LowAndHigh;case 2:return f.default.LowAndMedium;case 3:return f.default.Low}}publishEncodingSimulcastLayer(){const t=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(n=>{m.Maybe.of(n.encodingSimulcastLayersDidChange).map(s=>s.bind(n)(t))})}addObserver(t){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)t(n)}constructor(t,n){this.selfAttendeeId=t,this.logger=n,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.currentActiveStreams=1,this.lastUplinkBandwidthKbps=Lo.defaultUplinkBandwidthKbps,this.startTimeMs=0,this.lastUpdatedMs=Date.now(),this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[],this.observerQueue=new Set,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.lastUplinkBandwidthKbps=Lo.defaultUplinkBandwidthKbps,this.currentQualityMap=this.fillEncodingParamWithBitrates([300,0,1200]),this.newQualityMap=this.fillEncodingParamWithBitrates([300,0,1200])}},"DefaultSimulcastUplinkPolicy");c.default=i,i.defaultUplinkBandwidthKbps=1200,i.startupDurationMs=6e3,i.holdDownDurationMs=4e3,i.defaultMaxFrameRate=15,i.kHiDisabledRate=700,i.kMidDisabledRate=240},LVIV:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},LhvI:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("aVV0"));let m=r(class extends h.default{run(){var o,i;return v(this,void 0,void 0,function*(){if(!(!((i=(o=this.context.meetingSessionConfiguration)===null||o===void 0?void 0:o.urls)===null||i===void 0)&&i.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let e;try{e=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}e?this.context.activeAudioInput=e:this.context.logger.warn("an audio input is not available")})}constructor(o){super(o.logger),this.context=o,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");c.default=m},LmyK:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportDirection=void 0;var v;(function(f){f[f.UPSTREAM=0]="UPSTREAM",f[f.DOWNSTREAM=1]="DOWNSTREAM"})(v=c.ClientMetricReportDirection||(c.ClientMetricReportDirection={})),c.default=v},Lr1a:function(U,c,d){d("JpO0"),U.exports=d("VSTI").Object.getPrototypeOf},Lrln:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54")),m=f(d("RUbL"));let a=r(class kf{get mediaStream(){return this._mediaStream}set mediaStream(i){this._mediaStream=i}acquireAudioInputStream(){return v(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),m.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return v(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(i){return v(this,void 0,void 0,function*(){return i&&i.video&&i.video.mandatory&&i.video.mandatory.chromeMediaSource&&i.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(i):navigator.mediaDevices.getDisplayMedia(i)})}acquireScreenCaptureDisplayInputStream(i,e){return v(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(i,e))})}screenCaptureDisplayMediaConstraints(i,e){return{audio:!!(!i&&new h.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!i&&{frameRate:{max:e||kf.defaultFrameRate}}),i&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:e||kf.defaultFrameRate}})}}toggleMediaStream(i){let e=!1;if(this.mediaStream)for(let t=0;t<this.mediaStream.getTracks().length;t++)this.mediaStream.getTracks()[t].enabled!==i&&(this.mediaStream.getTracks()[t].enabled=i,e=!0);return e}cleanup(){if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(i){}removeMediaStreamBrokerObserver(i){}constructor(i){this.logger=i}},"ContentShareMediaStreamBroker");c.default=a,a.defaultFrameRate=15},Lspx:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TargetDisplaySize=void 0;var v;(function(f){f[f.Low=0]="Low",f[f.Medium=1]="Medium",f[f.High=2]="High",f[f.Maximum=3]="Maximum"})(v=c.TargetDisplaySize||(c.TargetDisplaySize={})),c.default=v},LuEC:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("ghxq"));let h=r(class extends f.default{isSendingAudioUnhealthy(){const a=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),o=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return a&&o}health(){if(this.isSendingAudioUnhealthy()){const a=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!a?(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}constructor(a,o,i){super(o,i,"Sending Audio Health"),this.logger=a,this.sendingAudioFailureSamplesToConsider=o.sendingAudioFailureSamplesToConsider>0?o.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=o.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=o.maximumTimesToWarn,this.coolDownTimeMs=o.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}},"SendingAudioFailureConnectionHealthPolicy");c.default=h},Lxy7:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FXLIB_PATH=c.WORKER_PATH=c.CDN_BASE_PATH=c.RESOURCE_CONSTRAINTS=c.SEGMENTATION_MODEL=c.DEFAULT_STREAM_PARAMETERS=c.WORKER_MSG=void 0,c.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},c.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},c.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},c.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},c.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const v="/ml_media_fx/otherassets";c.WORKER_PATH=`${v}/worker.js`,c.FXLIB_PATH=`${v}/fxlib.js`},M1uR:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkUDPConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(v=c.CheckNetworkUDPConnectivityFeedback||(c.CheckNetworkUDPConnectivityFeedback={})),c.default=v},M2az:function(U){U.exports=JSON.parse(`{"name":"@aws-sdk/client-chime-sdk-messaging","description":"AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native","version":"3.341.0","scripts":{"build":"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4","clean":"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo chime-sdk-messaging"},"main":"./dist-cjs/index.js","types":"./dist-types/index.d.ts","module":"./dist-es/index.js","sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.341.0","@aws-sdk/config-resolver":"3.341.0","@aws-sdk/credential-provider-node":"3.341.0","@aws-sdk/fetch-http-handler":"3.341.0","@aws-sdk/hash-node":"3.341.0","@aws-sdk/invalid-dependency":"3.341.0","@aws-sdk/middleware-content-length":"3.341.0","@aws-sdk/middleware-endpoint":"3.341.0","@aws-sdk/middleware-host-header":"3.341.0","@aws-sdk/middleware-logger":"3.341.0","@aws-sdk/middleware-recursion-detection":"3.341.0","@aws-sdk/middleware-retry":"3.341.0","@aws-sdk/middleware-serde":"3.341.0","@aws-sdk/middleware-signing":"3.341.0","@aws-sdk/middleware-stack":"3.341.0","@aws-sdk/middleware-user-agent":"3.341.0","@aws-sdk/node-config-provider":"3.341.0","@aws-sdk/node-http-handler":"3.341.0","@aws-sdk/smithy-client":"3.341.0","@aws-sdk/types":"3.341.0","@aws-sdk/url-parser":"3.341.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.341.0","@aws-sdk/util-defaults-mode-node":"3.341.0","@aws-sdk/util-endpoints":"3.341.0","@aws-sdk/util-retry":"3.341.0","@aws-sdk/util-user-agent-browser":"3.341.0","@aws-sdk/util-user-agent-node":"3.341.0","@aws-sdk/util-utf8":"3.310.0","@smithy/protocol-http":"^1.0.1","@smithy/types":"^1.0.0","tslib":"^2.5.0","uuid":"^8.3.2"},"devDependencies":{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0","concurrently":"7.0.0","downlevel-dts":"0.10.1","rimraf":"3.0.2","typedoc":"0.23.23","typescript":"~4.9.5"},"engines":{"node":">=14.0.0"},"typesVersions":{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},"files":["dist-*/**"],"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","browser":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},"homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-chime-sdk-messaging"}}`)},M39V:function(U,c,d){(function(v,f){U.exports=f()})(this,function(){return function(v){var f={};function h(m){if(f[m])return f[m].exports;var a=f[m]={i:m,l:!1,exports:{}};return v[m].call(a.exports,a,a.exports,h),a.l=!0,a.exports}return r(h,"r"),h.m=v,h.c=f,h.d=function(m,a,o){h.o(m,a)||Object.defineProperty(m,a,{enumerable:!0,get:o})},h.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},h.t=function(m,a){if(1&a&&(m=h(m)),8&a||4&a&&typeof m=="object"&&m&&m.__esModule)return m;var o=Object.create(null);if(h.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:m}),2&a&&typeof m!="string")for(var i in m)h.d(o,i,function(e){return m[e]}.bind(null,i));return o},h.n=function(m){var a=m&&m.__esModule?function(){return m.default}:function(){return m};return h.d(a,"a",a),a},h.o=function(m,a){return Object.prototype.hasOwnProperty.call(m,a)},h.p="",h(h.s=90)}({17:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m=h(18),a=function(){function o(){}return r(o,"e"),o.getFirstMatch=function(i,e){var t=e.match(i);return t&&t.length>0&&t[1]||""},o.getSecondMatch=function(i,e){var t=e.match(i);return t&&t.length>1&&t[2]||""},o.matchAndReturnConst=function(i,e,t){if(i.test(e))return t},o.getWindowsVersionName=function(i){switch(i){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(i){var e=i.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),e[0]===10)switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(i){var e=i.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(e.push(0),!(e[0]===1&&e[1]<5))return e[0]===1&&e[1]<6?"Cupcake":e[0]===1&&e[1]>=6?"Donut":e[0]===2&&e[1]<2?"Eclair":e[0]===2&&e[1]===2?"Froyo":e[0]===2&&e[1]>2?"Gingerbread":e[0]===3?"Honeycomb":e[0]===4&&e[1]<1?"Ice Cream Sandwich":e[0]===4&&e[1]<4?"Jelly Bean":e[0]===4&&e[1]>=4?"KitKat":e[0]===5?"Lollipop":e[0]===6?"Marshmallow":e[0]===7?"Nougat":e[0]===8?"Oreo":e[0]===9?"Pie":void 0},o.getVersionPrecision=function(i){return i.split(".").length},o.compareVersions=function(i,e,t){t===void 0&&(t=!1);var n=o.getVersionPrecision(i),s=o.getVersionPrecision(e),p=Math.max(n,s),g=0,S=o.map([i,e],function(u){var l=p-o.getVersionPrecision(u),E=u+new Array(l+1).join(".0");return o.map(E.split("."),function(O){return new Array(20-O.length).join("0")+O}).reverse()});for(t&&(g=p-Math.min(n,s)),p-=1;p>=g;){if(S[0][p]>S[1][p])return 1;if(S[0][p]===S[1][p]){if(p===g)return 0;p-=1}else if(S[0][p]<S[1][p])return-1}},o.map=function(i,e){var t,n=[];if(Array.prototype.map)return Array.prototype.map.call(i,e);for(t=0;t<i.length;t+=1)n.push(e(i[t]));return n},o.find=function(i,e){var t,n;if(Array.prototype.find)return Array.prototype.find.call(i,e);for(t=0,n=i.length;t<n;t+=1){var s=i[t];if(e(s,t))return s}},o.assign=function(i){for(var e,t,n=i,s=arguments.length,p=new Array(s>1?s-1:0),g=1;g<s;g++)p[g-1]=arguments[g];if(Object.assign)return Object.assign.apply(Object,[i].concat(p));var S=r(function(){var u=p[e];typeof u=="object"&&u!==null&&Object.keys(u).forEach(function(l){n[l]=u[l]})},"o");for(e=0,t=p.length;e<t;e+=1)S();return i},o.getBrowserAlias=function(i){return m.BROWSER_ALIASES_MAP[i]},o.getBrowserTypeByAlias=function(i){return m.BROWSER_MAP[i]||""},o}();f.default=a,v.exports=f.default},18:function(v,f,h){"use strict";f.__esModule=!0,f.ENGINE_MAP=f.OS_MAP=f.PLATFORMS_MAP=f.BROWSER_MAP=f.BROWSER_ALIASES_MAP=void 0,f.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},f.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},f.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},f.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},f.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m,a=(m=h(91))&&m.__esModule?m:{default:m},o=h(18);function i(t,n){for(var s=0;s<n.length;s++){var p=n[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(t,p.key,p)}}r(i,"a");var e=function(){function t(){}r(t,"e");var n,s,p;return t.getParser=function(g,S){if(S===void 0&&(S=!1),typeof g!="string")throw new Error("UserAgent should be a string");return new a.default(g,S)},t.parse=function(g){return new a.default(g).getResult()},n=t,p=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(s=null)&&i(n.prototype,s),p&&i(n,p),t}();f.default=e,v.exports=f.default},91:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m=t(h(92)),a=t(h(93)),o=t(h(94)),i=t(h(95)),e=t(h(17));function t(s){return s&&s.__esModule?s:{default:s}}r(t,"u");var n=function(){function s(g,S){if(S===void 0&&(S=!1),g==null||g==="")throw new Error("UserAgent parameter can't be empty");this._ua=g,this.parsedResult={},S!==!0&&this.parse()}r(s,"e");var p=s.prototype;return p.getUA=function(){return this._ua},p.test=function(g){return g.test(this._ua)},p.parseBrowser=function(){var g=this;this.parsedResult.browser={};var S=e.default.find(m.default,function(u){if(typeof u.test=="function")return u.test(g);if(u.test instanceof Array)return u.test.some(function(l){return g.test(l)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.browser=S.describe(this.getUA())),this.parsedResult.browser},p.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},p.getBrowserName=function(g){return g?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},p.getBrowserVersion=function(){return this.getBrowser().version},p.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},p.parseOS=function(){var g=this;this.parsedResult.os={};var S=e.default.find(a.default,function(u){if(typeof u.test=="function")return u.test(g);if(u.test instanceof Array)return u.test.some(function(l){return g.test(l)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.os=S.describe(this.getUA())),this.parsedResult.os},p.getOSName=function(g){var S=this.getOS().name;return g?String(S).toLowerCase()||"":S||""},p.getOSVersion=function(){return this.getOS().version},p.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},p.getPlatformType=function(g){g===void 0&&(g=!1);var S=this.getPlatform().type;return g?String(S).toLowerCase()||"":S||""},p.parsePlatform=function(){var g=this;this.parsedResult.platform={};var S=e.default.find(o.default,function(u){if(typeof u.test=="function")return u.test(g);if(u.test instanceof Array)return u.test.some(function(l){return g.test(l)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.platform=S.describe(this.getUA())),this.parsedResult.platform},p.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},p.getEngineName=function(g){return g?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},p.parseEngine=function(){var g=this;this.parsedResult.engine={};var S=e.default.find(i.default,function(u){if(typeof u.test=="function")return u.test(g);if(u.test instanceof Array)return u.test.some(function(l){return g.test(l)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.engine=S.describe(this.getUA())),this.parsedResult.engine},p.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},p.getResult=function(){return e.default.assign({},this.parsedResult)},p.satisfies=function(g){var S=this,u={},l=0,E={},O=0;if(Object.keys(g).forEach(function(A){var D=g[A];typeof D=="string"?(E[A]=D,O+=1):typeof D=="object"&&(u[A]=D,l+=1)}),l>0){var P=Object.keys(u),x=e.default.find(P,function(A){return S.isOS(A)});if(x){var k=this.satisfies(u[x]);if(k!==void 0)return k}var B=e.default.find(P,function(A){return S.isPlatform(A)});if(B){var R=this.satisfies(u[B]);if(R!==void 0)return R}}if(O>0){var N=Object.keys(E),w=e.default.find(N,function(A){return S.isBrowser(A,!0)});if(w!==void 0)return this.compareVersion(E[w])}},p.isBrowser=function(g,S){S===void 0&&(S=!1);var u=this.getBrowserName().toLowerCase(),l=g.toLowerCase(),E=e.default.getBrowserTypeByAlias(l);return S&&E&&(l=E.toLowerCase()),l===u},p.compareVersion=function(g){var S=[0],u=g,l=!1,E=this.getBrowserVersion();if(typeof E=="string")return g[0]===">"||g[0]==="<"?(u=g.substr(1),g[1]==="="?(l=!0,u=g.substr(2)):S=[],g[0]===">"?S.push(1):S.push(-1)):g[0]==="="?u=g.substr(1):g[0]==="~"&&(l=!0,u=g.substr(1)),S.indexOf(e.default.compareVersions(E,u,l))>-1},p.isOS=function(g){return this.getOSName(!0)===String(g).toLowerCase()},p.isPlatform=function(g){return this.getPlatformType(!0)===String(g).toLowerCase()},p.isEngine=function(g){return this.getEngineName(!0)===String(g).toLowerCase()},p.is=function(g,S){return S===void 0&&(S=!1),this.isBrowser(g,S)||this.isOS(g)||this.isPlatform(g)},p.some=function(g){var S=this;return g===void 0&&(g=[]),g.some(function(u){return S.is(u)})},s}();f.default=n,v.exports=f.default},92:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m,a=(m=h(17))&&m.__esModule?m:{default:m},o=/version\/(\d+(\.?_?\d+)+)/i,i=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];f.default=i,v.exports=f.default},93:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m,a=(m=h(17))&&m.__esModule?m:{default:m},o=h(18),i=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=a.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=a.default.getMacOSVersionName(t),s={name:o.OS_MAP.MacOS,version:t};return n&&(s.versionName=n),s}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=a.default.getAndroidVersionName(t),s={name:o.OS_MAP.Android,version:t};return n&&(s.versionName=n),s}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];f.default=i,v.exports=f.default},94:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m,a=(m=h(17))&&m.__esModule?m:{default:m},o=h(18),i=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return e.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return e.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return e.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return e.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return e.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return e.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return e.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];f.default=i,v.exports=f.default},95:function(v,f,h){"use strict";f.__esModule=!0,f.default=void 0;var m,a=(m=h(17))&&m.__esModule?m:{default:m},o=h(18),i=[{test:function(e){return e.getBrowserName(!0)==="microsoft edge"},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];f.default=i,v.exports=f.default}})})},M5dz:function(U,c,d){var v=d("ekG2");U.exports=function(f,h){if(!v(f))return f;var m,a;if(h&&typeof(m=f.toString)=="function"&&!v(a=m.call(f))||typeof(m=f.valueOf)=="function"&&!v(a=m.call(f))||!h&&typeof(m=f.toString)=="function"&&!v(a=m.call(f)))return a;throw TypeError("Can't convert object to primitive value")}},M9Lm:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("hlxM"),h=d("nSNv");let m=r(class extends h.VoiceFocusAudioWorkletNode{enable(){return v(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return v(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return v(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(o){var i;const e=o.data;switch(e.message){case"ready":this.port.postMessage({message:"ready",shared:e.shared},e.shared?Object.values(e.shared):[]);break;case"data":if(!e.buffer)return;this.port.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(e);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"processing":this.port.postMessage(e);break;default:return}}onProcessorMessage(o){var i;const e=o.data;switch(e.message){case"data":if(!e.buffer)return;this.worker.postMessage({message:"data",buffer:e.buffer},[e.buffer]);break;case"cpu":(i=this.delegate)===null||i===void 0||i.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(e);break;default:return}}constructor(o,i){super(o,i.processor,i),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:e,audioBufferURL:t,worker:n,fetchBehavior:s,delegate:p}=i;this.delegate=p,this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:g,agc:S,supportFarendStream:u}=i.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:o.sampleRate===16e3?160:480,enabled:g,agc:S,fetchBehavior:s,model:e,supportFarendStream:u});const l=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:l,key:"buffer",fetchBehavior:s,path:t})}},"VoiceFocusWorkerPostMessageNode");c.default=m},MBy0:function(U,c,d){d("4Zg2")("asyncIterator")},MFJ1:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("rwhO"),m=f(d("3EKQ"));let a=r(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(i){this.logger.error(`Event Reporting - Error starting the event buffer ${i}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(i){this.logger.error(`Event Reporting - Error stopping the event buffer ${i}`)}}reportEvent(i,e,t){return v(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${i}, ${e}, ${JSON.stringify(t)}`),this.eventsToIgnore.includes(e)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${e} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:i,name:e,attributes:t})}catch(n){this.logger.error(`Event Reporting - Error adding event to buffer ${n}`)}})}destroy(){return v(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),h.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(i,e){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:t,ingestionURL:n,eventBufferConfiguration:s}=i,{eventsToIgnore:p}=t;this.eventBuffer=new m.default(s,t,n,this.importantEvents,e),this.logger=e,this.eventsToIgnore=p,this.start()}},"DefaultMeetingEventReporter");c.default=a},ML5K:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("6/h7")),h=v(d("8wPz")),m=v(d("hEYi")),a=d("f2XL"),o=d("KyYT");let i=r(class{addObserver(t){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)f.default.nextTick(()=>{this.observerQueue.has(n)&&t(n)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(n=>{o.Maybe.of(n.didMissPongs).map(s=>s.bind(n)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const t=a.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(t){const n=a.SdkPingPongFrame.create();n.pingId=t,n.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(n)}handleSignalingClientEvent(t){switch(t.type){case m.default.WebSocketOpen:this.startPingInterval();break;case m.default.WebSocketFailed:case m.default.WebSocketError:this.logger.warn(`stopped pinging (${m.default[t.type]})`),this.stopPingInterval();break;case m.default.WebSocketClosing:case m.default.WebSocketClosed:this.logger.info(`stopped pinging (${m.default[t.type]})`),this.stopPingInterval();break;case m.default.ReceivedSignalFrame:if(t.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(t.message.pingPong.type===a.SdkPingPongType.PONG){const n=t.message.pingPong.pingId;if(n!==this.pingId){this.logger.warn(`unexpected ping id ${n} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let s;if(typeof t.message.timestampMs=="number")s=t.message.timestampMs;else break;this.logger.debug(()=>`received pong ${n} with timestamp ${s}`);const g=t.timestampMs-this.pingTimestampLocalMs,S=Math.round(s-g/2),u=this.pingTimestampLocalMs-S;this.logger.info(`local clock skew estimate=${u}ms from ping-pong time=${g}ms`),this.forEachObserver(l=>{o.Maybe.of(l.didReceivePong).map(E=>E.bind(l)(n,u,g))})}else this.pong(t.message.pingPong.pingId);break}}constructor(t,n,s){this.signalingClient=t,this.intervalMs=n,this.logger=s,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new h.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");c.default=i},MW3S:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.numToUint8=void 0;function v(f){return new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255])}r(v,"numToUint8"),c.numToUint8=v},MdQ0:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=c.numToUint8=c.isEmptyData=c.convertToBuffer=void 0;var v=d("xsFo");Object.defineProperty(c,"convertToBuffer",{enumerable:!0,get:function(){return v.convertToBuffer}});var f=d("C5aR");Object.defineProperty(c,"isEmptyData",{enumerable:!0,get:function(){return f.isEmptyData}});var h=d("MW3S");Object.defineProperty(c,"numToUint8",{enumerable:!0,get:function(){return h.numToUint8}});var m=d("ZzQ1");Object.defineProperty(c,"uint32ArrayFrom",{enumerable:!0,get:function(){return m.uint32ArrayFrom}})},MelK:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("cYl2");let f=r(class Nd{compress(m,a){if(a.length>0){const e=Math.min(a.length,Nd.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const o={memLevel:Nd.Z_MEM_LEVEL,dictionary:a};return v.deflateRaw(m,o)}decompress(m,a){if(a.length>0){const e=Math.min(a.length,Nd.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const o={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=v.inflateRaw(m,o)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(m){this.logger=m}},"ZLIBTextCompressor");c.default=f,f.Z_MEM_LEVEL=9,f.MAX_DICTIONARY_SIZE=31744},MhWp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("f2XL");let f=r(class av{clone(){const m=new av;return m.attendeeId=this.attendeeId,m.groupId=this.groupId,m.streamId=this.streamId,m.ssrc=this.ssrc,m.trackLabel=this.trackLabel,m.maxBitrateKbps=this.maxBitrateKbps,m.avgBitrateKbps=this.avgBitrateKbps,m.maxFrameRate=this.maxFrameRate,m.timeEnabled=this.timeEnabled,m.disabledByWebRTC=this.disabledByWebRTC,m.disabledByUplinkPolicy=this.disabledByUplinkPolicy,m}toStreamDescriptor(){const m=v.SdkStreamDescriptor.create();return m.mediaType=v.SdkStreamMediaType.VIDEO,m.trackLabel=this.trackLabel,m.attendeeId=this.attendeeId,m.streamId=this.streamId,m.groupId=this.groupId,m.framerate=this.maxFrameRate,m.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,m.avgBitrateBps=this.avgBitrateKbps,m}constructor(m,a,o,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=m,this.groupId=a,this.streamId=o,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");c.default=f},MpTp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class xf{add(h){this.ids.add(h)}array(){return Array.from(this.ids.values()).sort((m,a)=>m-a)}contain(h){return this.ids.has(h)}forEach(h){this.ids.forEach(h)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(h){if(!h)return this.ids.size===0;const m=this.array(),a=h.array();if(m.length!==a.length)return!1;for(let o=0;o<m.length;o++)if(m[o]!==a[o])return!1;return!0}clone(){return new xf(this.array())}remove(h){this.ids.delete(h)}toJSON(){return this.array()}truncate(h){const m=this.array();return new xf(m.splice(0,h))}constructor(h){this.ids=new Set(h)}},"DefaultVideoStreamIdSet");c.default=v},Mr6q:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{addObserver(h){this.observers.add(h)}removeObserver(h){this.observers.delete(h)}filterFrameDurationHigh(h){var m;for(const a of this.observers)(m=a.filterFrameDurationHigh)===null||m===void 0||m.call(a,h)}filterCPUUtilizationHigh(h){var m;for(const a of this.observers)(m=a.filterCPUUtilizationHigh)===null||m===void 0||m.call(a,h)}constructor(){this.observers=new Set}},"BackgroundFilterVideoFrameProcessorDelegate");c.default=v},MwVV:function(U,c,d){(function(v){var f,h,m;U.exports=function(W){var o={},i={exports:o},e=W.AbortController,t=W.AbortSignal,n=W.addEventListener,s=W.alert,p=W.AnalyserNode,g=W.Animation,S=W.AnimationEffectReadOnly,u=W.AnimationEffectTiming,l=W.AnimationEffectTimingReadOnly,E=W.AnimationEvent,O=W.AnimationPlaybackEvent,P=W.AnimationTimeline,x=W.applicationCache,k=W.ApplicationCache,B=W.ApplicationCacheErrorEvent,R=W.atob,N=W.Attr,w=W.Audio,A=W.AudioBuffer,D=W.AudioBufferSourceNode,K=W.AudioContext,X=W.AudioDestinationNode,j=W.AudioListener,te=W.AudioNode,me=W.AudioParam,we=W.AudioProcessingEvent,pe=W.AudioScheduledSourceNode,Ae=W.AudioWorkletGlobalScope,Je=W.AudioWorkletNode,Fe=W.AudioWorkletProcessor,Ue=W.BarProp,Le=W.BaseAudioContext,at=W.BatteryManager,lt=W.BeforeUnloadEvent,ot=W.BiquadFilterNode,pt=W.Blob,ct=W.BlobEvent,rt=W.blur,Tn=W.BroadcastChannel,Qt=W.btoa,Ft=W.BudgetService,Rn=W.ByteLengthQueuingStrategy,Pn=W.Cache,ti=W.CacheStorage,Sn=W.cancelAnimationFrame,oi=W.cancelIdleCallback,vi=W.CanvasCaptureMediaStreamTrack,Hn=W.CanvasGradient,Di=W.CanvasPattern,Bi=W.CanvasRenderingContext2D,Gt=W.ChannelMergerNode,Dn=W.ChannelSplitterNode,Dt=W.CharacterData,je=W.clearInterval,yt=W.clearTimeout,dt=W.clientInformation,cn=W.ClipboardEvent,li=W.close,ci=W.closed,Jn=W.CloseEvent,di=W.Comment,Mi=W.CompositionEvent,Sr=W.confirm,Ai=W.console,Hi=W.ConstantSourceNode,rn=W.ConvolverNode,ge=W.CountQueuingStrategy,Re=W.createImageBitmap,Ve=W.Credential,kt=W.CredentialsContainer,tt=W.crypto,it=W.Crypto,bt=W.CryptoKey,an=W.CSS,un=W.CSSConditionRule,en=W.CSSFontFaceRule,Mn=W.CSSGroupingRule,qi=W.CSSImportRule,pi=W.CSSKeyframeRule,dr=W.CSSKeyframesRule,Ki=W.CSSMatrixComponent,mi=W.CSSMediaRule,Pr=W.CSSNamespaceRule,si=W.CSSPageRule,or=W.CSSPerspective,$n=W.CSSRotate,ur=W.CSSRule,Ji=W.CSSRuleList,xr=W.CSSScale,Dr=W.CSSSkew,Xi=W.CSSSkewX,_r=W.CSSSkewY,vt=W.CSSStyleDeclaration,z=W.CSSStyleRule,de=W.CSSStyleSheet,Ie=W.CSSSupportsRule,xe=W.CSSTransformValue,$e=W.CSSTranslate,ut=W.CustomElementRegistry,mt=W.customElements,St=W.CustomEvent,It=W.DataTransfer,Rt=W.DataTransferItem,Zt=W.DataTransferItemList,Wt=W.defaultstatus,on=W.defaultStatus,Tt=W.DelayNode,Yn=W.DeviceMotionEvent,kn=W.DeviceOrientationEvent,Si=W.devicePixelRatio,ui=W.dispatchEvent,fi=W.document,gi=W.Document,yi=W.DocumentFragment,Fi=W.DocumentType,ni=W.DOMError,Ci=W.DOMException,In=W.DOMImplementation,Qn=W.DOMMatrix,ii=W.DOMMatrixReadOnly,Zn=W.DOMParser,yr=W.DOMPoint,Ui=W.DOMPointReadOnly,sr=W.DOMQuad,Ri=W.DOMRect,No=W.DOMRectList,er=W.DOMRectReadOnly,Qi=W.DOMStringList,qn=W.DOMStringMap,Yt=W.DOMTokenList,fr=W.DragEvent,Zo=W.DynamicsCompressorNode,so=W.Element,Wi=W.ErrorEvent,Jr=W.event,Hr=W.Event,tr=W.EventSource,Ts=W.EventTarget,Is=W.external,ki=W.fetch,Cr=W.File,Eo=W.FileList,ws=W.FileReader,Lr=W.find,fo=W.focus,ao=W.FocusEvent,To=W.FontFace,qo=W.FontFaceSetLoadEvent,es=W.FormData,Bo=W.frameElement,ts=W.frames,ho=W.GainNode,zr=W.Gamepad,Nr=W.GamepadButton,Io=W.GamepadEvent,po=W.getComputedStyle,Yr=W.getSelection,Fo=W.HashChangeEvent,Uo=W.Headers,Vo=W.history,ar=W.History,Ho=W.HTMLAllCollection,ns=W.HTMLAnchorElement,zo=W.HTMLAreaElement,Wr=W.HTMLAudioElement,lo=W.HTMLBaseElement,br=W.HTMLBodyElement,Br=W.HTMLBRElement,Wo=W.HTMLButtonElement,Xr=W.HTMLCanvasElement,is=W.HTMLCollection,kr=W.HTMLContentElement,mo=W.HTMLDataElement,wo=W.HTMLDataListElement,Fr=W.HTMLDetailsElement,jr=W.HTMLDialogElement,Oo=W.HTMLDirectoryElement,jo=W.HTMLDivElement,Js=W.HTMLDListElement,Ur=W.HTMLDocument,rs=W.HTMLElement,Gr=W.HTMLEmbedElement,Os=W.HTMLFieldSetElement,Ms=W.HTMLFontElement,hr=W.HTMLFormControlsCollection,Qr=W.HTMLFormElement,Zr=W.HTMLFrameElement,os=W.HTMLFrameSetElement,ss=W.HTMLHeadElement,Ys=W.HTMLHeadingElement,Mo=W.HTMLHRElement,as=W.HTMLHtmlElement,As=W.HTMLIFrameElement,ls=W.HTMLImageElement,qr=W.HTMLInputElement,Rs=W.HTMLLabelElement,Ao=W.HTMLLegendElement,nr=W.HTMLLIElement,Ro=W.HTMLLinkElement,Po=W.HTMLMapElement,Do=W.HTMLMarqueeElement,$r=W.HTMLMediaElement,go=W.HTMLMenuElement,pr=W.HTMLMetaElement,Go=W.HTMLMeterElement,eo=W.HTMLModElement,Ps=W.HTMLObjectElement,vo=W.HTMLOListElement,to=W.HTMLOptGroupElement,Xs=W.HTMLOptionElement,cs=W.HTMLOptionsCollection,Pa=W.HTMLOutputElement,no=W.HTMLParagraphElement,$o=W.HTMLParamElement,Er=W.HTMLPictureElement,mr=W.HTMLPreElement,Da=W.HTMLProgressElement,aa=W.HTMLQuoteElement,xi=W.HTMLScriptElement,ds=W.HTMLSelectElement,So=W.HTMLShadowElement,io=W.HTMLSlotElement,ji=W.HTMLSourceElement,Ds=W.HTMLSpanElement,ks=W.HTMLStyleElement,xs=W.HTMLTableCaptionElement,us=W.HTMLTableCellElement,fs=W.HTMLTableColElement,hs=W.HTMLTableElement,_s=W.HTMLTableRowElement,la=W.HTMLTableSectionElement,ue=W.HTMLTemplateElement,ie=W.HTMLTextAreaElement,q=W.HTMLTimeElement,L=W.HTMLTitleElement,J=W.HTMLTrackElement,oe=W.HTMLUListElement,re=W.HTMLUnknownElement,be=W.HTMLVideoElement,Me=W.IDBCursor,De=W.IDBCursorWithValue,Ne=W.IDBDatabase,Be=W.IDBFactory,Ge=W.IDBIndex,Ze=W.IDBKeyRange,gt=W.IDBObjectStore,_t=W.IDBOpenDBRequest,Jt=W.IDBRequest,Xt=W.IDBTransaction,fn=W.IDBVersionChangeEvent,pn=W.IdleDeadline,wn=W.IIRFilterNode,Pt=W.Image,ei=W.ImageBitmap,Xn=W.ImageBitmapRenderingContext,Ii=W.ImageCapture,_i=W.ImageData,wi=W.indexedDB,bi=W.innerHeight,Vi=W.innerWidth,Pi=W.InputEvent,ir=W.IntersectionObserver,ro=W.IntersectionObserverEntry,Vr=W.Intl,Tr=W.isSecureContext,ka=W.KeyboardEvent,co=W.KeyframeEffect,Ko=W.KeyframeEffectReadOnly,Ls=W.length,al=W.localStorage,Qs=W.location,On=W.Location,sn=W.locationbar,Ul=W.matchMedia,Mc=W.MediaDeviceInfo,ll=W.MediaDevices,Yi=W.MediaElementAudioSourceNode,Vl=W.MediaEncryptedEvent,xa=W.MediaError,ca=W.MediaKeyMessageEvent,Ac=W.MediaKeySession,cl=W.MediaKeyStatusMap,dl=W.MediaKeySystemAccess,ul=W.MediaList,_a=W.MediaMetadata,gr=W.MediaQueryList,ln=W.MediaQueryListEvent,Kn=W.MediaRecorder,At=W.MediaSettingsRange,Rc=W.MediaSource,fl=W.MediaStream,Jo=W.MediaStreamAudioDestinationNode,Zs=W.MediaStreamAudioSourceNode,qs=W.MediaStreamEvent,Ns=W.MediaStreamTrack,da=W.MediaStreamTrackEvent,Pc=W.menubar,Yo=W.MessageChannel,ua=W.MessageEvent,hl=W.MessagePort,Dc=W.MIDIAccess,kc=W.MIDIConnectionEvent,xc=W.MIDIInput,ea=W.MIDIInputMap,Hl=W.MIDIMessageEvent,fa=W.MIDIOutput,ha=W.MIDIOutputMap,zl=W.MIDIPort,La=W.MimeType,_c=W.MimeTypeArray,Wl=W.MouseEvent,Lc=W.moveBy,jl=W.moveTo,Nc=W.MutationEvent,Na=W.MutationObserver,Ba=W.MutationRecord,Fa=W.name,pl=W.NamedNodeMap,rr=W.NavigationPreloadManager,ps=W.navigator,Ua=W.Navigator,Va=W.NetworkInformation,Ha=W.Node,za=W.NodeFilter,b=W.NodeIterator,V=W.NodeList,M=W.Notification,Q=W.OfflineAudioCompletionEvent,G=W.OfflineAudioContext,se=W.offscreenBuffering,Ee=W.OffscreenCanvas,Se=W.OffscreenCanvasRenderingContext2D,Qe=W.onabort,he=W.onafterprint,Te=W.onanimationend,tn=W.onanimationiteration,Ye=W.onanimationstart,_e=W.onappinstalled,Et=W.onauxclick,zn=W.onbeforeinstallprompt,qt=W.onbeforeprint,Ut=W.onbeforeunload,gn=W.onblur,$t=W.oncancel,Ke=W.oncanplay,nn=W.oncanplaythrough,We=W.onchange,wt=W.onclick,qe=W.onclose,yn=W.oncontextmenu,Vt=W.oncuechange,jt=W.ondblclick,Kr=W.ondevicemotion,mn=W.ondeviceorientation,ml=W.ondeviceorientationabsolute,hn=W.ondrag,Bs=W.ondragend,ms=W.ondragenter,$f=W.ondragleave,Kf=W.ondragover,Jf=W.ondragstart,Yf=W.ondrop,Kd=W.ondurationchange,pa=W.onemptied,gl=W.onended,vl=W.onerror,Gl=W.onfocus,Xf=W.ongotpointercapture,Jd=W.onhashchange,Qf=W.oninput,Zf=W.oninvalid,qf=W.onkeydown,ad=W.onkeypress,eh=W.onkeyup,ld=W.onlanguagechange,th=W.onload,Ov=W.onloadeddata,nh=W.onloadedmetadata,ih=W.onloadstart,rh=W.onlostpointercapture,Yd=W.onmessage,oh=W.onmessageerror,Xd=W.onmousedown,ta=W.onmouseenter,na=W.onmouseleave,Sl=W.onmousemove,Qd=W.onmouseout,uo=W.onmouseover,yl=W.onmouseup,$l=W.onmousewheel,cd=W.onoffline,Zd=W.ononline,qd=W.onpagehide,eu=W.onpageshow,tu=W.onpause,nu=W.onplay,Fs=W.onplaying,iu=W.onpointercancel,ru=W.onpointerdown,ou=W.onpointerenter,su=W.onpointerleave,au=W.onpointermove,Mv=W.onpointerout,sh=W.onpointerover,ah=W.onpointerup,dd=W.onpopstate,ud=W.onprogress,fd=W.onratechange,hd=W.onrejectionhandled,pd=W.onreset,md=W.onresize,gd=W.onscroll,vd=W.onsearch,Sd=W.onseeked,lh=W.onseeking,ch=W.onselect,dh=W.onstalled,uh=W.onstorage,fh=W.onsubmit,yo=W.onsuspend,yd=W.ontimeupdate,hh=W.ontoggle,ph=W.ontransitionend,An=W.onunhandledrejection,mh=W.onunload,gh=W.onvolumechange,Av=W.onwaiting,Co=W.onwheel,vh=W.open,Sh=W.openDatabase,yh=W.opener,Kl=W.Option,Jl=W.origin,Yl=W.OscillatorNode,Xl=W.outerHeight,Ql=W.outerWidth,Zl=W.OverconstrainedError,ql=W.PageTransitionEvent,ec=W.pageXOffset,tc=W.pageYOffset,Ch=W.PannerNode,bh=W.parent,Eh=W.Path2D,Th=W.PaymentAddress,Ih=W.PaymentRequest,wh=W.PaymentRequestUpdateEvent,Oh=W.PaymentResponse,Mh=W.performance,Ah=W.Performance,Rh=W.PerformanceEntry,Ph=W.PerformanceLongTaskTiming,Dh=W.PerformanceMark,kh=W.PerformanceMeasure,Ir=W.PerformanceNavigation,lu=W.PerformanceNavigationTiming,cu=W.PerformanceObserver,du=W.PerformanceObserverEntryList,uu=W.PerformancePaintTiming,fu=W.PerformanceResourceTiming,hu=W.PerformanceTiming,nc=W.PeriodicWave,pu=W.Permissions,ic=W.PermissionStatus,Cd=W.personalbar,mu=W.PhotoCapabilities,gu=W.Plugin,vu=W.PluginArray,Su=W.PointerEvent,rc=W.PopStateEvent,bd=W.postMessage,yu=W.Presentation,Bc=W.PresentationAvailability,Cu=W.PresentationConnection,bu=W.PresentationConnectionAvailableEvent,Eu=W.PresentationConnectionCloseEvent,Ed=W.PresentationConnectionList,Tu=W.PresentationReceiver,Iu=W.PresentationRequest,oc=W.print,wu=W.ProcessingInstruction,Ou=W.ProgressEvent,Mu=W.PromiseRejectionEvent,Au=W.prompt,Ru=W.PushManager,Pu=W.PushSubscription,Du=W.PushSubscriptionOptions,ku=W.queueMicrotask,xu=W.RadioNodeList,_u=W.Range,Lu=W.ReadableStream,Nu=W.registerProcessor,Bu=W.RemotePlayback,Fu=W.removeEventListener,Uu=W.Request,Vu=W.requestAnimationFrame,Hu=W.requestIdleCallback,zu=W.resizeBy,Wu=W.ResizeObserver,ju=W.ResizeObserverEntry,Gu=W.resizeTo,$u=W.Response,Ku=W.RTCCertificate,Ju=W.RTCDataChannel,Yu=W.RTCDataChannelEvent,Xu=W.RTCDtlsTransport,Qu=W.RTCIceCandidate,Zu=W.RTCIceGatherer,qu=W.RTCIceTransport,ef=W.RTCPeerConnection,tf=W.RTCPeerConnectionIceEvent,nf=W.RTCRtpContributingSource,rf=W.RTCRtpReceiver,of=W.RTCRtpSender,sf=W.RTCSctpTransport,af=W.RTCSessionDescription,lf=W.RTCStatsReport,cf=W.RTCTrackEvent,df=W.screen,uf=W.Screen,ff=W.screenLeft,hf=W.ScreenOrientation,pf=W.screenTop,mf=W.screenX,gf=W.screenY,xh=W.ScriptProcessorNode,_h=W.scroll,Lh=W.scrollbars,Nh=W.scrollBy,Bh=W.scrollTo,Fh=W.scrollX,Uh=W.scrollY,Vh=W.SecurityPolicyViolationEvent,Hh=W.Selection,sc=W.self,zh=W.ServiceWorker,Wh=W.ServiceWorkerContainer,jh=W.ServiceWorkerRegistration,Gh=W.sessionStorage,$h=W.setInterval,vf=W.setTimeout,Kh=W.ShadowRoot,Jh=W.SharedWorker,Yh=W.SourceBuffer,Xh=W.SourceBufferList,Qh=W.speechSynthesis,Zh=W.SpeechSynthesisEvent,qh=W.SpeechSynthesisUtterance,ep=W.StaticRange,tp=W.status,np=W.statusbar,ip=W.StereoPannerNode,rp=W.stop,op=W.Storage,sp=W.StorageEvent,ap=W.StorageManager,lp=W.styleMedia,cp=W.StyleSheet,dp=W.StyleSheetList,up=W.SubtleCrypto,fp=W.SVGAElement,hp=W.SVGAngle,pp=W.SVGAnimatedAngle,mp=W.SVGAnimatedBoolean,gp=W.SVGAnimatedEnumeration,vp=W.SVGAnimatedInteger,Sp=W.SVGAnimatedLength,yp=W.SVGAnimatedLengthList,Cp=W.SVGAnimatedNumber,bp=W.SVGAnimatedNumberList,Ep=W.SVGAnimatedPreserveAspectRatio,Tp=W.SVGAnimatedRect,Ip=W.SVGAnimatedString,wp=W.SVGAnimatedTransformList,Op=W.SVGAnimateElement,Mp=W.SVGAnimateMotionElement,Ap=W.SVGAnimateTransformElement,Rp=W.SVGAnimationElement,Pp=W.SVGCircleElement,Dp=W.SVGClipPathElement,kp=W.SVGComponentTransferFunctionElement,xp=W.SVGDefsElement,_p=W.SVGDescElement,Lp=W.SVGDiscardElement,Np=W.SVGElement,Bp=W.SVGEllipseElement,Fp=W.SVGFEBlendElement,Up=W.SVGFEColorMatrixElement,Vp=W.SVGFEComponentTransferElement,Hp=W.SVGFECompositeElement,zp=W.SVGFEConvolveMatrixElement,Wp=W.SVGFEDiffuseLightingElement,jp=W.SVGFEDisplacementMapElement,Gp=W.SVGFEDistantLightElement,$p=W.SVGFEDropShadowElement,Kp=W.SVGFEFloodElement,Jp=W.SVGFEFuncAElement,Yp=W.SVGFEFuncBElement,Xp=W.SVGFEFuncGElement,Qp=W.SVGFEFuncRElement,Zp=W.SVGFEGaussianBlurElement,qp=W.SVGFEImageElement,em=W.SVGFEMergeElement,tm=W.SVGFEMergeNodeElement,nm=W.SVGFEMorphologyElement,im=W.SVGFEOffsetElement,rm=W.SVGFEPointLightElement,om=W.SVGFESpecularLightingElement,sm=W.SVGFESpotLightElement,am=W.SVGFETileElement,lm=W.SVGFETurbulenceElement,cm=W.SVGFilterElement,dm=W.SVGForeignObjectElement,um=W.SVGGElement,fm=W.SVGGeometryElement,hm=W.SVGGradientElement,pm=W.SVGGraphicsElement,mm=W.SVGImageElement,gm=W.SVGLength,vm=W.SVGLengthList,Sm=W.SVGLinearGradientElement,ym=W.SVGLineElement,Cm=W.SVGMarkerElement,bm=W.SVGMaskElement,Em=W.SVGMatrix,Tm=W.SVGMetadataElement,Im=W.SVGMPathElement,wm=W.SVGNumber,Om=W.SVGNumberList,Mm=W.SVGPathElement,Am=W.SVGPatternElement,Rm=W.SVGPoint,Pm=W.SVGPointList,Dm=W.SVGPolygonElement,km=W.SVGPolylineElement,xm=W.SVGPreserveAspectRatio,_m=W.SVGRadialGradientElement,Lm=W.SVGRect,Nm=W.SVGRectElement,Bm=W.SVGScriptElement,Fm=W.SVGSetElement,Um=W.SVGStopElement,Vm=W.SVGStringList,Hm=W.SVGStyleElement,zm=W.SVGSVGElement,Wm=W.SVGSwitchElement,jm=W.SVGSymbolElement,Gm=W.SVGTextContentElement,$m=W.SVGTextElement,Km=W.SVGTextPathElement,Jm=W.SVGTextPositioningElement,Ym=W.SVGTitleElement,Xm=W.SVGTransform,Qm=W.SVGTransformList,Zm=W.SVGTSpanElement,qm=W.SVGUnitTypes,eg=W.SVGUseElement,tg=W.SVGViewElement,ng=W.TaskAttributionTiming,ig=W.Text,rg=W.TextDecoder,og=W.TextEncoder,sg=W.TextEvent,ag=W.TextMetrics,lg=W.TextTrack,cg=W.TextTrackCue,dg=W.TextTrackCueList,ug=W.TextTrackList,fg=W.TimeRanges,hg=W.toolbar,pg=W.top,mg=W.Touch,gg=W.TouchEvent,vg=W.TouchList,Sg=W.TrackEvent,yg=W.TransitionEvent,Cg=W.TreeWalker,bg=W.UIEvent,xn=W.URL,Wn=W.URLSearchParams,wr=W.ValidityState,_n=W.visualViewport,Us=W.VisualViewport,Wa=W.VTTCue,Ln=W.WaveShaperNode,Nn=W.WebAssembly,Bn=W.WebGL2RenderingContext,Fn=W.WebGLActiveInfo,Eg=W.WebGLBuffer,Tg=W.WebGLContextEvent,Ig=W.WebGLFramebuffer,wg=W.WebGLProgram,Og=W.WebGLQuery,Sf=W.WebGLRenderbuffer,Mg=W.WebGLRenderingContext,Ag=W.WebGLSampler,Rg=W.WebGLShader,Pg=W.WebGLShaderPrecisionFormat,yf=W.WebGLSync,Dg=W.WebGLTexture,kg=W.WebGLTransformFeedback,Td=W.WebGLUniformLocation,Cf=W.WebGLVertexArrayObject,Id=W.WebSocket,wd=W.WheelEvent,W=W.window,Xo=W.Window,xg=W.Worker,hi=W.WritableStream,ri=W.XMLDocument,Un=W.XMLHttpRequest,Vn=W.XMLHttpRequestEventTarget,ac=W.XMLHttpRequestUpload,lc=W.XMLSerializer,cc=W.XPathEvaluator,dc=W.XPathExpression,uc=W.XPathResult,fc=W.XSLTProcessor;return function(Ei,Cn){typeof o=="object"&&typeof i<"u"?Cn(o,d("q1tI"),d("wSSu")):(h=[o,d("q1tI"),d("wSSu")],f=Cn,m=typeof f=="function"?f.apply(o,h):f,m!==void 0&&(i.exports=m))}(this,function(Ei,Cn,ma){"use strict";function ja(){var ae=this.constructor.getDerivedStateFromProps(this.props,this.state);ae!=null&&this.setState(ae)}r(ja,"componentWillMount");function Ga(ae){this.setState(function(ee){var _=this.constructor.getDerivedStateFromProps(ae,ee);return _??null}.bind(this))}r(Ga,"componentWillReceiveProps");function $a(ae,ee){try{var _=this.props,Y=this.state;this.props=ae,this.state=ee,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(_,Y)}finally{this.props=_,this.state=Y}}r($a,"componentWillUpdate");function Vs(ae){var ee=ae.prototype;if(!ee||!ee.isReactComponent)throw new Error("Can only polyfill class components");if(typeof ae.getDerivedStateFromProps!="function"&&typeof ee.getSnapshotBeforeUpdate!="function")return ae;var _=null,Y=null,Z=null;if(typeof ee.componentWillMount=="function"?_="componentWillMount":typeof ee.UNSAFE_componentWillMount=="function"&&(_="UNSAFE_componentWillMount"),typeof ee.componentWillReceiveProps=="function"?Y="componentWillReceiveProps":typeof ee.UNSAFE_componentWillReceiveProps=="function"&&(Y="UNSAFE_componentWillReceiveProps"),typeof ee.componentWillUpdate=="function"?Z="componentWillUpdate":typeof ee.UNSAFE_componentWillUpdate=="function"&&(Z="UNSAFE_componentWillUpdate"),_!==null||Y!==null||Z!==null){var le=ae.displayName||ae.name,ve=typeof ae.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+le+" uses "+ve+" but also contains the following legacy lifecycles:"+(_!==null?`
  `+_:"")+(Y!==null?`
  `+Y:"")+(Z!==null?`
  `+Z:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof ae.getDerivedStateFromProps=="function"&&(ee.componentWillMount=ja,ee.componentWillReceiveProps=Ga),typeof ee.getSnapshotBeforeUpdate=="function"){if(typeof ee.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");ee.componentWillUpdate=$a;var ye=ee.componentDidUpdate;ee.componentDidUpdate=function(Oe,ke,Pe){var He=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Pe;ye.call(this,Oe,ke,He)}}return ae}r(Vs,"polyfill"),ja.__suppressDeprecationWarning=!0,Ga.__suppressDeprecationWarning=!0,$a.__suppressDeprecationWarning=!0;var zi=r(function(ae,ee){if(!(ae instanceof ee))throw new TypeError("Cannot call a class as a function")},"classCallCheck"),Gi=function(){function ae(ee,_){for(var Y=0;Y<_.length;Y++){var Z=_[Y];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(ee,Z.key,Z)}}return r(ae,"defineProperties"),function(ee,_,Y){return _&&ae(ee.prototype,_),Y&&ae(ee,Y),ee}}(),ia=r(function(ae,ee,_){return ee in ae?Object.defineProperty(ae,ee,{value:_,enumerable:!0,configurable:!0,writable:!0}):ae[ee]=_,ae},"defineProperty"),jn=Object.assign||function(ae){for(var ee=1;ee<arguments.length;ee++){var _=arguments[ee];for(var Y in _)Object.prototype.hasOwnProperty.call(_,Y)&&(ae[Y]=_[Y])}return ae},Or=r(function(ae,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);ae.prototype=Object.create(ee&&ee.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,ee):ae.__proto__=ee)},"inherits"),gs=r(function(ae,ee){var _={};for(var Y in ae)ee.indexOf(Y)>=0||Object.prototype.hasOwnProperty.call(ae,Y)&&(_[Y]=ae[Y]);return _},"objectWithoutProperties"),$i=r(function(ae,ee){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||typeof ee!="object"&&typeof ee!="function"?ae:ee},"possibleConstructorReturn"),Cl=function(){return function(ae,ee){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return function(_,Y){var Z=[],le=!0,ve=!1,ye=void 0;try{for(var Oe,ke=_[Symbol.iterator]();!(le=(Oe=ke.next()).done)&&(Z.push(Oe.value),!Y||Z.length!==Y);le=!0);}catch(Pe){ve=!0,ye=Pe}finally{try{!le&&ke.return&&ke.return()}finally{if(ve)throw ye}}return Z}(ae,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ga=function(ae){function ee(){var _,Y,Z;zi(this,ee);for(var le=arguments.length,ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye];return Y=Z=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(ve))),Z.state={scrollToColumn:0,scrollToRow:0},Z._columnStartIndex=0,Z._columnStopIndex=0,Z._rowStartIndex=0,Z._rowStopIndex=0,Z._onKeyDown=function(Oe){var ke=Z.props,Pe=ke.columnCount,He=ke.disabled,Xe=ke.mode,nt=ke.rowCount;if(!He){var ze=Z._getScrollState(),ft=ze.scrollToColumn,Ct=ze.scrollToRow,Mt=Z._getScrollState(),xt=Mt.scrollToColumn,Nt=Mt.scrollToRow;switch(Oe.key){case"ArrowDown":Nt=Math.min(Xe==="cells"?Nt+1:Z._rowStopIndex+1,nt-1);break;case"ArrowLeft":xt=Math.max(Xe==="cells"?xt-1:Z._columnStartIndex-1,0);break;case"ArrowRight":xt=Math.min(Xe==="cells"?xt+1:Z._columnStopIndex+1,Pe-1);break;case"ArrowUp":Nt=Math.max(Xe==="cells"?Nt-1:Z._rowStartIndex-1,0)}xt===ft&&Nt===Ct||(Oe.preventDefault(),Z._updateScrollState({scrollToColumn:xt,scrollToRow:Nt}))}},Z._onSectionRendered=function(Oe){var ke=Oe.columnStartIndex,Pe=Oe.columnStopIndex,He=Oe.rowStartIndex,Xe=Oe.rowStopIndex;Z._columnStartIndex=ke,Z._columnStopIndex=Pe,Z._rowStartIndex=He,Z._rowStopIndex=Xe},$i(Z,Y)}return r(ee,"ArrowKeyStepper"),Or(ee,ae),Gi(ee,[{key:"setScrollIndexes",value:function(_){var Y=_.scrollToColumn,Z=_.scrollToRow;this.setState({scrollToRow:Z,scrollToColumn:Y})}},{key:"render",value:function(){var _=this.props,Y=_.className,Z=_.children,le=this._getScrollState(),ve=le.scrollToColumn,ye=le.scrollToRow;return Cn.createElement("div",{className:Y,onKeyDown:this._onKeyDown},Z({onSectionRendered:this._onSectionRendered,scrollToColumn:ve,scrollToRow:ye}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(_){var Y=_.scrollToColumn,Z=_.scrollToRow,le=this.props,ve=le.isControlled,ye=le.onScrollToChange;typeof ye=="function"&&ye({scrollToColumn:Y,scrollToRow:Z}),ve||this.setState({scrollToColumn:Y,scrollToRow:Z})}}],[{key:"getDerivedStateFromProps",value:function(_,Y){return _.isControlled?null:_.scrollToColumn!==Y.scrollToColumn||_.scrollToRow!==Y.scrollToRow?{scrollToColumn:_.scrollToColumn,scrollToRow:_.scrollToRow}:null}}]),ee}(Cn.PureComponent);function Ka(ae,ee){var _,Y,Z,le=(_=ee!==void 0?ee:typeof W<"u"?W:typeof sc<"u"?sc:v).document!==void 0&&_.document.attachEvent;if(!le){var ve=(Z=_.requestAnimationFrame||_.mozRequestAnimationFrame||_.webkitRequestAnimationFrame||function(ht){return _.setTimeout(ht,20)},function(ht){return Z(ht)}),ye=(Y=_.cancelAnimationFrame||_.mozCancelAnimationFrame||_.webkitCancelAnimationFrame||_.clearTimeout,function(ht){return Y(ht)}),Oe=r(function(ht){var Lt=ht.__resizeTriggers__,Bt=Lt.firstElementChild,bn=Lt.lastElementChild,Gn=Bt.firstElementChild;bn.scrollLeft=bn.scrollWidth,bn.scrollTop=bn.scrollHeight,Gn.style.width=Bt.offsetWidth+1+"px",Gn.style.height=Bt.offsetHeight+1+"px",Bt.scrollLeft=Bt.scrollWidth,Bt.scrollTop=Bt.scrollHeight},"resetTriggers"),ke=r(function(ht){if(!(ht.target.className&&typeof ht.target.className.indexOf=="function"&&ht.target.className.indexOf("contract-trigger")<0&&ht.target.className.indexOf("expand-trigger")<0)){var Lt=this;Oe(this),this.__resizeRAF__&&ye(this.__resizeRAF__),this.__resizeRAF__=ve(function(){(function(Bt){return Bt.offsetWidth!=Bt.__resizeLast__.width||Bt.offsetHeight!=Bt.__resizeLast__.height})(Lt)&&(Lt.__resizeLast__.width=Lt.offsetWidth,Lt.__resizeLast__.height=Lt.offsetHeight,Lt.__resizeListeners__.forEach(function(Bt){Bt.call(Lt,ht)}))})}},"scrollListener"),Pe=!1,He="",Xe="animationstart",nt="Webkit Moz O ms".split(" "),ze="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),ft=_.document.createElement("fakeelement");if(ft.style.animationName!==void 0&&(Pe=!0),Pe===!1){for(var Ct=0;Ct<nt.length;Ct++)if(ft.style[nt[Ct]+"AnimationName"]!==void 0){He="-"+nt[Ct].toLowerCase()+"-",Xe=ze[Ct],Pe=!0;break}}var Mt="resizeanim",xt="@"+He+"keyframes "+Mt+" { from { opacity: 0; } to { opacity: 0; } } ",Nt=He+"animation: 1ms "+Mt+"; "}return{addResizeListener:function(ht,Lt){if(le)ht.attachEvent("onresize",Lt);else{if(!ht.__resizeTriggers__){var Bt=ht.ownerDocument,bn=_.getComputedStyle(ht);bn&&bn.position=="static"&&(ht.style.position="relative"),function(Gn){if(!Gn.getElementById("detectElementResize")){var Ti=(xt||"")+".resize-triggers { "+(Nt||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',ai=Gn.head||Gn.getElementsByTagName("head")[0],Oi=Gn.createElement("style");Oi.id="detectElementResize",Oi.type="text/css",ae!=null&&Oi.setAttribute("nonce",ae),Oi.styleSheet?Oi.styleSheet.cssText=Ti:Oi.appendChild(Gn.createTextNode(Ti)),ai.appendChild(Oi)}}(Bt),ht.__resizeLast__={},ht.__resizeListeners__=[],(ht.__resizeTriggers__=Bt.createElement("div")).className="resize-triggers",ht.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',ht.appendChild(ht.__resizeTriggers__),Oe(ht),ht.addEventListener("scroll",ke,!0),Xe&&(ht.__resizeTriggers__.__animationListener__=function(Gn){Gn.animationName==Mt&&Oe(ht)},ht.__resizeTriggers__.addEventListener(Xe,ht.__resizeTriggers__.__animationListener__))}ht.__resizeListeners__.push(Lt)}},removeResizeListener:function(ht,Lt){if(le)ht.detachEvent("onresize",Lt);else if(ht.__resizeListeners__.splice(ht.__resizeListeners__.indexOf(Lt),1),!ht.__resizeListeners__.length){ht.removeEventListener("scroll",ke,!0),ht.__resizeTriggers__.__animationListener__&&(ht.__resizeTriggers__.removeEventListener(Xe,ht.__resizeTriggers__.__animationListener__),ht.__resizeTriggers__.__animationListener__=null);try{ht.__resizeTriggers__=!ht.removeChild(ht.__resizeTriggers__)}catch{}}}}}r(Ka,"createDetectElementResize"),ga.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},Vs(ga);var Ja=function(ae){function ee(){var _,Y,Z;zi(this,ee);for(var le=arguments.length,ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye];return Y=Z=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(ve))),Z.state={height:Z.props.defaultHeight||0,width:Z.props.defaultWidth||0},Z._onResize=function(){var Oe=Z.props,ke=Oe.disableHeight,Pe=Oe.disableWidth,He=Oe.onResize;if(Z._parentNode){var Xe=Z._parentNode.offsetHeight||0,nt=Z._parentNode.offsetWidth||0,ze=(Z._window||W).getComputedStyle(Z._parentNode)||{},ft=parseInt(ze.paddingLeft,10)||0,Ct=parseInt(ze.paddingRight,10)||0,Mt=parseInt(ze.paddingTop,10)||0,xt=parseInt(ze.paddingBottom,10)||0,Nt=Xe-Mt-xt,ht=nt-ft-Ct;(!ke&&Z.state.height!==Nt||!Pe&&Z.state.width!==ht)&&(Z.setState({height:Xe-Mt-xt,width:nt-ft-Ct}),He({height:Xe,width:nt}))}},Z._setRef=function(Oe){Z._autoSizer=Oe},$i(Z,Y)}return r(ee,"AutoSizer"),Or(ee,ae),Gi(ee,[{key:"componentDidMount",value:function(){var _=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Ka(_,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var _=this.props,Y=_.children,Z=_.className,le=_.disableHeight,ve=_.disableWidth,ye=_.style,Oe=this.state,ke=Oe.height,Pe=Oe.width,He={overflow:"visible"},Xe={};return le||(He.height=0,Xe.height=ke),ve||(He.width=0,Xe.width=Pe),Cn.createElement("div",{className:Z,ref:this._setRef,style:jn({},He,ye)},Y(Xe))}}]),ee}(Cn.PureComponent);Ja.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var va=function(ae){function ee(){var _,Y,Z;zi(this,ee);for(var le=arguments.length,ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye];return Y=Z=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(ve))),Z._measure=function(){var Oe=Z.props,ke=Oe.cache,Pe=Oe.columnIndex,He=Pe===void 0?0:Pe,Xe=Oe.parent,nt=Oe.rowIndex,ze=nt===void 0?Z.props.index||0:nt,ft=Z._getCellMeasurements(),Ct=ft.height,Mt=ft.width;Ct===ke.getHeight(ze,He)&&Mt===ke.getWidth(ze,He)||(ke.set(ze,He,Mt,Ct),Xe&&typeof Xe.recomputeGridSize=="function"&&Xe.recomputeGridSize({columnIndex:He,rowIndex:ze}))},$i(Z,Y)}return r(ee,"CellMeasurer"),Or(ee,ae),Gi(ee,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var _=this.props.children;return typeof _=="function"?_({measure:this._measure}):_}},{key:"_getCellMeasurements",value:function(){var _=this.props.cache,Y=ma.findDOMNode(this);if(Y&&Y.ownerDocument&&Y.ownerDocument.defaultView&&Y instanceof Y.ownerDocument.defaultView.HTMLElement){var Z=Y.style.width,le=Y.style.height;_.hasFixedWidth()||(Y.style.width="auto"),_.hasFixedHeight()||(Y.style.height="auto");var ve=Math.ceil(Y.offsetHeight),ye=Math.ceil(Y.offsetWidth);return Z&&(Y.style.width=Z),le&&(Y.style.height=le),{height:ve,width:ye}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var _=this.props,Y=_.cache,Z=_.columnIndex,le=Z===void 0?0:Z,ve=_.parent,ye=_.rowIndex,Oe=ye===void 0?this.props.index||0:ye;if(!Y.has(Oe,le)){var ke=this._getCellMeasurements(),Pe=ke.height,He=ke.width;Y.set(Oe,le,He,Pe),ve&&typeof ve.invalidateCellSizeAfterRender=="function"&&ve.invalidateCellSizeAfterRender({columnIndex:le,rowIndex:Oe})}}}]),ee}(Cn.PureComponent);va.__internalCellMeasurerFlag=!1,va.__internalCellMeasurerFlag=!0;var bl=30,El=100,Tl=function(){function ae(){var ee=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zi(this,ae),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(Pe){var He=Pe.index,Xe=ee._keyMapper(0,He);return ee._columnWidthCache.hasOwnProperty(Xe)?ee._columnWidthCache[Xe]:ee._defaultWidth},this.rowHeight=function(Pe){var He=Pe.index,Xe=ee._keyMapper(He,0);return ee._rowHeightCache.hasOwnProperty(Xe)?ee._rowHeightCache[Xe]:ee._defaultHeight};var Y=_.defaultHeight,Z=_.defaultWidth,le=_.fixedHeight,ve=_.fixedWidth,ye=_.keyMapper,Oe=_.minHeight,ke=_.minWidth;this._hasFixedHeight=le===!0,this._hasFixedWidth=ve===!0,this._minHeight=Oe||0,this._minWidth=ke||0,this._keyMapper=ye||Ya,this._defaultHeight=Math.max(this._minHeight,typeof Y=="number"?Y:bl),this._defaultWidth=Math.max(this._minWidth,typeof Z=="number"?Z:El),this._hasFixedHeight===!1&&this._hasFixedWidth===!1&&Ai.warn("CellMeasurerCache should only measure a cell's width or height. You have configured CellMeasurerCache to measure both. This will result in poor performance."),this._hasFixedHeight===!1&&this._defaultHeight===0&&Ai.warn("Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. Failing to do so will lead to unnecessary layout and poor performance."),this._hasFixedWidth===!1&&this._defaultWidth===0&&Ai.warn("Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. Failing to do so will lead to unnecessary layout and poor performance.")}return r(ae,"CellMeasurerCache"),Gi(ae,[{key:"clear",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=this._keyMapper(ee,_);delete this._cellHeightCache[Y],delete this._cellWidthCache[Y],this._updateCachedColumnAndRowSizes(ee,_)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var Y=this._keyMapper(ee,_);return this._cellHeightCache.hasOwnProperty(Y)?Math.max(this._minHeight,this._cellHeightCache[Y]):this._defaultHeight}},{key:"getWidth",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var Y=this._keyMapper(ee,_);return this._cellWidthCache.hasOwnProperty(Y)?Math.max(this._minWidth,this._cellWidthCache[Y]):this._defaultWidth}},{key:"has",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=this._keyMapper(ee,_);return this._cellHeightCache.hasOwnProperty(Y)}},{key:"set",value:function(ee,_,Y,Z){var le=this._keyMapper(ee,_);_>=this._columnCount&&(this._columnCount=_+1),ee>=this._rowCount&&(this._rowCount=ee+1),this._cellHeightCache[le]=Z,this._cellWidthCache[le]=Y,this._updateCachedColumnAndRowSizes(ee,_)}},{key:"_updateCachedColumnAndRowSizes",value:function(ee,_){if(!this._hasFixedWidth){for(var Y=0,Z=0;Z<this._rowCount;Z++)Y=Math.max(Y,this.getWidth(Z,_));var le=this._keyMapper(0,_);this._columnWidthCache[le]=Y}if(!this._hasFixedHeight){for(var ve=0,ye=0;ye<this._columnCount;ye++)ve=Math.max(ve,this.getHeight(ee,ye));var Oe=this._keyMapper(ee,0);this._rowHeightCache[Oe]=ve}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),ae}();function Ya(ae,ee){return ae+"-"+ee}r(Ya,"defaultKeyMapper");function Hs(ae){return function(){return ae}}r(Hs,"makeEmptyFunction");var ko=r(function(){},"emptyFunction");ko.thatReturns=Hs,ko.thatReturnsFalse=Hs(!1),ko.thatReturnsTrue=Hs(!0),ko.thatReturnsNull=Hs(null),ko.thatReturnsThis=function(){return this},ko.thatReturnsArgument=function(ae){return ae};var zs=ko,Sa=r(function(ae){},"validateFormat");Sa=r(function(ae){if(ae===void 0)throw new Error("invariant requires an error message argument")},"validateFormat");var ya=r(function(ae,ee,_,Y,Z,le,ve,ye){if(Sa(ee),!ae){var Oe;if(ee===void 0)Oe=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ke=[_,Y,Z,le,ve,ye],Pe=0;(Oe=new Error(ee.replace(/%s/g,function(){return ke[Pe++]}))).name="Invariant Violation"}throw Oe.framesToPop=1,Oe}},"invariant_1"),vs=r(function(ae,ee){if(ee===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(ee.indexOf("Failed Composite propType: ")!==0&&!ae){for(var _=arguments.length,Y=Array(_>2?_-2:0),Z=2;Z<_;Z++)Y[Z-2]=arguments[Z];(function(le){for(var ve=arguments.length,ye=Array(ve>1?ve-1:0),Oe=1;Oe<ve;Oe++)ye[Oe-1]=arguments[Oe];var ke=0,Pe="Warning: "+le.replace(/%s/g,function(){return ye[ke++]});typeof Ai<"u"&&Ai.error(Pe);try{throw new Error(Pe)}catch{}}).apply(void 0,[ee].concat(Y))}},"warning_1"),Ca=Object.getOwnPropertySymbols,Xa=Object.prototype.hasOwnProperty,Qa=Object.prototype.propertyIsEnumerable,Il=function(){try{if(!Object.assign)return!1;var ae=new String("abc");if(ae[5]="de",Object.getOwnPropertyNames(ae)[0]==="5")return!1;for(var ee={},_=0;_<10;_++)ee["_"+String.fromCharCode(_)]=_;if(Object.getOwnPropertyNames(ee).map(function(Z){return ee[Z]}).join("")!=="0123456789")return!1;var Y={};return"abcdefghijklmnopqrst".split("").forEach(function(Z){Y[Z]=Z}),Object.keys(Object.assign({},Y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(ae,ee){for(var _,Y,Z=function(Oe){if(Oe==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Oe)}(ae),le=1;le<arguments.length;le++){for(var ve in _=Object(arguments[le]))Xa.call(_,ve)&&(Z[ve]=_[ve]);if(Ca){Y=Ca(_);for(var ye=0;ye<Y.length;ye++)Qa.call(_,Y[ye])&&(Z[Y[ye]]=_[Y[ye]])}}return Z},Qo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wl=ya,Za=vs,Ol=Qo,ba={},Ea,Ml=r(function(ae,ee,_,Y,Z){for(var le in ae)if(ae.hasOwnProperty(le)){var ve;try{wl(typeof ae[le]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",Y||"React class",_,le,typeof ae[le]),ve=ae[le](ee,le,Y,_,null,Ol)}catch(Oe){ve=Oe}if(Za(!ve||ve instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Y||"React class",_,le,typeof ve),ve instanceof Error&&!(ve.message in ba)){ba[ve.message]=!0;var ye=Z?Z():"";Za(!1,"Failed %s type: %s%s",_,ve.message,ye??"")}}},"checkPropTypes_1"),Al=r(function(ae,ee){var _=typeof Symbol=="function"&&Symbol.iterator,Y="@@iterator",Z="<<anonymous>>",le={array:ke("array"),bool:ke("boolean"),func:ke("function"),number:ke("number"),object:ke("object"),string:ke("string"),symbol:ke("symbol"),any:Oe(zs.thatReturnsNull),arrayOf:function(ze){return Oe(function(ft,Ct,Mt,xt,Nt){if(typeof ze!="function")return new ye("Property `"+Nt+"` of component `"+Mt+"` has invalid PropType notation inside arrayOf.");var ht=ft[Ct];if(!Array.isArray(ht)){var Lt=He(ht);return new ye("Invalid "+xt+" `"+Nt+"` of type `"+Lt+"` supplied to `"+Mt+"`, expected an array.")}for(var Bt=0;Bt<ht.length;Bt++){var bn=ze(ht,Bt,Mt,xt,Nt+"["+Bt+"]",Qo);if(bn instanceof Error)return bn}return null})},element:function(){return Oe(function(ze,ft,Ct,Mt,xt){var Nt=ze[ft];if(!ae(Nt)){var ht=He(Nt);return new ye("Invalid "+Mt+" `"+xt+"` of type `"+ht+"` supplied to `"+Ct+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(ze){return Oe(function(ft,Ct,Mt,xt,Nt){if(!(ft[Ct]instanceof ze)){var ht=ze.name||Z,Lt=function(Bt){return!Bt.constructor||!Bt.constructor.name?Z:Bt.constructor.name}(ft[Ct]);return new ye("Invalid "+xt+" `"+Nt+"` of type `"+Lt+"` supplied to `"+Mt+"`, expected instance of `"+ht+"`.")}return null})},node:function(){return Oe(function(ze,ft,Ct,Mt,xt){return Pe(ze[ft])?null:new ye("Invalid "+Mt+" `"+xt+"` supplied to `"+Ct+"`, expected a ReactNode.")})}(),objectOf:function(ze){return Oe(function(ft,Ct,Mt,xt,Nt){if(typeof ze!="function")return new ye("Property `"+Nt+"` of component `"+Mt+"` has invalid PropType notation inside objectOf.");var ht=ft[Ct],Lt=He(ht);if(Lt!=="object")return new ye("Invalid "+xt+" `"+Nt+"` of type `"+Lt+"` supplied to `"+Mt+"`, expected an object.");for(var Bt in ht)if(ht.hasOwnProperty(Bt)){var bn=ze(ht,Bt,Mt,xt,Nt+"."+Bt,Qo);if(bn instanceof Error)return bn}return null})},oneOf:function(ze){return Array.isArray(ze)?Oe(function(ft,Ct,Mt,xt,Nt){for(var ht=ft[Ct],Lt=0;Lt<ze.length;Lt++)if(ve(ht,ze[Lt]))return null;var Bt=JSON.stringify(ze);return new ye("Invalid "+xt+" `"+Nt+"` of value `"+ht+"` supplied to `"+Mt+"`, expected one of "+Bt+".")}):(vs(!1,"Invalid argument supplied to oneOf, expected an instance of array."),zs.thatReturnsNull)},oneOfType:function(ze){if(!Array.isArray(ze))return vs(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),zs.thatReturnsNull;for(var ft=0;ft<ze.length;ft++){var Ct=ze[ft];if(typeof Ct!="function")return vs(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",nt(Ct),ft),zs.thatReturnsNull}return Oe(function(Mt,xt,Nt,ht,Lt){for(var Bt=0;Bt<ze.length;Bt++){var bn=ze[Bt];if(bn(Mt,xt,Nt,ht,Lt,Qo)==null)return null}return new ye("Invalid "+ht+" `"+Lt+"` supplied to `"+Nt+"`.")})},shape:function(ze){return Oe(function(ft,Ct,Mt,xt,Nt){var ht=ft[Ct],Lt=He(ht);if(Lt!=="object")return new ye("Invalid "+xt+" `"+Nt+"` of type `"+Lt+"` supplied to `"+Mt+"`, expected `object`.");for(var Bt in ze){var bn=ze[Bt];if(bn){var Gn=bn(ht,Bt,Mt,xt,Nt+"."+Bt,Qo);if(Gn)return Gn}}return null})},exact:function(ze){return Oe(function(ft,Ct,Mt,xt,Nt){var ht=ft[Ct],Lt=He(ht);if(Lt!=="object")return new ye("Invalid "+xt+" `"+Nt+"` of type `"+Lt+"` supplied to `"+Mt+"`, expected `object`.");var Bt=Il({},ft[Ct],ze);for(var bn in Bt){var Gn=ze[bn];if(!Gn)return new ye("Invalid "+xt+" `"+Nt+"` key `"+bn+"` supplied to `"+Mt+"`.\nBad object: "+JSON.stringify(ft[Ct],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ze),null,"  "));var Ti=Gn(ht,bn,Mt,xt,Nt+"."+bn,Qo);if(Ti)return Ti}return null})}};function ve(ze,ft){return ze===ft?ze!==0||1/ze==1/ft:ze!=ze&&ft!=ft}r(ve,"is");function ye(ze){this.message=ze,this.stack=""}r(ye,"PropTypeError");function Oe(ze){var ft={},Ct=0;function Mt(Nt,ht,Lt,Bt,bn,Gn,Ti){if(Bt=Bt||Z,Gn=Gn||Lt,Ti!==Qo){if(ee)ya(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof Ai<"u"){var ai=Bt+":"+Lt;!ft[ai]&&Ct<3&&(vs(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",Gn,Bt),ft[ai]=!0,Ct++)}}return ht[Lt]==null?Nt?ht[Lt]===null?new ye("The "+bn+" `"+Gn+"` is marked as required in `"+Bt+"`, but its value is `null`."):new ye("The "+bn+" `"+Gn+"` is marked as required in `"+Bt+"`, but its value is `undefined`."):null:ze(ht,Lt,Bt,bn,Gn)}r(Mt,"checkType");var xt=Mt.bind(null,!1);return xt.isRequired=Mt.bind(null,!0),xt}r(Oe,"createChainableTypeChecker");function ke(ze){return Oe(function(ft,Ct,Mt,xt,Nt,ht){var Lt=ft[Ct];return He(Lt)!==ze?new ye("Invalid "+xt+" `"+Nt+"` of type `"+Xe(Lt)+"` supplied to `"+Mt+"`, expected `"+ze+"`."):null})}r(ke,"createPrimitiveTypeChecker");function Pe(ze){switch(typeof ze){case"number":case"string":case"undefined":return!0;case"boolean":return!ze;case"object":if(Array.isArray(ze))return ze.every(Pe);if(ze===null||ae(ze))return!0;var ft=function(Nt){var ht=Nt&&(_&&Nt[_]||Nt[Y]);if(typeof ht=="function")return ht}(ze);if(!ft)return!1;var Ct,Mt=ft.call(ze);if(ft!==ze.entries){for(;!(Ct=Mt.next()).done;)if(!Pe(Ct.value))return!1}else for(;!(Ct=Mt.next()).done;){var xt=Ct.value;if(xt&&!Pe(xt[1]))return!1}return!0;default:return!1}}r(Pe,"isNode");function He(ze){var ft=typeof ze;return Array.isArray(ze)?"array":ze instanceof RegExp?"object":function(Ct,Mt){return Ct==="symbol"||Mt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Mt instanceof Symbol}(ft,ze)?"symbol":ft}r(He,"getPropType");function Xe(ze){if(ze==null)return""+ze;var ft=He(ze);if(ft==="object"){if(ze instanceof Date)return"date";if(ze instanceof RegExp)return"regexp"}return ft}r(Xe,"getPreciseType");function nt(ze){var ft=Xe(ze);switch(ft){case"array":case"object":return"an "+ft;case"boolean":case"date":case"regexp":return"a "+ft;default:return ft}}return r(nt,"getPostfixForTypeWarning"),ye.prototype=Error.prototype,le.checkPropTypes=Ml,le.PropTypes=le,le},"factoryWithTypeCheckers"),st=(function(ae){var ee=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103;ae.exports=Al(function(_){return typeof _=="object"&&_!==null&&_.$$typeof===ee},!0)}(Ea={exports:{}},Ea.exports),Ea.exports);function qa(ae){var ee,_,Y="";if(ae)if(typeof ae=="object")for(ee in ae)ae[ee]&&(_=qa(ae.push?ae[ee]:ee))&&(Y&&(Y+=" "),Y+=_);else typeof ae!="boolean"&&(Y&&(Y+=" "),Y+=ae);return Y}r(qa,"toVal");function oo(){for(var ae,ee=0,_="";ee<arguments.length;)(ae=qa(arguments[ee++]))&&(_&&(_+=" "),_+=ae);return _}r(oo,"clsx");function Ss(){var ae=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ee={};return function(_){var Y=_.callback,Z=_.indices,le=Object.keys(Z),ve=!ae||le.every(function(Oe){var ke=Z[Oe];return Array.isArray(ke)?ke.length>0:ke>=0}),ye=le.length!==Object.keys(ee).length||le.some(function(Oe){var ke=ee[Oe],Pe=Z[Oe];return Array.isArray(Pe)?ke.join(",")!==Pe.join(","):ke!==Pe});ee=Z,ve&&ye&&Y(Z)}}r(Ss,"createCallbackMemoizer");var hc,Fc=!(typeof W>"u"||!W.document||!W.document.createElement);function Uc(ae){if((!hc&&hc!==0||ae)&&Fc){var ee=fi.createElement("div");ee.style.position="absolute",ee.style.top="-9999px",ee.style.width="50px",ee.style.height="50px",ee.style.overflow="scroll",fi.body.appendChild(ee),hc=ee.offsetWidth-ee.clientWidth,fi.body.removeChild(ee)}return hc}r(Uc,"scrollbarSize");var pc={OBSERVED:"observed",REQUESTED:"requested"},el=function(ae){function ee(){var _;zi(this,ee);for(var Y=arguments.length,Z=Array(Y),le=0;le<Y;le++)Z[le]=arguments[le];var ve=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(Z)));return ve.state={isScrolling:!1,scrollLeft:0,scrollTop:0},ve._calculateSizeAndPositionDataOnNextUpdate=!1,ve._onSectionRenderedMemoizer=Ss(),ve._onScrollMemoizer=Ss(!1),ve._invokeOnSectionRenderedHelper=function(){var ye=ve.props,Oe=ye.cellLayoutManager,ke=ye.onSectionRendered;ve._onSectionRenderedMemoizer({callback:ke,indices:{indices:Oe.getLastRenderedIndices()}})},ve._setScrollingContainerRef=function(ye){ve._scrollingContainer=ye},ve._updateScrollPositionForScrollToCell=function(){var ye=ve.props,Oe=ye.cellLayoutManager,ke=ye.height,Pe=ye.scrollToAlignment,He=ye.scrollToCell,Xe=ye.width,nt=ve.state,ze=nt.scrollLeft,ft=nt.scrollTop;if(He>=0){var Ct=Oe.getScrollPositionForCell({align:Pe,cellIndex:He,height:ke,scrollLeft:ze,scrollTop:ft,width:Xe});Ct.scrollLeft===ze&&Ct.scrollTop===ft||ve._setScrollPosition(Ct)}},ve._onScroll=function(ye){if(ye.target===ve._scrollingContainer){ve._enablePointerEventsAfterDelay();var Oe=ve.props,ke=Oe.cellLayoutManager,Pe=Oe.height,He=Oe.isScrollingChange,Xe=Oe.width,nt=ve._scrollbarSize,ze=ke.getTotalSize(),ft=ze.height,Ct=ze.width,Mt=Math.max(0,Math.min(Ct-Xe+nt,ye.target.scrollLeft)),xt=Math.max(0,Math.min(ft-Pe+nt,ye.target.scrollTop));if(ve.state.scrollLeft!==Mt||ve.state.scrollTop!==xt){var Nt=ye.cancelable?pc.OBSERVED:pc.REQUESTED;ve.state.isScrolling||He(!0),ve.setState({isScrolling:!0,scrollLeft:Mt,scrollPositionChangeReason:Nt,scrollTop:xt})}ve._invokeOnScrollMemoizer({scrollLeft:Mt,scrollTop:xt,totalWidth:Ct,totalHeight:ft})}},ve._scrollbarSize=Uc(),ve._scrollbarSize===void 0?(ve._scrollbarSizeMeasured=!1,ve._scrollbarSize=0):ve._scrollbarSizeMeasured=!0,ve}return r(ee,"CollectionView"),Or(ee,ae),Gi(ee,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var _=this.props,Y=_.cellLayoutManager,Z=_.scrollLeft,le=_.scrollToCell,ve=_.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Uc(),this._scrollbarSizeMeasured=!0,this.setState({})),le>=0?this._updateScrollPositionForScrollToCell():(Z>=0||ve>=0)&&this._setScrollPosition({scrollLeft:Z,scrollTop:ve}),this._invokeOnSectionRenderedHelper();var ye=Y.getTotalSize(),Oe=ye.height,ke=ye.width;this._invokeOnScrollMemoizer({scrollLeft:Z||0,scrollTop:ve||0,totalHeight:Oe,totalWidth:ke})}},{key:"componentDidUpdate",value:function(_,Y){var Z=this.props,le=Z.height,ve=Z.scrollToAlignment,ye=Z.scrollToCell,Oe=Z.width,ke=this.state,Pe=ke.scrollLeft,He=ke.scrollPositionChangeReason,Xe=ke.scrollTop;He===pc.REQUESTED&&(Pe>=0&&Pe!==Y.scrollLeft&&Pe!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=Pe),Xe>=0&&Xe!==Y.scrollTop&&Xe!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=Xe)),le===_.height&&ve===_.scrollToAlignment&&ye===_.scrollToCell&&Oe===_.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&yt(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var _=this.props,Y=_.autoHeight,Z=_.cellCount,le=_.cellLayoutManager,ve=_.className,ye=_.height,Oe=_.horizontalOverscanSize,ke=_.id,Pe=_.noContentRenderer,He=_.style,Xe=_.verticalOverscanSize,nt=_.width,ze=this.state,ft=ze.isScrolling,Ct=ze.scrollLeft,Mt=ze.scrollTop;(this._lastRenderedCellCount!==Z||this._lastRenderedCellLayoutManager!==le||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=Z,this._lastRenderedCellLayoutManager=le,this._calculateSizeAndPositionDataOnNextUpdate=!1,le.calculateSizeAndPositionData());var xt=le.getTotalSize(),Nt=xt.height,ht=xt.width,Lt=Math.max(0,Ct-Oe),Bt=Math.max(0,Mt-Xe),bn=Math.min(ht,Ct+nt+Oe),Gn=Math.min(Nt,Mt+ye+Xe),Ti=ye>0&&nt>0?le.cellRenderers({height:Gn-Bt,isScrolling:ft,width:bn-Lt,x:Lt,y:Bt}):[],ai={boxSizing:"border-box",direction:"ltr",height:Y?"auto":ye,position:"relative",WebkitOverflowScrolling:"touch",width:nt,willChange:"transform"},Oi=Nt>ye?this._scrollbarSize:0,Mr=ht>nt?this._scrollbarSize:0;return ai.overflowX=ht+Oi<=nt?"hidden":"auto",ai.overflowY=Nt+Mr<=ye?"hidden":"auto",Cn.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:oo("ReactVirtualized__Collection",ve),id:ke,onScroll:this._onScroll,role:"grid",style:jn({},ai,He),tabIndex:0},Z>0&&Cn.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:Nt,maxHeight:Nt,maxWidth:ht,overflow:"hidden",pointerEvents:ft?"none":"",width:ht}},Ti),Z===0&&Pe())}},{key:"_enablePointerEventsAfterDelay",value:function(){var _=this;this._disablePointerEventsTimeoutId&&yt(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=vf(function(){(0,_.props.isScrollingChange)(!1),_._disablePointerEventsTimeoutId=null,_.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(_){var Y=this,Z=_.scrollLeft,le=_.scrollTop,ve=_.totalHeight,ye=_.totalWidth;this._onScrollMemoizer({callback:function(Oe){var ke=Oe.scrollLeft,Pe=Oe.scrollTop,He=Y.props,Xe=He.height;(0,He.onScroll)({clientHeight:Xe,clientWidth:He.width,scrollHeight:ve,scrollLeft:ke,scrollTop:Pe,scrollWidth:ye})},indices:{scrollLeft:Z,scrollTop:le}})}},{key:"_setScrollPosition",value:function(_){var Y=_.scrollLeft,Z=_.scrollTop,le={scrollPositionChangeReason:pc.REQUESTED};Y>=0&&(le.scrollLeft=Y),Z>=0&&(le.scrollTop=Z),(Y>=0&&Y!==this.state.scrollLeft||Z>=0&&Z!==this.state.scrollTop)&&this.setState(le)}}],[{key:"getDerivedStateFromProps",value:function(_,Y){return _.cellCount!==0||Y.scrollLeft===0&&Y.scrollTop===0?_.scrollLeft!==Y.scrollLeft||_.scrollTop!==Y.scrollTop?{scrollLeft:_.scrollLeft!=null?_.scrollLeft:Y.scrollLeft,scrollTop:_.scrollTop!=null?_.scrollTop:Y.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),ee}(Cn.PureComponent);el.propTypes={"aria-label":st.string,autoHeight:st.bool,cellCount:st.number.isRequired,cellLayoutManager:st.object.isRequired,className:st.string,height:st.number.isRequired,id:st.string,horizontalOverscanSize:st.number.isRequired,isScrollingChange:st.func,noContentRenderer:st.func.isRequired,onScroll:st.func.isRequired,onSectionRendered:st.func.isRequired,scrollLeft:st.number,scrollToAlignment:st.oneOf(["auto","end","start","center"]).isRequired,scrollToCell:st.number.isRequired,scrollTop:st.number,style:st.object,verticalOverscanSize:st.number.isRequired,width:st.number.isRequired},el.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},Vs(el);var bf=function(){function ae(ee){var _=ee.height,Y=ee.width,Z=ee.x,le=ee.y;zi(this,ae),this.height=_,this.width=Y,this.x=Z,this.y=le,this._indexMap={},this._indices=[]}return r(ae,"Section"),Gi(ae,[{key:"addCellIndex",value:function(ee){var _=ee.index;this._indexMap[_]||(this._indexMap[_]=!0,this._indices.push(_))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),ae}(),Ef=100,Vc=function(){function ae(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ef;zi(this,ae),this._sectionSize=ee,this._cellMetadata=[],this._sections={}}return r(ae,"SectionManager"),Gi(ae,[{key:"getCellIndices",value:function(ee){var _=ee.height,Y=ee.width,Z=ee.x,le=ee.y,ve={};return this.getSections({height:_,width:Y,x:Z,y:le}).forEach(function(ye){return ye.getCellIndices().forEach(function(Oe){ve[Oe]=Oe})}),Object.keys(ve).map(function(ye){return ve[ye]})}},{key:"getCellMetadata",value:function(ee){var _=ee.index;return this._cellMetadata[_]}},{key:"getSections",value:function(ee){for(var _=ee.height,Y=ee.width,Z=ee.x,le=ee.y,ve=Math.floor(Z/this._sectionSize),ye=Math.floor((Z+Y-1)/this._sectionSize),Oe=Math.floor(le/this._sectionSize),ke=Math.floor((le+_-1)/this._sectionSize),Pe=[],He=ve;He<=ye;He++)for(var Xe=Oe;Xe<=ke;Xe++){var nt=He+"."+Xe;this._sections[nt]||(this._sections[nt]=new bf({height:this._sectionSize,width:this._sectionSize,x:He*this._sectionSize,y:Xe*this._sectionSize})),Pe.push(this._sections[nt])}return Pe}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var ee=this;return Object.keys(this._sections).map(function(_){return ee._sections[_].toString()})}},{key:"registerCell",value:function(ee){var _=ee.cellMetadatum,Y=ee.index;this._cellMetadata[Y]=_,this.getSections(_).forEach(function(Z){return Z.addCellIndex({index:Y})})}}]),ae}();function Od(ae){var ee=ae.align,_=ee===void 0?"auto":ee,Y=ae.cellOffset,Z=ae.cellSize,le=ae.containerSize,ve=ae.currentOffset,ye=Y,Oe=ye-le+Z;switch(_){case"start":return ye;case"end":return Oe;case"center":return ye-(le-Z)/2;default:return Math.max(Oe,Math.min(ye,ve))}}r(Od,"getUpdatedOffsetForIndex");var Hc=function(ae){function ee(_,Y){zi(this,ee);var Z=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_,Y));return Z._cellMetadata=[],Z._lastRenderedCellIndices=[],Z._cellCache=[],Z._isScrollingChange=Z._isScrollingChange.bind(Z),Z._setCollectionViewRef=Z._setCollectionViewRef.bind(Z),Z}return r(ee,"Collection"),Or(ee,ae),Gi(ee,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var _=gs(this.props,[]);return Cn.createElement(el,jn({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},_))}},{key:"calculateSizeAndPositionData",value:function(){var _=this.props,Y=function(Z){for(var le=Z.cellCount,ve=Z.cellSizeAndPositionGetter,ye=Z.sectionSize,Oe=[],ke=new Vc(ye),Pe=0,He=0,Xe=0;Xe<le;Xe++){var nt=ve({index:Xe});if(nt.height==null||isNaN(nt.height)||nt.width==null||isNaN(nt.width)||nt.x==null||isNaN(nt.x)||nt.y==null||isNaN(nt.y))throw Error("Invalid metadata returned for cell "+Xe+`:
        x:`+nt.x+", y:"+nt.y+", width:"+nt.width+", height:"+nt.height);Pe=Math.max(Pe,nt.y+nt.height),He=Math.max(He,nt.x+nt.width),Oe[Xe]=nt,ke.registerCell({cellMetadatum:nt,index:Xe})}return{cellMetadata:Oe,height:Pe,sectionManager:ke,width:He}}({cellCount:_.cellCount,cellSizeAndPositionGetter:_.cellSizeAndPositionGetter,sectionSize:_.sectionSize});this._cellMetadata=Y.cellMetadata,this._sectionManager=Y.sectionManager,this._height=Y.height,this._width=Y.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(_){var Y=_.align,Z=_.cellIndex,le=_.height,ve=_.scrollLeft,ye=_.scrollTop,Oe=_.width,ke=this.props.cellCount;if(Z>=0&&Z<ke){var Pe=this._cellMetadata[Z];ve=Od({align:Y,cellOffset:Pe.x,cellSize:Pe.width,containerSize:Oe,currentOffset:ve,targetIndex:Z}),ye=Od({align:Y,cellOffset:Pe.y,cellSize:Pe.height,containerSize:le,currentOffset:ye,targetIndex:Z})}return{scrollLeft:ve,scrollTop:ye}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(_){var Y=this,Z=_.height,le=_.isScrolling,ve=_.width,ye=_.x,Oe=_.y,ke=this.props,Pe=ke.cellGroupRenderer,He=ke.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:Z,width:ve,x:ye,y:Oe}),Pe({cellCache:this._cellCache,cellRenderer:He,cellSizeAndPositionGetter:function(Xe){var nt=Xe.index;return Y._sectionManager.getCellMetadata({index:nt})},indices:this._lastRenderedCellIndices,isScrolling:le})}},{key:"_isScrollingChange",value:function(_){_||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(_){this._collectionView=_}}]),ee}(Cn.PureComponent);Hc.propTypes={"aria-label":st.string,cellCount:st.number.isRequired,cellGroupRenderer:st.func.isRequired,cellRenderer:st.func.isRequired,cellSizeAndPositionGetter:st.func.isRequired,sectionSize:st.number},Hc.defaultProps={"aria-label":"grid",cellGroupRenderer:function(ae){var ee=ae.cellCache,_=ae.cellRenderer,Y=ae.cellSizeAndPositionGetter,Z=ae.indices,le=ae.isScrolling;return Z.map(function(ve){var ye=Y({index:ve}),Oe={index:ve,isScrolling:le,key:ve,style:{height:ye.height,left:ye.x,position:"absolute",top:ye.y,width:ye.width}};return le?(ve in ee||(ee[ve]=_(Oe)),ee[ve]):_(Oe)}).filter(function(ve){return!!ve})}};var mc=function(ae){function ee(_,Y){zi(this,ee);var Z=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_,Y));return Z._registerChild=Z._registerChild.bind(Z),Z}return r(ee,"ColumnSizer"),Or(ee,ae),Gi(ee,[{key:"componentDidUpdate",value:function(_){var Y=this.props,Z=Y.columnMaxWidth,le=Y.columnMinWidth,ve=Y.columnCount,ye=Y.width;Z===_.columnMaxWidth&&le===_.columnMinWidth&&ve===_.columnCount&&ye===_.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var _=this.props,Y=_.children,Z=_.columnMaxWidth,le=_.columnMinWidth,ve=_.columnCount,ye=_.width,Oe=le||1,ke=Z?Math.min(Z,ye):ye,Pe=ye/ve;return Pe=Math.max(Oe,Pe),Pe=Math.min(ke,Pe),Pe=Math.floor(Pe),Y({adjustedWidth:Math.min(ye,Pe*ve),columnWidth:Pe,getColumnWidth:function(){return Pe},registerChild:this._registerChild})}},{key:"_registerChild",value:function(_){if(_&&typeof _.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=_,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),ee}(Cn.PureComponent);function Md(ae){var ee=ae.cellCount,_=ae.cellSize,Y=ae.computeMetadataCallback,Z=ae.computeMetadataCallbackProps,le=ae.nextCellsCount,ve=ae.nextCellSize,ye=ae.nextScrollToIndex,Oe=ae.scrollToIndex,ke=ae.updateScrollOffsetForScrollToIndex;ee===le&&(typeof _!="number"&&typeof ve!="number"||_===ve)||(Y(Z),Oe>=0&&Oe===ye&&ke())}r(Md,"calculateSizeAndPositionDataAndUpdateScrollOffset"),mc.propTypes={children:st.func.isRequired,columnMaxWidth:st.number,columnMinWidth:st.number,columnCount:st.number.isRequired,width:st.number.isRequired};var Tf=function(){function ae(ee){var _=ee.cellCount,Y=ee.cellSizeGetter,Z=ee.estimatedCellSize;zi(this,ae),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=Y,this._cellCount=_,this._estimatedCellSize=Z}return r(ae,"CellSizeAndPositionManager"),Gi(ae,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(ee){var _=ee.cellCount,Y=ee.estimatedCellSize,Z=ee.cellSizeGetter;this._cellCount=_,this._estimatedCellSize=Y,this._cellSizeGetter=Z}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(ee){if(ee<0||ee>=this._cellCount)throw Error("Requested index "+ee+" is outside of range 0.."+this._cellCount);if(ee>this._lastMeasuredIndex)for(var _=this.getSizeAndPositionOfLastMeasuredCell(),Y=_.offset+_.size,Z=this._lastMeasuredIndex+1;Z<=ee;Z++){var le=this._cellSizeGetter({index:Z});if(le===void 0||isNaN(le))throw Error("Invalid size returned for cell "+Z+" of value "+le);le===null?(this._cellSizeAndPositionData[Z]={offset:Y,size:0},this._lastBatchedIndex=ee):(this._cellSizeAndPositionData[Z]={offset:Y,size:le},Y+=le,this._lastMeasuredIndex=ee)}return this._cellSizeAndPositionData[ee]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var ee=this.getSizeAndPositionOfLastMeasuredCell();return ee.offset+ee.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(ee){var _=ee.align,Y=_===void 0?"auto":_,Z=ee.containerSize,le=ee.currentOffset,ve=ee.targetIndex;if(Z<=0)return 0;var ye=this.getSizeAndPositionOfCell(ve),Oe=ye.offset,ke=Oe-Z+ye.size,Pe=void 0;switch(Y){case"start":Pe=Oe;break;case"end":Pe=ke;break;case"center":Pe=Oe-(Z-ye.size)/2;break;default:Pe=Math.max(ke,Math.min(Oe,le))}var He=this.getTotalSize();return Math.max(0,Math.min(He-Z,Pe))}},{key:"getVisibleCellRange",value:function(ee){var _=ee.containerSize,Y=ee.offset;if(this.getTotalSize()===0)return{};var Z=Y+_,le=this._findNearestCell(Y),ve=this.getSizeAndPositionOfCell(le);Y=ve.offset+ve.size;for(var ye=le;Y<Z&&ye<this._cellCount-1;)ye++,Y+=this.getSizeAndPositionOfCell(ye).size;return{start:le,stop:ye}}},{key:"resetCell",value:function(ee){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,ee-1)}},{key:"_binarySearch",value:function(ee,_,Y){for(;_<=ee;){var Z=_+Math.floor((ee-_)/2),le=this.getSizeAndPositionOfCell(Z).offset;if(le===Y)return Z;le<Y?_=Z+1:le>Y&&(ee=Z-1)}return _>0?_-1:0}},{key:"_exponentialSearch",value:function(ee,_){for(var Y=1;ee<this._cellCount&&this.getSizeAndPositionOfCell(ee).offset<_;)ee+=Y,Y*=2;return this._binarySearch(Math.min(ee,this._cellCount-1),Math.floor(ee/2),_)}},{key:"_findNearestCell",value:function(ee){if(isNaN(ee))throw Error("Invalid offset "+ee+" specified");ee=Math.max(0,ee);var _=this.getSizeAndPositionOfLastMeasuredCell(),Y=Math.max(0,this._lastMeasuredIndex);return _.offset>=ee?this._binarySearch(Y,0,ee):this._exponentialSearch(Y,ee)}}]),ae}(),zc=r(function(){return typeof W<"u"&&W.chrome?16777100:15e5},"getMaxElementSize"),Ad=function(){function ae(ee){var _=ee.maxScrollSize,Y=_===void 0?zc():_,Z=gs(ee,["maxScrollSize"]);zi(this,ae),this._cellSizeAndPositionManager=new Tf(Z),this._maxScrollSize=Y}return r(ae,"ScalingCellSizeAndPositionManager"),Gi(ae,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(ee){this._cellSizeAndPositionManager.configure(ee)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(ee){var _=ee.containerSize,Y=ee.offset,Z=this._cellSizeAndPositionManager.getTotalSize(),le=this.getTotalSize(),ve=this._getOffsetPercentage({containerSize:_,offset:Y,totalSize:le});return Math.round(ve*(le-Z))}},{key:"getSizeAndPositionOfCell",value:function(ee){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(ee)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(ee){var _=ee.align,Y=_===void 0?"auto":_,Z=ee.containerSize,le=ee.currentOffset,ve=ee.targetIndex;le=this._safeOffsetToOffset({containerSize:Z,offset:le});var ye=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:Y,containerSize:Z,currentOffset:le,targetIndex:ve});return this._offsetToSafeOffset({containerSize:Z,offset:ye})}},{key:"getVisibleCellRange",value:function(ee){var _=ee.containerSize,Y=ee.offset;return Y=this._safeOffsetToOffset({containerSize:_,offset:Y}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:_,offset:Y})}},{key:"resetCell",value:function(ee){this._cellSizeAndPositionManager.resetCell(ee)}},{key:"_getOffsetPercentage",value:function(ee){var _=ee.containerSize,Y=ee.offset,Z=ee.totalSize;return Z<=_?0:Y/(Z-_)}},{key:"_offsetToSafeOffset",value:function(ee){var _=ee.containerSize,Y=ee.offset,Z=this._cellSizeAndPositionManager.getTotalSize(),le=this.getTotalSize();if(Z===le)return Y;var ve=this._getOffsetPercentage({containerSize:_,offset:Y,totalSize:Z});return Math.round(ve*(le-_))}},{key:"_safeOffsetToOffset",value:function(ee){var _=ee.containerSize,Y=ee.offset,Z=this._cellSizeAndPositionManager.getTotalSize(),le=this.getTotalSize();if(Z===le)return Y;var ve=this._getOffsetPercentage({containerSize:_,offset:Y,totalSize:le});return Math.round(ve*(Z-_))}}]),ae}(),Ws=1;function gc(ae){var ee=ae.cellCount,_=ae.overscanCellsCount,Y=ae.scrollDirection,Z=ae.startIndex,le=ae.stopIndex;return Y===Ws?{overscanStartIndex:Math.max(0,Z),overscanStopIndex:Math.min(ee-1,le+_)}:{overscanStartIndex:Math.max(0,Z-_),overscanStopIndex:Math.min(ee-1,le)}}r(gc,"defaultOverscanIndicesGetter");function Rd(ae){var ee=ae.cellSize,_=ae.cellSizeAndPositionManager,Y=ae.previousCellsCount,Z=ae.previousCellSize,le=ae.previousScrollToAlignment,ve=ae.previousScrollToIndex,ye=ae.previousSize,Oe=ae.scrollOffset,ke=ae.scrollToAlignment,Pe=ae.scrollToIndex,He=ae.size,Xe=ae.sizeJustIncreasedFromZero,nt=ae.updateScrollIndexCallback,ze=_.getCellCount(),ft=Pe>=0&&Pe<ze;ft&&(He!==ye||Xe||!Z||typeof ee=="number"&&ee!==Z||ke!==le||Pe!==ve)?nt(Pe):!ft&&ze>0&&(He<ye||ze<Y)&&Oe>_.getTotalSize()-He&&nt(ze-1)}r(Rd,"updateScrollIndexHelper");function Pd(ae){for(var ee=ae.cellCache,_=ae.cellRenderer,Y=ae.columnSizeAndPositionManager,Z=ae.columnStartIndex,le=ae.columnStopIndex,ve=ae.deferredMeasurementCache,ye=ae.horizontalOffsetAdjustment,Oe=ae.isScrolling,ke=ae.isScrollingOptOut,Pe=ae.parent,He=ae.rowSizeAndPositionManager,Xe=ae.rowStartIndex,nt=ae.rowStopIndex,ze=ae.styleCache,ft=ae.verticalOffsetAdjustment,Ct=ae.visibleColumnIndices,Mt=ae.visibleRowIndices,xt=[],Nt=Y.areOffsetsAdjusted()||He.areOffsetsAdjusted(),ht=!Oe&&!Nt,Lt=Xe;Lt<=nt;Lt++)for(var Bt=He.getSizeAndPositionOfCell(Lt),bn=Z;bn<=le;bn++){var Gn=Y.getSizeAndPositionOfCell(bn),Ti=bn>=Ct.start&&bn<=Ct.stop&&Lt>=Mt.start&&Lt<=Mt.stop,ai=Lt+"-"+bn,Oi=void 0;ht&&ze[ai]?Oi=ze[ai]:ve&&!ve.has(Lt,bn)?Oi={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(Oi={height:Bt.size,left:Gn.offset+ye,position:"absolute",top:Bt.offset+ft,width:Gn.size},ze[ai]=Oi);var Mr={columnIndex:bn,isScrolling:Oe,isVisible:Ti,key:ai,parent:Pe,rowIndex:Lt,style:Oi},vr=void 0;!ke&&!Oe||ye||ft?vr=_(Mr):(ee[ai]||(ee[ai]=_(Mr)),vr=ee[ai]),vr!=null&&vr!==!1&&(Wc(Pe,vr),xt.push(vr))}return xt}r(Pd,"defaultCellRangeRenderer");function Wc(ae,ee){ee&&(ee.type&&ee.type.__internalCellMeasurerFlag&&(ee=ee.props.children),ee&&ee.props&&ee.props.style===void 0&&ae.__warnedAboutMissingStyle!==!0&&(ae.__warnedAboutMissingStyle=!0,Ai.warn("Rendered cell should include style property for positioning.")))}r(Wc,"warnAboutMissingStyle");var xo=void 0,Dd=(xo=typeof W<"u"?W:typeof sc<"u"?sc:{}).requestAnimationFrame||xo.webkitRequestAnimationFrame||xo.mozRequestAnimationFrame||xo.oRequestAnimationFrame||xo.msRequestAnimationFrame||function(ae){return xo.setTimeout(ae,1e3/60)},jc=xo.cancelAnimationFrame||xo.webkitCancelAnimationFrame||xo.mozCancelAnimationFrame||xo.oCancelAnimationFrame||xo.msCancelAnimationFrame||function(ae){xo.clearTimeout(ae)},tl=r(function(ae){return jc(ae.id)},"cancelAnimationTimeout"),Gc=r(function(ae,ee){var _=void 0;Promise.resolve().then(function(){_=Date.now()});var Y={id:Dd(r(function Z(){Date.now()-_>=ee?ae.call():Y.id=Dd(Z)},"timeout"))};return Y},"requestAnimationTimeout"),$c="observed",kd="requested",js=function(ae){function ee(_){zi(this,ee);var Y=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_));Y._onGridRenderedMemoizer=Ss(),Y._onScrollMemoizer=Ss(!1),Y._deferredInvalidateColumnIndex=null,Y._deferredInvalidateRowIndex=null,Y._recomputeScrollLeftFlag=!1,Y._recomputeScrollTopFlag=!1,Y._horizontalScrollBarSize=0,Y._verticalScrollBarSize=0,Y._scrollbarPresenceChanged=!1,Y._renderedColumnStartIndex=0,Y._renderedColumnStopIndex=0,Y._renderedRowStartIndex=0,Y._renderedRowStopIndex=0,Y._styleCache={},Y._cellCache={},Y._debounceScrollEndedCallback=function(){Y._disablePointerEventsTimeoutId=null,Y.setState({isScrolling:!1,needToResetStyleCache:!1})},Y._invokeOnGridRenderedHelper=function(){var ve=Y.props.onSectionRendered;Y._onGridRenderedMemoizer({callback:ve,indices:{columnOverscanStartIndex:Y._columnStartIndex,columnOverscanStopIndex:Y._columnStopIndex,columnStartIndex:Y._renderedColumnStartIndex,columnStopIndex:Y._renderedColumnStopIndex,rowOverscanStartIndex:Y._rowStartIndex,rowOverscanStopIndex:Y._rowStopIndex,rowStartIndex:Y._renderedRowStartIndex,rowStopIndex:Y._renderedRowStopIndex}})},Y._setScrollingContainerRef=function(ve){Y._scrollingContainer=ve},Y._onScroll=function(ve){ve.target===Y._scrollingContainer&&Y.handleScrollEvent(ve.target)};var Z=new Ad({cellCount:_.columnCount,cellSizeGetter:function(ve){return ee._wrapSizeGetter(_.columnWidth)(ve)},estimatedCellSize:ee._getEstimatedColumnSize(_)}),le=new Ad({cellCount:_.rowCount,cellSizeGetter:function(ve){return ee._wrapSizeGetter(_.rowHeight)(ve)},estimatedCellSize:ee._getEstimatedRowSize(_)});return Y.state={instanceProps:{columnSizeAndPositionManager:Z,rowSizeAndPositionManager:le,prevColumnWidth:_.columnWidth,prevRowHeight:_.rowHeight,prevColumnCount:_.columnCount,prevRowCount:_.rowCount,prevIsScrolling:_.isScrolling===!0,prevScrollToColumn:_.scrollToColumn,prevScrollToRow:_.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Ws,scrollDirectionVertical:Ws,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},_.scrollToRow>0&&(Y._initialScrollTop=Y._getCalculatedScrollTop(_,Y.state)),_.scrollToColumn>0&&(Y._initialScrollLeft=Y._getCalculatedScrollLeft(_,Y.state)),Y}return r(ee,"Grid"),Or(ee,ae),Gi(ee,[{key:"getOffsetForCell",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=_.alignment,Z=Y===void 0?this.props.scrollToAlignment:Y,le=_.columnIndex,ve=le===void 0?this.props.scrollToColumn:le,ye=_.rowIndex,Oe=ye===void 0?this.props.scrollToRow:ye,ke=jn({},this.props,{scrollToAlignment:Z,scrollToColumn:ve,scrollToRow:Oe});return{scrollLeft:this._getCalculatedScrollLeft(ke),scrollTop:this._getCalculatedScrollTop(ke)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(_){var Y=_.scrollLeft,Z=Y===void 0?0:Y,le=_.scrollTop,ve=le===void 0?0:le;if(!(ve<0)){this._debounceScrollEnded();var ye=this.props,Oe=ye.autoHeight,ke=ye.autoWidth,Pe=ye.height,He=ye.width,Xe=this.state.instanceProps,nt=Xe.scrollbarSize,ze=Xe.rowSizeAndPositionManager.getTotalSize(),ft=Xe.columnSizeAndPositionManager.getTotalSize(),Ct=Math.min(Math.max(0,ft-He+nt),Z),Mt=Math.min(Math.max(0,ze-Pe+nt),ve);if(this.state.scrollLeft!==Ct||this.state.scrollTop!==Mt){var xt={isScrolling:!0,scrollDirectionHorizontal:Ct!==this.state.scrollLeft?Ct>this.state.scrollLeft?Ws:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:Mt!==this.state.scrollTop?Mt>this.state.scrollTop?Ws:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:$c};Oe||(xt.scrollTop=Mt),ke||(xt.scrollLeft=Ct),xt.needToResetStyleCache=!1,this.setState(xt)}this._invokeOnScrollMemoizer({scrollLeft:Ct,scrollTop:Mt,totalColumnsWidth:ft,totalRowsHeight:ze})}}},{key:"invalidateCellSizeAfterRender",value:function(_){var Y=_.columnIndex,Z=_.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,Y):Y,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,Z):Z}},{key:"measureAllCells",value:function(){var _=this.props,Y=_.columnCount,Z=_.rowCount,le=this.state.instanceProps;le.columnSizeAndPositionManager.getSizeAndPositionOfCell(Y-1),le.rowSizeAndPositionManager.getSizeAndPositionOfCell(Z-1)}},{key:"recomputeGridSize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=_.columnIndex,Z=Y===void 0?0:Y,le=_.rowIndex,ve=le===void 0?0:le,ye=this.props,Oe=ye.scrollToColumn,ke=ye.scrollToRow,Pe=this.state.instanceProps;Pe.columnSizeAndPositionManager.resetCell(Z),Pe.rowSizeAndPositionManager.resetCell(ve),this._recomputeScrollLeftFlag=Oe>=0&&(this.state.scrollDirectionHorizontal===Ws?Z<=Oe:Z>=Oe),this._recomputeScrollTopFlag=ke>=0&&(this.state.scrollDirectionVertical===Ws?ve<=ke:ve>=ke),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(_){var Y=_.columnIndex,Z=_.rowIndex,le=this.props.columnCount,ve=this.props;le>1&&Y!==void 0&&this._updateScrollLeftForScrollToColumn(jn({},ve,{scrollToColumn:Y})),Z!==void 0&&this._updateScrollTopForScrollToRow(jn({},ve,{scrollToRow:Z}))}},{key:"componentDidMount",value:function(){var _=this.props,Y=_.getScrollbarSize,Z=_.height,le=_.scrollLeft,ve=_.scrollToColumn,ye=_.scrollTop,Oe=_.scrollToRow,ke=_.width,Pe=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),Pe.scrollbarSizeMeasured||this.setState(function(nt){var ze=jn({},nt,{needToResetStyleCache:!1});return ze.instanceProps.scrollbarSize=Y(),ze.instanceProps.scrollbarSizeMeasured=!0,ze}),typeof le=="number"&&le>=0||typeof ye=="number"&&ye>=0){var He=ee._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:le,scrollTop:ye});He&&(He.needToResetStyleCache=!1,this.setState(He))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var Xe=Z>0&&ke>0;ve>=0&&Xe&&this._updateScrollLeftForScrollToColumn(),Oe>=0&&Xe&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:le||0,scrollTop:ye||0,totalColumnsWidth:Pe.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:Pe.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(_,Y){var Z=this,le=this.props,ve=le.autoHeight,ye=le.autoWidth,Oe=le.columnCount,ke=le.height,Pe=le.rowCount,He=le.scrollToAlignment,Xe=le.scrollToColumn,nt=le.scrollToRow,ze=le.width,ft=this.state,Ct=ft.scrollLeft,Mt=ft.scrollPositionChangeReason,xt=ft.scrollTop,Nt=ft.instanceProps;this._handleInvalidatedGridSize();var ht=Oe>0&&_.columnCount===0||Pe>0&&_.rowCount===0;Mt===kd&&(!ye&&Ct>=0&&(Ct!==this._scrollingContainer.scrollLeft||ht)&&(this._scrollingContainer.scrollLeft=Ct),!ve&&xt>=0&&(xt!==this._scrollingContainer.scrollTop||ht)&&(this._scrollingContainer.scrollTop=xt));var Lt=(_.width===0||_.height===0)&&ke>0&&ze>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Rd({cellSizeAndPositionManager:Nt.columnSizeAndPositionManager,previousCellsCount:_.columnCount,previousCellSize:_.columnWidth,previousScrollToAlignment:_.scrollToAlignment,previousScrollToIndex:_.scrollToColumn,previousSize:_.width,scrollOffset:Ct,scrollToAlignment:He,scrollToIndex:Xe,size:ze,sizeJustIncreasedFromZero:Lt,updateScrollIndexCallback:function(){return Z._updateScrollLeftForScrollToColumn(Z.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Rd({cellSizeAndPositionManager:Nt.rowSizeAndPositionManager,previousCellsCount:_.rowCount,previousCellSize:_.rowHeight,previousScrollToAlignment:_.scrollToAlignment,previousScrollToIndex:_.scrollToRow,previousSize:_.height,scrollOffset:xt,scrollToAlignment:He,scrollToIndex:nt,size:ke,sizeJustIncreasedFromZero:Lt,updateScrollIndexCallback:function(){return Z._updateScrollTopForScrollToRow(Z.props)}}),this._invokeOnGridRenderedHelper(),Ct!==Y.scrollLeft||xt!==Y.scrollTop){var Bt=Nt.rowSizeAndPositionManager.getTotalSize(),bn=Nt.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:Ct,scrollTop:xt,totalColumnsWidth:bn,totalRowsHeight:Bt})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&tl(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var _=this.props,Y=_.autoContainerWidth,Z=_.autoHeight,le=_.autoWidth,ve=_.className,ye=_.containerProps,Oe=_.containerRole,ke=_.containerStyle,Pe=_.height,He=_.id,Xe=_.noContentRenderer,nt=_.role,ze=_.style,ft=_.tabIndex,Ct=_.width,Mt=this.state,xt=Mt.instanceProps,Nt=Mt.needToResetStyleCache,ht=this._isScrolling(),Lt={boxSizing:"border-box",direction:"ltr",height:Z?"auto":Pe,position:"relative",width:le?"auto":Ct,WebkitOverflowScrolling:"touch",willChange:"transform"};Nt&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var Bt=xt.columnSizeAndPositionManager.getTotalSize(),bn=xt.rowSizeAndPositionManager.getTotalSize(),Gn=bn>Pe?xt.scrollbarSize:0,Ti=Bt>Ct?xt.scrollbarSize:0;Ti===this._horizontalScrollBarSize&&Gn===this._verticalScrollBarSize||(this._horizontalScrollBarSize=Ti,this._verticalScrollBarSize=Gn,this._scrollbarPresenceChanged=!0),Lt.overflowX=Bt+Gn<=Ct?"hidden":"auto",Lt.overflowY=bn+Ti<=Pe?"hidden":"auto";var ai=this._childrenToDisplay,Oi=ai.length===0&&Pe>0&&Ct>0;return Cn.createElement("div",jn({ref:this._setScrollingContainerRef},ye,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:oo("ReactVirtualized__Grid",ve),id:He,onScroll:this._onScroll,role:nt,style:jn({},Lt,ze),tabIndex:ft}),ai.length>0&&Cn.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:Oe,style:jn({width:Y?"auto":Bt,height:bn,maxWidth:Bt,maxHeight:bn,overflow:"hidden",pointerEvents:ht?"none":"",position:"relative"},ke)},ai),Oi&&Xe())}},{key:"_calculateChildrenToRender",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,Z=_.cellRenderer,le=_.cellRangeRenderer,ve=_.columnCount,ye=_.deferredMeasurementCache,Oe=_.height,ke=_.overscanColumnCount,Pe=_.overscanIndicesGetter,He=_.overscanRowCount,Xe=_.rowCount,nt=_.width,ze=_.isScrollingOptOut,ft=Y.scrollDirectionHorizontal,Ct=Y.scrollDirectionVertical,Mt=Y.instanceProps,xt=this._initialScrollTop>0?this._initialScrollTop:Y.scrollTop,Nt=this._initialScrollLeft>0?this._initialScrollLeft:Y.scrollLeft,ht=this._isScrolling(_,Y);if(this._childrenToDisplay=[],Oe>0&&nt>0){var Lt=Mt.columnSizeAndPositionManager.getVisibleCellRange({containerSize:nt,offset:Nt}),Bt=Mt.rowSizeAndPositionManager.getVisibleCellRange({containerSize:Oe,offset:xt}),bn=Mt.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:nt,offset:Nt}),Gn=Mt.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:Oe,offset:xt});this._renderedColumnStartIndex=Lt.start,this._renderedColumnStopIndex=Lt.stop,this._renderedRowStartIndex=Bt.start,this._renderedRowStopIndex=Bt.stop;var Ti=Pe({direction:"horizontal",cellCount:ve,overscanCellsCount:ke,scrollDirection:ft,startIndex:typeof Lt.start=="number"?Lt.start:0,stopIndex:typeof Lt.stop=="number"?Lt.stop:-1}),ai=Pe({direction:"vertical",cellCount:Xe,overscanCellsCount:He,scrollDirection:Ct,startIndex:typeof Bt.start=="number"?Bt.start:0,stopIndex:typeof Bt.stop=="number"?Bt.stop:-1}),Oi=Ti.overscanStartIndex,Mr=Ti.overscanStopIndex,vr=ai.overscanStartIndex,wa=ai.overscanStopIndex;if(ye){if(!ye.hasFixedHeight()){for(var ys=vr;ys<=wa;ys++)if(!ye.has(ys,0)){Oi=0,Mr=ve-1;break}}if(!ye.hasFixedWidth()){for(var ra=Oi;ra<=Mr;ra++)if(!ye.has(0,ra)){vr=0,wa=Xe-1;break}}}this._childrenToDisplay=le({cellCache:this._cellCache,cellRenderer:Z,columnSizeAndPositionManager:Mt.columnSizeAndPositionManager,columnStartIndex:Oi,columnStopIndex:Mr,deferredMeasurementCache:ye,horizontalOffsetAdjustment:bn,isScrolling:ht,isScrollingOptOut:ze,parent:this,rowSizeAndPositionManager:Mt.rowSizeAndPositionManager,rowStartIndex:vr,rowStopIndex:wa,scrollLeft:Nt,scrollTop:xt,styleCache:this._styleCache,verticalOffsetAdjustment:Gn,visibleColumnIndices:Lt,visibleRowIndices:Bt}),this._columnStartIndex=Oi,this._columnStopIndex=Mr,this._rowStartIndex=vr,this._rowStopIndex=wa}}},{key:"_debounceScrollEnded",value:function(){var _=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&tl(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Gc(this._debounceScrollEndedCallback,_)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var _=this._deferredInvalidateColumnIndex,Y=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:_,rowIndex:Y})}}},{key:"_invokeOnScrollMemoizer",value:function(_){var Y=this,Z=_.scrollLeft,le=_.scrollTop,ve=_.totalColumnsWidth,ye=_.totalRowsHeight;this._onScrollMemoizer({callback:function(Oe){var ke=Oe.scrollLeft,Pe=Oe.scrollTop,He=Y.props,Xe=He.height;(0,He.onScroll)({clientHeight:Xe,clientWidth:He.width,scrollHeight:ye,scrollLeft:ke,scrollTop:Pe,scrollWidth:ve})},indices:{scrollLeft:Z,scrollTop:le}})}},{key:"_isScrolling",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(_,"isScrolling")?Boolean(_.isScrolling):Boolean(Y.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var _=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,_({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(_){var Y=_.scrollLeft,Z=_.scrollTop,le=ee._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:Y,scrollTop:Z});le&&(le.needToResetStyleCache=!1,this.setState(le))}},{key:"_getCalculatedScrollLeft",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ee._getCalculatedScrollLeft(_,Y)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,Z=ee._getScrollLeftForScrollToColumnStateUpdate(_,Y);Z&&(Z.needToResetStyleCache=!1,this.setState(Z))}},{key:"_getCalculatedScrollTop",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ee._getCalculatedScrollTop(_,Y)}},{key:"_resetStyleCache",value:function(){var _=this._styleCache,Y=this._cellCache,Z=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var le=this._rowStartIndex;le<=this._rowStopIndex;le++)for(var ve=this._columnStartIndex;ve<=this._columnStopIndex;ve++){var ye=le+"-"+ve;this._styleCache[ye]=_[ye],Z&&(this._cellCache[ye]=Y[ye])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,Z=ee._getScrollTopForScrollToRowStateUpdate(_,Y);Z&&(Z.needToResetStyleCache=!1,this.setState(Z))}}],[{key:"getDerivedStateFromProps",value:function(_,Y){var Z={};_.columnCount===0&&Y.scrollLeft!==0||_.rowCount===0&&Y.scrollTop!==0?(Z.scrollLeft=0,Z.scrollTop=0):(_.scrollLeft!==Y.scrollLeft&&_.scrollToColumn<0||_.scrollTop!==Y.scrollTop&&_.scrollToRow<0)&&Object.assign(Z,ee._getScrollToPositionStateUpdate({prevState:Y,scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}));var le=Y.instanceProps;Z.needToResetStyleCache=!1,_.columnWidth===le.prevColumnWidth&&_.rowHeight===le.prevRowHeight||(Z.needToResetStyleCache=!0),le.columnSizeAndPositionManager.configure({cellCount:_.columnCount,estimatedCellSize:ee._getEstimatedColumnSize(_),cellSizeGetter:ee._wrapSizeGetter(_.columnWidth)}),le.rowSizeAndPositionManager.configure({cellCount:_.rowCount,estimatedCellSize:ee._getEstimatedRowSize(_),cellSizeGetter:ee._wrapSizeGetter(_.rowHeight)}),le.prevColumnCount!==0&&le.prevRowCount!==0||(le.prevColumnCount=0,le.prevRowCount=0),_.autoHeight&&_.isScrolling===!1&&le.prevIsScrolling===!0&&Object.assign(Z,{isScrolling:!1});var ve=void 0,ye=void 0;return Md({cellCount:le.prevColumnCount,cellSize:typeof le.prevColumnWidth=="number"?le.prevColumnWidth:null,computeMetadataCallback:function(){return le.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:_,nextCellsCount:_.columnCount,nextCellSize:typeof _.columnWidth=="number"?_.columnWidth:null,nextScrollToIndex:_.scrollToColumn,scrollToIndex:le.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){ve=ee._getScrollLeftForScrollToColumnStateUpdate(_,Y)}}),Md({cellCount:le.prevRowCount,cellSize:typeof le.prevRowHeight=="number"?le.prevRowHeight:null,computeMetadataCallback:function(){return le.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:_,nextCellsCount:_.rowCount,nextCellSize:typeof _.rowHeight=="number"?_.rowHeight:null,nextScrollToIndex:_.scrollToRow,scrollToIndex:le.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){ye=ee._getScrollTopForScrollToRowStateUpdate(_,Y)}}),le.prevColumnCount=_.columnCount,le.prevColumnWidth=_.columnWidth,le.prevIsScrolling=_.isScrolling===!0,le.prevRowCount=_.rowCount,le.prevRowHeight=_.rowHeight,le.prevScrollToColumn=_.scrollToColumn,le.prevScrollToRow=_.scrollToRow,le.scrollbarSize=_.getScrollbarSize(),le.scrollbarSize===void 0?(le.scrollbarSizeMeasured=!1,le.scrollbarSize=0):le.scrollbarSizeMeasured=!0,Z.instanceProps=le,jn({},Z,ve,ye)}},{key:"_getEstimatedColumnSize",value:function(_){return typeof _.columnWidth=="number"?_.columnWidth:_.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(_){return typeof _.rowHeight=="number"?_.rowHeight:_.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(_){var Y=_.prevState,Z=_.scrollLeft,le=_.scrollTop,ve={scrollPositionChangeReason:kd};return typeof Z=="number"&&Z>=0&&(ve.scrollDirectionHorizontal=Z>Y.scrollLeft?Ws:-1,ve.scrollLeft=Z),typeof le=="number"&&le>=0&&(ve.scrollDirectionVertical=le>Y.scrollTop?Ws:-1,ve.scrollTop=le),typeof Z=="number"&&Z>=0&&Z!==Y.scrollLeft||typeof le=="number"&&le>=0&&le!==Y.scrollTop?ve:null}},{key:"_wrapSizeGetter",value:function(_){return typeof _=="function"?_:function(){return _}}},{key:"_getCalculatedScrollLeft",value:function(_,Y){var Z=_.columnCount,le=_.height,ve=_.scrollToAlignment,ye=_.scrollToColumn,Oe=_.width,ke=Y.scrollLeft,Pe=Y.instanceProps;if(Z>0){var He=Z-1,Xe=ye<0?He:Math.min(He,ye),nt=Pe.rowSizeAndPositionManager.getTotalSize(),ze=Pe.scrollbarSizeMeasured&&nt>le?Pe.scrollbarSize:0;return Pe.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:ve,containerSize:Oe-ze,currentOffset:ke,targetIndex:Xe})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(_,Y){var Z=Y.scrollLeft,le=ee._getCalculatedScrollLeft(_,Y);return typeof le=="number"&&le>=0&&Z!==le?ee._getScrollToPositionStateUpdate({prevState:Y,scrollLeft:le,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(_,Y){var Z=_.height,le=_.rowCount,ve=_.scrollToAlignment,ye=_.scrollToRow,Oe=_.width,ke=Y.scrollTop,Pe=Y.instanceProps;if(le>0){var He=le-1,Xe=ye<0?He:Math.min(He,ye),nt=Pe.columnSizeAndPositionManager.getTotalSize(),ze=Pe.scrollbarSizeMeasured&&nt>Oe?Pe.scrollbarSize:0;return Pe.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:ve,containerSize:Z-ze,currentOffset:ke,targetIndex:Xe})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(_,Y){var Z=Y.scrollTop,le=ee._getCalculatedScrollTop(_,Y);return typeof le=="number"&&le>=0&&Z!==le?ee._getScrollToPositionStateUpdate({prevState:Y,scrollLeft:-1,scrollTop:le}):null}}]),ee}(Cn.PureComponent);js.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Pd,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:Uc,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:gc,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},Vs(js);var Kc=1;function Jc(ae){var ee=ae.cellCount,_=ae.overscanCellsCount,Y=ae.scrollDirection,Z=ae.startIndex,le=ae.stopIndex;return _=Math.max(1,_),Y===Kc?{overscanStartIndex:Math.max(0,Z-1),overscanStopIndex:Math.min(ee-1,le+_)}:{overscanStartIndex:Math.max(0,Z-_),overscanStopIndex:Math.min(ee-1,le+1)}}r(Jc,"defaultOverscanIndicesGetter$1");var Yc=function(ae){function ee(_,Y){zi(this,ee);var Z=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_,Y));return Z._loadMoreRowsMemoizer=Ss(),Z._onRowsRendered=Z._onRowsRendered.bind(Z),Z._registerChild=Z._registerChild.bind(Z),Z}return r(ee,"InfiniteLoader"),Or(ee,ae),Gi(ee,[{key:"resetLoadMoreRowsCache",value:function(_){this._loadMoreRowsMemoizer=Ss(),_&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(_){var Y=this,Z=this.props.loadMoreRows;_.forEach(function(le){var ve=Z(le);ve&&ve.then(function(){var ye,Oe,ke,Pe,He;ye={lastRenderedStartIndex:Y._lastRenderedStartIndex,lastRenderedStopIndex:Y._lastRenderedStopIndex,startIndex:le.startIndex,stopIndex:le.stopIndex},Oe=ye.lastRenderedStartIndex,ke=ye.lastRenderedStopIndex,Pe=ye.startIndex,He=ye.stopIndex,Pe>ke||He<Oe||Y._registeredChild&&function(Xe){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ze=typeof Xe.recomputeGridSize=="function"?Xe.recomputeGridSize:Xe.recomputeRowHeights;ze?ze.call(Xe,nt):Xe.forceUpdate()}(Y._registeredChild,Y._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(_){var Y=_.startIndex,Z=_.stopIndex;this._lastRenderedStartIndex=Y,this._lastRenderedStopIndex=Z,this._doStuff(Y,Z)}},{key:"_doStuff",value:function(_,Y){var Z,le=this,ve=this.props,ye=ve.isRowLoaded,Oe=ve.minimumBatchSize,ke=ve.rowCount,Pe=ve.threshold,He=function(nt){for(var ze=nt.isRowLoaded,ft=nt.minimumBatchSize,Ct=nt.rowCount,Mt=nt.startIndex,xt=nt.stopIndex,Nt=[],ht=null,Lt=null,Bt=Mt;Bt<=xt;Bt++){var bn=ze({index:Bt});bn?Lt!==null&&(Nt.push({startIndex:ht,stopIndex:Lt}),ht=Lt=null):(Lt=Bt,ht===null&&(ht=Bt))}if(Lt!==null){for(var Gn=Math.min(Math.max(Lt,ht+ft-1),Ct-1),Ti=Lt+1;Ti<=Gn&&!ze({index:Ti});Ti++)Lt=Ti;Nt.push({startIndex:ht,stopIndex:Lt})}if(Nt.length)for(var ai=Nt[0];ai.stopIndex-ai.startIndex+1<ft&&ai.startIndex>0;){var Oi=ai.startIndex-1;if(ze({index:Oi}))break;ai.startIndex=Oi}return Nt}({isRowLoaded:ye,minimumBatchSize:Oe,rowCount:ke,startIndex:Math.max(0,_-Pe),stopIndex:Math.min(ke-1,Y+Pe)}),Xe=(Z=[]).concat.apply(Z,function(nt){if(Array.isArray(nt)){for(var ze=0,ft=Array(nt.length);ze<nt.length;ze++)ft[ze]=nt[ze];return ft}return Array.from(nt)}(He.map(function(nt){return[nt.startIndex,nt.stopIndex]})));this._loadMoreRowsMemoizer({callback:function(){le._loadUnloadedRanges(He)},indices:{squashedUnloadedRanges:Xe}})}},{key:"_registerChild",value:function(_){this._registeredChild=_}}]),ee}(Cn.PureComponent);Yc.propTypes={children:st.func.isRequired,isRowLoaded:st.func.isRequired,loadMoreRows:st.func.isRequired,minimumBatchSize:st.number.isRequired,rowCount:st.number.isRequired,threshold:st.number.isRequired},Yc.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var vc=function(ae){function ee(){var _,Y,Z;zi(this,ee);for(var le=arguments.length,ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye];return Y=Z=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(ve))),Z._cellRenderer=function(Oe){var ke=Oe.parent,Pe=Oe.rowIndex,He=Oe.style,Xe=Oe.isScrolling,nt=Oe.isVisible,ze=Oe.key,ft=Z.props.rowRenderer;return Object.getOwnPropertyDescriptor(He,"width").writable&&(He.width="100%"),ft({index:Pe,style:He,isScrolling:Xe,isVisible:nt,key:ze,parent:ke})},Z._setRef=function(Oe){Z.Grid=Oe},Z._onScroll=function(Oe){var ke=Oe.clientHeight,Pe=Oe.scrollHeight,He=Oe.scrollTop;(0,Z.props.onScroll)({clientHeight:ke,scrollHeight:Pe,scrollTop:He})},Z._onSectionRendered=function(Oe){var ke=Oe.rowOverscanStartIndex,Pe=Oe.rowOverscanStopIndex,He=Oe.rowStartIndex,Xe=Oe.rowStopIndex;(0,Z.props.onRowsRendered)({overscanStartIndex:ke,overscanStopIndex:Pe,startIndex:He,stopIndex:Xe})},$i(Z,Y)}return r(ee,"List"),Or(ee,ae),Gi(ee,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(_){var Y=_.alignment,Z=_.index;return this.Grid?this.Grid.getOffsetForCell({alignment:Y,rowIndex:Z,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(_){var Y=_.columnIndex,Z=_.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:Z,columnIndex:Y})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=_.columnIndex,Z=Y===void 0?0:Y,le=_.rowIndex,ve=le===void 0?0:le;this.Grid&&this.Grid.recomputeGridSize({rowIndex:ve,columnIndex:Z})}},{key:"recomputeRowHeights",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:_,columnIndex:0})}},{key:"scrollToPosition",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:_})}},{key:"scrollToRow",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:_})}},{key:"render",value:function(){var _=this.props,Y=_.className,Z=_.noRowsRenderer,le=_.scrollToIndex,ve=_.width,ye=oo("ReactVirtualized__List",Y);return Cn.createElement(js,jn({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:ye,columnWidth:ve,columnCount:1,noContentRenderer:Z,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:le}))}}]),ee}(Cn.PureComponent);vc.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:Jc,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var Sc={ge:function(ae,ee,_,Y,Z){return typeof _=="function"?function(le,ve,ye,Oe,ke){for(var Pe=ye+1;ve<=ye;){var He=ve+ye>>>1;ke(le[He],Oe)>=0?(Pe=He,ye=He-1):ve=He+1}return Pe}(ae,Y===void 0?0:0|Y,Z===void 0?ae.length-1:0|Z,ee,_):function(le,ve,ye,Oe){for(var ke=ye+1;ve<=ye;){var Pe=ve+ye>>>1;le[Pe]>=Oe?(ke=Pe,ye=Pe-1):ve=Pe+1}return ke}(ae,_===void 0?0:0|_,Y===void 0?ae.length-1:0|Y,ee)},gt:function(ae,ee,_,Y,Z){return typeof _=="function"?function(le,ve,ye,Oe,ke){for(var Pe=ye+1;ve<=ye;){var He=ve+ye>>>1;ke(le[He],Oe)>0?(Pe=He,ye=He-1):ve=He+1}return Pe}(ae,Y===void 0?0:0|Y,Z===void 0?ae.length-1:0|Z,ee,_):function(le,ve,ye,Oe){for(var ke=ye+1;ve<=ye;){var Pe=ve+ye>>>1;le[Pe]>Oe?(ke=Pe,ye=Pe-1):ve=Pe+1}return ke}(ae,_===void 0?0:0|_,Y===void 0?ae.length-1:0|Y,ee)},lt:function(ae,ee,_,Y,Z){return typeof _=="function"?function(le,ve,ye,Oe,ke){for(var Pe=ve-1;ve<=ye;){var He=ve+ye>>>1;ke(le[He],Oe)<0?(Pe=He,ve=He+1):ye=He-1}return Pe}(ae,Y===void 0?0:0|Y,Z===void 0?ae.length-1:0|Z,ee,_):function(le,ve,ye,Oe){for(var ke=ve-1;ve<=ye;){var Pe=ve+ye>>>1;le[Pe]<Oe?(ke=Pe,ve=Pe+1):ye=Pe-1}return ke}(ae,_===void 0?0:0|_,Y===void 0?ae.length-1:0|Y,ee)},le:function(ae,ee,_,Y,Z){return typeof _=="function"?function(le,ve,ye,Oe,ke){for(var Pe=ve-1;ve<=ye;){var He=ve+ye>>>1;ke(le[He],Oe)<=0?(Pe=He,ve=He+1):ye=He-1}return Pe}(ae,Y===void 0?0:0|Y,Z===void 0?ae.length-1:0|Z,ee,_):function(le,ve,ye,Oe){for(var ke=ve-1;ve<=ye;){var Pe=ve+ye>>>1;le[Pe]<=Oe?(ke=Pe,ve=Pe+1):ye=Pe-1}return ke}(ae,_===void 0?0:0|_,Y===void 0?ae.length-1:0|Y,ee)},eq:function(ae,ee,_,Y,Z){return typeof _=="function"?function(le,ve,ye,Oe,ke){for(;ve<=ye;){var Pe=ve+ye>>>1,He=ke(le[Pe],Oe);if(He===0)return Pe;He<=0?ve=Pe+1:ye=Pe-1}return-1}(ae,Y===void 0?0:0|Y,Z===void 0?ae.length-1:0|Z,ee,_):function(le,ve,ye,Oe){for(;ve<=ye;){var ke=ve+ye>>>1,Pe=le[ke];if(Pe===Oe)return ke;Pe<=Oe?ve=ke+1:ye=ke-1}return-1}(ae,_===void 0?0:0|_,Y===void 0?ae.length-1:0|Y,ee)}},nl=0,Gs=1;function T(ae,ee,_,Y,Z){this.mid=ae,this.left=ee,this.right=_,this.leftPoints=Y,this.rightPoints=Z,this.count=(ee?ee.count:0)+(_?_.count:0)+Y.length}r(T,"IntervalTreeNode");var y=T.prototype;function C(ae,ee){ae.mid=ee.mid,ae.left=ee.left,ae.right=ee.right,ae.leftPoints=ee.leftPoints,ae.rightPoints=ee.rightPoints,ae.count=ee.count}r(C,"copy");function I(ae,ee){var _=Ot(ee);ae.mid=_.mid,ae.left=_.left,ae.right=_.right,ae.leftPoints=_.leftPoints,ae.rightPoints=_.rightPoints,ae.count=_.count}r(I,"rebuild");function F(ae,ee){var _=ae.intervals([]);_.push(ee),I(ae,_)}r(F,"rebuildWithInterval");function H(ae,ee){var _=ae.intervals([]),Y=_.indexOf(ee);return Y<0?nl:(_.splice(Y,1),I(ae,_),Gs)}r(H,"rebuildWithoutInterval");function $(ae,ee,_){for(var Y=0;Y<ae.length&&ae[Y][0]<=ee;++Y){var Z=_(ae[Y]);if(Z)return Z}}r($,"reportLeftRange");function fe(ae,ee,_){for(var Y=ae.length-1;Y>=0&&ae[Y][1]>=ee;--Y){var Z=_(ae[Y]);if(Z)return Z}}r(fe,"reportRightRange");function ne(ae,ee){for(var _=0;_<ae.length;++_){var Y=ee(ae[_]);if(Y)return Y}}r(ne,"reportRange");function Ce(ae,ee){return ae-ee}r(Ce,"compareNumbers");function ce(ae,ee){var _=ae[0]-ee[0];return _||ae[1]-ee[1]}r(ce,"compareBegin");function et(ae,ee){var _=ae[1]-ee[1];return _||ae[0]-ee[0]}r(et,"compareEnd");function Ot(ae){if(ae.length===0)return null;for(var ee=[],_=0;_<ae.length;++_)ee.push(ae[_][0],ae[_][1]);ee.sort(Ce);var Y=ee[ee.length>>1],Z=[],le=[],ve=[];for(_=0;_<ae.length;++_){var ye=ae[_];ye[1]<Y?Z.push(ye):Y<ye[0]?le.push(ye):ve.push(ye)}var Oe=ve,ke=ve.slice();return Oe.sort(ce),ke.sort(et),new T(Y,Ot(Z),Ot(le),Oe,ke)}r(Ot,"createIntervalTree");function Kt(ae){this.root=ae}r(Kt,"IntervalTree"),y.intervals=function(ae){return ae.push.apply(ae,this.leftPoints),this.left&&this.left.intervals(ae),this.right&&this.right.intervals(ae),ae},y.insert=function(ae){var ee=this.count-this.leftPoints.length;if(this.count+=1,ae[1]<this.mid)this.left?4*(this.left.count+1)>3*(ee+1)?F(this,ae):this.left.insert(ae):this.left=Ot([ae]);else if(ae[0]>this.mid)this.right?4*(this.right.count+1)>3*(ee+1)?F(this,ae):this.right.insert(ae):this.right=Ot([ae]);else{var _=Sc.ge(this.leftPoints,ae,ce),Y=Sc.ge(this.rightPoints,ae,et);this.leftPoints.splice(_,0,ae),this.rightPoints.splice(Y,0,ae)}},y.remove=function(ae){var ee=this.count-this.leftPoints;if(ae[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(ee-1)?H(this,ae):(le=this.left.remove(ae))===2?(this.left=null,this.count-=1,Gs):(le===Gs&&(this.count-=1),le):nl;if(!(ae[0]>this.mid)){if(this.count===1)return this.leftPoints[0]===ae?2:nl;if(this.leftPoints.length===1&&this.leftPoints[0]===ae){if(this.left&&this.right){for(var _=this,Y=this.left;Y.right;)_=Y,Y=Y.right;if(_===this)Y.right=this.right;else{var Z=this.left;le=this.right,_.count-=Y.count,_.right=Y.left,Y.left=Z,Y.right=le}C(this,Y),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?C(this,this.left):C(this,this.right);return Gs}for(Z=Sc.ge(this.leftPoints,ae,ce);Z<this.leftPoints.length&&this.leftPoints[Z][0]===ae[0];++Z)if(this.leftPoints[Z]===ae){for(this.count-=1,this.leftPoints.splice(Z,1),le=Sc.ge(this.rightPoints,ae,et);le<this.rightPoints.length&&this.rightPoints[le][1]===ae[1];++le)if(this.rightPoints[le]===ae)return this.rightPoints.splice(le,1),Gs}return nl}return this.right?4*(this.left?this.left.count:0)>3*(ee-1)?H(this,ae):(le=this.right.remove(ae))===2?(this.right=null,this.count-=1,Gs):(le===Gs&&(this.count-=1),le):nl;var le},y.queryPoint=function(ae,ee){if(ae<this.mid)return this.left&&(_=this.left.queryPoint(ae,ee))?_:$(this.leftPoints,ae,ee);if(ae>this.mid){var _;return this.right&&(_=this.right.queryPoint(ae,ee))?_:fe(this.rightPoints,ae,ee)}return ne(this.leftPoints,ee)},y.queryInterval=function(ae,ee,_){var Y;return ae<this.mid&&this.left&&(Y=this.left.queryInterval(ae,ee,_))||ee>this.mid&&this.right&&(Y=this.right.queryInterval(ae,ee,_))?Y:ee<this.mid?$(this.leftPoints,ee,_):ae>this.mid?fe(this.rightPoints,ae,_):ne(this.leftPoints,_)};var zt=Kt.prototype;zt.insert=function(ae){this.root?this.root.insert(ae):this.root=new T(ae[0],null,null,[ae],[ae])},zt.remove=function(ae){if(this.root){var ee=this.root.remove(ae);return ee===2&&(this.root=null),ee!==nl}return!1},zt.queryPoint=function(ae,ee){if(this.root)return this.root.queryPoint(ae,ee)},zt.queryInterval=function(ae,ee,_){if(ae<=ee&&this.root)return this.root.queryInterval(ae,ee,_)},Object.defineProperty(zt,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(zt,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Ht=function(){function ae(){var ee;zi(this,ae),this._columnSizeMap={},this._intervalTree=ee&&ee.length!==0?new Kt(Ot(ee)):new Kt(null),this._leftMap={}}return r(ae,"PositionCache"),Gi(ae,[{key:"estimateTotalHeight",value:function(ee,_,Y){var Z=ee-this.count;return this.tallestColumnSize+Math.ceil(Z/_)*Y}},{key:"range",value:function(ee,_,Y){var Z=this;this._intervalTree.queryInterval(ee,ee+_,function(le){var ve=Cl(le,3),ye=ve[0],Oe=(ve[1],ve[2]);return Y(Oe,Z._leftMap[Oe],ye)})}},{key:"setPosition",value:function(ee,_,Y,Z){this._intervalTree.insert([Y,Y+Z,ee]),this._leftMap[ee]=_;var le=this._columnSizeMap,ve=le[_];le[_]=ve===void 0?Y+Z:Math.max(ve,Y+Z)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var ee=this._columnSizeMap,_=0;for(var Y in ee){var Z=ee[Y];_=_===0?Z:Math.min(_,Z)}return _}},{key:"tallestColumnSize",get:function(){var ee=this._columnSizeMap,_=0;for(var Y in ee){var Z=ee[Y];_=Math.max(_,Z)}return _}}]),ae}(),dn=function(ae){function ee(){var _,Y,Z;zi(this,ee);for(var le=arguments.length,ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye];return Y=Z=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(ve))),Z.state={isScrolling:!1,scrollTop:0},Z._invalidateOnUpdateStartIndex=null,Z._invalidateOnUpdateStopIndex=null,Z._positionCache=new Ht,Z._startIndex=null,Z._startIndexMemoized=null,Z._stopIndex=null,Z._stopIndexMemoized=null,Z._debounceResetIsScrollingCallback=function(){Z.setState({isScrolling:!1})},Z._setScrollingContainerRef=function(Oe){Z._scrollingContainer=Oe},Z._onScroll=function(Oe){var ke=Z.props.height,Pe=Oe.currentTarget.scrollTop,He=Math.min(Math.max(0,Z._getEstimatedTotalHeight()-ke),Pe);Pe===He&&(Z._debounceResetIsScrolling(),Z.state.scrollTop!==He&&Z.setState({isScrolling:!0,scrollTop:He}))},$i(Z,Y)}return r(ee,"Masonry"),Or(ee,ae),Gi(ee,[{key:"clearCellPositions",value:function(){this._positionCache=new Ht,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(_){var Y=_.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=Y,this._invalidateOnUpdateStopIndex=Y):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,Y),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,Y))}},{key:"recomputeCellPositions",value:function(){var _=this._positionCache.count-1;this._positionCache=new Ht,this._populatePositionCache(0,_),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(_,Y){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==_.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&tl(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var _=this,Y=this.props,Z=Y.autoHeight,le=Y.cellCount,ve=Y.cellMeasurerCache,ye=Y.cellRenderer,Oe=Y.className,ke=Y.height,Pe=Y.id,He=Y.keyMapper,Xe=Y.overscanByPixels,nt=Y.role,ze=Y.style,ft=Y.tabIndex,Ct=Y.width,Mt=Y.rowDirection,xt=this.state,Nt=xt.isScrolling,ht=xt.scrollTop,Lt=[],Bt=this._getEstimatedTotalHeight(),bn=this._positionCache.shortestColumnSize,Gn=this._positionCache.count,Ti=0,ai=void 0;if(this._positionCache.range(Math.max(0,ht-Xe),ke+2*Xe,function(vr,wa,ys){var ra;ai===void 0?(Ti=vr,ai=vr):(Ti=Math.min(Ti,vr),ai=Math.max(ai,vr)),Lt.push(ye({index:vr,isScrolling:Nt,key:He(vr),parent:_,style:(ra={height:ve.getHeight(vr)},ia(ra,Mt==="ltr"?"left":"right",wa),ia(ra,"position","absolute"),ia(ra,"top",ys),ia(ra,"width",ve.getWidth(vr)),ra)}))}),bn<ht+ke+Xe&&Gn<le)for(var Oi=Math.min(le-Gn,Math.ceil((ht+ke+Xe-bn)/ve.defaultHeight*Ct/ve.defaultWidth)),Mr=Gn;Mr<Gn+Oi;Mr++)ai=Mr,Lt.push(ye({index:Mr,isScrolling:Nt,key:He(Mr),parent:this,style:{width:ve.getWidth(Mr)}}));return this._startIndex=Ti,this._stopIndex=ai,Cn.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:oo("ReactVirtualized__Masonry",Oe),id:Pe,onScroll:this._onScroll,role:nt,style:jn({boxSizing:"border-box",direction:"ltr",height:Z?"auto":ke,overflowX:"hidden",overflowY:Bt<ke?"hidden":"auto",position:"relative",width:Ct,WebkitOverflowScrolling:"touch",willChange:"transform"},ze),tabIndex:ft},Cn.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:Bt,maxWidth:"100%",maxHeight:Bt,overflow:"hidden",pointerEvents:Nt?"none":"",position:"relative"}},Lt))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var _=this._invalidateOnUpdateStartIndex,Y=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(_,Y),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var _=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&tl(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Gc(this._debounceResetIsScrollingCallback,_)}},{key:"_getEstimatedTotalHeight",value:function(){var _=this.props,Y=_.cellCount,Z=_.cellMeasurerCache,le=_.width,ve=Math.max(1,Math.floor(le/Z.defaultWidth));return this._positionCache.estimateTotalHeight(Y,ve,Z.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var _=this.props,Y=_.height,Z=_.onScroll,le=this.state.scrollTop;this._onScrollMemoized!==le&&(Z({clientHeight:Y,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:le}),this._onScrollMemoized=le)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(_,Y){for(var Z=this.props,le=Z.cellMeasurerCache,ve=Z.cellPositioner,ye=_;ye<=Y;ye++){var Oe=ve(ye),ke=Oe.left,Pe=Oe.top;this._positionCache.setPosition(ye,ke,Pe,le.getHeight(ye))}}}],[{key:"getDerivedStateFromProps",value:function(_,Y){return _.scrollTop!==void 0&&Y.scrollTop!==_.scrollTop?{isScrolling:!0,scrollTop:_.scrollTop}:null}}]),ee}(Cn.PureComponent);function Zi(){}r(Zi,"noop"),dn.defaultProps={autoHeight:!1,keyMapper:function(ae){return ae},onCellsRendered:Zi,onScroll:Zi,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Vs(dn);var Ta=function(){function ae(){var ee=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zi(this,ae),this.columnWidth=function(Oe){var ke=Oe.index;ee._cellMeasurerCache.columnWidth({index:ke+ee._columnIndexOffset})},this.rowHeight=function(Oe){var ke=Oe.index;ee._cellMeasurerCache.rowHeight({index:ke+ee._rowIndexOffset})};var Y=_.cellMeasurerCache,Z=_.columnIndexOffset,le=Z===void 0?0:Z,ve=_.rowIndexOffset,ye=ve===void 0?0:ve;this._cellMeasurerCache=Y,this._columnIndexOffset=le,this._rowIndexOffset=ye}return r(ae,"CellMeasurerCacheDecorator"),Gi(ae,[{key:"clear",value:function(ee,_){this._cellMeasurerCache.clear(ee+this._rowIndexOffset,_+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(ee+this._rowIndexOffset,_+this._columnIndexOffset)}},{key:"getWidth",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(ee+this._rowIndexOffset,_+this._columnIndexOffset)}},{key:"has",value:function(ee){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(ee+this._rowIndexOffset,_+this._columnIndexOffset)}},{key:"set",value:function(ee,_,Y,Z){this._cellMeasurerCache.set(ee+this._rowIndexOffset,_+this._columnIndexOffset,Y,Z)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),ae}(),Ia=function(ae){function ee(_,Y){zi(this,ee);var Z=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_,Y));If.call(Z);var le=_.deferredMeasurementCache,ve=_.fixedColumnCount,ye=_.fixedRowCount;return Z._maybeCalculateCachedStyles(!0),le&&(Z._deferredMeasurementCacheBottomLeftGrid=ye>0?new Ta({cellMeasurerCache:le,columnIndexOffset:0,rowIndexOffset:ye}):le,Z._deferredMeasurementCacheBottomRightGrid=ve>0||ye>0?new Ta({cellMeasurerCache:le,columnIndexOffset:ve,rowIndexOffset:ye}):le,Z._deferredMeasurementCacheTopRightGrid=ve>0?new Ta({cellMeasurerCache:le,columnIndexOffset:ve,rowIndexOffset:0}):le),Z}return r(ee,"MultiGrid"),Or(ee,ae),Gi(ee,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=_.columnIndex,Z=Y===void 0?0:Y,le=_.rowIndex,ve=le===void 0?0:le;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,Z):Z,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,ve):ve}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=_.columnIndex,Z=Y===void 0?0:Y,le=_.rowIndex,ve=le===void 0?0:le,ye=this.props,Oe=ye.fixedColumnCount,ke=ye.fixedRowCount,Pe=Math.max(0,Z-Oe),He=Math.max(0,ve-ke);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:Z,rowIndex:He}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:Pe,rowIndex:He}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:Z,rowIndex:ve}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:Pe,rowIndex:ve}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var _=this.props,Y=_.scrollLeft,Z=_.scrollTop;if(Y>0||Z>0){var le={};Y>0&&(le.scrollLeft=Y),Z>0&&(le.scrollTop=Z),this.setState(le)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var _=this.props,Y=_.onScroll,Z=_.onSectionRendered,le=(_.onScrollbarPresenceChange,_.scrollLeft,_.scrollToColumn),ve=(_.scrollTop,_.scrollToRow),ye=gs(_,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var Oe=this.state,ke=Oe.scrollLeft,Pe=Oe.scrollTop;return Cn.createElement("div",{style:this._containerOuterStyle},Cn.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(ye),this._renderTopRightGrid(jn({},ye,{onScroll:Y,scrollLeft:ke}))),Cn.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(jn({},ye,{onScroll:Y,scrollTop:Pe})),this._renderBottomRightGrid(jn({},ye,{onScroll:Y,onSectionRendered:Z,scrollLeft:ke,scrollToColumn:le,scrollToRow:ve,scrollTop:Pe}))))}},{key:"_getBottomGridHeight",value:function(_){return _.height-this._getTopGridHeight(_)}},{key:"_getLeftGridWidth",value:function(_){var Y=_.fixedColumnCount,Z=_.columnWidth;if(this._leftGridWidth==null)if(typeof Z=="function"){for(var le=0,ve=0;ve<Y;ve++)le+=Z({index:ve});this._leftGridWidth=le}else this._leftGridWidth=Z*Y;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(_){return _.width-this._getLeftGridWidth(_)}},{key:"_getTopGridHeight",value:function(_){var Y=_.fixedRowCount,Z=_.rowHeight;if(this._topGridHeight==null)if(typeof Z=="function"){for(var le=0,ve=0;ve<Y;ve++)le+=Z({index:ve});this._topGridHeight=le}else this._topGridHeight=Z*Y;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var _=this._deferredInvalidateColumnIndex,Y=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:_,rowIndex:Y}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(_){var Y=this.props,Z=Y.columnWidth,le=Y.enableFixedColumnScroll,ve=Y.enableFixedRowScroll,ye=Y.height,Oe=Y.fixedColumnCount,ke=Y.fixedRowCount,Pe=Y.rowHeight,He=Y.style,Xe=Y.styleBottomLeftGrid,nt=Y.styleBottomRightGrid,ze=Y.styleTopLeftGrid,ft=Y.styleTopRightGrid,Ct=Y.width,Mt=_||ye!==this._lastRenderedHeight||Ct!==this._lastRenderedWidth,xt=_||Z!==this._lastRenderedColumnWidth||Oe!==this._lastRenderedFixedColumnCount,Nt=_||ke!==this._lastRenderedFixedRowCount||Pe!==this._lastRenderedRowHeight;(_||Mt||He!==this._lastRenderedStyle)&&(this._containerOuterStyle=jn({height:ye,overflow:"visible",width:Ct},He)),(_||Mt||Nt)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:Ct},this._containerBottomStyle={height:ye-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:Ct}),(_||Xe!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=jn({left:0,overflowX:"hidden",overflowY:le?"auto":"hidden",position:"absolute"},Xe)),(_||xt||nt!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=jn({left:this._getLeftGridWidth(this.props),position:"absolute"},nt)),(_||ze!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=jn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},ze)),(_||xt||ft!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=jn({left:this._getLeftGridWidth(this.props),overflowX:ve?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},ft)),this._lastRenderedColumnWidth=Z,this._lastRenderedFixedColumnCount=Oe,this._lastRenderedFixedRowCount=ke,this._lastRenderedHeight=ye,this._lastRenderedRowHeight=Pe,this._lastRenderedStyle=He,this._lastRenderedStyleBottomLeftGrid=Xe,this._lastRenderedStyleBottomRightGrid=nt,this._lastRenderedStyleTopLeftGrid=ze,this._lastRenderedStyleTopRightGrid=ft,this._lastRenderedWidth=Ct}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(_){var Y=_.enableFixedColumnScroll,Z=_.fixedColumnCount,le=_.fixedRowCount,ve=_.rowCount,ye=_.hideBottomLeftGridScrollbar,Oe=this.state.showVerticalScrollbar;if(!Z)return null;var ke=Oe?1:0,Pe=this._getBottomGridHeight(_),He=this._getLeftGridWidth(_),Xe=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,nt=ye?He+Xe:He,ze=Cn.createElement(js,jn({},_,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:Z,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:Pe,onScroll:Y?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,ve-le)+ke,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:nt}));return ye?Cn.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:jn({},this._bottomLeftGridStyle,{height:Pe,width:He,overflowY:"hidden"})},ze):ze}},{key:"_renderBottomRightGrid",value:function(_){var Y=_.columnCount,Z=_.fixedColumnCount,le=_.fixedRowCount,ve=_.rowCount,ye=_.scrollToColumn,Oe=_.scrollToRow;return Cn.createElement(js,jn({},_,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,Y-Z),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(_),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,ve-le),rowHeight:this._rowHeightBottomGrid,scrollToColumn:ye-Z,scrollToRow:Oe-le,style:this._bottomRightGridStyle,width:this._getRightGridWidth(_)}))}},{key:"_renderTopLeftGrid",value:function(_){var Y=_.fixedColumnCount,Z=_.fixedRowCount;return Y&&Z?Cn.createElement(js,jn({},_,{className:this.props.classNameTopLeftGrid,columnCount:Y,height:this._getTopGridHeight(_),ref:this._topLeftGridRef,rowCount:Z,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(_)})):null}},{key:"_renderTopRightGrid",value:function(_){var Y=_.columnCount,Z=_.enableFixedRowScroll,le=_.fixedColumnCount,ve=_.fixedRowCount,ye=_.scrollLeft,Oe=_.hideTopRightGridScrollbar,ke=this.state,Pe=ke.showHorizontalScrollbar,He=ke.scrollbarSize;if(!ve)return null;var Xe=Pe?1:0,nt=this._getTopGridHeight(_),ze=this._getRightGridWidth(_),ft=Pe?He:0,Ct=nt,Mt=this._topRightGridStyle;Oe&&(Ct=nt+ft,Mt=jn({},this._topRightGridStyle,{left:0}));var xt=Cn.createElement(js,jn({},_,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,Y-le)+Xe,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:Ct,onScroll:Z?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:ve,scrollLeft:ye,style:Mt,tabIndex:null,width:ze}));return Oe?Cn.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:jn({},this._topRightGridStyle,{height:nt,width:ze,overflowX:"hidden"})},xt):xt}}],[{key:"getDerivedStateFromProps",value:function(_,Y){return _.scrollLeft!==Y.scrollLeft||_.scrollTop!==Y.scrollTop?{scrollLeft:_.scrollLeft!=null&&_.scrollLeft>=0?_.scrollLeft:Y.scrollLeft,scrollTop:_.scrollTop!=null&&_.scrollTop>=0?_.scrollTop:Y.scrollTop}:null}}]),ee}(Cn.PureComponent);Ia.propTypes={classNameBottomLeftGrid:st.string.isRequired,classNameBottomRightGrid:st.string.isRequired,classNameTopLeftGrid:st.string.isRequired,classNameTopRightGrid:st.string.isRequired,enableFixedColumnScroll:st.bool.isRequired,enableFixedRowScroll:st.bool.isRequired,fixedColumnCount:st.number.isRequired,fixedRowCount:st.number.isRequired,onScrollbarPresenceChange:st.func,style:st.object.isRequired,styleBottomLeftGrid:st.object.isRequired,styleBottomRightGrid:st.object.isRequired,styleTopLeftGrid:st.object.isRequired,styleTopRightGrid:st.object.isRequired,hideTopRightGridScrollbar:st.bool,hideBottomLeftGridScrollbar:st.bool},Ia.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var If=r(function(){var ae=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(ee){ae._bottomLeftGrid=ee},this._bottomRightGridRef=function(ee){ae._bottomRightGrid=ee},this._cellRendererBottomLeftGrid=function(ee){var _=ee.rowIndex,Y=gs(ee,["rowIndex"]),Z=ae.props,le=Z.cellRenderer,ve=Z.fixedRowCount;return _===Z.rowCount-ve?Cn.createElement("div",{key:Y.key,style:jn({},Y.style,{height:20})}):le(jn({},Y,{parent:ae,rowIndex:_+ve}))},this._cellRendererBottomRightGrid=function(ee){var _=ee.columnIndex,Y=ee.rowIndex,Z=gs(ee,["columnIndex","rowIndex"]),le=ae.props,ve=le.cellRenderer,ye=le.fixedColumnCount,Oe=le.fixedRowCount;return ve(jn({},Z,{columnIndex:_+ye,parent:ae,rowIndex:Y+Oe}))},this._cellRendererTopRightGrid=function(ee){var _=ee.columnIndex,Y=gs(ee,["columnIndex"]),Z=ae.props,le=Z.cellRenderer,ve=Z.columnCount,ye=Z.fixedColumnCount;return _===ve-ye?Cn.createElement("div",{key:Y.key,style:jn({},Y.style,{width:20})}):le(jn({},Y,{columnIndex:_+ye,parent:ae}))},this._columnWidthRightGrid=function(ee){var _=ee.index,Y=ae.props,Z=Y.columnCount,le=Y.fixedColumnCount,ve=Y.columnWidth,ye=ae.state,Oe=ye.scrollbarSize;return ye.showHorizontalScrollbar&&_===Z-le?Oe:typeof ve=="function"?ve({index:_+le}):ve},this._onScroll=function(ee){var _=ee.scrollLeft,Y=ee.scrollTop;ae.setState({scrollLeft:_,scrollTop:Y});var Z=ae.props.onScroll;Z&&Z(ee)},this._onScrollbarPresenceChange=function(ee){var _=ee.horizontal,Y=ee.size,Z=ee.vertical,le=ae.state,ve=le.showHorizontalScrollbar,ye=le.showVerticalScrollbar;if(_!==ve||Z!==ye){ae.setState({scrollbarSize:Y,showHorizontalScrollbar:_,showVerticalScrollbar:Z});var Oe=ae.props.onScrollbarPresenceChange;typeof Oe=="function"&&Oe({horizontal:_,size:Y,vertical:Z})}},this._onScrollLeft=function(ee){var _=ee.scrollLeft;ae._onScroll({scrollLeft:_,scrollTop:ae.state.scrollTop})},this._onScrollTop=function(ee){var _=ee.scrollTop;ae._onScroll({scrollTop:_,scrollLeft:ae.state.scrollLeft})},this._rowHeightBottomGrid=function(ee){var _=ee.index,Y=ae.props,Z=Y.fixedRowCount,le=Y.rowCount,ve=Y.rowHeight,ye=ae.state,Oe=ye.scrollbarSize;return ye.showVerticalScrollbar&&_===le-Z?Oe:typeof ve=="function"?ve({index:_+Z}):ve},this._topLeftGridRef=function(ee){ae._topLeftGrid=ee},this._topRightGridRef=function(ee){ae._topRightGrid=ee}},"_initialiseProps");Vs(Ia);var _g=function(ae){function ee(_,Y){zi(this,ee);var Z=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_,Y));return Z.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},Z._onScroll=Z._onScroll.bind(Z),Z}return r(ee,"ScrollSync"),Or(ee,ae),Gi(ee,[{key:"render",value:function(){var _=this.props.children,Y=this.state,Z=Y.clientHeight,le=Y.clientWidth,ve=Y.scrollHeight,ye=Y.scrollLeft,Oe=Y.scrollTop,ke=Y.scrollWidth;return _({clientHeight:Z,clientWidth:le,onScroll:this._onScroll,scrollHeight:ve,scrollLeft:ye,scrollTop:Oe,scrollWidth:ke})}},{key:"_onScroll",value:function(_){var Y=_.clientHeight,Z=_.clientWidth,le=_.scrollHeight,ve=_.scrollLeft,ye=_.scrollTop,Oe=_.scrollWidth;this.setState({clientHeight:Y,clientWidth:Z,scrollHeight:le,scrollLeft:ve,scrollTop:ye,scrollWidth:Oe})}}]),ee}(Cn.PureComponent);function Lg(ae){var ee=ae.dataKey,_=ae.rowData;return typeof _.get=="function"?_.get(ee):_[ee]}r(Lg,"defaultCellDataGetter");function Ng(ae){var ee=ae.cellData;return ee==null?"":String(ee)}r(Ng,"defaultCellRenderer");function Bg(ae){var ee=ae.className,_=ae.columns,Y=ae.style;return Cn.createElement("div",{className:ee,role:"row",style:Y},_)}r(Bg,"defaultHeaderRowRenderer"),_g.propTypes={children:st.func.isRequired};var bo={ASC:"ASC",DESC:"DESC"};function wf(ae){var ee=ae.sortDirection,_=oo("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":ee===bo.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":ee===bo.DESC});return Cn.createElement("svg",{className:_,width:18,height:18,viewBox:"0 0 24 24"},ee===bo.ASC?Cn.createElement("path",{d:"M7 14l5-5 5 5z"}):Cn.createElement("path",{d:"M7 10l5 5 5-5z"}),Cn.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}r(wf,"SortIndicator");function Fg(ae){var ee=ae.dataKey,_=ae.label,Y=ae.sortBy,Z=ae.sortDirection,le=Y===ee,ve=[Cn.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof _=="string"?_:null},_)];return le&&ve.push(Cn.createElement(wf,{key:"SortIndicator",sortDirection:Z})),ve}r(Fg,"defaultHeaderRenderer");function Ug(ae){var ee=ae.className,_=ae.columns,Y=ae.index,Z=ae.key,le=ae.onRowClick,ve=ae.onRowDoubleClick,ye=ae.onRowMouseOut,Oe=ae.onRowMouseOver,ke=ae.onRowRightClick,Pe=ae.rowData,He=ae.style,Xe={"aria-rowindex":Y+1};return(le||ve||ye||Oe||ke)&&(Xe["aria-label"]="row",Xe.tabIndex=0,le&&(Xe.onClick=function(nt){return le({event:nt,index:Y,rowData:Pe})}),ve&&(Xe.onDoubleClick=function(nt){return ve({event:nt,index:Y,rowData:Pe})}),ye&&(Xe.onMouseOut=function(nt){return ye({event:nt,index:Y,rowData:Pe})}),Oe&&(Xe.onMouseOver=function(nt){return Oe({event:nt,index:Y,rowData:Pe})}),ke&&(Xe.onContextMenu=function(nt){return ke({event:nt,index:Y,rowData:Pe})})),Cn.createElement("div",jn({},Xe,{className:ee,key:Z,role:"row",style:He}),_)}r(Ug,"defaultRowRenderer"),wf.propTypes={sortDirection:st.oneOf([bo.ASC,bo.DESC])};var Xc=function(ae){function ee(){return zi(this,ee),$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).apply(this,arguments))}return r(ee,"Column"),Or(ee,ae),ee}(Cn.Component);Xc.propTypes={"aria-label":st.string,cellDataGetter:st.func,cellRenderer:st.func,className:st.string,columnData:st.object,dataKey:st.any.isRequired,defaultSortDirection:st.oneOf([bo.ASC,bo.DESC]),disableSort:st.bool,flexGrow:st.number,flexShrink:st.number,headerClassName:st.string,headerRenderer:st.func.isRequired,headerStyle:st.object,id:st.string,label:st.node,maxWidth:st.number,minWidth:st.number,style:st.object,width:st.number.isRequired},Xc.defaultProps={cellDataGetter:Lg,cellRenderer:Ng,defaultSortDirection:bo.ASC,flexGrow:0,flexShrink:1,headerRenderer:Fg,style:{}};var Of=function(ae){function ee(_){zi(this,ee);var Y=$i(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,_));return Y.state={scrollbarWidth:0},Y._createColumn=Y._createColumn.bind(Y),Y._createRow=Y._createRow.bind(Y),Y._onScroll=Y._onScroll.bind(Y),Y._onSectionRendered=Y._onSectionRendered.bind(Y),Y._setRef=Y._setRef.bind(Y),Y}return r(ee,"Table"),Or(ee,ae),Gi(ee,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(_){var Y=_.alignment,Z=_.index;return this.Grid?this.Grid.getOffsetForCell({alignment:Y,rowIndex:Z}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(_){var Y=_.columnIndex,Z=_.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:Z,columnIndex:Y})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=_.columnIndex,Z=Y===void 0?0:Y,le=_.rowIndex,ve=le===void 0?0:le;this.Grid&&this.Grid.recomputeGridSize({rowIndex:ve,columnIndex:Z})}},{key:"recomputeRowHeights",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:_})}},{key:"scrollToPosition",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:_})}},{key:"scrollToRow",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:_})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var _=ma.findDOMNode(this.Grid),Y=_.clientWidth||0;return(_.offsetWidth||0)-Y}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var _=this,Y=this.props,Z=Y.children,le=Y.className,ve=Y.disableHeader,ye=Y.gridClassName,Oe=Y.gridStyle,ke=Y.headerHeight,Pe=Y.headerRowRenderer,He=Y.height,Xe=Y.id,nt=Y.noRowsRenderer,ze=Y.rowClassName,ft=Y.rowStyle,Ct=Y.scrollToIndex,Mt=Y.style,xt=Y.width,Nt=this.state.scrollbarWidth,ht=ve?He:He-ke,Lt=typeof ze=="function"?ze({index:-1}):ze,Bt=typeof ft=="function"?ft({index:-1}):ft;return this._cachedColumnStyles=[],Cn.Children.toArray(Z).forEach(function(bn,Gn){var Ti=_._getFlexStyleForColumn(bn,bn.props.style);_._cachedColumnStyles[Gn]=jn({overflow:"hidden"},Ti)}),Cn.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":Cn.Children.toArray(Z).length,"aria-rowcount":this.props.rowCount,className:oo("ReactVirtualized__Table",le),id:Xe,role:"grid",style:Mt},!ve&&Pe({className:oo("ReactVirtualized__Table__headerRow",Lt),columns:this._getHeaderColumns(),style:jn({height:ke,overflow:"hidden",paddingRight:Nt,width:xt},Bt)}),Cn.createElement(js,jn({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:oo("ReactVirtualized__Table__Grid",ye),cellRenderer:this._createRow,columnWidth:xt,columnCount:1,height:ht,id:void 0,noContentRenderer:nt,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:Nt,scrollToRow:Ct,style:jn({},Oe,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(_){var Y=_.column,Z=_.columnIndex,le=_.isScrolling,ve=_.parent,ye=_.rowData,Oe=_.rowIndex,ke=this.props.onColumnClick,Pe=Y.props,He=Pe.cellDataGetter,Xe=Pe.cellRenderer,nt=Pe.className,ze=Pe.columnData,ft=Pe.dataKey,Ct=Pe.id,Mt=Xe({cellData:He({columnData:ze,dataKey:ft,rowData:ye}),columnData:ze,columnIndex:Z,dataKey:ft,isScrolling:le,parent:ve,rowData:ye,rowIndex:Oe}),xt=this._cachedColumnStyles[Z],Nt=typeof Mt=="string"?Mt:null;return Cn.createElement("div",{"aria-colindex":Z+1,"aria-describedby":Ct,className:oo("ReactVirtualized__Table__rowColumn",nt),key:"Row"+Oe+"-Col"+Z,onClick:function(ht){ke&&ke({columnData:ze,dataKey:ft,event:ht})},role:"gridcell",style:xt,title:Nt},Mt)}},{key:"_createHeader",value:function(_){var Y=_.column,Z=_.index,le=this.props,ve=le.headerClassName,ye=le.headerStyle,Oe=le.onHeaderClick,ke=le.sort,Pe=le.sortBy,He=le.sortDirection,Xe=Y.props,nt=Xe.columnData,ze=Xe.dataKey,ft=Xe.defaultSortDirection,Ct=Xe.disableSort,Mt=Xe.headerRenderer,xt=Xe.id,Nt=Xe.label,ht=!Ct&&ke,Lt=oo("ReactVirtualized__Table__headerColumn",ve,Y.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:ht}),Bt=this._getFlexStyleForColumn(Y,jn({},ye,Y.props.headerStyle)),bn=Mt({columnData:nt,dataKey:ze,disableSort:Ct,label:Nt,sortBy:Pe,sortDirection:He}),Gn=void 0,Ti=void 0,ai=void 0,Oi=void 0,Mr=void 0;if(ht||Oe){var vr=Pe!==ze?ft:He===bo.DESC?bo.ASC:bo.DESC,wa=r(function(ys){ht&&ke({defaultSortDirection:ft,event:ys,sortBy:ze,sortDirection:vr}),Oe&&Oe({columnData:nt,dataKey:ze,event:ys})},"onClick");Mr=Y.props["aria-label"]||Nt||ze,Oi="none",ai=0,Gn=wa,Ti=r(function(ys){ys.key!=="Enter"&&ys.key!==" "||wa(ys)},"headerOnKeyDown")}return Pe===ze&&(Oi=He===bo.ASC?"ascending":"descending"),Cn.createElement("div",{"aria-label":Mr,"aria-sort":Oi,className:Lt,id:xt,key:"Header-Col"+Z,onClick:Gn,onKeyDown:Ti,role:"columnheader",style:Bt,tabIndex:ai},bn)}},{key:"_createRow",value:function(_){var Y=this,Z=_.rowIndex,le=_.isScrolling,ve=_.key,ye=_.parent,Oe=_.style,ke=this.props,Pe=ke.children,He=ke.onRowClick,Xe=ke.onRowDoubleClick,nt=ke.onRowRightClick,ze=ke.onRowMouseOver,ft=ke.onRowMouseOut,Ct=ke.rowClassName,Mt=ke.rowGetter,xt=ke.rowRenderer,Nt=ke.rowStyle,ht=this.state.scrollbarWidth,Lt=typeof Ct=="function"?Ct({index:Z}):Ct,Bt=typeof Nt=="function"?Nt({index:Z}):Nt,bn=Mt({index:Z}),Gn=Cn.Children.toArray(Pe).map(function(Oi,Mr){return Y._createColumn({column:Oi,columnIndex:Mr,isScrolling:le,parent:ye,rowData:bn,rowIndex:Z,scrollbarWidth:ht})}),Ti=oo("ReactVirtualized__Table__row",Lt),ai=jn({},Oe,{height:this._getRowHeight(Z),overflow:"hidden",paddingRight:ht},Bt);return xt({className:Ti,columns:Gn,index:Z,isScrolling:le,key:ve,onRowClick:He,onRowDoubleClick:Xe,onRowRightClick:nt,onRowMouseOver:ze,onRowMouseOut:ft,rowData:bn,style:ai})}},{key:"_getFlexStyleForColumn",value:function(_){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=_.props.flexGrow+" "+_.props.flexShrink+" "+_.props.width+"px",le=jn({},Y,{flex:Z,msFlex:Z,WebkitFlex:Z});return _.props.maxWidth&&(le.maxWidth=_.props.maxWidth),_.props.minWidth&&(le.minWidth=_.props.minWidth),le}},{key:"_getHeaderColumns",value:function(){var _=this,Y=this.props,Z=Y.children;return(Y.disableHeader?[]:Cn.Children.toArray(Z)).map(function(le,ve){return _._createHeader({column:le,index:ve})})}},{key:"_getRowHeight",value:function(_){var Y=this.props.rowHeight;return typeof Y=="function"?Y({index:_}):Y}},{key:"_onScroll",value:function(_){var Y=_.clientHeight,Z=_.scrollHeight,le=_.scrollTop;(0,this.props.onScroll)({clientHeight:Y,scrollHeight:Z,scrollTop:le})}},{key:"_onSectionRendered",value:function(_){var Y=_.rowOverscanStartIndex,Z=_.rowOverscanStopIndex,le=_.rowStartIndex,ve=_.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:Y,overscanStopIndex:Z,startIndex:le,stopIndex:ve})}},{key:"_setRef",value:function(_){this.Grid=_}},{key:"_setScrollbarWidth",value:function(){var _=this.getScrollbarWidth();this.setState({scrollbarWidth:_})}}]),ee}(Cn.PureComponent);Of.propTypes={"aria-label":st.string,"aria-labelledby":st.string,autoHeight:st.bool,children:function(ae){for(var ee=Cn.Children.toArray(ae.children),_=0;_<ee.length;_++){var Y=ee[_].type;if(Y!==Xc&&!(Y.prototype instanceof Xc))return new Error("Table only accepts children of type Column")}},className:st.string,disableHeader:st.bool,estimatedRowSize:st.number.isRequired,gridClassName:st.string,gridStyle:st.object,headerClassName:st.string,headerHeight:st.number.isRequired,headerRowRenderer:st.func,headerStyle:st.object,height:st.number.isRequired,id:st.string,noRowsRenderer:st.func,onColumnClick:st.func,onHeaderClick:st.func,onRowClick:st.func,onRowDoubleClick:st.func,onRowMouseOut:st.func,onRowMouseOver:st.func,onRowRightClick:st.func,onRowsRendered:st.func,onScroll:st.func.isRequired,overscanIndicesGetter:st.func.isRequired,overscanRowCount:st.number.isRequired,rowClassName:st.oneOfType([st.string,st.func]),rowGetter:st.func.isRequired,rowHeight:st.oneOfType([st.number,st.func]).isRequired,rowCount:st.number.isRequired,rowRenderer:st.func,rowStyle:st.oneOfType([st.object,st.func]).isRequired,scrollToAlignment:st.oneOf(["auto","end","start","center"]).isRequired,scrollToIndex:st.number.isRequired,scrollTop:st.number,sort:st.func,sortBy:st.string,sortDirection:st.oneOf([bo.ASC,bo.DESC]),style:st.object,tabIndex:st.number,width:st.number.isRequired},Of.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:Jc,overscanRowCount:10,rowRenderer:Ug,headerRowRenderer:Bg,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var Rl=[],Qc=null,Pl=null;function Vg(){Pl&&(Pl=null,fi.body&&Qc!=null&&(fi.body.style.pointerEvents=Qc),Qc=null)}r(Vg,"enablePointerEventsIfDisabled");function Rv(){Vg(),Rl.forEach(function(ae){return ae.__resetIsScrolling()})}r(Rv,"enablePointerEventsAfterDelayCallback");function Hg(ae){ae.currentTarget===W&&Qc==null&&fi.body&&(Qc=fi.body.style.pointerEvents,fi.body.style.pointerEvents="none"),function(){Pl&&tl(Pl);var ee=0;Rl.forEach(function(_){ee=Math.max(ee,_.props.scrollingResetTimeInterval)}),Pl=Gc(Rv,ee)}(),Rl.forEach(function(ee){ee.props.scrollElement===ae.currentTarget&&ee.__handleWindowScrollEvent()})}r(Hg,"onScrollWindow");function zg(ae,ee){Rl.some(function(_){return _.props.scrollElement===ee})||ee.addEventListener("scroll",Hg),Rl.push(ae)}r(zg,"registerScrollListener");function Wg(ae,ee){(Rl=Rl.filter(function(_){return _!==ae})).length||(ee.removeEventListener("scroll",Hg),Pl&&(tl(Pl),Vg()))}r(Wg,"unregisterScrollListener");var Mf=r(function(ae){return ae===W},"isWindow"),Zc=r(function(ae){return ae.getBoundingClientRect()},"getBoundingBox");function jg(ae,ee){if(ae){if(Mf(ae)){var _=W,Y=_.innerHeight,Z=_.innerWidth;return{height:typeof Y=="number"?Y:0,width:typeof Z=="number"?Z:0}}return Zc(ae)}return{height:ee.serverHeight,width:ee.serverWidth}}r(jg,"getDimensions");function Gg(ae){return Mf(ae)&&fi.documentElement?{top:"scrollY"in W?W.scrollY:fi.documentElement.scrollTop,left:"scrollX"in W?W.scrollX:fi.documentElement.scrollLeft}:{top:ae.scrollTop,left:ae.scrollLeft}}r(Gg,"getScrollOffset");var $g=r(function(){return typeof W<"u"?W:void 0},"getWindow"),Kg=function(ae){function ee(){var _,Y,Z;zi(this,ee);for(var le=arguments.length,ve=Array(le),ye=0;ye<le;ye++)ve[ye]=arguments[ye];return Y=Z=$i(this,(_=ee.__proto__||Object.getPrototypeOf(ee)).call.apply(_,[this].concat(ve))),Z._window=$g(),Z._isMounted=!1,Z._positionFromTop=0,Z._positionFromLeft=0,Z.state=jn({},jg(Z.props.scrollElement,Z.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),Z._registerChild=function(Oe){!Oe||Oe instanceof so||Ai.warn("WindowScroller registerChild expects to be passed Element or null"),Z._child=Oe,Z.updatePosition()},Z._onChildScroll=function(Oe){var ke=Oe.scrollTop;if(Z.state.scrollTop!==ke){var Pe=Z.props.scrollElement;Pe&&(typeof Pe.scrollTo=="function"?Pe.scrollTo(0,ke+Z._positionFromTop):Pe.scrollTop=ke+Z._positionFromTop)}},Z._registerResizeListener=function(Oe){Oe===W?W.addEventListener("resize",Z._onResize,!1):Z._detectElementResize.addResizeListener(Oe,Z._onResize)},Z._unregisterResizeListener=function(Oe){Oe===W?W.removeEventListener("resize",Z._onResize,!1):Oe&&Z._detectElementResize.removeResizeListener(Oe,Z._onResize)},Z._onResize=function(){Z.updatePosition()},Z.__handleWindowScrollEvent=function(){if(Z._isMounted){var Oe=Z.props.onScroll,ke=Z.props.scrollElement;if(ke){var Pe=Gg(ke),He=Math.max(0,Pe.left-Z._positionFromLeft),Xe=Math.max(0,Pe.top-Z._positionFromTop);Z.setState({isScrolling:!0,scrollLeft:He,scrollTop:Xe}),Oe({scrollLeft:He,scrollTop:Xe})}}},Z.__resetIsScrolling=function(){Z.setState({isScrolling:!1})},$i(Z,Y)}return r(ee,"WindowScroller"),Or(ee,ae),Gi(ee,[{key:"updatePosition",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,Y=this.props.onResize,Z=this.state,le=Z.height,ve=Z.width,ye=this._child||ma.findDOMNode(this);if(ye instanceof so&&_){var Oe=function(Pe,He){if(Mf(He)&&fi.documentElement){var Xe=fi.documentElement,nt=Zc(Pe),ze=Zc(Xe);return{top:nt.top-ze.top,left:nt.left-ze.left}}var ft=Gg(He),Ct=Zc(Pe),Mt=Zc(He);return{top:Ct.top+ft.top-Mt.top,left:Ct.left+ft.left-Mt.left}}(ye,_);this._positionFromTop=Oe.top,this._positionFromLeft=Oe.left}var ke=jg(_,this.props);le===ke.height&&ve===ke.width||(this.setState({height:ke.height,width:ke.width}),Y({height:ke.height,width:ke.width}))}},{key:"componentDidMount",value:function(){var _=this.props.scrollElement;this._detectElementResize=Ka(),this.updatePosition(_),_&&(zg(this,_),this._registerResizeListener(_)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(_,Y){var Z=this.props.scrollElement,le=_.scrollElement;le!==Z&&le!=null&&Z!=null&&(this.updatePosition(Z),Wg(this,le),zg(this,Z),this._unregisterResizeListener(le),this._registerResizeListener(Z))}},{key:"componentWillUnmount",value:function(){var _=this.props.scrollElement;_&&(Wg(this,_),this._unregisterResizeListener(_)),this._isMounted=!1}},{key:"render",value:function(){var _=this.props.children,Y=this.state,Z=Y.isScrolling,le=Y.scrollTop,ve=Y.scrollLeft,ye=Y.height,Oe=Y.width;return _({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:ye,isScrolling:Z,scrollLeft:ve,scrollTop:le,width:Oe})}}]),ee}(Cn.PureComponent);Kg.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:$g(),serverHeight:0,serverWidth:0},Ei.ArrowKeyStepper=ga,Ei.AutoSizer=Ja,Ei.CellMeasurer=va,Ei.CellMeasurerCache=Tl,Ei.Collection=Hc,Ei.ColumnSizer=mc,Ei.accessibilityOverscanIndicesGetter=Jc,Ei.defaultCellRangeRenderer=Pd,Ei.defaultOverscanIndicesGetter=gc,Ei.Grid=js,Ei.InfiniteLoader=Yc,Ei.List=vc,Ei.createMasonryCellPositioner=function(ae){var ee=ae.cellMeasurerCache,_=ae.columnCount,Y=ae.columnWidth,Z=ae.spacer,le=Z===void 0?0:Z,ve=void 0;function ye(ke){for(var Pe=0,He=1;He<ve.length;He++)ve[He]<ve[Pe]&&(Pe=He);var Xe=Pe*(Y+le),nt=ve[Pe]||0;return ve[Pe]=nt+ee.getHeight(ke)+le,{left:Xe,top:nt}}r(ye,"cellPositioner");function Oe(){ve=[];for(var ke=0;ke<_;ke++)ve[ke]=0}return r(Oe,"initOrResetDerivedValues"),Oe(),ye.reset=function(ke){_=ke.columnCount,Y=ke.columnWidth,le=ke.spacer,Oe()},ye},Ei.Masonry=dn,Ei.MultiGrid=Ia,Ei.ScrollSync=_g,Ei.createTableMultiSort=function(ae){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=ee.defaultSortBy,Y=ee.defaultSortDirection,Z=Y===void 0?{}:Y;if(!ae)throw Error('Required parameter "sortCallback" not specified');var le=_||[],ve={};return le.forEach(function(ye){ve[ye]=Z.hasOwnProperty(ye)?Z[ye]:"ASC"}),{sort:function(ye){var Oe=ye.defaultSortDirection,ke=ye.event,Pe=ye.sortBy;if(ke.shiftKey)ve.hasOwnProperty(Pe)?ve[Pe]=ve[Pe]==="ASC"?"DESC":"ASC":(ve[Pe]=Oe,le.push(Pe));else if(ke.ctrlKey||ke.metaKey){var He=le.indexOf(Pe);He>=0&&(le.splice(He,1),delete ve[Pe])}else le.length=0,le.push(Pe),Object.keys(ve).forEach(function(Xe){Xe!==Pe&&delete ve[Xe]}),ve.hasOwnProperty(Pe)?ve[Pe]=ve[Pe]==="ASC"?"DESC":"ASC":ve[Pe]=Oe;ae({sortBy:le,sortDirection:ve})},sortBy:le,sortDirection:ve}},Ei.defaultTableCellDataGetter=Lg,Ei.defaultTableCellRenderer=Ng,Ei.defaultTableHeaderRenderer=Fg,Ei.defaultTableHeaderRowRenderer=Bg,Ei.defaultTableRowRenderer=Ug,Ei.Table=Of,Ei.Column=Xc,Ei.SortDirection=bo,Ei.SortIndicator=wf,Ei.WindowScroller=Kg,Object.defineProperty(Ei,"__esModule",{value:!0})}),i.exports}}).call(this,d("yLpj"))},N4c9:function(U,c,d){d("wYM1");var v=d("VSTI").Object;U.exports=r(function(h,m,a){return v.defineProperty(h,m,a)},"defineProperty")},N7sO:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function v(f){return typeof f=="string"?f.length===0:f.byteLength===0}r(v,"isEmptyData"),c.isEmptyData=v},N8ne:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("mlaT"));let h=r(class{info(a){for(const o of this._loggers)o.info(a)}warn(a){for(const o of this._loggers)o.warn(a)}error(a){for(const o of this._loggers)o.error(a)}debug(a){let o,i;typeof a=="string"?i=a:a?i=r(()=>(o||(o=a()),o),"memoized"):i=""+a;for(const e of this._loggers)e.debug(i)}setLogLevel(a){for(const o of this._loggers)o.setLogLevel(a)}getLogLevel(){for(const a of this._loggers)return a.getLogLevel();return f.default.OFF}constructor(...a){this._loggers=a}},"MultiLogger");c.default=h},N9oo:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("lUhs")),m=f(d("AUdx")),a=f(d("aVV0"));let o=r(class lv extends a.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return v(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new m.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new m.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((e,t)=>{this.cancelPromise=n=>{this.removeEventListener(),t(n)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=n=>{if(this.context.logger.info(`ice candidate: ${n.candidate?n.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),n.candidate&&(m.default.isRTPCandidate(n.candidate.candidate)&&this.context.iceCandidates.push(n.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new m.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(t(new Error("no ice candidates were gathered")),delete this.cancelPromise):(e(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(e,t=lv.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");c.default=o,o.CHROME_VPN_TIMEOUT_MS=5e3},NDMw:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isAudioTransformDevice=void 0;function v(f){return!!f&&typeof f=="object"&&"mute"in f&&"stop"in f&&"intrinsicDevice"in f}r(v,"isAudioTransformDevice"),c.isAudioTransformDevice=v},NE7a:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}},"StreamMetricReport");c.default=v},NFcc:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoInputFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(v=c.CheckVideoInputFeedback||(c.CheckVideoInputFeedback={})),c.default=v},NUAg:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("IBi3"));let h=r(class extends f.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(a,o,i){super(a,o,i)}},"VideoOnlyTransceiverController");c.default=h},NWIo:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("riOr"));let h=r(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var a,o,i,e,t,n,s,p,g,S,u,l;const E=new Map,O=1e3,P=f.default.NAME_ARR_ASCENDING;return E.set(P[0],{rid:P[0],active:!0,scaleResolutionDownBy:((o=(a=this.encodingParams)===null||a===void 0?void 0:a.low)===null||o===void 0?void 0:o.scaleResolutionDownBy)||2,maxBitrate:(((e=(i=this.encodingParams)===null||i===void 0?void 0:i.low)===null||e===void 0?void 0:e.maxBitrateKbps)||300)*O,maxFramerate:((n=(t=this.encodingParams)===null||t===void 0?void 0:t.low)===null||n===void 0?void 0:n.maxFramerate)||5}),E.set(P[1],{rid:P[1],active:!0,scaleResolutionDownBy:((p=(s=this.encodingParams)===null||s===void 0?void 0:s.high)===null||p===void 0?void 0:p.scaleResolutionDownBy)||1,maxBitrate:(((S=(g=this.encodingParams)===null||g===void 0?void 0:g.high)===null||S===void 0?void 0:S.maxBitrateKbps)||1200)*O,maxFramerate:(l=(u=this.encodingParams)===null||u===void 0?void 0:u.high)===null||l===void 0?void 0:l.maxFramerate}),this.getQualityMapString(E),E}updateIndex(a){this.videoIndex=a}wantsResubscribe(){var a,o;let i=!1;this.nextLocalDescriptions=(a=this.videoIndex)===null||a===void 0?void 0:a.localStreamDescriptions();for(let e=0;e<((o=this.nextLocalDescriptions)===null||o===void 0?void 0:o.length);e++){const t=this.nextLocalDescriptions[e].streamId;if(t!==0&&t){const n=this.currLocalDescriptions.findIndex(s=>s.streamId===t);n!==-1&&this.nextLocalDescriptions[e].disabledByWebRTC!==this.currLocalDescriptions[n].disabledByWebRTC&&(i=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,i}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}getQualityMapString(a){var o;let i="";const e=(o=this.videoIndex)===null||o===void 0?void 0:o.localStreamDescriptions();(e==null?void 0:e.length)>0&&(a.forEach(t=>{let n=!1;t.rid==="low"?n=e[0].disabledByWebRTC:n=e[1].disabledByWebRTC,i+=`{ rid: ${t.rid} active:${t.active} disabledByWebRTC: ${n} maxBitrate:${t.maxBitrate} scaleResolutionDownBy:${t.scaleResolutionDownBy} maxFrameRate:${t.maxFramerate}`}),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${i}`))}addObserver(a){}removeObserver(a){}forEachObserver(a){}constructor(a,o){this.logger=a,this.encodingParams=o,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}},"DefaultSimulcastUplinkPolicyForContentShare");c.default=h},Ni8D:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{reportEvent(h,m,a){}start(){}stop(){}constructor(){}},"NoOpEventReporter");c.default=v},Nlwn:function(U,c,d){"use strict";var v=d("USwo"),f=d("VSTI"),h=d("7whZ"),m=d("2zfi"),a=d("JKKi");v(v.P+v.R,"Promise",{finally:function(o){var i=m(this,f.Promise||h.Promise),e=typeof o=="function";return this.then(e?function(t){return a(i,o()).then(function(){return t})}:o,e?function(t){return a(i,o()).then(function(){throw t})}:o)}})},Np2I:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const h=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,h}constructor(h,m,a){this.fixedWaitMs=h,this.shortBackoffMs=m,this.longBackoffMs=a,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");c.default=v},Nzn3:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(h){}},"NoOpTask");c.default=v},O9RP:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DeferredPromise=void 0;let v=r(class{getPromise(){return this.promise}resolvePromise(h){this.resolve(h)}resolveAndReplacePromise(h){this.resolve(h),this.promise=new Promise((m,a)=>{this.resolve=m,this.reject=a})}rejectPromise(h){this.reject(h)}rejectAndReplacePromise(h){this.reject(h),this.promise=new Promise((m,a)=>{this.resolve=m,this.reject=a})}constructor(){this.promise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}},"DeferredPromise");c.DeferredPromise=v},OEM7:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("XCDq");let f=r(class cv{clone(){const m=new cv;return m.attendeeId=this.attendeeId,m.groupId=this.groupId,m.streamId=this.streamId,m.ssrc=this.ssrc,m.trackLabel=this.trackLabel,m.maxBitrateKbps=this.maxBitrateKbps,m.avgBitrateKbps=this.avgBitrateKbps,m.maxFrameRate=this.maxFrameRate,m.timeEnabled=this.timeEnabled,m.disabledByWebRTC=this.disabledByWebRTC,m.disabledByUplinkPolicy=this.disabledByUplinkPolicy,m}toStreamDescriptor(){const m=v.SdkStreamDescriptor.create();return m.mediaType=v.SdkStreamMediaType.VIDEO,m.trackLabel=this.trackLabel,m.attendeeId=this.attendeeId,m.streamId=this.streamId,m.groupId=this.groupId,m.framerate=this.maxFrameRate,m.maxBitrateKbps=this.disabledByUplinkPolicy||this.disabledByWebRTC?0:this.maxBitrateKbps,m.avgBitrateBps=this.avgBitrateKbps,m}constructor(m,a,o,i,e){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.attendeeId=m,this.groupId=a,this.streamId=o,this.maxBitrateKbps=i,this.avgBitrateKbps=e}},"VideoStreamDescription");c.default=f},OND3:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("IBi3"));let m=r(class oa extends h.default{setEncodingParameters(o){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(o.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===oa.LOW_LEVEL_NAME&&this.copyEncodingParams(o.get(oa.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===oa.MID_LEVEL_NAME&&this.copyEncodingParams(o.get(oa.MID_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===oa.HIGH_LEVEL_NAME&&this.copyEncodingParams(o.get(oa.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(o){return v(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var o,i;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((i=(o=this.meetingSessionContext)===null||o===void 0?void 0:o.audioProfile)===null||i===void 0)&&i.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){const i=this._localCameraTransceiver.sender.getParameters().encodings;let e=`simulcast: current encoding parameters 
`;for(const t of i)e+=`rid=${t.rid} maxBitrate=${t.maxBitrate} active=${t.active} scaleDownBy=${t.scaleResolutionDownBy} maxFrameRate = ${t.maxFramerate} 
`;this.logger.info(e)}copyEncodingParams(o,i){i.active=o.active,i.maxBitrate=o.maxBitrate,i.scaleResolutionDownBy=o.scaleResolutionDownBy,i.maxFramerate=o.maxFramerate}constructor(o,i,e){super(o,i,e),this.videoQualityControlParameterMap=new Map;let t=4;for(let n=0;n<oa.NAME_ARR_ASCENDING.length;n++){const s=oa.NAME_ARR_ASCENDING[n];this.videoQualityControlParameterMap.set(s,{rid:s,scaleResolutionDownBy:t,maxBitrate:oa.BITRATE_ARR_ASCENDING[n]*1e3}),t=t/2}}},"SimulcastTransceiverController");c.default=m,m.LOW_LEVEL_NAME="low",m.MID_LEVEL_NAME="mid",m.HIGH_LEVEL_NAME="hi",m.NAME_ARR_ASCENDING=["low","mid","hi"],m.BITRATE_ARR_ASCENDING=[200,400,1100]},OTpG:function(U,c,d){"use strict";var v=d("5ETA"),f=d("USwo"),h=d("ugGH"),m=d("BRsN"),a=d("ig3W"),o=d("Jt1Q"),i=d("kvAF"),e=d("znrX"),t=d("zBWt")("iterator"),n=!([].keys&&"next"in[].keys()),s="@@iterator",p="keys",g="values",S=r(function(){return this},"returnThis");U.exports=function(u,l,E,O,P,x,k){o(E,l,O);var B=r(function(pe){if(!n&&pe in A)return A[pe];switch(pe){case p:return r(function(){return new E(this,pe)},"keys");case g:return r(function(){return new E(this,pe)},"values")}return r(function(){return new E(this,pe)},"entries")},"getMethod"),R=l+" Iterator",N=P==g,w=!1,A=u.prototype,D=A[t]||A[s]||P&&A[P],K=D||B(P),X=P?N?B("entries"):K:void 0,j=l=="Array"&&A.entries||D,te,me,we;if(j&&(we=e(j.call(new u)),we!==Object.prototype&&we.next&&(i(we,R,!0),!v&&typeof we[t]!="function"&&m(we,t,S))),N&&D&&D.name!==g&&(w=!0,K=r(function(){return D.call(this)},"values")),(!v||k)&&(n||w||!A[t])&&m(A,t,K),a[l]=K,a[R]=S,P)if(te={values:N?K:B(g),keys:x?K:B(p),entries:X},k)for(me in te)me in A||h(A,me,te[me]);else f(f.P+f.F*(n||w),l,te);return te}},OV1w:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("/AJg"));let h=r(class{constructor(a){this.applicationMetadata=a,this.serverSideNetworkAdaption=f.default.Default,this.supportedServerSideNetworkAdaptions=[],this.disablePeriodicKeyframeRequestOnContentSender=!1}},"SignalingClientJoin");c.default=h},Oa1h:function(U,c,d){var v=d("bKEA"),f=d("0WpP"),h=d("nRFE");U.exports=function(m){return function(a,o,i){var e=v(a),t=f(e.length),n=h(i,t),s;if(m&&o!=o){for(;t>n;)if(s=e[n++],s!=s)return!0}else for(;t>n;n++)if((m||n in e)&&e[n]===o)return m||n||0;return!m&&-1}}},Obod:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("IsLT")),m=f(d("zd8f")),a=f(d("mlaT")),o=f(d("ZZPe")),i=f(d("PR0U")),e=f(d("hrQK")),t=f(d("gLI0"));let n=r(class extends o.default{setBlurStrength(){}loadAssets(){return v(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),s=r(class Ec extends h.default{static create(g,S){return v(this,void 0,void 0,function*(){g=Ec.resolveSpec(g),S=Ec.resolveOptions(S);const{logger:u}=S,l=yield Ec.isSupported(g,S);if(u.info(`processor is ${l?"":"not"} supported`),!l)return u.warn("Using no-op processor because background blur is not supported"),new n;let E;return(yield e.default.isSupported())?(u.info("Using browser-provided background blur"),E=new e.default(g,S)):(u.info("Using built-in background blur"),E=new i.default(g,S)),yield E.loadAssets(),E})}static resolveOptions(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=Object.assign({},g);return S.blurStrength||(S.blurStrength=t.default.MEDIUM),S.logger||(S.logger=new m.default("BackgroundBlurProcessor",a.default.INFO)),S=super.resolveOptions(S),S}static isSupported(g,S){return g=Ec.resolveSpec(g),S=Ec.resolveOptions(S),super.isSupported(g,S)}},"BackgroundBlurVideoFrameProcessor");c.default=s},OdWA:function(U,c,d){"use strict";d.d(c,"a",function(){return e});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e=Object(a.a)("users.interactions.list generated fetcher",function(){var t=Object(v.coroutine)(function*(n,s,p){try{const g=["reason"],S=Object(h.a)(p,g),u=Object(i.b)(S),l=yield n(Object(m.a)({method:"users.interactions.list",args:u,reason:p.reason}));return Object(i.a)(l)}catch(g){throw Object(o.a)({getState:s}).error(`API call to users.interactions.list
				with reason ${p.reason} failed, initiated by generated fetcher`),g}});return function(n,s,p){return t.apply(this,arguments)}}());e.meta={name:"createFetcher",key:"createFetcherusersInteractionsListFetcher",description:"users.interactions.list generated fetcher"}},Ol9i:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptItem");c.default=v},Olm7:function(U,c,d){"use strict";var v=d("fywt"),f=d("ntxC");function h(m,a){var o=[];if(!(m&&m.length))return o;var i=-1,e=[],t=m.length;for(a=Object(v.a)(a,3);++i<t;){var n=m[i];a(n,i,m)&&(o.push(n),e.push(i))}return Object(f.a)(m,e),o}r(h,"remove"),c.a=h},Oxpw:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.Unread="unread",f.LastMessageTimestamp="last-message-timestamp"})(v||(v={})),c.default=v},P2sY:function(U,c,d){U.exports={default:d("uccp"),__esModule:!0}},P3Bx:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Bd{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(h){let m=0;for(const a of h.streams){const o=!!a.attendeeId,i=!!a.externalUserId,e=a.hasOwnProperty("muted"),t=!!a.dropped;if(o){this.attendeeIdToStreamId[a.attendeeId]&&this.attendeeIdToStreamId[a.attendeeId]<a.audioStreamId&&delete this.attendeeIdToStreamId[a.attendeeId],this.streamIdToAttendeeId[a.audioStreamId]=a.attendeeId;const n=i?a.externalUserId:a.attendeeId;this.streamIdToExternalUserId[a.audioStreamId]=n,this.attendeeIdToStreamId[a.attendeeId]=a.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(a.attendeeId,!0,n,!1,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}if(e){const n=this.streamIdToAttendeeId[a.audioStreamId],s=this.streamIdToExternalUserId[a.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(n,null,a.muted,null,s)}if(!o&&!e){const n=this.streamIdToAttendeeId[a.audioStreamId];if(n){const s=this.streamIdToExternalUserId[a.audioStreamId];delete this.streamIdToAttendeeId[a.audioStreamId],delete this.streamIdToExternalUserId[a.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[a.audioStreamId],this.attendeeIdToStreamId[n]===a.audioStreamId&&delete this.attendeeIdToStreamId[n];let p=!1;for(const g of Object.keys(this.streamIdToAttendeeId)){const S=parseInt(g);if(S>a.audioStreamId&&this.streamIdToAttendeeId[S]===n){p=!0;break}}p||this.realtimeController.realtimeSetAttendeeIdPresence(n,!1,s,t,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(h),this.sessionReconnected=!1)}cleanUpState(h){const m=Object.values(this.streamIdToAttendeeId),a=h.streams.map(i=>i.attendeeId),o=m.filter(i=>!a.includes(i));for(const[i,e]of o.entries()){const t=this.attendeeIdToStreamId[e],n=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[e],e===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(e,!1,n,!1,{attendeeIndex:i,attendeesInFrame:e.length})}}sendRealtimeUpdatesForAudioMetadata(h){let m=null,a=null;for(const o of h.attendeeStates){const i=this.attendeeIdForStreamId(o.audioStreamId);o.hasOwnProperty("volume")&&(m===null&&(m={}),i!==null&&(m[i]=this.normalizedVolume(o))),o.hasOwnProperty("signalStrength")&&(a===null&&(a={}),i!==null&&(a[i]=this.normalizedSignalStrength(o)))}this.applyRealtimeUpdatesForAudioMetadata(m,a)}normalizedVolume(h){const a=1-(-h.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(a,0),1)}normalizedSignalStrength(h){const m=h.signalStrength/Bd.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(m,0),1)}applyRealtimeUpdatesForAudioMetadata(h,m){for(const a in this.streamIdToAttendeeId){const o=this.streamIdToAttendeeId[a],i=this.streamIdToExternalUserId[a];let e=null,t=null;h!==null&&(h.hasOwnProperty(o)?e=h[o]:e=Bd.IMPLICIT_VOLUME),m!==null&&(m.hasOwnProperty(o)?t=m[o]:t=Bd.IMPLICIT_SIGNAL_STRENGTH),(e!==null||t!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(o,e,null,t,i)}}attendeeIdForStreamId(h){if(h===0)return null;const m=this.streamIdToAttendeeId[h];return m||(this.warnedAboutMissingStreamIdMapping[h]||(this.warnedAboutMissingStreamIdMapping[h]=!0,this.logger.warn(`volume indicator stream id ${h} seen before being defined`)),null)}constructor(h,m,a,o,i){this.logger=h,this.realtimeController=m,this.minVolumeDecibels=a,this.maxVolumeDecibels=o,this.selfAttendeeId=i,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");c.default=v,v.MAX_SIGNAL_STRENGTH_LEVELS=2,v.IMPLICIT_VOLUME=0,v.IMPLICIT_SIGNAL_STRENGTH=1},"P7D+":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0}),c.VideoPreferences=c.MutableVideoPreferences=c.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const f=v(d("/sFY"));function h(e,t,n){if(e.transceiverController.getMidForGroupId===void 0||e.videoStreamIndex.attendeeIdForGroupId===void 0||n===void 0)return[];const s=new Array,p=new Map,g=new Map;for(const S of t){const u=e.transceiverController.getMidForGroupId(S);if(u===void 0)continue;const l=e.videoStreamIndex.attendeeIdForGroupId(S);p.set(l,u),g.set(l,S)}for(const S of n){const u=new f.default,l=p.get(S.attendeeId);l!==void 0&&(u.mid=l,u.attendeeId=S.attendeeId,u.groupId=g.get(S.attendeeId),u.priority=Number.MAX_SAFE_INTEGER-S.priority,u.targetBitrateKbps=S.targetSizeToBitrateKbps(S.targetSize),s.push(u))}return s}r(h,"convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration"),c.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=h;let m=r(class _f{static default(){return new _f([])}[Symbol.iterator](){let t=0;const n=this.items;return{next(){return t<n.length?{done:!1,value:n[t++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(t){this.items.push(t)}replaceFirst(t,n){const s=this.items.findIndex(n);s===-1?this.items.push(t):this.has(t)?this.items.splice(s,1):this.items[s]=t}remove(t){this.items=this.items.filter(n=>!n.equals(t))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(const n of this.items)if(!t.items.some(s=>s.equals(n)))return!1;return!0}has(t){return this.items.some(n=>n.equals(t))}some(t){return this.items.some(t)}clone(){return new _f([...this.items])}sort(){this.items.sort((t,n)=>t.partialCompare(n))}modify(){return new a(this)}constructor(t=[]){this.items=t}},"ObjectSet"),a=r(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(t){this.items.has(t)||(this.cow(),this.items.add(t))}replaceFirst(t,n){this.items.has(t)&&!this.items.some(n)||(this.cow(),this.items.replaceFirst(t,n))}remove(t){this.items.has(t)&&(this.cow(),this.items.remove(t))}some(t){return this.items.some(t)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(t=new m){this.items=t,this.copied=!1}},"SetBuilder"),o=r(class{add(t){this.builder.add(t)}replaceFirst(t,n){this.builder.replaceFirst(t,n)}remove(t){this.builder.remove(t)}some(t){return this.builder.some(t)}clear(){this.builder.clear()}build(){return new i(this.builder.build())}constructor(t){this.builder=t}},"MutableVideoPreferences");c.MutableVideoPreferences=o;let i=r(class Lf{static prepare(){return new o(new a)}static default(){return new Lf(m.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var t;return(t=this.items.first())===null||t===void 0?void 0:t.priority}sorted(){return this.items[Symbol.iterator]()}equals(t){return t===this||this.items.equals(t.items)}modify(){return new o(this.items.modify())}some(t){return this.items.some(t)}isEmpty(){return this.items.isEmpty()}clone(){const t=Lf.prepare();for(const n of this.items)t.add(n.clone());return t.build()}constructor(t){this.items=t}},"VideoPreferences");c.VideoPreferences=i,c.default=i},P7Xm:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Biyp"));let m=r(class id{reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new h.default(0,0,0,0,!1),this.parametersInEffect=new h.default(0,0,0,0,!1),this.encodingParamMap.set(id.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(o){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(o){var i;let e=!0,t=1;this.transceiverController&&(e=this.transceiverController.hasVideoInput());const n=o.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(e?1:0);if(this.numberOfPublishedVideoSources===n){(i=this.logger)===null||i===void 0||i.debug("Skipping update index; Number of participants has not changed");return}if(this.numberOfPublishedVideoSources=n,this.transceiverController){const s=this.getStreamCaptureSetting();s&&(t=this.calculateEncodingParameters(s).scaleResolutionDownBy)}this.optimalParameters=new h.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,t)}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let o=640;return this.getNumberOfPublishedVideoSources()>4&&(o=320),o}captureHeight(){let o=384;return this.getNumberOfPublishedVideoSources()>4&&(o=192),o}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let o=0;return this.getNumberOfPublishedVideoSources()<=2?o=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?o=this.idealMaxBandwidthKbps*2/3:o=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(o)}setIdealMaxBandwidthKbps(o){this.idealMaxBandwidthKbps=o}setHasBandwidthPriority(o){this.hasBandwidthPriority=o}setTransceiverController(o){this.transceiverController=o}updateTransceiverController(){return v(this,void 0,void 0,function*(){const o=this.getStreamCaptureSetting();if(!o)return;const i=this.calculateEncodingParameters(o);this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(id.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(o){var i,e;const t=(e=(i=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||i===void 0?void 0:i.encodings)===null||e===void 0?void 0:e[0];return o.maxBitrate!==(t==null?void 0:t.maxBitrate)||o.scaleResolutionDownBy!==(t==null?void 0:t.scaleResolutionDownBy)}calculateEncodingParameters(o){var i,e;const t=this.maxBandwidthKbps()*1e3;let n=1;if(o.height!==void 0&&o.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let s=id.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),id.targetHeightArray.length-1)];s===480&&(!((i=this.browserBehavior)===null||i===void 0)&&i.disable480pResolutionScaleDown())&&(s=360),n=Math.max(Math.min(o.height,o.width)/s,1),(e=this.logger)===null||e===void 0||e.info(`Resolution scale factor is ${n} for capture resolution ${o.width}x${o.height}. New dimension is ${o.width/n}x${o.height/n}`)}return{scaleResolutionDownBy:n,maxBitrate:t}}getStreamCaptureSetting(){var o,i,e,t;return(t=(e=(i=(o=this.transceiverController)===null||o===void 0?void 0:o.localVideoTransceiver())===null||i===void 0?void 0:i.sender)===null||e===void 0?void 0:e.track)===null||t===void 0?void 0:t.getSettings()}getNumberOfPublishedVideoSources(){var o;return(o=this.numberOfPublishedVideoSources)!==null&&o!==void 0?o:0}constructor(o,i=!0,e=void 0,t=void 0){this.selfAttendeeId=o,this.scaleResolution=i,this.logger=e,this.browserBehavior=t,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");c.default=m,m.encodingMapKey="video",m.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},PDX0:function(U,c){(function(d){U.exports=d}).call(this,{})},PPZC:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AudioLogEvent=void 0;var v;(function(f){f[f.DeviceChanged=0]="DeviceChanged",f[f.MutedLocal=1]="MutedLocal",f[f.UnmutedLocal=2]="UnmutedLocal",f[f.Connected=3]="Connected",f[f.ConnectFailed=4]="ConnectFailed",f[f.RedmicStartLoss=5]="RedmicStartLoss",f[f.RedmicEndLoss=6]="RedmicEndLoss"})(v=c.AudioLogEvent||(c.AudioLogEvent={})),c.default=v},PR0U:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("hrQK")),m=d("gLI0");let a=r(class extends h.default{drawImageWithMask(i,e){const t=this.blurredImage,{canvasCtx:n,targetCanvas:s}=this,{width:p,height:g}=s;if(!e||!t){n.clearRect(0,0,p,g);return}this.scaledCanvas.getContext("2d").putImageData(e,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),n.save(),n.clearRect(0,0,p,g),n.drawImage(this.scaledCanvas,0,0,p,g),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,p,g),n.globalCompositeOperation="destination-over",n.drawImage(this.blurCanvas,0,0,p,g),n.restore()}setBlurStrength(i){if(super.setBlurStrength(i),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(i){if(this.logger.info(`received initialize message: ${this.stringify(i)}`),!i.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(i){this.blurredImage=i.payload.blurOutput,super.handlePredict(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});var e;return v(this,void 0,void 0,function*(){i.destroy.call(this),(e=this.blurCanvas)===null||e===void 0||e.remove(),this.blurCanvas=void 0})}constructor(i,e){super(i,e),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}},"BackgroundBlurProcessorBuiltIn");c.default=a},PSPT:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(x,k,B,R){function N(w){return w instanceof B?w:new B(function(A){A(w)})}return r(N,"adopt"),new(B||(B=Promise))(function(w,A){function D(j){try{X(R.next(j))}catch(te){A(te)}}r(D,"fulfilled");function K(j){try{X(R.throw(j))}catch(te){A(te)}}r(K,"rejected");function X(j){j.done?w(j.value):N(j.value).then(D,K)}r(X,"step"),X((R=R.apply(x,k||[])).next())})},f=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("kUL9")),m=f(d("U9CR")),a=f(d("ZsEg")),o=f(d("wkYg")),i=f(d("j+uH")),e=f(d("iQPr")),t=f(d("PmG3")),n=f(d("ig3o")),s=f(d("Rx4Y")),p=f(d("nWLk")),g=f(d("s3Gi")),S=f(d("VKrp")),u=f(d("M1uR")),l=f(d("sTsL")),E=f(d("6k9T")),O=f(d("dazq"));let P=r(class dv{static delay(k){return v(this,void 0,void 0,function*(){return new Promise(B=>setTimeout(B,k))})}checkAudioInput(k){return v(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(k),yield this.meetingSession.audioVideo.stopAudioInput(),n.default.Succeeded}catch(B){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${B}`),B instanceof o.default?n.default.PermissionDenied:n.default.Failed}})}checkAudioOutput(k,B){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return v(this,void 0,void 0,function*(){try{const N=k?a.default.getIntrinsicDeviceId(k):"";return yield this.playTone(N,this.configuration.audioOutputFrequency,R),(yield B())?s.default.Succeeded:s.default.Failed}catch(N){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${N}`),s.default.Failed}finally{this.stopTone()}})}playTone(k,B,R){return v(this,void 0,void 0,function*(){const w=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=B,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const D=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,D),this.gainNode.gain.linearRampToValueAtTime(w,D+.1),this.oscillatorNode.start();const K=new h.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield K.bindAudioDevice({deviceId:k}))}catch(X){this.logger.error(`Failed to bind audio device: ${X}`)}try{yield K.bindAudioElement(R||new Audio)}catch(X){this.logger.error(`Failed to bind audio element: ${X}`)}yield K.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const k=1,B=.1,R=this.configuration.audioOutputGain,N=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(R,N+B+k),this.gainNode.gain.linearRampToValueAtTime(0,N+B*2+k),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(k){return v(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(k),yield this.meetingSession.audioVideo.stopVideoInput(),E.default.Succeeded}catch(B){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${B}`),B instanceof o.default?E.default.PermissionDenied:E.default.Failed}})}checkCameraResolution(k,B,R){return v(this,void 0,void 0,function*(){let N;try{const w=a.default.getIntrinsicDeviceId(k),A={video:this.calculateVideoConstraint(w,B,R)};N=yield navigator.mediaDevices.getUserMedia(A)}catch(w){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${B} height ${R} failed with error ${w}`),w&&w.name==="OverconstrainedError"?p.default.ResolutionNotSupported:w&&w.name==="NotAllowedError"?p.default.PermissionDenied:p.default.Failed}finally{N&&N.getTracks().forEach(function(w){w.stop()})}return p.default.Succeeded})}calculateVideoConstraint(k,B,R){const N=this.browserBehavior.requiresResolutionAlignment(B,R),w={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(w.deviceId=k,w.width=B,w.height=R):(w.deviceId={exact:k},w.width={exact:N[0]},w.height={exact:N[1]}),w}checkContentShareConnectivity(k){return v(this,void 0,void 0,function*(){let B=!1,R=!1;const N={contentShareDidStart:()=>{B=!0}},w={audioVideoDidStart:()=>{R=!0}};try{return this.meetingSession.audioVideo.addObserver(w),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(N),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(k),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return R&&B})),R?(yield this.stopMeeting(),B?g.default.Succeeded:g.default.TimedOut):g.default.ConnectionFailed}catch(A){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${A}`),A.name==="NotAllowedError"?g.default.PermissionDenied:g.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(w),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(N)}})}checkAudioConnectivity(k){return v(this,void 0,void 0,function*(){let B=!1;const R={packetsReceived:0},N=this.meetingSession.audioVideo,w={metricsDidReceive(D){D.getRTCStatsReport().forEach(K=>{K.type==="inbound-rtp"&&K.mediaType==="audio"&&(R.packetsReceived=K.packetsReceived)})}},A=r((D,K,X,j)=>{D===this.meetingSession.configuration.credentials.attendeeId&&K&&(B=!0)},"attendeePresenceHandler");try{yield N.startAudioInput(k)}catch(D){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${D}`),D instanceof o.default?t.default.AudioInputPermissionDenied:t.default.AudioInputRequestFailed}return N.realtimeSubscribeToAttendeeIdPresence(A),N.addObserver(w),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(B,R)})),N.removeObserver(w),N.realtimeUnsubscribeToAttendeeIdPresence(A),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(B,R)?t.default.Succeeded:t.default.AudioNotReceived):(N.removeObserver(w),N.realtimeUnsubscribeToAttendeeIdPresence(A),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.ConnectionFailed)})}checkVideoConnectivity(k){return v(this,void 0,void 0,function*(){const B=this.meetingSession.audioVideo;let R=0;const N={metricsDidReceive(w){w.getRTCStatsReport().forEach(D=>{D.type==="outbound-rtp"&&D.mediaType==="video"&&(R=D.packetsSent)})}};try{yield B.startVideoInput(k)}catch(w){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${w}`),w instanceof o.default?l.default.VideoInputPermissionDenied:l.default.VideoInputRequestFailed}return B.addObserver(N),(yield this.startMeeting())?(B.startLocalVideoTile(),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return R>0})),yield B.stopVideoInput(),yield this.stopMeeting(),B.removeObserver(N),R<=0?l.default.VideoNotSent:l.default.Succeeded):l.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return v(this,void 0,void 0,function*(){let k=!1;const B={metricsDidReceive(N){N.getRTCStatsReport().forEach(A=>{A.type==="candidate-pair"&&A.state==="succeeded"&&(k=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(N){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${N}`),u.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=N=>{const w=this.originalURLRewriter(N);return w.includes("transport=tcp")?"":w};const R=this.meetingSession.audioVideo;return R.addObserver(B),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),R.removeObserver(B),k?u.default.Succeeded:u.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,u.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return v(this,void 0,void 0,function*(){let k=!1;const B={metricsDidReceive(N){N.getRTCStatsReport().forEach(A=>{A.type==="candidate-pair"&&A.state==="succeeded"&&(k=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(N){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${N}`),S.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=N=>{const w=this.originalURLRewriter(N);return w.includes("transport=udp")?"":w};const R=this.meetingSession.audioVideo;return R.addObserver(B),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),R.removeObserver(B),k?S.default.Succeeded:S.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,S.default.ConnectionFailed)})}startMeeting(){return v(this,void 0,void 0,function*(){let k=!1;const B={audioVideoDidStart:()=>{k=!0}};return this.meetingSession.audioVideo.addObserver(B),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.audioVideo.removeObserver(B),k})}stopMeeting(){return v(this,void 0,void 0,function*(){let k=!1;const B={audioVideoDidStop:R=>{k=!0}};return this.meetingSession.audioVideo.addObserver(B),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.audioVideo.removeObserver(B),k})}executeTimeoutTask(k){return v(this,void 0,void 0,function*(){let B=!1,R=r(class extends i.default{cancel(){this.isCancelled=!0}run(){return v(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield k()){B=!0;break}yield dv.delay(this.waitDurationMs)}})}constructor(A,D){super(A),this.waitDurationMs=D,this.isCancelled=!1}},"CheckForConditionTask");return yield new e.default(this.logger,new R(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),B})}isAudioConnectionSuccessful(k,B){return k&&B.packetsReceived>0}constructor(k,B,R=new O.default){this.logger=k,this.meetingSession=B,this.configuration=R,this.browserBehavior=new m.default}},"DefaultMeetingReadinessChecker");c.default=P},PbSJ:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptionStatus");c.default=v},PhnE:function(U,c,d){"use strict";var v=c;v.build="minimal",v.Writer=d("hl97"),v.BufferWriter=d("92Bn"),v.Reader=d("s0Ci"),v.BufferReader=d("5xrR"),v.util=d("kU+7"),v.rpc=d("rIeS"),v.roots=d("k8sa"),v.configure=f;function f(){v.util._configure(),v.Writer._configure(v.BufferWriter),v.Reader._configure(v.BufferReader)}r(f,"configure"),f()},PmG3:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.AudioInputRequestFailed=1]="AudioInputRequestFailed",f[f.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.AudioNotReceived=4]="AudioNotReceived"})(v=c.CheckAudioConnectivityFeedback||(c.CheckAudioConnectivityFeedback={})),c.default=v},PsbS:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("3wzr"),m=d("EM4D"),a=f(d("59sL"));let o=r(class{makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const n=new h.Sha256(t);return n.update(e),n.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,n,s){return v(this,void 0,void 0,function*(){const p=yield this.hmac(t,"AWS4"+e),g=yield this.hmac(n,p),S=yield this.hmac(s,g);return yield this.hmac("aws4_request",S)})}signURL(e,t,n,s,p,g,S){return v(this,void 0,void 0,function*(){const u=this.getDateTimeString(),l=this.getDateString(u),E="AWS4-HMAC-SHA256";let O="";this.chimeClient.config.region instanceof Function?O=yield this.chimeClient.config.region():O=this.chimeClient.config.region;const P="host",x="host:"+s.toLowerCase()+`
`,k=l+"/"+O+"/"+n+"/aws4_request";let B;this.chimeClient.config.credentials instanceof Function?B=yield this.chimeClient.config.credentials():B=this.chimeClient.config.credentials;let R=new Map;R.set("X-Amz-Algorithm",[E]),R.set("X-Amz-Credential",[encodeURIComponent(B.accessKeyId+"/"+k)]),R.set("X-Amz-Date",[u]),R.set("X-Amz-Expires",["10"]),R.set("X-Amz-SignedHeaders",["host"]),B.sessionToken&&R.set("X-Amz-Security-Token",[encodeURIComponent(B.sessionToken)]),R.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),R.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),S==null||S.forEach((te,me)=>{const we=encodeURIComponent(me);te.sort().forEach(pe=>{R.has(we)||R.set(we,[]),R.get(we).push(encodeURIComponent(pe))})});let N="";R=new Map([...R.entries()].sort()),R.forEach((te,me)=>{te.forEach(we=>{N.length&&(N+="&"),N+=me+"="+we})});const w=e+`
`+p+`
`+N+`
`+x+`
`+P+`
`+m.toHex(yield this.hmac(g)),A=m.toHex(yield this.hmac(w)),D=`AWS4-HMAC-SHA256
`+u+`
`+l+"/"+O+"/"+n+`/aws4_request
`+A,K=yield this.getSignatureKey(B.secretAccessKey,l,O,n),X=m.toHex(yield this.hmac(D,K)),j=N+"&X-Amz-Signature="+X;return t+"://"+s+p+"?"+j})}constructor(e){this.chimeClient=e}},"DefaultSigV4");c.default=o},PwtQ:function(U,c,d){"use strict";U.exports=h;var v=d("wDi9");(h.prototype=Object.create(v.prototype)).constructor=h;var f=d("j4TH");function h(){v.call(this)}r(h,"BufferWriter"),h._configure=function(){h.alloc=f._Buffer_allocUnsafe,h.writeBytesBuffer=f.Buffer&&f.Buffer.prototype instanceof Uint8Array&&f.Buffer.prototype.set.name==="set"?r(function(o,i,e){i.set(o,e)},"writeBytesBuffer_set"):r(function(o,i,e){if(o.copy)o.copy(i,e,0,o.length);else for(var t=0;t<o.length;)i[e++]=o[t++]},"writeBytesBuffer_copy")},h.prototype.bytes=r(function(o){f.isString(o)&&(o=f._Buffer_from(o,"base64"));var i=o.length>>>0;return this.uint32(i),i&&this._push(h.writeBytesBuffer,i,o),this},"write_bytes_buffer");function m(a,o,i){a.length<40?f.utf8.write(a,o,i):o.utf8Write?o.utf8Write(a,i):o.write(a,i)}r(m,"writeStringBuffer"),h.prototype.string=r(function(o){var i=f.Buffer.byteLength(o);return this.uint32(i),i&&this._push(m,i,o),this},"write_string_buffer"),h._configure()},Q2ix:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerTransitionResult=void 0;var v;(function(f){f[f.Transitioned=0]="Transitioned",f[f.NoTransitionAvailable=1]="NoTransitionAvailable",f[f.DeferredTransition=2]="DeferredTransition",f[f.TransitionFailed=3]="TransitionFailed"})(v=c.SessionStateControllerTransitionResult||(c.SessionStateControllerTransitionResult={})),c.default=v},"Q8+J":function(U,c,d){"use strict";(function(v){Object.defineProperty(c,"__esModule",{value:!0});let f=r(class Cs{static register(){!("document"in v)||!document.addEventListener||Cs.shouldRegisterCSPMonitor&&(Cs.added||(document.addEventListener("securitypolicyviolation",Cs.listener),Cs.added=!0))}static unregister(){!("document"in v)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",Cs.listener),Cs.loggers=new Set,Cs.added=!1)}static disable(){Cs.shouldRegisterCSPMonitor=!1,Cs.unregister()}static addLogger(m){m&&Cs.loggers.add(m)}static removeLogger(m){m&&Cs.loggers.delete(m)}},"CSPMonitor");c.default=f,f.loggers=new Set,f.shouldRegisterCSPMonitor=!0,f.added=!1,f.listener=h=>{const m=`Security Policy Violation
Blocked URI: ${h.blockedURI}
Violated Directive: ${h.violatedDirective}
Original Policy: ${h.originalPolicy}
Document URI: ${h.documentURI}
Source File: ${h.sourceFile}
Line No.: ${h.lineNumber}
`;for(const a of f.loggers)a.error(m);f.loggers.size===0&&console.error(m)}}).call(this,d("yLpj"))},QPT4:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.PRONUNCIATION="pronunciation",f.PUNCTUATION="punctuation"})(v||(v={})),c.default=v},QRdY:function(U,c,d){d("xfML"),U.exports=d("VSTI").Object.setPrototypeOf},QUzi:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("KJDN"));let h=r(class extends f.default{constructor(a){super(a),this.name="NotFoundError"}},"NotFoundError");c.default=h},QbLZ:function(U,c,d){"use strict";c.__esModule=!0;var v=d("P2sY"),f=h(v);function h(m){return m&&m.__esModule?m:{default:m}}r(h,"_interopRequireDefault"),c.default=f.default||function(m){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(m[i]=o[i])}return m}},QhKv:function(U,c,d){"use strict";U.exports=h;var v=d("LDIi");(h.prototype=Object.create(v.prototype)).constructor=h;var f=d("j4TH");function h(m){v.call(this,m)}r(h,"BufferReader"),h._configure=function(){f.Buffer&&(h.prototype._slice=f.Buffer.prototype.slice)},h.prototype.string=r(function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},"read_string_buffer"),h._configure()},QzVx:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");c.default=v},"R+jL":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}},"DevicePixelRatioWindowSource");c.default=v},R4Nl:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0}),c.getFormattedOffset=c.getDefaultAssetSpec=c.toLowerCasePropertyNames=c.isIFramed=c.wait=void 0;const f=v(d("59sL"));function h(e){return new Promise(t=>setTimeout(t,e))}r(h,"wait"),c.wait=h;function m(){var e;try{return((e=window.frameElement)===null||e===void 0?void 0:e.nodeName)==="IFRAME"||parent!==top}catch{return!0}}r(m,"isIFramed"),c.isIFramed=m;function a(e){return e===null?null:typeof e!="object"?e:Array.isArray(e)?e.map(a):Object.keys(e).reduce((t,n)=>{const s=e[n],p=typeof s=="object"?a(s):s;return t[n.toLowerCase()]=p,t},{})}r(a,"toLowerCasePropertyNames"),c.toLowerCasePropertyNames=a;function o(){const e=f.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}r(o,"getDefaultAssetSpec"),c.getDefaultAssetSpec=o;function i(e){const t=Math.abs(e),n=e<=0?"+":"-",s=Math.floor(t/60).toString().padStart(2,"0"),p=Math.floor(t%60).toString().padStart(2,"0");return`${n}${s}:${p}`}r(i,"getFormattedOffset"),c.getFormattedOffset=i},R9j3:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(l,E,O,P){function x(k){return k instanceof O?k:new O(function(B){B(k)})}return r(x,"adopt"),new(O||(O=Promise))(function(k,B){function R(A){try{w(P.next(A))}catch(D){B(D)}}r(R,"fulfilled");function N(A){try{w(P.throw(A))}catch(D){B(D)}}r(N,"rejected");function w(A){A.done?k(A.value):x(A.value).then(R,N)}r(w,"step"),w((P=P.apply(l,E||[])).next())})},f=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("uCvS")),m=f(d("LmyK")),a=f(d("mpmV")),o=f(d("Xf/8")),i=f(d("NE7a")),e=f(d("tcc5")),t=f(d("dPBs")),n=f(d("8wPz")),s=d("f2XL"),p=d("KyYT"),g=f(d("J+fJ")),S=f(d("DG83"));let u=r(class Fd{toAttribute(E){return this.toSuffix(E).substring(1)}toSuffix(E){return E.toLowerCase()===E?`_${E}`:E.toUpperCase()===E?`_${E.toLowerCase()}`:E.replace(/([A-Z][a-z]+)/g,function(O){return`_${O}`}).replace(/([A-Z][A-Z]+)/g,function(O){return`_${O}`}).toLowerCase()}logLatency(E,O,P){const x=this.toSuffix(E);this.logEventTime("meeting"+x,O,P)}logStateTimeout(E,O){const P=this.toSuffix(E);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},O),{state:`state${P}`}))}logAudioEvent(E,O){const P="audio"+this.toSuffix(g.default[E]);this.logEvent(P,O)}logVideoEvent(E,O){const P="video"+this.toSuffix(S.default[E]);this.logEvent(P,O)}logEventTime(E,O){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x=Object.assign(Object.assign({},P),{call_id:this.audioVideoController.configuration.meetingId,client_type:Fd.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${E}: ${JSON.stringify(x)}`),this.metricsAddTime(E,O,x)}logMeetingSessionStatus(E){const O=`${E.statusCode()}`;this.logEvent(O);const P={status:O,status_code:`${E.statusCode()}`};this.logEvent("meeting_session_status",P),E.isTerminal()&&this.logEvent("meeting_session_stopped",P),E.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",P),E.isFailure()&&this.logEvent("meeting_session_failed",P)}logLifecycleEvent(E,O){const P={lifecycle_event:`lifecycle${this.toSuffix(e.default[E])}`,lifecycle_event_code:`${E}`,lifecycle_event_condition:`condition${this.toSuffix(t.default[O])}`,lifecycle_event_condition_code:`${O}`};this.logEvent("meeting_session_lifecycle",P)}logEvent(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const P=Object.assign(Object.assign({},O),{call_id:this.audioVideoController.configuration.meetingId,client_type:Fd.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${E}: ${JSON.stringify(P)}`),this.metricsLogEvent(E,P)}start(E,O){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=E,this.videoStreamIndex=O,this.clientMetricReport=new h.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new n.default(this.interval),this.intervalScheduler.start(()=>v(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(E,O){const P=O?this.clientMetricReport.streamMetricReports[Number(E.ssrc)]:this.clientMetricReport.globalMetricReport;let x;O?x=this.clientMetricReport.getMetricMap(P.mediaType,P.direction):x=this.clientMetricReport.getMetricMap();for(const k in E)k in x&&(typeof E[k]=="number"?(P.previousMetrics[k]=P.currentMetrics[k],P.currentMetrics[k]=E[k]):typeof E[k]=="string"?P.currentStringMetrics[k]=E[k]:typeof E[k]=="object"?(P.previousObjectMetrics[k]=P.currentObjectMetrics[k]===void 0?E[k]:P.currentObjectMetrics[k],P.currentObjectMetrics[k]=E[k]):this.logger.error(`Unknown metric value type ${typeof E[k]} for metric ${k}`))}processRawMetricReports(E){this.clientMetricReport.currentSsrcs={};const O=Date.now();for(const P of E){const x=this.isStreamRawMetricReport(P.type);if(x){const k=this.clientMetricReport.streamMetricReports[Number(P.ssrc)];if(k)k.streamId=this.videoStreamIndex.streamIdForSSRC(Number(P.ssrc));else{const B=new i.default;B.mediaType=this.getMediaType(P),B.direction=this.getDirectionType(P),this.videoStreamIndex.allStreams().empty()||(B.streamId=this.videoStreamIndex.streamIdForSSRC(Number(P.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(B.groupId=this.videoStreamIndex.groupIdForSSRC(Number(P.ssrc)))),this.clientMetricReport.streamMetricReports[Number(P.ssrc)]=B}this.clientMetricReport.currentSsrcs[Number(P.ssrc)]=1}this.updateMetricValues(P,x)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=O,this.clientMetricReport.print()}addStreamMetricDimensionFrames(E,O){const P=this.clientMetricReport.getStreamDimensionMap();for(const x in O.currentStringMetrics)if(x in P){const k=s.SdkStreamDimension.create();k.type=P[x];const B=s.SdkDimensionValue.create();B.stringValue=O.currentStringMetrics[x],k.value=B,E.dimensions.push(k)}}addMetricFrame(E,O,P,x){const k=P.type,B=P.transform,R=P.source,N=O.streamMetricFrames.length,w=O.streamMetricFrames[N-1];if(k){const A=s.SdkMetric.create();A.type=k,A.value=B(R||E,x),x?w.metrics.push(A):O.globalMetrics.push(A)}}addGlobalMetricsToProtobuf(E){const O=this.clientMetricReport.getMetricMap();for(const P in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(P,E,O[P])}addStreamMetricsToProtobuf(E){for(const O in this.clientMetricReport.streamMetricReports){const P=this.clientMetricReport.streamMetricReports[O],x=s.SdkStreamMetricFrame.create();x.streamId=P.streamId,x.metrics=[],this.addStreamMetricDimensionFrames(x,P),E.streamMetricFrames.push(x);const k=this.clientMetricReport.getMetricMap(P.mediaType,P.direction);for(const B in P.currentMetrics)this.addMetricFrame(B,E,k[B],Number(O));for(const B in P.currentStringMetrics)this.addMetricFrame(B,E,k[B],Number(O));for(const B in P.currentObjectMetrics)this.addMetricFrame(B,E,k[B],Number(O))}}makeClientMetricProtobuf(){const E=s.SdkClientMetricFrame.create();return E.globalMetrics=[],E.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(E),this.addStreamMetricsToProtobuf(E),E}sendClientMetricProtobuf(E){this.signalingClient.sendClientMetrics(E)}isStreamRawMetricReport(E){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(E)}getMediaType(E){return E.kind==="audio"?a.default.AUDIO:a.default.VIDEO}getDirectionType(E){const{type:O}=E;return O==="inbound-rtp"||O==="remote-outbound-rtp"||O==="inbound-rtp-red"?m.default.DOWNSTREAM:m.default.UPSTREAM}isValidStandardRawMetric(E){return E.type==="inbound-rtp"||E.type==="inbound-rtp-red"||E.type==="outbound-rtp"||E.type==="remote-inbound-rtp"||E.type==="remote-outbound-rtp"||E.type==="candidate-pair"&&E.state==="succeeded"||E.type==="media-source"&&E.kind==="audio"}isValidSsrc(E){let O=!0;return this.isStreamRawMetricReport(E.type)&&this.getDirectionType(E)===m.default.DOWNSTREAM&&this.getMediaType(E)===a.default.VIDEO&&(O=this.videoStreamIndex.streamIdForSSRC(Number(E.ssrc))>0),O}isValidRawMetricReport(E){return this.isValidStandardRawMetric(E)&&this.isValidSsrc(E)}filterRawMetricReports(E){const O=[];for(const P of E)this.isValidRawMetricReport(P)&&O.push(P);return O}handleRawMetricReports(E){const O=this.filterRawMetricReports(E);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(O)}`);const P=[];this.maybeAddRedRecoveryMetrics(P),this.clientMetricReport.customStatsReports=P,O.push(...P),this.processRawMetricReports(O);const x=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(x),this.audioVideoController.forEachObserver(k=>{p.Maybe.of(k.metricsDidReceive).map(B=>B.bind(k)(this.clientMetricReport.clone()))})}getStatsWrapper(){return v(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const E=[];try{const O=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=O,O.forEach(P=>{E.push(P)}),this.handleRawMetricReports(E)}catch(O){this.logger.error(O.message)}})}overrideObservableMetric(E,O){this.clientMetricReport.overrideObservableMetric(E,O)}recoveryMetricsDidReceive(E){this.redRecoveryMetricReport=E}maybeAddRedRecoveryMetrics(E){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(E.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}constructor(E,O,P=Fd.INTERVAL_MS){this.audioVideoController=E,this.logger=O,this.interval=P,this.intervalScheduler=null,this.redRecoveryMetricReport=new o.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.metricsAddTime=(x,k,B)=>{},this.metricsLogEvent=(x,k)=>{}}},"StatsCollector");c.default=u,u.INTERVAL_MS=1e3,u.CLIENT_TYPE="amazon-chime-sdk-js"},RGQ0:function(U,c,d){"use strict";c.__esModule=!0,c.default=v;function v(f,h){return f.classList?!!h&&f.classList.contains(h):(" "+(f.className.baseVal||f.className)+" ").indexOf(" "+h+" ")!==-1}r(v,"hasClass"),U.exports=c.default},RPF1:function(U,c,d){"use strict";d.d(c,"a",function(){return f});function v(h,m){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():r(function(o,i){return o.__proto__=i,o},"_setPrototypeOf"),v(h,m)}r(v,"_setPrototypeOf");function f(h,m){h.prototype=Object.create(m.prototype),h.prototype.constructor=h,v(h,m)}r(f,"_inheritsLoose")},RUbL:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(B,R,N,w){function A(D){return D instanceof N?D:new N(function(K){K(D)})}return r(A,"adopt"),new(N||(N=Promise))(function(D,K){function X(me){try{te(w.next(me))}catch(we){K(we)}}r(X,"fulfilled");function j(me){try{te(w.throw(me))}catch(we){K(we)}}r(j,"rejected");function te(me){me.done?D(me.value):A(me.value).then(X,j)}r(te,"step"),te((w=w.apply(B,R||[])).next())})},f=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54")),m=f(d("Y8b2")),a=f(d("6/h7")),o=f(d("o13v")),i=d("KyYT"),e=f(d("FxSh")),t=f(d("JTre")),n=d("NDMw"),s=f(d("DbLV")),p=f(d("xzjI")),g=f(d("B7cK")),S=f(d("UW8m")),u=f(d("XhYu")),l=f(d("V4cD")),E=f(d("SgmS")),O=f(d("dWQL")),P=d("dWP+");let x=r(class Li{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var R;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(R=this.mediaDeviceWrapper)===null||R===void 0||R.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var R;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(R=this.mediaDeviceWrapper)===null||R===void 0||R.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return v(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const N=yield this.listDevicesOfKind("audioinput",R);return this.trace("listAudioInputDevices",R,N),N})}listVideoInputDevices(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const N=yield this.listDevicesOfKind("videoinput",R);return this.trace("listVideoInputDevices",R,N),N})}listAudioOutputDevices(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const N=yield this.listDevicesOfKind("audiooutput",R);return this.trace("listAudioOutputDevices",R,N),N})}pushAudioMeetingStateForPermissions(R){var N;(N=this.eventController)===null||N===void 0||N.publishEvent(R===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(R){var N;(N=this.eventController)===null||N===void 0||N.publishEvent(R===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(R){return v(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(R))})}startAudioInputTask(R){var N;return v(this,void 0,void 0,function*(){if(R===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return n.isAudioTransformDevice(R)?(this.logger.info(`Choosing transform input device ${R}`),yield this.chooseAudioTransformInputDevice(R)):(this.logger.info(`Choosing intrinsic audio input device ${R}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",R)),this.trace("startAudioInputDevice",R,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(N=this.transform)===null||N===void 0?void 0:N.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(w){throw w}})}stopAudioInput(){return v(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return v(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(R){var N;return v(this,void 0,void 0,function*(){if(((N=this.transform)===null||N===void 0?void 0:N.device)===R)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const w=Li.getAudioContext();if(!(w instanceof OfflineAudioContext))switch(w.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield w.resume()}let A;try{A=yield R.createAudioNode(w)}catch(K){throw this.logger.error(`Unable to create transform device node: ${K}.`),K}const D=yield R.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",D),this.logger.debug(`Got inner stream: ${D}.`),this.setTransform(R,A)})}chooseVideoTransformInputDevice(R){var N;return v(this,void 0,void 0,function*(){if(this.eventController&&R instanceof e.default&&R.passEventControllerToProcessors(this.eventController),R===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const w=this.chosenVideoTransformDevice;w&&this.logger.info("Switched from previous VideoTransformDevice");const A=!!w,D=yield R.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((N=this.activeDevices.video)===null||N===void 0?void 0:N.stream,D)){this.logger.info("video transform device needs new intrinsic device"),A&&w.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=R,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",D),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=R,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield R.transformStream(this.activeDevices.video.stream)})}startVideoInput(R){return v(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(R))})}startVideoInputTask(R){return v(this,void 0,void 0,function*(){if(!R){this.logger.error("Invalid video input device");return}try{return P.isVideoTransformDevice(R)?(this.logger.info(`Choosing video transform device ${R}`),yield this.chooseVideoTransformInputDevice(R),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",R),this.trace("startVideoInputDevice",R),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(N){throw N}})}stopVideoInput(){return v(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return v(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(R){return v(this,void 0,void 0,function*(){this.audioOutputDeviceId=R,this.watchForDeviceChangesIfNecessary();const N=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(N),this.trace("chooseAudioOutput",R,null)})}addDeviceChangeObserver(R){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(R),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(R){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(R),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var R,N;if(!this.activeDevices.audio)return null;const w=(N=(R=this.transform)===null||R===void 0?void 0:R.nodes)===null||N===void 0?void 0:N.end;if(w){const A=w.context.createAnalyser();return A.removeOriginalInputs=()=>{try{w.disconnect(A)}catch{}},w.connect(A),A}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(R){const N=Li.getAudioContext(),w=N.createAnalyser(),A=N.createMediaStreamSource(R);return A.connect(w),this.trace("createAnalyserNodeForAudioInput"),w.removeOriginalInputs=()=>{try{A.disconnect(w)}catch{}},w}startVideoPreviewForVideoInput(R){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",R.id);return}t.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,R,!0),this.trace("startVideoPreviewForVideoInput",R.id)}stopVideoPreviewForVideoInput(R){t.default.disconnectVideoStreamFromVideoElement(R,!1),this.trace("stopVideoPreviewForVideoInput",R.id)}setDeviceLabelTrigger(R){if(this.deviceInfoCache){for(const N of this.deviceInfoCache)if(!N.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=R,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(R){let N=null;return this.useWebAudio?(N=Li.getAudioContext().createMediaStreamSource(R),N.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",R.id),N}chooseVideoInputQuality(R,N,w){const A=this.browserBehavior.requiresResolutionAlignment(R,N);this.videoInputQualitySettings=new O.default(A[0],A[1],w)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return v(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return v(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(R){return v(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(R){const N=this.activeDevices[R];if(!N)return;const w=N.endedCallback,A=N.trackMuteCallback,D=N.trackUnmuteCallback;for(const K of N.stream.getTracks())K.stop(),w&&K.removeEventListener("ended",w),A&&K.removeEventListener("mute",A),D&&K.removeEventListener("unmute",D),delete N.endedCallback,delete N.trackMuteCallback,delete N.trackUnmuteCallback,delete this.activeDevices[R]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(R){var N;let w=this.activeDevices.audio;if(this.useWebAudio&&(w=this.getMediaStreamDestinationNode()),!!w){for(const A of w.stream.getTracks())A.enabled!==R&&(A.enabled=R);this.muted!==!R&&(this.muted=!R,(N=this.transform)===null||N===void 0||N.device.mute(this.muted))}}static getIntrinsicDeviceId(R){if(!R)return;if(typeof R=="string")return R;if(R.id)return R.id;const w=R.deviceId;if(!w)return;if(typeof w=="string"||Array.isArray(w))return w;const A=w;if(typeof A.exact=="string"||Array.isArray(A.exact))return A.exact}static createEmptyAudioDevice(){return Li.synthesizeAudioDevice(0)}static synthesizeAudioDevice(R){const N=Li.getAudioContext(),w=N.createMediaStreamDestination();if(R){const A=N.createGain();A.gain.value=.1,A.connect(w);const D=N.createOscillator();D.frequency.value=R,D.connect(A),D.start()}else{const A=N.createBufferSource();try{A.buffer=N.createBuffer(1,N.sampleRate*5,N.sampleRate)}catch(D){if(D&&D.name==="NotSupportedError")A.buffer=N.createBuffer(1,Li.defaultSampleRate*5,Li.defaultSampleRate);else throw D}A.buffer.getChannelData(0)[0]=3e-4,A.loop=!0,A.connect(w),A.start()}return w.stream}listDevicesOfKind(R,N){return v(this,void 0,void 0,function*(){return(N||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(R)})}updateDeviceInfoCacheFromBrowser(){var R;return v(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let w=yield navigator.mediaDevices.enumerateDevices(),A=!0;for(const D of w)if(!D.label){A=!1;break}if(!A)try{this.logger.info("attempting to trigger media device labels since they are hidden");const D=yield this.deviceLabelTrigger();w=yield navigator.mediaDevices.enumerateDevices();for(const K of D.getTracks())K.stop()}catch(D){this.logger.info("unable to get media device labels"),(R=this.eventController)===null||R===void 0||R.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(D)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(w)}`),this.deviceInfoCache=w})}listCachedDevicesOfKind(R){const N=[];if(this.deviceInfoCache)for(const w of this.deviceInfoCache)w.kind===R&&N.push(w);return N}handleDeviceChange(){return v(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){a.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const R=this.listCachedDevicesOfKind("audioinput"),N=this.listCachedDevicesOfKind("videoinput"),w=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const A=this.listCachedDevicesOfKind("audioinput"),D=this.listCachedDevicesOfKind("videoinput"),K=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(X=>{this.areDeviceListsEqual(R,A)||i.Maybe.of(X.audioInputsChanged).map(j=>j.bind(X)(A)),this.areDeviceListsEqual(N,D)||i.Maybe.of(X.videoInputsChanged).map(j=>j.bind(X)(D)),this.areDeviceListsEqual(w,K)||i.Maybe.of(X.audioOutputsChanged).map(j=>j.bind(X)(K))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(R,N){return v(this,void 0,void 0,function*(){try{R==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}R==="audio"?this.forEachObserver(w=>{i.Maybe.of(w.audioInputStreamEnded).map(A=>A.bind(w)(N))}):this.forEachObserver(w=>{i.Maybe.of(w.videoInputStreamEnded).map(A=>A.bind(w)(N))})})}forEachObserver(R){for(const N of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(N)&&R(N)})}forEachMediaStreamBrokerObserver(R){for(const N of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(N)&&R(N)})}areDeviceListsEqual(R,N){return JSON.stringify(R.map(w=>JSON.stringify(w)).sort())===JSON.stringify(N.map(w=>JSON.stringify(w)).sort())}intrinsicDeviceAsMediaStream(R){return R&&R.id?R:null}hasSameMediaStreamId(R,N,w){var A,D,K,X;let j;return R==="audio"?(j=w==null?void 0:w.audio.streamId,!!j&&j===((D=(A=N.constraints)===null||A===void 0?void 0:A.audio)===null||D===void 0?void 0:D.streamId)):(j=w==null?void 0:w.video.streamId,!!j&&j===((X=(K=N==null?void 0:N.constraints)===null||K===void 0?void 0:K.video)===null||X===void 0?void 0:X.streamId))}hasSameGroupId(R,N,w){if(R==="")return!0;const A=Li.getIntrinsicDeviceId(w);return this.logger.debug(`Checking deviceIds ${A} of type ${typeof A} with groupId ${R}`),typeof A=="string"&&R===this.getGroupIdFromDeviceId(N,A)}getGroupIdFromDeviceId(R,N){if(this.deviceInfoCache!==null){const w=this.listCachedDevicesOfKind(`${R}input`).find(A=>A.deviceId===N);if(w&&w.groupId)return this.logger.debug(`GroupId of deviceId ${N} found in cache is ${w.groupId}`),w.groupId}return this.logger.debug(`GroupId of deviceId ${N} found in cache is empty`),""}handleGetUserMediaError(R,N){if(!R)throw new p.default(R);switch(R.name){case"NotReadableError":case"TrackStartError":throw new S.default(R);case"NotFoundError":case"DevicesNotFoundError":throw new g.default(R);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw N&&N<Li.permissionDeniedOriginDetectionThresholdMs?new l.default(R,"Permission denied by browser"):new l.default(R,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new u.default(R);case"TypeError":throw new E.default(R);case"AbortError":default:throw new p.default(R)}}matchesDeviceSelection(R,N,w,A){return w&&w.stream.active&&(this.hasSameMediaStreamId(R,w,A)||w.groupId!==null&&this.hasSameGroupId(w.groupId,R,N))?(this.logger.debug(`Compare current device constraint ${JSON.stringify(w.constraints)} to proposed constraints ${JSON.stringify(A)}`),w.matchesConstraints(A)):!1}chooseInputIntrinsicDevice(R,N){var w,A;return v(this,void 0,void 0,function*(){const D=this.getMediaStreamConstraints(R,N);if(this.matchesDeviceSelection(R,N,this.activeDevices[R],D)){this.logger.info(`reusing existing ${R} input device`);return}this.activeDevices[R]&&this.activeDevices[R].stream&&this.stopTracksAndRemoveCallbacks(R);const K=Date.now(),X=new s.default;try{this.logger.info(`requesting new ${R} device with constraint ${JSON.stringify(D)}`);const j=this.intrinsicDeviceAsMediaStream(N);R==="audio"&&N===null?(X.stream=Li.createEmptyAudioDevice(),X.constraints=null):j?(this.logger.info(`using media stream ${j.id} for ${R} device`),X.stream=j,X.constraints=D):(X.stream=yield navigator.mediaDevices.getUserMedia(D),X.constraints=D),yield this.handleNewInputDevice(R,X)}catch(j){const te=this.getErrorMessage(j);R==="audio"?(w=this.eventController)===null||w===void 0||w.publishEvent("audioInputFailed",{audioInputErrorMessage:te}):(A=this.eventController)===null||A===void 0||A.publishEvent("videoInputFailed",{videoInputErrorMessage:te}),this.logger.error(`failed to get ${R} device for constraints ${JSON.stringify(D)}: ${te}`);let me=!0;if(j&&"constraint"in j&&(this.logger.error(`Over-constrained by constraint: ${j.constraint}`),this.useMediaConstraintsFallback)){const we=this.getMediaStreamConstraints(R,N,!0),pe=JSON.stringify(we);if(pe!==JSON.stringify(D)){this.logger.info(`retry requesting new ${R} device with minimal constraint ${pe}`);try{X.stream=yield navigator.mediaDevices.getUserMedia(we),X.constraints=we,yield this.handleNewInputDevice(R,X),me=!1}catch(Ae){this.logger.error(`failed to get ${R} device for constraints ${pe}: ${this.getErrorMessage(Ae)}`)}}}if(me){if(R==="audio"){this.logger.info(`choosing null ${R} device instead`);try{X.stream=Li.createEmptyAudioDevice(),X.constraints=null,yield this.handleNewInputDevice(R,X)}catch(we){this.logger.error(`failed to choose null ${R} device. ${we.name}: ${we.message}`)}}this.handleGetUserMediaError(j,Date.now()-K)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(R){return R?R.name&&R.message?`${R.name}: ${R.message}`:R.name?R.name:R.message?R.message:"UnknownError":"UnknownError"}handleNewInputDevice(R,N){var w;return v(this,void 0,void 0,function*(){this.logger.info(`got ${R} device for constraints ${JSON.stringify(N.constraints)}`);const A=(w=this.getMediaTrackSettings(N.stream))===null||w===void 0?void 0:w.deviceId;N.groupId=A?this.getGroupIdFromDeviceId(R,A):"",this.activeDevices[R]=N,this.logger.debug(`Set activeDevice to ${JSON.stringify(N)}`),this.watchForDeviceChangesIfNecessary();const D=N.stream.getTracks()[0];if(D&&(N.endedCallback=()=>{this.activeDevices[R]&&this.activeDevices[R].stream===N.stream&&(this.handleDeviceStreamEnded(R,A),delete N.endedCallback)},D.addEventListener("ended",N.endedCallback,{once:!0})),R==="audio"){const K=N.stream.getAudioTracks()[0];if(K){const X=K.getSettings().deviceId||N.stream;N.trackMuteCallback=()=>{this.mediaStreamMuteObserver(X,!0)},N.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(X,!1)},K.addEventListener("mute",N.trackMuteCallback,{once:!1}),K.addEventListener("unmute",N.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),K.muted?N.trackMuteCallback():N.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(R,N,w,A){if(A&&this.listCachedDevicesOfKind(`${R}input`).length===1)return!0;const D={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?D.deviceId=N:D.deviceId={exact:N},w&&(D.groupId=w),A?D:R==="video"?(D.width={ideal:this.videoInputQualitySettings.videoWidth},D.height={ideal:this.videoInputQualitySettings.videoHeight},D.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},D):(this.supportSampleRateConstraint()&&(D.sampleRate={ideal:Li.defaultSampleRate}),this.supportSampleSizeConstraint()&&(D.sampleSize={ideal:Li.defaultSampleSize}),this.supportChannelCountConstraint()&&(D.channelCount={ideal:Li.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},D))}getMediaStreamConstraintsFromTrackConstraints(R,N){return R==="audio"?{audio:N}:{video:N}}getMediaStreamConstraints(R,N){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A={};if(!N)return null;const D=this.intrinsicDeviceAsMediaStream(N);if(D)return A.streamId=D.id,this.getMediaStreamConstraintsFromTrackConstraints(R,A);if(typeof N=="string"){let K="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?K=this.getGroupIdFromDeviceId(R,N):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),A=this.calculateMediaStreamConstraints(R,N,K,w),this.getMediaStreamConstraintsFromTrackConstraints(R,A)}return k(N)?(A=this.calculateMediaStreamConstraints(R,N.deviceId,N.groupId,w),this.getMediaStreamConstraintsFromTrackConstraints(R,A)):(A=N,this.getMediaStreamConstraintsFromTrackConstraints(R,A))}deviceInfoFromDeviceId(R,N){if(this.deviceInfoCache===null)return null;for(const w of this.deviceInfoCache)if(w.kind===R&&w.deviceId===N)return w;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(R,N){if(!R||!R.active||!N)return!1;if(N.id)return R.id===N.id;const w=this.getMediaTrackSettings(R);if(!w.deviceId)return!1;const A=Li.getIntrinsicDeviceId(N);return typeof A=="string"?w.deviceId===A:!1}getMediaTrackSettings(R){var N;return(N=R.getTracks()[0])===null||N===void 0?void 0:N.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const R=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(R)}setTransform(R,N){var w,A;(A=(w=this.transform)===null||w===void 0?void 0:w.nodes)===null||A===void 0||A.end.disconnect(),this.transform={nodes:N,device:R};const D=N==null?void 0:N.end,K=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${D} to destination ${K}.`),D==null||D.connect(K),this.reconnectAudioInputs()}removeTransform(){var R;const N=this.transform;if(N)return(R=this.transform.nodes)===null||R===void 0||R.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),N}attachAudioInputStreamToAudioContext(R){var N;(N=this.audioInputSourceNode)===null||N===void 0||N.disconnect(),this.audioInputSourceNode=Li.getAudioContext().createMediaStreamSource(R);const w=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(w)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=Li.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var R,N;return((N=(R=this.transform)===null||R===void 0?void 0:R.nodes)===null||N===void 0?void 0:N.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(R){Li.defaultLatencyHint=R}static getAudioContext(){if(!Li.audioContext){const R={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(R.sampleRate=Li.defaultSampleRate),new h.default().requiresPlaybackLatencyHintForAudioContext()&&(R.latencyHint="playback"),Li.defaultLatencyHint&&(R.latencyHint=Li.defaultLatencyHint),Li.audioContext=new(window.AudioContext||window.webkitAudioContext)(R)}return Li.audioContext}static closeAudioContext(){if(Li.audioContext)try{Li.audioContext.close()}catch{}Li.audioContext=null}addMediaStreamBrokerObserver(R){this.mediaStreamBrokerObservers.add(R)}removeMediaStreamBrokerObserver(R){this.mediaStreamBrokerObservers.delete(R)}publishVideoInputDidChangeEvent(R){this.forEachMediaStreamBrokerObserver(N=>{N.videoInputDidChange&&N.videoInputDidChange(R)}),this.pushVideoMeetingStateForPermissions(R)}publishAudioInputDidChangeEvent(R){this.forEachMediaStreamBrokerObserver(N=>{N.audioInputDidChange&&N.audioInputDidChange(R)}),this.pushAudioMeetingStateForPermissions(R)}publishAudioOutputDidChangeEvent(R){this.forEachMediaStreamBrokerObserver(N=>{N.audioOutputDidChange&&N.audioOutputDidChange(R)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(R,N,w){let A=`API/DefaultDeviceController/${R}`;typeof N<"u"&&(A+=` ${JSON.stringify(N)}`),typeof w<"u"&&(A+=` -> ${JSON.stringify(w)}`),this.logger.info(A)}constructor(R,N,w=new h.default,A){this.logger=R,this.browserBehavior=w,this.eventController=A,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new o.default,this.videoInputTaskQueue=new o.default,this.muted=!1,this.mediaStreamMuteObserver=(j,te)=>{for(const me of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(me)&&me.audioInputMuteStateChanged&&me.audioInputMuteStateChanged(j,te)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:D=!1,useMediaConstraintsFallback:K=!0}=N||{};this.useWebAudio=D,this.useMediaConstraintsFallback=K,this.videoInputQualitySettings=new O.default(Li.defaultVideoWidth,Li.defaultVideoHeight,Li.defaultVideoFrameRate);const X=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=X[0],this.videoInputQualitySettings.videoHeight=X[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new m.default().create();const j=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(j)}`)}catch(j){R.error(j.message)}}},"DefaultDeviceController");c.default=x,x.permissionDeniedOriginDetectionThresholdMs=500,x.defaultVideoWidth=960,x.defaultVideoHeight=540,x.defaultVideoFrameRate=15,x.defaultSampleRate=48e3,x.defaultSampleSize=16,x.defaultChannelCount=1,x.audioContext=null;function k(B){return typeof B=="object"&&"deviceId"in B&&"groupId"in B&&"kind"in B&&"label"in B}r(k,"isMediaDeviceInfo")},RfPO:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class xl{static isTimestampRecent(h,m){return Date.now()<h+m}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(h){return xl.isTimestampRecent(this.connectionStartTimestampMs,h)}isLastPacketLossRecent(h){return xl.isTimestampRecent(this.lastPacketLossInboundTimestampMs,h)}isGoodSignalRecent(h){return xl.isTimestampRecent(this.lastGoodSignalTimestampMs,h)}isWeakSignalRecent(h){return xl.isTimestampRecent(this.lastWeakSignalTimestampMs,h)}isNoSignalRecent(h){return xl.isTimestampRecent(this.lastNoSignalTimestampMs,h)}clone(){const h=new xl;return h.connectionStartTimestampMs=this.connectionStartTimestampMs,h.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,h.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,h.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,h.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,h.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,h.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,h.consecutiveMissedPongs=this.consecutiveMissedPongs,h.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),h.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),h.audioSpeakerDelayMs=this.audioSpeakerDelayMs,h}setConsecutiveMissedPongs(h){this.consecutiveMissedPongs=h}setConsecutiveStatsWithNoPackets(h){this.consecutiveStatsWithNoPackets=h}setConsecutiveStatsWithNoAudioPacketsSent(h){this.consecutiveStatsWithNoAudioPacketsSent=h}setLastPacketLossInboundTimestampMs(h){this.lastPacketLossInboundTimestampMs=h}setLastNoSignalTimestampMs(h){this.lastNoSignalTimestampMs=h}setLastWeakSignalTimestampMs(h){this.lastWeakSignalTimestampMs=h}setLastGoodSignalTimestampMs(h){this.lastGoodSignalTimestampMs=h}setAudioSpeakerDelayMs(h){this.audioSpeakerDelayMs=h}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");c.default=v},Rx4Y:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioOutputFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed"})(v=c.CheckAudioOutputFeedback||(c.CheckAudioOutputFeedback={})),c.default=v},S4vA:function(U,c){U.exports=function(d){try{return!!d()}catch{return!0}}},SEkw:function(U,c,d){U.exports={default:d("N4c9"),__esModule:!0}},SM5d:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptLanguageWithScore");c.default=v},SO8M:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Sa54"));let h=r(class Ud{static fullbandSpeechMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Ud(4e4,a)}static fullbandMusicMono(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Ud(64e3,a)}static fullbandMusicStereo(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new Ud(128e3,a)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}constructor(a=null,o=!0){this.audioBitrateBps=a,this.enableAudioRedundancy=!new f.default().hasFirefoxWebRTC()&&o}},"AudioProfile");c.default=h},Sa54:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("e0ae"),h=d("K4CH");let m=r(class Nf{version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const o of this.chromeLike)if(o===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const o of this.webkitBrowsers)if(o===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Nf.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Nf.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(o,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(o/64)*64,Math.ceil(i/64)*64]:[o,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const o=[];for(const i in this.browserSupport)o.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return o.join(", ")}supportedVideoCodecs(){return v(this,void 0,void 0,function*(){const o=new RTCPeerConnection;return o.addTransceiver("video",{direction:"inactive",streams:[]}),(yield o.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=f.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");c.default=m,m.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,m.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},SdmA:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.VideoInputRequestFailed=1]="VideoInputRequestFailed",f[f.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.VideoNotSent=4]="VideoNotSent"})(v=c.CheckVideoConnectivityFeedback||(c.CheckVideoConnectivityFeedback={})),c.default=v},SgmS:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("xzjI"));let h=r(class extends f.default{constructor(a){super(a),this.name="TypeError"}},"TypeError");c.default=h},SkeG:function(U,c,d){"use strict";var v=d("GhSp"),f=d("ENu8");U.exports=function(h,m,a){m in h?v.f(h,m,f(0,a)):h[m]=a}},Sl5A:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.IDLE="IDLE",f.RUNNING="RUNNING",f.CANCELED="CANCELED",f.FINISHED="FINISHED"})(v||(v={})),c.default=v},Sz6V:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}constructor(h,m){this.signalingURL=h,this.joinToken=m}},"SignalingClientConnectionRequest");c.default=v},"T44/":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0}),c.VideoPreferences=c.MutableVideoPreferences=c.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const f=v(d("bQ+R"));function h(e,t,n){if(e.transceiverController.getMidForGroupId===void 0||e.videoStreamIndex.attendeeIdForGroupId===void 0||n===void 0)return[];const s=new Array,p=new Map,g=new Map;for(const S of t){const u=e.transceiverController.getMidForGroupId(S);if(u===void 0)continue;const l=e.videoStreamIndex.attendeeIdForGroupId(S);p.set(l,u),g.set(l,S)}for(const S of n){const u=new f.default,l=p.get(S.attendeeId);l!==void 0&&(u.mid=l,u.attendeeId=S.attendeeId,u.groupId=g.get(S.attendeeId),u.priority=Number.MAX_SAFE_INTEGER-S.priority,u.targetBitrateKbps=S.targetSizeToBitrateKbps(S.targetSize),s.push(u))}return s}r(h,"convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration"),c.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=h;let m=r(class Bf{static default(){return new Bf([])}[Symbol.iterator](){let t=0;const n=this.items;return{next(){return t<n.length?{done:!1,value:n[t++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(t){this.items.push(t)}replaceFirst(t,n){const s=this.items.findIndex(n);s===-1?this.items.push(t):this.has(t)?this.items.splice(s,1):this.items[s]=t}remove(t){this.items=this.items.filter(n=>!n.equals(t))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(const n of this.items)if(!t.items.some(s=>s.equals(n)))return!1;return!0}has(t){return this.items.some(n=>n.equals(t))}some(t){return this.items.some(t)}clone(){return new Bf([...this.items])}sort(){this.items.sort((t,n)=>t.partialCompare(n))}modify(){return new a(this)}constructor(t=[]){this.items=t}},"ObjectSet"),a=r(class{cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(t){this.items.has(t)||(this.cow(),this.items.add(t))}replaceFirst(t,n){this.items.has(t)&&!this.items.some(n)||(this.cow(),this.items.replaceFirst(t,n))}remove(t){this.items.has(t)&&(this.cow(),this.items.remove(t))}some(t){return this.items.some(t)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}constructor(t=new m){this.items=t,this.copied=!1}},"SetBuilder"),o=r(class{add(t){this.builder.add(t)}replaceFirst(t,n){this.builder.replaceFirst(t,n)}remove(t){this.builder.remove(t)}some(t){return this.builder.some(t)}clear(){this.builder.clear()}build(){return new i(this.builder.build())}constructor(t){this.builder=t}},"MutableVideoPreferences");c.MutableVideoPreferences=o;let i=r(class Ff{static prepare(){return new o(new a)}static default(){return new Ff(m.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var t;return(t=this.items.first())===null||t===void 0?void 0:t.priority}sorted(){return this.items[Symbol.iterator]()}equals(t){return t===this||this.items.equals(t.items)}modify(){return new o(this.items.modify())}some(t){return this.items.some(t)}isEmpty(){return this.items.isEmpty()}clone(){const t=Ff.prepare();for(const n of this.items)t.add(n.clone());return t.build()}constructor(t){this.items=t}},"VideoPreferences");c.VideoPreferences=i,c.default=i},TSC6:function(U,c,d){var v=d("GRew"),f=d("ENu8"),h=d("bKEA"),m=d("M5dz"),a=d("nA4W"),o=d("+vXQ"),i=Object.getOwnPropertyDescriptor;c.f=d("C61u")?i:r(function(t,n){if(t=h(t),n=m(n,!0),o)try{return i(t,n)}catch{}if(a(t,n))return f(!v.f.call(t,n),t[n])},"getOwnPropertyDescriptor")},TYXu:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}},"RealtimeState");c.default=v},TYje:function(U,c){var d={}.toString;U.exports=function(v){return d.call(v).slice(8,-1)}},TdKi:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("hlxM"),h=d("nSNv"),m={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let o=r(class extends h.VoiceFocusAudioWorkletNode{enable(){return v(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,m.enabled,a.enabled),Atomics.notify(this.state,m.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return v(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,m.enabled,a.disabled),Atomics.notify(this.state,m.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return v(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,m.enabled,a.stopped),Atomics.notify(this.state,m.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const n=e.data;switch(n.message){case"ready":if(!n.shared)throw new Error("No shared state.");this.state=new Int32Array(n.shared.state),this.port.postMessage(n);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(n);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(n);break;default:return}}onProcessorMessage(e){var t;const n=e.data;switch(n.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,resamplerURL:s,worker:p,fetchBehavior:g,delegate:S}=t;this.delegate=S,this.worker=p,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:u,supportFarendStream:l}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:u,model:n,supportFarendStream:l});const E=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:E,key:"resampler",fetchBehavior:g,path:s})}},"VoiceFocusWorkerBufferNode");c.default=o},Temt:function(U,c){U.exports=function(d,v,f){var h=f===void 0;switch(v.length){case 0:return h?d():d.call(f);case 1:return h?d(v[0]):d.call(f,v[0]);case 2:return h?d(v[0],v[1]):d.call(f,v[0],v[1]);case 3:return h?d(v[0],v[1],v[2]):d.call(f,v[0],v[1],v[2]);case 4:return h?d(v[0],v[1],v[2],v[3]):d.call(f,v[0],v[1],v[2],v[3])}return d.apply(f,v)}},TnF5:function(U,c,d){d("4Zg2")("observable")},Trx6:function(U,c,d){var v=d("TYje");U.exports=Array.isArray||r(function(h){return v(h)=="Array"},"isArray")},Tsvd:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}},"StreamMetricReport");c.default=v},"U++r":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}},"ConnectionHealthPolicyConfiguration");c.default=v},U3GI:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={}}},"GlobalMetricReport");c.default=v},U9CR:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("e0ae"),h=d("K4CH");let m=r(class Uf{version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const o of this.chromeLike)if(o===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const o of this.webkitBrowsers)if(o===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=Uf.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=Uf.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}requiresResolutionAlignment(o,i){return this.isAndroid()&&this.isPixel3()?[Math.ceil(o/64)*64,Math.ceil(i/64)*64]:[o,i]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;const o=[];for(const i in this.browserSupport)o.push(`${this.browserName[i]} ${this.browserSupport[i]}+`);return o.join(", ")}supportedVideoCodecs(){return v(this,void 0,void 0,function*(){const o=new RTCPeerConnection;return o.addTransceiver("video",{direction:"inactive",streams:[]}),(yield o.createOffer({offerToReceiveVideo:!0})).sdp.split(`\r
`).filter(i=>i.includes("a=rtpmap:")).map(i=>i.replace(/.* /,"").replace(/\/.*/,"")).filter((i,e,t)=>t.indexOf(i)===e).filter(i=>i!=="rtx"&&i!=="red"&&i!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=f.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}},"DefaultBrowserBehavior");c.default=m,m.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,m.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},UIXl:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{calculateScore(h,m,a){(a||m===null)&&(m=0),this.volumes.hasOwnProperty(h)||(this.volumes[h]=0),m>this.silenceThreshold?m=1:m=0;const o=this.volumes[h]*this.speakerWeight+m*(1-this.speakerWeight);this.volumes[h]=o;for(const i in this.volumes)i!==h&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*m,0));return o<this.cutoffThreshold?0:o}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}constructor(h=.9,m=.01,a=.2,o=.2){this.speakerWeight=h,this.cutoffThreshold=m,this.silenceThreshold=a,this.takeoverRate=o,this.volumes={}}},"DefaultActiveSpeakerPolicy");c.default=v},ULlC:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("yQ3g"));let h=r(class uv{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(a){this._isFirstConnection=a,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(a,o){const i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=o,this.backoffTimer=new f.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,a()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new uv(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(a){this.lastActiveTimestampMs=a}constructor(a,o){this.reconnectTimeoutMs=a,this.backoffPolicy=o,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");c.default=h},UR8F:function(U,c,d){d("C5kU"),d("ZY/g"),U.exports=d("/NTb").f("iterator")},USwo:function(U,c,d){var v=d("7whZ"),f=d("VSTI"),h=d("nAx8"),m=d("BRsN"),a=d("nA4W"),o="prototype",i=r(function(e,t,n){var s=e&i.F,p=e&i.G,g=e&i.S,S=e&i.P,u=e&i.B,l=e&i.W,E=p?f:f[t]||(f[t]={}),O=E[o],P=p?v:g?v[t]:(v[t]||{})[o],x,k,B;p&&(n=t);for(x in n)k=!s&&P&&P[x]!==void 0,!(k&&a(E,x))&&(B=k?P[x]:n[x],E[x]=p&&typeof P[x]!="function"?n[x]:u&&k?h(B,v):l&&P[x]==B?function(R){var N=r(function(w,A,D){if(this instanceof R){switch(arguments.length){case 0:return new R;case 1:return new R(w);case 2:return new R(w,A)}return new R(w,A,D)}return R.apply(this,arguments)},"F");return N[o]=R[o],N}(B):S&&typeof B=="function"?h(Function.call,B):B,S&&((E.virtual||(E.virtual={}))[x]=B,e&i.R&&O&&!O[x]&&m(O,x,B)))},"$export");i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,U.exports=i},UW8m:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("xzjI"));let h=r(class extends f.default{constructor(a){super(a),this.name="NotReadableError"}},"NotReadableError");c.default=h},V2kw:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const h={};return h.type=this.type,h.v=this.v,h.meetingId=this.meetingId,h.attendeeId=this.attendeeId,h}constructor(h,m,a,o=[]){this.type="Meet",this.v=1,this.meetingId=h,this.attendeeId=m,this.eventsToIgnore=o,this.authenticationToken=a}},"MeetingEventsClientConfiguration");c.default=v},V3UW:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("uctb")),h=v(d("6/h7"));let m=r(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const o of this.dependencies)o.cancel();this.logger.info(`Canceling ${this.name()}`),h.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&h.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>f.default.INFO||!this.dependencies)return;const o=this.dependencies.filter(i=>i).map(i=>i.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${o}`)}run(){if(this.promise)return this.promise;const o=this.dependencies?Promise.all(this.dependencies.map(i=>i==null?void 0:i.run())):Promise.resolve();return this.logDependencies(),this.ongoing=o.then(()=>this.task.run()),this.promise=new Promise((i,e)=>{this.cancelPromise=e,this.ongoing.then(i).catch(e)})}setParent(o){this.task.setParent(o)}constructor(o,i,e){this.logger=o,this.task=i,this.dependencies=e,this.canceled=!1}},"OnceTask");c.default=m},V4cD:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("xzjI"));let h=r(class extends f.default{constructor(a,o){super(a,o),this.name="PermissionDeniedError"}},"PermissionDeniedError");c.default=h},V5IF:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}},"MeetingSessionTURNCredentials");c.default=v},V7js:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_HASHABLE_LENGTH=c.INIT=c.KEY=c.DIGEST_LENGTH=c.BLOCK_SIZE=void 0,c.BLOCK_SIZE=64,c.DIGEST_LENGTH=32,c.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},V7oC:function(U,c,d){"use strict";c.__esModule=!0;var v=d("SEkw"),f=h(v);function h(m){return m&&m.__esModule?m:{default:m}}r(h,"_interopRequireDefault"),c.default=function(){function m(a,o){for(var i=0;i<o.length;i++){var e=o[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,f.default)(a,e.key,e)}}return r(m,"defineProperties"),function(a,o,i){return o&&m(a.prototype,o),i&&m(a,i),a}}()},VCUZ:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0}),c.getFormattedOffset=c.getDefaultAssetSpec=c.toLowerCasePropertyNames=c.isIFramed=c.wait=void 0;const f=v(d("ac3q"));function h(e){return new Promise(t=>setTimeout(t,e))}r(h,"wait"),c.wait=h;function m(){var e;try{return((e=window.frameElement)===null||e===void 0?void 0:e.nodeName)==="IFRAME"||parent!==top}catch{return!0}}r(m,"isIFramed"),c.isIFramed=m;function a(e){return e===null?null:typeof e!="object"?e:Array.isArray(e)?e.map(a):Object.keys(e).reduce((t,n)=>{const s=e[n],p=typeof s=="object"?a(s):s;return t[n.toLowerCase()]=p,t},{})}r(a,"toLowerCasePropertyNames"),c.toLowerCasePropertyNames=a;function o(){const e=f.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}r(o,"getDefaultAssetSpec"),c.getDefaultAssetSpec=o;function i(e){const t=Math.abs(e),n=e<=0?"+":"-",s=Math.floor(t/60).toString().padStart(2,"0"),p=Math.floor(t%60).toString().padStart(2,"0");return`${n}${s}:${p}`}r(i,"getFormattedOffset"),c.getFormattedOffset=i},VKrp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkTCPConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(v=c.CheckNetworkTCPConnectivityFeedback||(c.CheckNetworkTCPConnectivityFeedback={})),c.default=v},VPK4:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"Transcript");c.default=v},VSTI:function(U,c){var d=U.exports={version:"2.6.12"};typeof __e=="number"&&(__e=d)},VUud:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={NotificationNotFound:"notification_not_found",InvalidAction:"invalid_action",ErrorPersistingImpression:"error_persisting_impression",ChannelNotFound:"channel_not_found",InvalidNotificationParams:"invalid_notification_params",CannotProvideChannelAndEntityId:"cannot_provide_channel_and_entity_id",MissingEntityType:"missing_entity_type",InvalidEntityType:"invalid_entity_type"},t=Object(a.a)("megaphone.setNotificationAsSeen generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"megaphone.setNotificationAsSeen",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to megaphone.setNotificationAsSeen
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchermegaphoneSetNotificationAsSeenFetcher",description:"megaphone.setNotificationAsSeen generated fetcher"}},VWEK:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.PRONUNCIATION="pronunciation",f.PUNCTUATION="punctuation"})(v||(v={})),c.default=v},VWHd:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Biyp"));let h=r(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(a){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new f.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}constructor(){}},"NoVideoUplinkBandwidthPolicy");c.default=h},"VYs+":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("ZdbB"));let m=r(class sa extends h.default{setEncodingParameters(o){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(o.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===sa.LOW_LEVEL_NAME&&this.copyEncodingParams(o.get(sa.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===sa.MID_LEVEL_NAME&&this.copyEncodingParams(o.get(sa.MID_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===sa.HIGH_LEVEL_NAME&&this.copyEncodingParams(o.get(sa.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(o){return v(this,void 0,void 0,function*(){})}setupLocalTransceivers(){if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),!this._localCameraTransceiver)){const o=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:o})}}logVideoTransceiverParameters(){const i=this._localCameraTransceiver.sender.getParameters().encodings;let e=`simulcast: current encoding parameters 
`;for(const t of i)e+=`rid=${t.rid} maxBitrate=${t.maxBitrate} active=${t.active} scaleDownBy=${t.scaleResolutionDownBy} maxFrameRate = ${t.maxFramerate} 
`;this.logger.info(e)}copyEncodingParams(o,i){i.active=o.active,i.maxBitrate=o.maxBitrate,i.scaleResolutionDownBy=o.scaleResolutionDownBy,i.maxFramerate=o.maxFramerate}constructor(o,i){super(o,i),this.videoQualityControlParameterMap=new Map;let e=4;for(let t=0;t<sa.NAME_ARR_ASCENDING.length;t++){const n=sa.NAME_ARR_ASCENDING[t];this.videoQualityControlParameterMap.set(n,{rid:n,scaleResolutionDownBy:e,maxBitrate:sa.BITRATE_ARR_ASCENDING[t]*1e3}),e=e/2}}},"SimulcastTransceiverController");c.default=m,m.LOW_LEVEL_NAME="low",m.MID_LEVEL_NAME="mid",m.HIGH_LEVEL_NAME="hi",m.NAME_ARR_ASCENDING=["low","mid","hi"],m.BITRATE_ARR_ASCENDING=[200,400,1100]},VcdL:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(m,a,o,i){function e(t){return t instanceof o?t:new o(function(n){n(t)})}return r(e,"adopt"),new(o||(o=Promise))(function(t,n){function s(S){try{g(i.next(S))}catch(u){n(u)}}r(s,"fulfilled");function p(S){try{g(i.throw(S))}catch(u){n(u)}}r(p,"rejected");function g(S){S.done?t(S.value):e(S.value).then(s,p)}r(g,"step"),g((i=i.apply(m,a||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.VideoFxCanvasOpsManager=void 0;const f=d("6qF3");let h=r(class{getInferenceInputData(a){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(a,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(a){return v(this,void 0,void 0,function*(){if(this.streamParameters=a,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const o=document.createElement("canvas");o.width=this.streamParameters.width,o.height=this.streamParameters.height,o.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=o}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=f.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=f.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(a){return v(this,void 0,void 0,function*(){const o=a.backgroundReplacement.backgroundImageURL,i=a.backgroundReplacement.defaultColor;if(o)try{const e=yield this.loadImage(o);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(a){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=this.streamParameters.width,o.height=this.streamParameters.height,i.drawImage(a,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=o}resizeAndSetReplacementColor(a){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=this.streamParameters.width,o.height=this.streamParameters.height,i.fillStyle=a,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=o}loadImage(a){return v(this,void 0,void 0,function*(){const i=yield(yield fetch(a).catch(t=>{throw this.logger.error(t.toString()),new Error("Failed to fetch image.")})).blob(),e=new Image;return e.src=URL.createObjectURL(i),new Promise((t,n)=>{e.onload=()=>{t(e)},e.onerror=s=>{n(s)}})})}constructor(a,o){this.streamParameters=a,this.outputCanvas=o,this.configureCanvasPipeline()}},"VideoFxCanvasOpsManager");c.VideoFxCanvasOpsManager=h},VgUL:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("wQGL"));let h=r(class{updateConnectionMetric(a){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var a,o,i,e,t,n,s,p,g,S,u,l;const E=new Map,O=1e3,P=f.default.NAME_ARR_ASCENDING;return E.set(P[0],{rid:P[0],active:!0,scaleResolutionDownBy:((o=(a=this.encodingParams)===null||a===void 0?void 0:a.low)===null||o===void 0?void 0:o.scaleResolutionDownBy)||2,maxBitrate:(((e=(i=this.encodingParams)===null||i===void 0?void 0:i.low)===null||e===void 0?void 0:e.maxBitrateKbps)||300)*O,maxFramerate:((n=(t=this.encodingParams)===null||t===void 0?void 0:t.low)===null||n===void 0?void 0:n.maxFramerate)||5}),E.set(P[1],{rid:P[1],active:!0,scaleResolutionDownBy:((p=(s=this.encodingParams)===null||s===void 0?void 0:s.high)===null||p===void 0?void 0:p.scaleResolutionDownBy)||1,maxBitrate:(((S=(g=this.encodingParams)===null||g===void 0?void 0:g.high)===null||S===void 0?void 0:S.maxBitrateKbps)||1200)*O,maxFramerate:(l=(u=this.encodingParams)===null||u===void 0?void 0:u.high)===null||l===void 0?void 0:l.maxFramerate}),this.getQualityMapString(E),E}updateIndex(a){this.videoIndex=a}wantsResubscribe(){var a,o;let i=!1;this.nextLocalDescriptions=(a=this.videoIndex)===null||a===void 0?void 0:a.localStreamDescriptions();for(let e=0;e<((o=this.nextLocalDescriptions)===null||o===void 0?void 0:o.length);e++){const t=this.nextLocalDescriptions[e].streamId;if(t!==0&&t){const n=this.currLocalDescriptions.findIndex(s=>s.streamId===t);n!==-1&&this.nextLocalDescriptions[e].disabledByWebRTC!==this.currLocalDescriptions[n].disabledByWebRTC&&(i=!0)}}return this.currLocalDescriptions=this.nextLocalDescriptions,i}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return 1200}setIdealMaxBandwidthKbps(a){}setHasBandwidthPriority(a){}getQualityMapString(a){var o;let i="";const e=(o=this.videoIndex)===null||o===void 0?void 0:o.localStreamDescriptions();(e==null?void 0:e.length)>0&&(a.forEach(t=>{let n=!1;t.rid==="low"?n=e[0].disabledByWebRTC:n=e[1].disabledByWebRTC,i+=`{ rid: ${t.rid} active:${t.active} disabledByWebRTC: ${n} maxBitrate:${t.maxBitrate} scaleResolutionDownBy:${t.scaleResolutionDownBy} maxFrameRate:${t.maxFramerate}`}),this.logger.info(`simulcast: content policy:chooseEncodingParameters newQualityMap: ${i}`))}addObserver(a){}removeObserver(a){}forEachObserver(a){}constructor(a,o){this.logger=a,this.encodingParams=o,this.videoIndex=null,this.currLocalDescriptions=[],this.nextLocalDescriptions=[]}},"DefaultSimulcastUplinkPolicyForContentShare");c.default=h},VhCr:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a,o,i,e,t,n,s,p){this.attendeeId=h,this.sdpOffer=m,this.audioHost=a,this.audioMuted=o,this.audioCheckin=i,this.receiveStreamIds=e,this.localVideoEnabled=t,this.videoStreamDescriptions=n,this.connectionTypeHasVideo=s,this.compressedSdpOffer=p,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");c.default=v},VoiG:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptionStatus");c.default=v},"W+eo":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("j+uH"));let m=r(class extends h.default{cancel(){for(const o of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${o.name()}`),o.cancel()}run(){return v(this,void 0,void 0,function*(){const o=[];for(const e of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${e.name()}`),o.push(e.run());const i=[];for(let e=0;e<o.length;e++){try{yield o[e]}catch(t){i.push(`task ${this.tasksToRunParallel[e].name()} failed: ${t.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[e].name()}`)}if(i.length>0){const e=i.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(o,i,e){super(o),this.taskName=i,this.tasksToRunParallel=e;for(const t of e)t.setParent(this)}},"ParallelGroupTask");c.default=m},WHnE:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54")),m=f(d("6/h7"));let a=r(class{bindAudioElement(i){return v(this,void 0,void 0,function*(){if(!i)throw new Error(`Cannot bind audio element: ${i}`);return this.audioElement=i,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(i=>{this.audioStream&&i.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(i){return v(this,void 0,void 0,function*(){if(i){this.audioStream=i;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(i){return v(this,void 0,void 0,function*(){if(i&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=i,this.bindAudioMix()})}forEachObserver(i){for(const e of this.observers)m.default.nextTick(()=>{i(e)})}bindAudioMix(){var i,e;return v(this,void 0,void 0,function*(){if(!this.audioElement)return;const t=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),t!==this.audioStream&&this.forEachObserver(u=>{t&&u.meetingAudioStreamBecameInactive(t),this.audioStream&&u.meetingAudioStreamBecameActive(this.audioStream)});const n=((i=this.audioDevice)===null||i===void 0?void 0:i.deviceId)!==this.audioElement.sinkId;if(n&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const s=this.audioDevice?this.audioDevice.deviceId:"",p=this.audioElement.sinkId;if(s===p)return;const g=this.audioElement,S=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=null),n)try{yield g.setSinkId(s)}catch(u){throw(e=this.logger)===null||e===void 0||e.error(`Failed to set sinkId for audio element: ${u}`),u}this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=S)})}getCurrentMeetingAudioStream(){return v(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(i){return v(this,void 0,void 0,function*(){this.observers.add(i)})}removeAudioMixObserver(i){return v(this,void 0,void 0,function*(){this.observers.delete(i)})}audioOutputDidChange(i){return v(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(i)})}constructor(i){this.logger=i,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new h.default,this.observers=new Set}},"DefaultAudioMixController");c.default=a},WRer:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("hEYi")),m=d("f2XL"),a=f(d("aVV0"));let o=r(class extends a.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return v(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(e){if(e.type!==h.default.ReceivedSignalFrame||e.message.type!==m.SdkSignalFrame.Type.PAUSE&&e.message.type!==m.SdkSignalFrame.Type.RESUME)return;const t=e.message.pause,n=e.message.type;if(this.context.logger.info(`received new ${n===m.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),!t||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const s=t.groupIds.map(p=>{const g=this.context.videoStreamIndex.attendeeIdForGroupId(p);return this.context.videoTileController.getVideoTileForAttendeeId(g)});for(const p of s)p!==void 0&&(n===m.SdkSignalFrame.Type.PAUSE?p.state().paused||(this.serverPausedVideoTileIds.add(p.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBePausedByDownlinkPolicy(p.id())}),p.pause()):p.state().paused&&this.serverPausedVideoTileIds.has(p.id())&&(this.serverPausedVideoTileIds.delete(p.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(g=>{g.tileWillBeUnpausedByDownlinkPolicy(p.id())}),p.unpause()))}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}},"ReceiveRemoteVideoPauseResume");c.default=o},WcgR:function(U,c,d){"use strict";var v=d("ILaC"),f=d("uE2L"),h=d("LV2V"),m=d("ngjY"),a=d("KSud"),o=d("nzLN"),i=1,e=32,t=Object(h.a)(function(u,l,E){var O=i;if(E.length){var P=Object(o.a)(E,Object(a.a)(t));O|=e}return Object(m.a)(u,O,l,E,P)});t.placeholder={};var n=t,s=d("Tjpy"),p=d("Tchk"),g=Object(s.a)(function(u,l){return Object(v.a)(l,function(E){E=Object(p.a)(E),Object(f.a)(u,E,n(u[E],u))}),u}),S=c.a=g},Wdtm:function(U,c,d){"use strict";var v=this&&this.__createBinding||(Object.create?function(u,l,E,O){O===void 0&&(O=E),Object.defineProperty(u,O,{enumerable:!0,get:function(){return l[E]}})}:function(u,l,E,O){O===void 0&&(O=E),u[O]=l[E]}),f=this&&this.__setModuleDefault||(Object.create?function(u,l){Object.defineProperty(u,"default",{enumerable:!0,value:l})}:function(u,l){u.default=l}),h=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var E in u)E!=="default"&&Object.prototype.hasOwnProperty.call(u,E)&&v(l,u,E);return f(l,u),l},m=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})},a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const o=a(d("aZba")),i=a(d("papz")),e=a(d("42jQ")),t=h(d("/AJg")),n=a(d("HbHZ")),s=a(d("OV1w")),p=d("XCDq"),g=a(d("j+uH"));let S=r(class extends g.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return m(this,void 0,void 0,function*(){const l=yield new Promise((E,O)=>{const P=this.context;P.turnCredentials=null;let x=r(class{cancel(){this.signalingClient.removeObserver(this),O(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(N){if(N.type===n.default.WebSocketClosed){let A=`The signaling connection was closed with code ${N.closeCode} and reason: ${N.closeReason}`;P.logger.warn(A);let D=i.default.SignalingBadRequest;N.closeCode===4410?(A="The meeting already ended.",P.logger.warn(A),D=i.default.MeetingEnded):N.closeCode>=4500&&N.closeCode<4600&&(D=i.default.SignalingInternalServerError),P.audioVideoController.handleMeetingSessionStatus(new o.default(D),new Error(A));return}if(N.type!==n.default.ReceivedSignalFrame)return;if(N.message.type===p.SdkSignalFrame.Type.JOIN_ACK){const A=N.message.joinack;if(A&&A.videoSubscriptionLimit&&(P.videoSubscriptionLimit=A.videoSubscriptionLimit),P.serverSupportsCompression=A==null?void 0:A.wantsCompressedSdp,(A==null?void 0:A.defaultServerSideNetworkAdaption)!==void 0&&A.defaultServerSideNetworkAdaption!==t.default.Default&&P.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const D=A.defaultServerSideNetworkAdaption;P.logger.info(`Overriding server side network adaption value to ${D}`),P.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(t.convertServerSideNetworkAdaptionEnumFromSignaled(D))}A&&A.turnCredentials?(P.turnCredentials=new e.default,P.turnCredentials.username=A.turnCredentials.username,P.turnCredentials.password=A.turnCredentials.password,P.turnCredentials.ttl=A.turnCredentials.ttl,P.turnCredentials.uris=A.turnCredentials.uris.map(D=>P.meetingSessionConfiguration.urls.urlRewriter(D)).filter(D=>!!D)):P.logger.error("missing TURN credentials in JoinAckFrame");return}if(N.message.type!==p.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const w=N.message.index;E(w)}constructor(N){this.signalingClient=N}},"IndexFrameInterceptor");const k=new x(this.context.signalingClient);this.context.signalingClient.registerObserver(k),this.taskCanceler=k,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const B=new s.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(B.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),B.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),B.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(B)});this.context.logger.info(`received first index ${JSON.stringify(l)}`),this.context.indexFrame=l})}constructor(l){super(l.logger),this.context=l,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");c.default=S},Wjms:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{process(m){return v(this,void 0,void 0,function*(){return m})}destroy(){return v(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");c.default=f},Wnnr:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Z/hr"));let h=r(class{makeTile(a,o,i,e){return new f.default(a,o,i,e)}},"DefaultVideoTileFactory");c.default=h},WpRT:function(U,c,d){var v=d("s2er")("keys"),f=d("ixoo");U.exports=function(h){return v[h]||(v[h]=f(h))}},X0TA:function(U,c,d){"use strict";d.d(c,"a",function(){return e});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={SnoozeEndFailed:"snooze_end_failed"},t=Object(a.a)("dnd.endSnooze generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"dnd.endSnooze",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to dnd.endSnooze
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherdndEndSnoozeFetcher",description:"dnd.endSnooze generated fetcher"}},X3Fi:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("K4CH"),h=v(d("59sL"));let m=r(class _l{getParserResult(){var o,i;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((o=this.parserResult)===null||o===void 0?void 0:o.os.name)||_l.UNAVAILABLE,osVersion:((i=this.parserResult)===null||i===void 0?void 0:i.os.version)||_l.UNAVAILABLE,sdkVersion:h.default.sdkVersion,sdkName:h.default.sdkName}}constructor(o){var i,e,t,n,s,p,g;try{this.parserResult=navigator&&navigator.userAgent?new f.UAParser(navigator.userAgent).getResult():void 0}catch(S){o.error(S.message)}this.browserMajorVersion=((t=(e=(i=this.parserResult)===null||i===void 0?void 0:i.browser)===null||e===void 0?void 0:e.version)===null||t===void 0?void 0:t.split(".")[0])||_l.UNAVAILABLE,this.browserName=((n=this.parserResult)===null||n===void 0?void 0:n.browser.name)||_l.UNAVAILABLE,this.browserVersion=((s=this.parserResult)===null||s===void 0?void 0:s.browser.version)||_l.UNAVAILABLE,this.deviceName=[((p=this.parserResult)===null||p===void 0?void 0:p.device.vendor)||"",((g=this.parserResult)===null||g===void 0?void 0:g.device.model)||""].join(" ").trim()||_l.UNAVAILABLE}},"DefaultUserAgentParser");c.default=m,m.UNAVAILABLE="Unavailable"},X9Jc:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});function v(h){return h.map(m=>typeof m=="object"?JSON.stringify(m):`${m}`).join(" ")}r(v,"stringify");let f=r(class{debug(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.debug(v(a))}info(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.info(v(a))}warn(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.warn(v(a))}error(){for(var m=arguments.length,a=new Array(m),o=0;o<m;o++)a[o]=arguments[o];this.base.error(v(a))}constructor(m){this.base=m}},"LoggerAdapter");c.default=f},XCDq:function(U,c,d){"use strict";var v=d("A4hc"),f=v.Reader,h=v.Writer,m=v.util,a=v.roots.default||(v.roots.default={});a.SdkSignalFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkSignalFrame"),o.prototype.timestampMs=m.Long?m.Long.fromBits(0,0,!0):0,o.prototype.type=1,o.prototype.error=null,o.prototype.join=null,o.prototype.joinack=null,o.prototype.sub=null,o.prototype.suback=null,o.prototype.index=null,o.prototype.pause=null,o.prototype.leave=null,o.prototype.leaveAck=null,o.prototype.bitrates=null,o.prototype.audioControl=null,o.prototype.audioMetadata=null,o.prototype.audioStreamIdInfo=null,o.prototype.pingPong=null,o.prototype.audioStatus=null,o.prototype.clientMetric=null,o.prototype.dataMessage=null,o.prototype.remoteVideoUpdate=null,o.prototype.primaryMeetingJoin=null,o.prototype.primaryMeetingJoinAck=null,o.prototype.primaryMeetingLeave=null,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkSignalFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.timestampMs=e.uint64();break;case 2:s.type=e.int32();break;case 3:s.error=a.SdkErrorFrame.decode(e,e.uint32());break;case 4:s.join=a.SdkJoinFrame.decode(e,e.uint32());break;case 5:s.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:s.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:s.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:s.index=a.SdkIndexFrame.decode(e,e.uint32());break;case 10:s.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:s.leave=a.SdkLeaveFrame.decode(e,e.uint32());break;case 12:s.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:s.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break;case 17:s.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:s.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:s.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:s.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break;case 21:s.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:s.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:s.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:s.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:s.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:s.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:s.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;default:e.skipType(p&7);break}}if(!s.hasOwnProperty("timestampMs"))throw m.ProtocolError("missing required 'timestampMs'",{instance:s});if(!s.hasOwnProperty("type"))throw m.ProtocolError("missing required 'type'",{instance:s});return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(!m.isInteger(e.timestampMs)&&!(e.timestampMs&&m.isInteger(e.timestampMs.low)&&m.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(m.Long?(t.timestampMs=m.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new m.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(m.Long){var s=new m.Long(0,0,!0);n.timestampMs=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null,n.remoteVideoUpdate=null,n.primaryMeetingJoin=null,n.primaryMeetingJoinAck=null,n.primaryMeetingLeave=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?m.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new m.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(n.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(n.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(n.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(n.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(n.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(n.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(n.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(n.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(n.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(n.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(n.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(n.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(n.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(n.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(n.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e}(),o}(),a.SdkErrorFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkErrorFrame"),o.prototype.status=0,o.prototype.description="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkErrorFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.status=e.uint32();break;case 2:s.description=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!m.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!m.isString(e.description)?"description: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),e.status!=null&&e.hasOwnProperty("status")&&(n.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(n.description=e.description),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkJoinFlags=function(){var o={},i=Object.create(o);return i[o[2]="HAS_STREAM_UPDATE"]=2,i[o[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[o[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkClientDetails"),o.prototype.appName="",o.prototype.appVersion="",o.prototype.deviceModel="",o.prototype.deviceMake="",o.prototype.platformName="",o.prototype.platformVersion="",o.prototype.clientSource="",o.prototype.chimeSdkVersion="",o.prototype.clientUtcOffset="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkClientDetails;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.appName=e.string();break;case 2:s.appVersion=e.string();break;case 3:s.deviceModel=e.string();break;case 4:s.deviceMake=e.string();break;case 5:s.platformName=e.string();break;case 6:s.platformVersion=e.string();break;case 7:s.clientSource=e.string();break;case 8:s.chimeSdkVersion=e.string();break;case 9:s.clientUtcOffset=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!m.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!m.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!m.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!m.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!m.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!m.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!m.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!m.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!m.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.appName="",n.appVersion="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion="",n.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(n.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(n.clientUtcOffset=e.clientUtcOffset),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkServerSideNetworkAdaption=function(){var o={},i=Object.create(o);return i[o[1]="DEFAULT"]=1,i[o[2]="NONE"]=2,i[o[3]="BANDWIDTH_PROBING"]=3,i[o[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,i}(),a.SdkJoinFrame=function(){function o(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkJoinFrame"),o.prototype.protocolVersion=2,o.prototype.maxNumOfVideos=0,o.prototype.flags=0,o.prototype.clientDetails=null,o.prototype.audioSessionId=m.Long?m.Long.fromBits(0,0,!0):0,o.prototype.wantsCompressedSdp=!1,o.prototype.serverSideNetworkAdaption=1,o.prototype.supportedServerSideNetworkAdaptions=m.emptyArray,o.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[n]);return e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkJoinFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.protocolVersion=e.uint32();break;case 2:s.maxNumOfVideos=e.uint32();break;case 3:s.flags=e.uint32();break;case 4:s.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break;case 6:s.audioSessionId=e.uint64();break;case 7:s.wantsCompressedSdp=e.bool();break;case 10:s.serverSideNetworkAdaption=e.int32();break;case 11:if(s.supportedServerSideNetworkAdaptions&&s.supportedServerSideNetworkAdaptions.length||(s.supportedServerSideNetworkAdaptions=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.supportedServerSideNetworkAdaptions.push(e.int32());else s.supportedServerSideNetworkAdaptions.push(e.int32());break;case 13:s.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!m.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!m.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!m.isInteger(e.audioSessionId)&&!(e.audioSessionId&&m.isInteger(e.audioSessionId.low)&&m.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(m.Long?(t.audioSessionId=m.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new m.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.serverSideNetworkAdaption=4;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[n]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[n]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[n]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.supportedServerSideNetworkAdaptions[n]=4;break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.supportedServerSideNetworkAdaptions=[]),t.defaults){if(n.protocolVersion=2,n.maxNumOfVideos=0,n.flags=0,n.clientDetails=null,m.Long){var s=new m.Long(0,0,!0);n.audioSessionId=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.audioSessionId=t.longs===String?"0":0;n.wantsCompressedSdp=!1,n.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,n.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(n.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?m.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new m.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(n.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){n.supportedServerSideNetworkAdaptions=[];for(var p=0;p<e.supportedServerSideNetworkAdaptions.length;++p)n.supportedServerSideNetworkAdaptions[p]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[p]]:e.supportedServerSideNetworkAdaptions[p]}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(n.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkJoinAckFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkJoinAckFrame"),o.prototype.turnCredentials=null,o.prototype.videoSubscriptionLimit=0,o.prototype.wantsCompressedSdp=!1,o.prototype.defaultServerSideNetworkAdaption=1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkJoinAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break;case 2:s.videoSubscriptionLimit=e.uint32();break;case 3:s.wantsCompressedSdp=e.bool();break;case 4:s.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!m.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.defaultServerSideNetworkAdaption=4;break}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null,n.videoSubscriptionLimit=0,n.wantsCompressedSdp=!1,n.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(n.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkLeaveFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkLeaveFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkLeaveFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkLeaveAckFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkLeaveAckFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkLeaveAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamServiceType=function(){var o={},i=Object.create(o);return i[o[1]="RX"]=1,i[o[2]="TX"]=2,i[o[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var o={},i=Object.create(o);return i[o[1]="AUDIO"]=1,i[o[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function o(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkSubscribeFrame"),o.prototype.duplex=1,o.prototype.sendStreams=m.emptyArray,o.prototype.receiveStreamIds=m.emptyArray,o.prototype.sdpOffer="",o.prototype.audioHost="",o.prototype.audioCheckin=!1,o.prototype.audioMuted=!1,o.prototype.compressedSdpOffer=m.newBuffer([]),o.prototype.videoSubscriptionConfiguration=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)a.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var n=0;n<e.videoSubscriptionConfiguration.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[n],t.uint32(74).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkSubscribeFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.duplex=e.int32();break;case 2:s.sendStreams&&s.sendStreams.length||(s.sendStreams=[]),s.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(s.receiveStreamIds&&s.receiveStreamIds.length||(s.receiveStreamIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.receiveStreamIds.push(e.uint32());else s.receiveStreamIds.push(e.uint32());break;case 4:s.sdpOffer=e.string();break;case 5:s.audioHost=e.string();break;case 6:s.audioCheckin=e.bool();break;case 7:s.audioMuted=e.bool();break;case 8:s.compressedSdpOffer=e.bytes();break;case 9:s.videoSubscriptionConfiguration&&s.videoSubscriptionConfiguration.length||(s.videoSubscriptionConfiguration=[]),s.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var n=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(n)return"sendStreams."+n}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!m.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!m.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!m.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||m.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(n)return"videoSubscriptionConfiguration."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if(typeof e.sendStreams[n]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=a.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?m.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=m.newBuffer(m.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var n=0;n<e.videoSubscriptionConfiguration.length;++n){if(typeof e.videoSubscriptionConfiguration[n]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[],n.videoSubscriptionConfiguration=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1,t.bytes===String?n.compressedSdpOffer="":(n.compressedSdpOffer=[],t.bytes!==Array&&(n.compressedSdpOffer=m.newBuffer(n.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var s=0;s<e.sendStreams.length;++s)n.sendStreams[s]=a.SdkStreamDescriptor.toObject(e.sendStreams[s],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){n.receiveStreamIds=[];for(var s=0;s<e.receiveStreamIds.length;++s)n.receiveStreamIds[s]=e.receiveStreamIds[s]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(n.compressedSdpOffer=t.bytes===String?m.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){n.videoSubscriptionConfiguration=[];for(var s=0;s<e.videoSubscriptionConfiguration.length;++s)n.videoSubscriptionConfiguration[s]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkSubscribeAckFrame=function(){function o(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkSubscribeAckFrame"),o.prototype.duplex=1,o.prototype.allocations=m.emptyArray,o.prototype.sdpAnswer="",o.prototype.tracks=m.emptyArray,o.prototype.compressedSdpAnswer=m.newBuffer([]),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)a.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var n=0;n<e.tracks.length;++n)a.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkSubscribeAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.duplex=e.int32();break;case 2:s.allocations&&s.allocations.length||(s.allocations=[]),s.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:s.sdpAnswer=e.string();break;case 4:s.tracks&&s.tracks.length||(s.tracks=[]),s.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break;case 5:s.compressedSdpAnswer=e.bytes();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var n=a.SdkStreamAllocation.verify(e.allocations[t]);if(n)return"allocations."+n}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!m.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var n=a.SdkTrackMapping.verify(e.tracks[t]);if(n)return"tracks."+n}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||m.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if(typeof e.allocations[n]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=a.SdkStreamAllocation.fromObject(e.allocations[n])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var n=0;n<e.tracks.length;++n){if(typeof e.tracks[n]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=a.SdkTrackMapping.fromObject(e.tracks[n])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?m.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=m.newBuffer(m.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer="",t.bytes===String?n.compressedSdpAnswer="":(n.compressedSdpAnswer=[],t.bytes!==Array&&(n.compressedSdpAnswer=m.newBuffer(n.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var s=0;s<e.allocations.length;++s)n.allocations[s]=a.SdkStreamAllocation.toObject(e.allocations[s],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){n.tracks=[];for(var s=0;s<e.tracks.length;++s)n.tracks[s]=a.SdkTrackMapping.toObject(e.tracks[s],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(n.compressedSdpAnswer=t.bytes===String?m.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkIndexFrame=function(){function o(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkIndexFrame"),o.prototype.atCapacity=!1,o.prototype.sources=m.emptyArray,o.prototype.pausedAtSourceIds=m.emptyArray,o.prototype.numParticipants=0,o.prototype.supportedReceiveCodecIntersection=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var n=0;n<e.sources.length;++n)a.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)t.uint32(40).int32(e.supportedReceiveCodecIntersection[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkIndexFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.atCapacity=e.bool();break;case 2:s.sources&&s.sources.length||(s.sources=[]),s.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(s.pausedAtSourceIds&&s.pausedAtSourceIds.length||(s.pausedAtSourceIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.pausedAtSourceIds.push(e.uint32());else s.pausedAtSourceIds.push(e.uint32());break;case 4:s.numParticipants=e.uint32();break;case 5:if(s.supportedReceiveCodecIntersection&&s.supportedReceiveCodecIntersection.length||(s.supportedReceiveCodecIntersection=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.supportedReceiveCodecIntersection.push(e.int32());else s.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=a.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!m.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!m.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:break}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if(typeof e.sources[n]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=a.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)switch(e.supportedReceiveCodecIntersection[n]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[n]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[n]=3;break}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[],n.supportedReceiveCodecIntersection=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var s=0;s<e.sources.length;++s)n.sources[s]=a.SdkStreamDescriptor.toObject(e.sources[s],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){n.pausedAtSourceIds=[];for(var s=0;s<e.pausedAtSourceIds.length;++s)n.pausedAtSourceIds[s]=e.pausedAtSourceIds[s]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){n.supportedReceiveCodecIntersection=[];for(var s=0;s<e.supportedReceiveCodecIntersection.length;++s)n.supportedReceiveCodecIntersection[s]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[s]]:e.supportedReceiveCodecIntersection[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPauseResumeFrame=function(){function o(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPauseResumeFrame"),o.prototype.streamIds=m.emptyArray,o.prototype.groupIds=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.streamIds!=null&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);if(e.groupIds!=null&&e.groupIds.length)for(var n=0;n<e.groupIds.length;++n)t.uint32(16).uint32(e.groupIds[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPauseResumeFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:if(s.streamIds&&s.streamIds.length||(s.streamIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.streamIds.push(e.uint32());else s.streamIds.push(e.uint32());break;case 2:if(s.groupIds&&s.groupIds.length||(s.groupIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.groupIds.push(e.uint32());else s.groupIds.push(e.uint32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!m.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!m.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var n=0;n<e.groupIds.length;++n)t.groupIds[n]=e.groupIds[n]>>>0}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[],n.groupIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var s=0;s<e.streamIds.length;++s)n.streamIds[s]=e.streamIds[s]}if(e.groupIds&&e.groupIds.length){n.groupIds=[];for(var s=0;s<e.groupIds.length;++s)n.groupIds[s]=e.groupIds[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkBitrateFrame=function(){function o(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkBitrateFrame"),o.prototype.bitrates=m.emptyArray,o.prototype.serverAvailableOutgoingBitrate=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.bitrates!=null&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)a.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return e.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(e,"serverAvailableOutgoingBitrate")&&t.uint32(16).uint32(e.serverAvailableOutgoingBitrate),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkBitrateFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.bitrates&&s.bitrates.length||(s.bitrates=[]),s.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break;case 2:s.serverAvailableOutgoingBitrate=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=a.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&!m.isInteger(e.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if(typeof e.bitrates[n]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=a.SdkBitrate.fromObject(e.bitrates[n])}}return e.serverAvailableOutgoingBitrate!=null&&(t.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),t.defaults&&(n.serverAvailableOutgoingBitrate=0),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var s=0;s<e.bitrates.length;++s)n.bitrates[s]=a.SdkBitrate.toObject(e.bitrates[s],t)}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&(n.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamDescriptor=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamDescriptor"),o.prototype.streamId=0,o.prototype.framerate=0,o.prototype.maxBitrateKbps=0,o.prototype.trackLabel="",o.prototype.groupId=0,o.prototype.avgBitrateBps=0,o.prototype.attendeeId="",o.prototype.mediaType=1,o.prototype.externalUserId="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamDescriptor;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.streamId=e.uint32();break;case 2:s.framerate=e.uint32();break;case 3:s.maxBitrateKbps=e.uint32();break;case 4:s.trackLabel=e.string();break;case 6:s.groupId=e.uint32();break;case 7:s.avgBitrateBps=e.uint32();break;case 8:s.attendeeId=e.string();break;case 9:s.mediaType=e.int32();break;case 10:s.externalUserId=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!m.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!m.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!m.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!m.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!m.isString(e.externalUserId)?"externalUserId: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamAllocation=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamAllocation"),o.prototype.trackLabel="",o.prototype.streamId=0,o.prototype.groupId=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamAllocation;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.trackLabel=e.string();break;case 2:s.streamId=e.uint32();break;case 3:s.groupId=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!m.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTrackMapping=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTrackMapping"),o.prototype.streamId=0,o.prototype.ssrc=0,o.prototype.trackLabel="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTrackMapping;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.streamId=e.uint32();break;case 2:s.ssrc=e.uint32();break;case 3:s.trackLabel=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!m.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!m.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkBitrate=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkBitrate"),o.prototype.sourceStreamId=0,o.prototype.avgBitrateBps=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkBitrate;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.sourceStreamId=e.uint32();break;case 2:s.avgBitrateBps=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!m.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!m.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioControlFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioControlFrame"),o.prototype.muted=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioControlFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.muted=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioMetadataFrame=function(){function o(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioMetadataFrame"),o.prototype.attendeeStates=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)a.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioMetadataFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.attendeeStates&&s.attendeeStates.length||(s.attendeeStates=[]),s.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if(typeof e.attendeeStates[n]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var s=0;s<e.attendeeStates.length;++s)n.attendeeStates[s]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioAttendeeState=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioAttendeeState"),o.prototype.audioStreamId=0,o.prototype.volume=0,o.prototype.muted=!1,o.prototype.signalStrength=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioAttendeeState;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.audioStreamId=e.uint32();break;case 2:s.volume=e.uint32();break;case 3:s.muted=e.bool();break;case 4:s.signalStrength=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!m.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!m.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!m.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(n.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioStreamIdInfoFrame=function(){function o(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioStreamIdInfoFrame"),o.prototype.streams=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.streams!=null&&e.streams.length)for(var n=0;n<e.streams.length;++n)a.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioStreamIdInfoFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.streams&&s.streams.length||(s.streams=[]),s.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if(typeof e.streams[n]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=a.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var s=0;s<e.streams.length;++s)n.streams[s]=a.SdkAudioStreamIdInfo.toObject(e.streams[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioStreamIdInfo=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioStreamIdInfo"),o.prototype.audioStreamId=0,o.prototype.attendeeId="",o.prototype.muted=!1,o.prototype.externalUserId="",o.prototype.dropped=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioStreamIdInfo;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.audioStreamId=e.uint32();break;case 2:s.attendeeId=e.string();break;case 3:s.muted=e.bool();break;case 4:s.externalUserId=e.string();break;case 5:s.dropped=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!m.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!m.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPingPongType=function(){var o={},i=Object.create(o);return i[o[1]="PING"]=1,i[o[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPingPongFrame"),o.prototype.type=1,o.prototype.pingId=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPingPongFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.pingId=e.uint32();break;default:e.skipType(p&7);break}}if(!s.hasOwnProperty("type"))throw m.ProtocolError("missing required 'type'",{instance:s});if(!s.hasOwnProperty("pingId"))throw m.ProtocolError("missing required 'pingId'",{instance:s});return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return m.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioStatusFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioStatusFrame"),o.prototype.audioStatus=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioStatusFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.audioStatus=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!m.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkMetric=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkMetric"),o.prototype.type=1,o.prototype.value=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkMetric;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.value=e.double();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 96:case 97:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break;case"RTC_SPK_AUDIO_LEVEL":case 96:t.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:t.type=97;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e[i[96]="RTC_SPK_AUDIO_LEVEL"]=96,e[i[97]="RTC_MIC_AUDIO_LEVEL"]=97,e}(),o}(),a.SdkStreamMetricFrame=function(){function o(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamMetricFrame"),o.prototype.streamId=0,o.prototype.groupId=0,o.prototype.metrics=m.emptyArray,o.prototype.dimensions=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)a.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var n=0;n<e.dimensions.length;++n)a.SdkStreamDimension.encode(e.dimensions[n],t.uint32(50).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamMetricFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 3:s.streamId=e.uint32();break;case 4:s.groupId=e.uint32();break;case 5:s.metrics&&s.metrics.length||(s.metrics=[]),s.metrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 6:s.dimensions&&s.dimensions.length||(s.dimensions=[]),s.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var n=a.SdkMetric.verify(e.metrics[t]);if(n)return"metrics."+n}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var n=a.SdkStreamDimension.verify(e.dimensions[t]);if(n)return"dimensions."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if(typeof e.metrics[n]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=a.SdkMetric.fromObject(e.metrics[n])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var n=0;n<e.dimensions.length;++n){if(typeof e.dimensions[n]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[n]=a.SdkStreamDimension.fromObject(e.dimensions[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[],n.dimensions=[]),t.defaults&&(n.streamId=0,n.groupId=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var s=0;s<e.metrics.length;++s)n.metrics[s]=a.SdkMetric.toObject(e.metrics[s],t)}if(e.dimensions&&e.dimensions.length){n.dimensions=[];for(var s=0;s<e.dimensions.length;++s)n.dimensions[s]=a.SdkStreamDimension.toObject(e.dimensions[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkClientMetricFrame=function(){function o(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkClientMetricFrame"),o.prototype.globalMetrics=m.emptyArray,o.prototype.streamMetricFrames=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)a.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var n=0;n<e.streamMetricFrames.length;++n)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkClientMetricFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.globalMetrics&&s.globalMetrics.length||(s.globalMetrics=[]),s.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 2:s.streamMetricFrames&&s.streamMetricFrames.length||(s.streamMetricFrames=[]),s.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var n=a.SdkMetric.verify(e.globalMetrics[t]);if(n)return"globalMetrics."+n}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var n=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(n)return"streamMetricFrames."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if(typeof e.globalMetrics[n]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=a.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var n=0;n<e.streamMetricFrames.length;++n){if(typeof e.streamMetricFrames[n]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var s=0;s<e.globalMetrics.length;++s)n.globalMetrics[s]=a.SdkMetric.toObject(e.globalMetrics[s],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){n.streamMetricFrames=[];for(var s=0;s<e.streamMetricFrames.length;++s)n.streamMetricFrames[s]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamDimension=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamDimension"),o.prototype.type=1,o.prototype.value=null,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamDimension;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.value=a.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ENCODER_NAME":1,n.value=null),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=a.SdkDimensionValue.toObject(e.value,t)),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),o}(),a.SdkDimensionValue=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkDimensionValue"),o.prototype.stringValue="",o.prototype.boolValue=!1,o.prototype.uintValue=m.Long?m.Long.fromBits(0,0,!0):0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkDimensionValue;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.stringValue=e.string();break;case 2:s.boolValue=e.bool();break;case 3:s.uintValue=e.uint64();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!m.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!m.isInteger(e.uintValue)&&!(e.uintValue&&m.isInteger(e.uintValue.low)&&m.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(m.Long?(t.uintValue=m.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new m.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults)if(n.stringValue="",n.boolValue=!1,m.Long){var s=new m.Long(0,0,!0);n.uintValue=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(n.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?n.uintValue=t.longs===String?String(e.uintValue):e.uintValue:n.uintValue=t.longs===String?m.Long.prototype.toString.call(e.uintValue):t.longs===Number?new m.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkDataMessageFrame=function(){function o(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkDataMessageFrame"),o.prototype.messages=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.messages!=null&&e.messages.length)for(var n=0;n<e.messages.length;++n)a.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkDataMessageFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.messages&&s.messages.length||(s.messages=[]),s.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=a.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if(typeof e.messages[n]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=a.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var s=0;s<e.messages.length;++s)n.messages[s]=a.SdkDataMessagePayload.toObject(e.messages[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkDataMessagePayload=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkDataMessagePayload"),o.prototype.topic="",o.prototype.data=m.newBuffer([]),o.prototype.lifetimeMs=0,o.prototype.senderAttendeeId="",o.prototype.ingestTimeNs=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.senderExternalUserId="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkDataMessagePayload;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.topic=e.string();break;case 2:s.data=e.bytes();break;case 3:s.lifetimeMs=e.uint32();break;case 4:s.senderAttendeeId=e.string();break;case 5:s.ingestTimeNs=e.int64();break;case 6:s.senderExternalUserId=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!m.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||m.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!m.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!m.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!m.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&m.isInteger(e.ingestTimeNs.low)&&m.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!m.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?m.base64.decode(e.data,t.data=m.newBuffer(m.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(m.Long?(t.ingestTimeNs=m.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new m.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=m.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",m.Long){var s=new m.Long(0,0,!1);n.ingestTimeNs=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(n.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?m.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?m.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new m.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTurnCredentials=function(){function o(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTurnCredentials"),o.prototype.username="",o.prototype.password="",o.prototype.ttl=0,o.prototype.uris=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTurnCredentials;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.username=e.string();break;case 2:s.password=e.string();break;case 3:s.ttl=e.uint32();break;case 4:s.uris&&s.uris.length||(s.uris=[]),s.uris.push(e.string());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!m.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!m.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!m.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!m.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(n.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(n.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var s=0;s<e.uris.length;++s)n.uris[s]=e.uris[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptItem=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptItem"),o.prototype.content="",o.prototype.endTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.speakerAttendeeId="",o.prototype.speakerExternalUserId="",o.prototype.startTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.type=1,o.prototype.vocabularyFilterMatch=!1,o.prototype.confidence=0,o.prototype.stable=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptItem;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.content=e.string();break;case 2:s.endTime=e.int64();break;case 3:s.speakerAttendeeId=e.string();break;case 4:s.speakerExternalUserId=e.string();break;case 5:s.startTime=e.int64();break;case 6:s.type=e.int32();break;case 7:s.vocabularyFilterMatch=e.bool();break;case 8:s.confidence=e.double();break;case 9:s.stable=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!m.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!m.isInteger(e.endTime)&&!(e.endTime&&m.isInteger(e.endTime.low)&&m.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!m.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!m.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!m.isInteger(e.startTime)&&!(e.startTime&&m.isInteger(e.startTime.low)&&m.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(m.Long?(t.endTime=m.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(m.Long?(t.startTime=m.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.content="",m.Long){var s=new m.Long(0,0,!1);n.endTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.endTime=t.longs===String?"0":0;if(n.speakerAttendeeId="",n.speakerExternalUserId="",m.Long){var s=new m.Long(0,0,!1);n.startTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.startTime=t.longs===String?"0":0;n.type=t.enums===String?"PRONUNCIATION":1,n.vocabularyFilterMatch=!1,n.confidence=0,n.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?m.Long.prototype.toString.call(e.endTime):t.longs===Number?new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(n.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(n.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?m.Long.prototype.toString.call(e.startTime):t.longs===Number?new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(n.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(n.stable=e.stable),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),o}(),a.SdkTranscriptEntity=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptEntity"),o.prototype.category="",o.prototype.confidence=0,o.prototype.content="",o.prototype.endTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.startTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.type="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptEntity;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.category=e.string();break;case 2:s.confidence=e.double();break;case 3:s.content=e.string();break;case 4:s.endTime=e.int64();break;case 5:s.startTime=e.int64();break;case 6:s.type=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!m.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!m.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!m.isInteger(e.endTime)&&!(e.endTime&&m.isInteger(e.endTime.low)&&m.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!m.isInteger(e.startTime)&&!(e.startTime&&m.isInteger(e.startTime.low)&&m.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!m.isString(e.type)?"type: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(m.Long?(t.endTime=m.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(m.Long?(t.startTime=m.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.category="",n.confidence=0,n.content="",m.Long){var s=new m.Long(0,0,!1);n.endTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.endTime=t.longs===String?"0":0;if(m.Long){var s=new m.Long(0,0,!1);n.startTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.startTime=t.longs===String?"0":0;n.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(n.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?m.Long.prototype.toString.call(e.endTime):t.longs===Number?new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?m.Long.prototype.toString.call(e.startTime):t.longs===Number?new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=e.type),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptAlternative=function(){function o(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptAlternative"),o.prototype.items=m.emptyArray,o.prototype.transcript="",o.prototype.entities=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.items!=null&&e.items.length)for(var n=0;n<e.items.length;++n)a.SdkTranscriptItem.encode(e.items[n],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var n=0;n<e.entities.length;++n)a.SdkTranscriptEntity.encode(e.entities[n],t.uint32(26).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptAlternative;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.items&&s.items.length||(s.items=[]),s.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:s.transcript=e.string();break;case 3:s.entities&&s.entities.length||(s.entities=[]),s.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=a.SdkTranscriptItem.verify(e.items[t]);if(n)return"items."+n}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!m.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var n=a.SdkTranscriptEntity.verify(e.entities[t]);if(n)return"entities."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if(typeof e.items[n]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[n]=a.SdkTranscriptItem.fromObject(e.items[n])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var n=0;n<e.entities.length;++n){if(typeof e.entities[n]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[n]=a.SdkTranscriptEntity.fromObject(e.entities[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[],n.entities=[]),t.defaults&&(n.transcript=""),e.items&&e.items.length){n.items=[];for(var s=0;s<e.items.length;++s)n.items[s]=a.SdkTranscriptItem.toObject(e.items[s],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(n.transcript=e.transcript),e.entities&&e.entities.length){n.entities=[];for(var s=0;s<e.entities.length;++s)n.entities[s]=a.SdkTranscriptEntity.toObject(e.entities[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptLanguageWithScore=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptLanguageWithScore"),o.prototype.languageCode="",o.prototype.score=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptLanguageWithScore;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.languageCode=e.string();break;case 2:s.score=e.double();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!m.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(n.score=t.json&&!isFinite(e.score)?String(e.score):e.score),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptResult=function(){function o(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptResult"),o.prototype.alternatives=m.emptyArray,o.prototype.channelId="",o.prototype.endTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.isPartial=!1,o.prototype.resultId="",o.prototype.startTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.languageCode="",o.prototype.languageIdentification=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.alternatives!=null&&e.alternatives.length)for(var n=0;n<e.alternatives.length;++n)a.SdkTranscriptAlternative.encode(e.alternatives[n],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var n=0;n<e.languageIdentification.length;++n)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[n],t.uint32(66).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptResult;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.alternatives&&s.alternatives.length||(s.alternatives=[]),s.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:s.channelId=e.string();break;case 3:s.endTime=e.int64();break;case 4:s.isPartial=e.bool();break;case 5:s.resultId=e.string();break;case 6:s.startTime=e.int64();break;case 7:s.languageCode=e.string();break;case 8:s.languageIdentification&&s.languageIdentification.length||(s.languageIdentification=[]),s.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var n=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(n)return"alternatives."+n}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!m.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!m.isInteger(e.endTime)&&!(e.endTime&&m.isInteger(e.endTime.low)&&m.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!m.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!m.isInteger(e.startTime)&&!(e.startTime&&m.isInteger(e.startTime.low)&&m.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!m.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var n=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(n)return"languageIdentification."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var n=0;n<e.alternatives.length;++n){if(typeof e.alternatives[n]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[n]=a.SdkTranscriptAlternative.fromObject(e.alternatives[n])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(m.Long?(t.endTime=m.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(m.Long?(t.startTime=m.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var n=0;n<e.languageIdentification.length;++n){if(typeof e.languageIdentification[n]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[n]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alternatives=[],n.languageIdentification=[]),t.defaults){if(n.channelId="",m.Long){var s=new m.Long(0,0,!1);n.endTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.endTime=t.longs===String?"0":0;if(n.isPartial=!1,n.resultId="",m.Long){var s=new m.Long(0,0,!1);n.startTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.startTime=t.longs===String?"0":0;n.languageCode=""}if(e.alternatives&&e.alternatives.length){n.alternatives=[];for(var p=0;p<e.alternatives.length;++p)n.alternatives[p]=a.SdkTranscriptAlternative.toObject(e.alternatives[p],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?m.Long.prototype.toString.call(e.endTime):t.longs===Number?new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(n.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(n.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?m.Long.prototype.toString.call(e.startTime):t.longs===Number?new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){n.languageIdentification=[];for(var p=0;p<e.languageIdentification.length;++p)n.languageIdentification[p]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[p],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscript=function(){function o(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscript"),o.prototype.results=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.results!=null&&e.results.length)for(var n=0;n<e.results.length;++n)a.SdkTranscriptResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscript;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.results&&s.results.length||(s.results=[]),s.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=a.SdkTranscriptResult.verify(e.results[t]);if(n)return"results."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if(typeof e.results[n]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[n]=a.SdkTranscriptResult.fromObject(e.results[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var s=0;s<e.results.length;++s)n.results[s]=a.SdkTranscriptResult.toObject(e.results[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptionStatus=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptionStatus"),o.prototype.type=1,o.prototype.eventTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.transcriptionRegion="",o.prototype.transcriptionConfiguration="",o.prototype.message="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptionStatus;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.eventTime=e.int64();break;case 3:s.transcriptionRegion=e.string();break;case 4:s.transcriptionConfiguration=e.string();break;case 5:s.message=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!m.isInteger(e.eventTime)&&!(e.eventTime&&m.isInteger(e.eventTime.low)&&m.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!m.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!m.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!m.isString(e.message)?"message: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(m.Long?(t.eventTime=m.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new m.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=t.enums===String?"STARTED":1,m.Long){var s=new m.Long(0,0,!1);n.eventTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.eventTime=t.longs===String?"0":0;n.transcriptionRegion="",n.transcriptionConfiguration="",n.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?n.eventTime=t.longs===String?String(e.eventTime):e.eventTime:n.eventTime=t.longs===String?m.Long.prototype.toString.call(e.eventTime):t.longs===Number?new m.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(n.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(n.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),o}(),a.SdkTranscriptEvent=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}r(o,"SdkTranscriptEvent"),o.prototype.status=null,o.prototype.transcript=null;var i;return Object.defineProperty(o.prototype,"Event",{get:m.oneOfGetter(i=["status","transcript"]),set:m.oneOfSetter(i)}),o.create=r(function(t){return new o(t)},"create"),o.encode=r(function(t,n){return n||(n=h.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,n.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,n.uint32(18).fork()).ldelim(),n},"encode"),o.encodeDelimited=r(function(t,n){return this.encode(t,n).ldelim()},"encodeDelimited"),o.decode=r(function(t,n){t instanceof f||(t=f.create(t));for(var s=n===void 0?t.len:t.pos+n,p=new a.SdkTranscriptEvent;t.pos<s;){var g=t.uint32();switch(g>>>3){case 1:p.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break;case 2:p.transcript=a.SdkTranscript.decode(t,t.uint32());break;default:t.skipType(g&7);break}}return p},"decode"),o.decodeDelimited=r(function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},"decodeDelimited"),o.verify=r(function(t){if(typeof t!="object"||t===null)return"object expected";var n={};if(t.status!=null&&t.hasOwnProperty("status")){n.Event=1;{var s=a.SdkTranscriptionStatus.verify(t.status);if(s)return"status."+s}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(n.Event===1)return"Event: multiple values";n.Event=1;{var s=a.SdkTranscript.verify(t.transcript);if(s)return"transcript."+s}}return null},"verify"),o.fromObject=r(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var n=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");n.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");n.transcript=a.SdkTranscript.fromObject(t.transcript)}return n},"fromObject"),o.toObject=r(function(t,n){n||(n={});var s={};return t.status!=null&&t.hasOwnProperty("status")&&(s.status=a.SdkTranscriptionStatus.toObject(t.status,n),n.oneofs&&(s.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(s.transcript=a.SdkTranscript.toObject(t.transcript,n),n.oneofs&&(s.Event="transcript")),s},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptFrame=function(){function o(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptFrame"),o.prototype.events=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.events!=null&&e.events.length)for(var n=0;n<e.events.length;++n)a.SdkTranscriptEvent.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.events&&s.events.length||(s.events=[]),s.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=a.SdkTranscriptEvent.verify(e.events[t]);if(n)return"events."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if(typeof e.events[n]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[n]=a.SdkTranscriptEvent.fromObject(e.events[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var s=0;s<e.events.length;++s)n.events[s]=a.SdkTranscriptEvent.toObject(e.events[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkRemoteVideoUpdateFrame=function(){function o(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkRemoteVideoUpdateFrame"),o.prototype.addedOrUpdatedVideoSubscriptions=m.emptyArray,o.prototype.removedVideoSubscriptionMids=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[n],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.uint32(18).string(e.removedVideoSubscriptionMids[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkRemoteVideoUpdateFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.addedOrUpdatedVideoSubscriptions&&s.addedOrUpdatedVideoSubscriptions.length||(s.addedOrUpdatedVideoSubscriptions=[]),s.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:s.removedVideoSubscriptionMids&&s.removedVideoSubscriptionMids.length||(s.removedVideoSubscriptionMids=[]),s.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(n)return"addedOrUpdatedVideoSubscriptions."+n}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!m.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n){if(typeof e.addedOrUpdatedVideoSubscriptions[n]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[n])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.removedVideoSubscriptionMids[n]=String(e.removedVideoSubscriptionMids[n])}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addedOrUpdatedVideoSubscriptions=[],n.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){n.addedOrUpdatedVideoSubscriptions=[];for(var s=0;s<e.addedOrUpdatedVideoSubscriptions.length;++s)n.addedOrUpdatedVideoSubscriptions[s]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[s],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){n.removedVideoSubscriptionMids=[];for(var s=0;s<e.removedVideoSubscriptionMids.length;++s)n.removedVideoSubscriptionMids[s]=e.removedVideoSubscriptionMids[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkVideoSubscriptionConfiguration=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkVideoSubscriptionConfiguration"),o.prototype.mid="",o.prototype.attendeeId="",o.prototype.streamId=0,o.prototype.priority=0,o.prototype.targetBitrateKbps=0,o.prototype.groupId=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkVideoSubscriptionConfiguration;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.mid=e.string();break;case 2:s.attendeeId=e.string();break;case 3:s.streamId=e.uint32();break;case 4:s.priority=e.uint32();break;case 5:s.targetBitrateKbps=e.uint32();break;case 6:s.groupId=e.uint32();break;default:e.skipType(p&7);break}}if(!s.hasOwnProperty("mid"))throw m.ProtocolError("missing required 'mid'",{instance:s});return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":m.isString(e.mid)?e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId)?"attendeeId: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId)?"streamId: integer expected":e.priority!=null&&e.hasOwnProperty("priority")&&!m.isInteger(e.priority)?"priority: integer expected":e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!m.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;return e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.mid="",n.attendeeId="",n.streamId=0,n.priority=0,n.targetBitrateKbps=0,n.groupId=0),e.mid!=null&&e.hasOwnProperty("mid")&&(n.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(n.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(n.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPrimaryMeetingJoinFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPrimaryMeetingJoinFrame"),o.prototype.credentials=null,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPrimaryMeetingJoinFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(n.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPrimaryMeetingJoinAckFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPrimaryMeetingLeaveFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPrimaryMeetingLeaveFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPrimaryMeetingLeaveFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkMeetingSessionCredentials=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkMeetingSessionCredentials"),o.prototype.attendeeId="",o.prototype.externalUserId="",o.prototype.joinToken="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkMeetingSessionCredentials;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.attendeeId=e.string();break;case 2:s.externalUserId=e.string();break;case 3:s.joinToken=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!m.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!m.isString(e.joinToken)?"joinToken: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId="",n.externalUserId="",n.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(n.joinToken=e.joinToken),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkVideoCodecCapability=function(){var o={},i=Object.create(o);return i[o[1]="VP8"]=1,i[o[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i}(),U.exports=a,m.Long=void 0,v.configure()},XEV2:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isValidRevisionID=c.isValidAssetGroup=c.resolveURL=c.addQueryParams=c.withQueryString=c.withRequestHeaders=c.fetchWithBehavior=void 0;function v(t,n,s){if(!s)return fetch(t,n);const p=h(t,s),g=f(n,s);return fetch(p,g)}r(v,"fetchWithBehavior"),c.fetchWithBehavior=v;function f(t,n){return n!=null&&n.headers?t?Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers||{}),n.headers)}):{headers:n.headers}:t}r(f,"withRequestHeaders"),c.withRequestHeaders=f;function h(t,n){if(!(n!=null&&n.escapedQueryString))return t;const s=t.lastIndexOf("?")!==-1;return`${t}${s?"&":"?"}${n.escapedQueryString}`}r(h,"withQueryString"),c.withQueryString=h;function m(t,n){const s=Object.keys(n);if(!s.length)return t;const p=new URLSearchParams(t==null?void 0:t.escapedQueryString);for(const g of s)p.append(g,n[g]);return Object.assign(Object.assign({},t),{escapedQueryString:p.toString()})}r(m,"addQueryParams"),c.addQueryParams=m;const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function o(t,n){return v(t,a,n).then(s=>s.redirected?s.url:t)}r(o,"resolveURL"),c.resolveURL=o;function i(t){return!!t&&/^[-.a-zA-Z0-9]+$/.test(t)}r(i,"isValidAssetGroup"),c.isValidAssetGroup=i;function e(t){return!!t&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(t)}r(e,"isValidRevisionID"),c.isValidRevisionID=e},XFRR:function(U,c,d){"use strict";function v(){}r(v,"baseLodash"),c.a=v},XJKy:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("ZdbB"));let h=r(class extends f.default{setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}constructor(a,o){super(a,o)}},"VideoOnlyTransceiverController");c.default=h},XJrD:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class fv{equal(h){let m=h.captureWidth()===this.cameraWidth&&h.captureHeight()===this.cameraHeight&&h.captureFrameRate()===this.cameraFrameRate&&h.encodeBitrates().length===this.encodeBitrates().length&&h.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&h.encodeWidths().length===this.encodeWidths().length&&h.encodeHeights().length===this.encodeHeights().length;if(m){for(let a=0;a<h.encodeWidths().length;a++)if(h.encodeWidths()[a]!==this.encodeWidths()[a]||h.encodeHeights()[a]!==this.encodeHeights()[a]||h.encodeBitrates()[a]!==this.encodeBitrates()[a]||h.encodeScaleResolutionDownBy()[a]!==this.encodeScaleResolutionDownBy()[a])return m=!1,m}return m}clone(){return new fv(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}constructor(h,m,a,o,i,e=1){this.cameraWidth=h,this.cameraHeight=m,this.cameraFrameRate=a,this.maxEncodeBitrateKbps=o,this.isSimulcast=i,this.scaleResolutionDownBy=e}},"DefaultVideoCaptureAndEncodeParameter");c.default=v},XLeT:function(U,c,d){"use strict";var v=d("USwo"),f=d("8sL3"),h=d("wqPz");v(v.S,"Promise",{try:function(m){var a=f.f(this),o=h(m);return(o.e?a.reject:a.resolve)(o.v),a.promise}})},XYJD:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptEntity");c.default=v},"Xf/8":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}},"RedundantAudioRecoveryMetricReport");c.default=v},XhYu:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("xzjI"));let h=r(class extends f.default{constructor(a,o){super(a),this.constraint=o,this.name="OverconstrainedError"}},"OverconstrainedError");c.default=h},XnHx:function(U,c,d){"use strict";var v=d("/1FC");function f(){if(!arguments.length)return[];var h=arguments[0];return Object(v.a)(h)?h:[h]}r(f,"castArray"),c.a=f},Xv43:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return v(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}constructor(m){this.canvas=m,this.destroyed=!1}},"CanvasVideoFrameBuffer");c.default=f},XzFx:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR")),m=f(d("wXa7")),a=f(d("j+uH"));let o=r(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return v(this,void 0,void 0,function*(){const e=this.context.peer;let n=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(n=new m.default(n).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),new h.default().requiresDisablingH264Encoding()&&(n=new m.default(n).removeH264SupportFromSendSection().sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(n=new m.default(n).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(n=new m.default(n).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(n=new m.default(n).withStereoAudio().sdp)),this.logger.debug(()=>`local description is >>>${n}<<<`);const s={type:"offer",sdp:n,toJSON:null};yield new Promise((p,g)=>v(this,void 0,void 0,function*(){this.cancelPromise=S=>{g(S)};try{yield e.setLocalDescription(s),p()}catch(S){g(S)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");c.default=o},Y2s1:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("8FET"));let h=r(class{constructor(a,o,i=new f.default){this.eventsClientConfiguration=a,this.ingestionURL=o,this.eventBufferConfiguration=i}},"EventIngestionConfiguration");c.default=h},Y8b2:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("tK6J"));let h=r(class{create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new f.default);throw new Error("navigator.mediaDevices is not supported")}constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}},"DefaultMediaDeviceFactory");c.default=h},YEIV:function(U,c,d){"use strict";c.__esModule=!0;var v=d("SEkw"),f=h(v);function h(m){return m&&m.__esModule?m:{default:m}}r(h,"_interopRequireDefault"),c.default=function(m,a,o){return a in m?(0,f.default)(m,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):m[a]=o,m}},YH3u:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("ywpn")),m=f(d("e/ca")),a=f(d("uctb")),o=f(d("Wjms")),i=f(d("LEQH")),e=f(d("GtHv")),t=f(d("vjEy"));let n=r(class extends o.default{setBlurStrength(){}loadAssets(){return v(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}},"NoOpBackgroundBlurProcessor"),s=r(class Tc extends h.default{static create(g,S){return v(this,void 0,void 0,function*(){g=Tc.resolveSpec(g),S=Tc.resolveOptions(S);const{logger:u}=S,l=yield Tc.isSupported(g,S);if(u.info(`processor is ${l?"":"not"} supported`),!l)return u.warn("Using no-op processor because background blur is not supported"),new n;let E;return(yield e.default.isSupported())?(u.info("Using browser-provided background blur"),E=new e.default(g,S)):(u.info("Using built-in background blur"),E=new i.default(g,S)),yield E.loadAssets(),E})}static resolveOptions(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=Object.assign({},g);return S.blurStrength||(S.blurStrength=t.default.MEDIUM),S.logger||(S.logger=new m.default("BackgroundBlurProcessor",a.default.INFO)),S=super.resolveOptions(S),S}static isSupported(g,S){return g=Tc.resolveSpec(g),S=Tc.resolveOptions(S),super.isSupported(g,S)}},"BackgroundBlurVideoFrameProcessor");c.default=s},YX4P:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=d("e/nb");v.__exportStar(d("rU8T"),c),v.__exportStar(d("LVIV"),c),v.__exportStar(d("JBVX"),c),v.__exportStar(d("JEbH"),c),v.__exportStar(d("duQQ"),c)},YXGX:function(U,c,d){"use strict";var v=d("m5Jn"),f=v.a&&new v.a;c.a=f},YbMW:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("6SO8")),m=f(d("bjg3")),a=f(d("x8On")),o=f(d("Tsvd")),i=f(d("m/NO")),e=f(d("fi20")),t=f(d("BkFD")),n=d("XCDq"),s=d("Aplu"),p=f(d("PPZC")),g=f(d("10yS"));let S=r(class Vd{toAttribute(l){return this.toSuffix(l).substring(1)}toSuffix(l){return l.toLowerCase()===l?`_${l}`:l.toUpperCase()===l?`_${l.toLowerCase()}`:l.replace(/([A-Z][a-z]+)/g,function(E){return`_${E}`}).replace(/([A-Z][A-Z]+)/g,function(E){return`_${E}`}).toLowerCase()}logLatency(l,E,O){const P=this.toSuffix(l);this.logEventTime("meeting"+P,E,O)}logStateTimeout(l,E){const O=this.toSuffix(l);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},E),{state:`state${O}`}))}logAudioEvent(l,E){const O="audio"+this.toSuffix(p.default[l]);this.logEvent(O,E)}logVideoEvent(l,E){const O="video"+this.toSuffix(g.default[l]);this.logEvent(O,E)}logEventTime(l,E){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const P=Object.assign(Object.assign({},O),{call_id:this.audioVideoController.configuration.meetingId,client_type:Vd.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${l}: ${JSON.stringify(P)}`),this.metricsAddTime(l,E,P)}logMeetingSessionStatus(l){const E=`${l.statusCode()}`;this.logEvent(E);const O={status:E,status_code:`${l.statusCode()}`};this.logEvent("meeting_session_status",O),l.isTerminal()&&this.logEvent("meeting_session_stopped",O),l.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",O),l.isFailure()&&this.logEvent("meeting_session_failed",O)}logLifecycleEvent(l,E){const O={lifecycle_event:`lifecycle${this.toSuffix(i.default[l])}`,lifecycle_event_code:`${l}`,lifecycle_event_condition:`condition${this.toSuffix(e.default[E])}`,lifecycle_event_condition_code:`${E}`};this.logEvent("meeting_session_lifecycle",O)}logEvent(l){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const O=Object.assign(Object.assign({},E),{call_id:this.audioVideoController.configuration.meetingId,client_type:Vd.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${l}: ${JSON.stringify(O)}`),this.metricsLogEvent(l,O)}start(l,E){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=l,this.videoStreamIndex=E,this.clientMetricReport=new h.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new t.default(this.interval),this.intervalScheduler.start(()=>v(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(l,E){const O=E?this.clientMetricReport.streamMetricReports[Number(l.ssrc)]:this.clientMetricReport.globalMetricReport;let P;E?P=this.clientMetricReport.getMetricMap(O.mediaType,O.direction):P=this.clientMetricReport.getMetricMap();for(const x in l)x in P&&(typeof l[x]=="number"?(O.previousMetrics[x]=O.currentMetrics[x],O.currentMetrics[x]=l[x]):typeof l[x]=="string"?O.currentStringMetrics[x]=l[x]:this.logger.error(`Unknown metric value type ${typeof l[x]} for metric ${x}`))}processRawMetricReports(l){this.clientMetricReport.currentSsrcs={};const E=Date.now();for(const O of l){const P=this.isStreamRawMetricReport(O.type);if(P){const x=this.clientMetricReport.streamMetricReports[Number(O.ssrc)];if(x)x.streamId=this.videoStreamIndex.streamIdForSSRC(Number(O.ssrc));else{const k=new o.default;k.mediaType=this.getMediaType(O),k.direction=this.getDirectionType(O),this.videoStreamIndex.allStreams().empty()||(k.streamId=this.videoStreamIndex.streamIdForSSRC(Number(O.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(k.groupId=this.videoStreamIndex.groupIdForSSRC(Number(O.ssrc)))),this.clientMetricReport.streamMetricReports[Number(O.ssrc)]=k}this.clientMetricReport.currentSsrcs[Number(O.ssrc)]=1}this.updateMetricValues(O,P)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=E,this.clientMetricReport.print()}addStreamMetricDimensionFrames(l,E){const O=this.clientMetricReport.getStreamDimensionMap();for(const P in E.currentStringMetrics)if(P in O){const x=n.SdkStreamDimension.create();x.type=O[P];const k=n.SdkDimensionValue.create();k.stringValue=E.currentStringMetrics[P],x.value=k,l.dimensions.push(x)}}addMetricFrame(l,E,O,P){const x=O.type,k=O.transform,B=O.source,R=E.streamMetricFrames.length,N=E.streamMetricFrames[R-1];if(x){const w=n.SdkMetric.create();w.type=x,w.value=k(B||l,P),P?N.metrics.push(w):E.globalMetrics.push(w)}}addGlobalMetricsToProtobuf(l){const E=this.clientMetricReport.getMetricMap();for(const O in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(O,l,E[O])}addStreamMetricsToProtobuf(l){for(const E in this.clientMetricReport.streamMetricReports){const O=this.clientMetricReport.streamMetricReports[E],P=n.SdkStreamMetricFrame.create();P.streamId=O.streamId,P.metrics=[],this.addStreamMetricDimensionFrames(P,O),l.streamMetricFrames.push(P);const x=this.clientMetricReport.getMetricMap(O.mediaType,O.direction);for(const k in O.currentMetrics)this.addMetricFrame(k,l,x[k],Number(E));for(const k in O.currentStringMetrics)this.addMetricFrame(k,l,x[k],Number(E))}}makeClientMetricProtobuf(){const l=n.SdkClientMetricFrame.create();return l.globalMetrics=[],l.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(l),this.addStreamMetricsToProtobuf(l),l}sendClientMetricProtobuf(l){this.signalingClient.sendClientMetrics(l)}isStreamRawMetricReport(l){return["inbound-rtp","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(l)}getMediaType(l){return l.kind==="audio"?a.default.AUDIO:a.default.VIDEO}getDirectionType(l){const{type:E}=l;return E==="inbound-rtp"||E==="remote-outbound-rtp"?m.default.DOWNSTREAM:m.default.UPSTREAM}isValidStandardRawMetric(l){return l.type==="inbound-rtp"||l.type==="outbound-rtp"||l.type==="remote-inbound-rtp"||l.type==="remote-outbound-rtp"||l.type==="candidate-pair"&&l.state==="succeeded"||l.type==="media-source"&&l.kind==="audio"}isValidSsrc(l){let E=!0;return this.isStreamRawMetricReport(l.type)&&this.getDirectionType(l)===m.default.DOWNSTREAM&&this.getMediaType(l)===a.default.VIDEO&&(E=this.videoStreamIndex.streamIdForSSRC(Number(l.ssrc))>0),E}isValidRawMetricReport(l){return this.isValidStandardRawMetric(l)&&this.isValidSsrc(l)}filterRawMetricReports(l){const E=[];for(const O of l)this.isValidRawMetricReport(O)&&E.push(O);return E}handleRawMetricReports(l){const E=this.filterRawMetricReports(l);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(E)}`),this.processRawMetricReports(E);const O=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(O),this.audioVideoController.forEachObserver(P=>{s.Maybe.of(P.metricsDidReceive).map(x=>x.bind(P)(this.clientMetricReport.clone()))})}getStatsWrapper(){return v(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const l=[];try{const E=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=E,E.forEach(O=>{l.push(O)}),this.handleRawMetricReports(l)}catch(E){this.logger.error(E.message)}})}overrideObservableMetric(l,E){this.clientMetricReport.overrideObservableMetric(l,E)}constructor(l,E,O=Vd.INTERVAL_MS){this.audioVideoController=l,this.logger=E,this.interval=O,this.intervalScheduler=null,this.metricsAddTime=(P,x,k)=>{},this.metricsLogEvent=(P,x)=>{}}},"StatsCollector");c.default=S,S.INTERVAL_MS=1e3,S.CLIENT_TYPE="amazon-chime-sdk-js"},YcE2:function(U,c,d){"use strict";(function(v){Object.defineProperty(c,"__esModule",{value:!0}),c.convertToBuffer=void 0;var f=d("f/KM"),h=typeof v<"u"&&v.from?function(a){return v.from(a,"utf8")}:f.fromUtf8;function m(a){return a instanceof Uint8Array?a:typeof a=="string"?h(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}r(m,"convertToBuffer"),c.convertToBuffer=m}).call(this,d("HDXh").Buffer)},Yk7g:function(U,c,d){"use strict";var v=Array.prototype,f=v.reverse;function h(m){return m==null?m:f.call(m)}r(h,"reverse"),c.a=h},Yugg:function(U,c,d){"use strict";d.r(c),d.d(c,"locateWindow",function(){return f});const v={};function f(){return typeof window<"u"?window:typeof self<"u"?self:v}r(f,"locateWindow")},Yvks:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.AudioInputRequestFailed=1]="AudioInputRequestFailed",f[f.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.AudioNotReceived=4]="AudioNotReceived"})(v=c.CheckAudioConnectivityFeedback||(c.CheckAudioConnectivityFeedback={})),c.default=v},"Yz+Y":function(U,c,d){U.exports={default:d("Lr1a"),__esModule:!0}},"Z/hr":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("U9CR")),h=v(d("ppUg")),m=v(d("uQnq"));let a=r(class ol{static connectVideoStreamToVideoElement(i,e,t){const n=t&&i.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(ol.setVideoElementFlag(e,"disablePictureInPicture",t),ol.setVideoElementFlag(e,"disableRemotePlayback",t),e.style.transform!==n&&(e.style.transform=n),e.hasAttribute("controls")&&e.removeAttribute("controls"),e.hasAttribute("autoplay")||e.setAttribute("autoplay","true"),e.hasAttribute("playsinline")||e.setAttribute("playsinline","true"),e.hasAttribute("muted")||(e.setAttribute("muted","true"),e.muted=!0),e.srcObject!==i&&(e.srcObject=i,new f.default().requiresVideoPlayWorkaround()&&e.paused)){const s=e.play();s!==void 0&&s.catch(p=>{console.warn("Error playing video in Safari",p)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i)if(e)t||(i.srcObject=null,i.style.transform="");else{if(!i.srcObject)return;i.pause(),i.style.transform="",ol.setVideoElementFlag(i,"disablePictureInPicture",!1),ol.setVideoElementFlag(i,"disableRemotePlayback",!1),i.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&ol.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new m.default}devicePixelRatioChanged(i){this.tileState.devicePixelRatio=i,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(i,e,t,n,s,p,g){let S=!1;this.tileState.boundAttendeeId!==i&&(this.tileState.boundAttendeeId=i,new h.default(i).hasModality(h.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),S=!0),this.tileState.boundExternalUserId!==g&&(this.tileState.boundExternalUserId=g,S=!0),this.tileState.localTile!==e&&(this.tileState.localTile=e,S=!0),this.tileState.boundVideoStream!==t&&(this.tileState.boundVideoStream=t,S=!0),this.tileState.videoStreamContentWidth!==n&&(this.tileState.videoStreamContentWidth=n,S=!0),this.tileState.videoStreamContentHeight!==s&&(this.tileState.videoStreamContentHeight=s,S=!0),this.tileState.streamId!==p&&(this.tileState.streamId=p,S=!0),S&&this.sendTileStateUpdate()}bindVideoElement(i){let e=!1;this.tileState.boundVideoElement!==i&&(this.tileState.boundVideoElement=i,e=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==i.clientWidth&&(this.tileState.videoElementCSSWidthPixels=i.clientWidth,e=!0),this.tileState.videoElementCSSHeightPixels!==i.clientHeight&&(this.tileState.videoElementCSSHeightPixels=i.clientHeight,e=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),e&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const i=document.createElement("canvas"),e=this.tileState.boundVideoElement;i.width=e.videoWidth||e.width,i.height=e.videoHeight||e.height;const t=i.getContext("2d");return t.drawImage(e,0,0,i.width,i.height),t.getImageData(0,0,i.width,i.height)}setStreamId(i){this.tileState.streamId=i,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?ol.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):ol.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(i,e,t){e in i&&(i[e]=t)}constructor(i,e,t,n){this.tileController=t,this.devicePixelRatioMonitor=n,this.tileState=new m.default,this.tileState.tileId=i,this.tileState.localTile=e,this.devicePixelRatioMonitor.registerObserver(this)}},"DefaultVideoTile");c.default=a},Z0UI:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptAlternative");c.default=v},ZDin:function(U,c,d){var v=d("A9a0"),f=d("l0Kd").concat("length","prototype");c.f=Object.getOwnPropertyNames||r(function(m){return v(m,f)},"getOwnPropertyNames")},ZHiL:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("mlaT")),h=v(d("aZJ3"));let m=r(class extends h.default{constructor(){super(f.default.DEBUG)}},"NoOpDebugLogger");c.default=m},ZISg:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(S,u,l,E){function O(P){return P instanceof l?P:new l(function(x){x(P)})}return r(O,"adopt"),new(l||(l=Promise))(function(P,x){function k(N){try{R(E.next(N))}catch(w){x(w)}}r(k,"fulfilled");function B(N){try{R(E.throw(N))}catch(w){x(w)}}r(B,"rejected");function R(N){N.done?P(N.value):O(N.value).then(k,B)}r(R,"step"),R((E=E.apply(S,u||[])).next())})},f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("aZba")),m=f(d("papz")),a=f(d("wXa7")),o=f(d("aTUL")),i=d("/AJg"),e=f(d("HbHZ")),t=f(d("VhCr")),n=d("XCDq"),s=d("T44/"),p=f(d("j+uH"));let g=r(class extends p.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){let u="";if(this.context.peer&&this.context.peer.localDescription&&(u=new a.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let R=0,N=0;this.context.videoCaptureAndEncodeParameter&&(R=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),N=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const w={rid:"hi",maxBitrate:N*1e3,maxFramerate:R,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([w])}this.context.videoStreamIndex.subscribeFrameSent();const l=this.fixUpSubscriptionOrder(u,this.context.videoSubscriptions),E=this.context.videoDuplexMode===n.SdkStreamServiceType.TX||this.context.videoDuplexMode===n.SdkStreamServiceType.DUPLEX;let O;const P=u;if(this.context.serverSupportsCompression){const R=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";O=this.textCompressor.compress(P,R),this.context.logger.info(`Compressed the SDP message from ${P.length} to ${O.length} bytes.`),u=""}this.context.previousSdpOffer=new a.default(P);const x=new t.default(this.context.meetingSessionConfiguration.credentials.attendeeId,u,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,l,E,this.context.videoStreamIndex.localStreamDescriptions(),!0,O);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!i.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(x.videoSubscriptionConfiguration=s.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,l.map(R=>R===0?0:this.context.videoStreamIndex.groupIdForStreamId(R)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(x)}`),this.context.signalingClient.subscribe(x);const k=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(k)}`);let B="";k.compressedSdpAnswer&&k.compressedSdpAnswer.length?(B=this.textCompressor.decompress(k.compressedSdpAnswer,this.context.previousSdpAnswerAsString),B.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${k.compressedSdpAnswer.length} to ${B.length} bytes.`),this.context.sdpAnswer=B):this.context.sdpAnswer=k.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(k)})}fixUpSubscriptionOrder(u,l){if(this.context.transceiverController.getMidForStreamId===void 0)return l;const E=new Map;for(const x of l){const k=this.context.transceiverController.getMidForStreamId(x);if(k===void 0){x!==0&&this.logger.warn(`Could not find MID for stream ID: ${x}`);continue}E.set(k,x)}const O=new a.default(u).mediaSections(),P=[];for(const x of O)if(x.mediaType==="video")if(x.direction==="recvonly"){const k=E.get(x.mid);if(k===void 0){this.logger.warn(`Could not find stream ID for MID: ${x.mid}`);continue}P.push(k)}else P.push(0);return this.logger.info(`Fixed up ${JSON.stringify(l)} to ${JSON.stringify(P)} (may be same))}`),P}receiveSubscribeAck(){return new Promise((u,l)=>{const E=this.context;let O=r(class{cancel(){this.signalingClient.removeObserver(this),l(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(k){if(k.isConnectionTerminated()){const R=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${k.closeCode} and reason: ${k.closeReason}`;E.logger.warn(R);let N=m.default.TaskFailed;k.closeCode>=4500&&k.closeCode<4600&&(N=m.default.SignalingInternalServerError),E.audioVideoController.handleMeetingSessionStatus(new h.default(N),new Error(R));return}if(k.type!==e.default.ReceivedSignalFrame||k.message.type!==n.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const B=k.message.suback;u(B)}constructor(k){this.signalingClient=k}},"Interceptor");const P=new O(this.context.signalingClient);this.context.signalingClient.registerObserver(P),this.taskCanceler=P})}constructor(u){super(u.logger),this.context=u,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new o.default(u.logger)}},"SubscribeAndReceiveSubscribeAckTask");c.default=g},ZIUS:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");c.default=v},ZIxo:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var v=d("dFEU"),f=d("b4Ml"),h=d("xxdO"),m=d("bVud"),a=d("YX4P"),o=d("Yugg"),i=d("pU0T"),e=function(){function t(n){(0,m.supportsWebCrypto)((0,o.locateWindow)())?this.hash=new f.Sha256(n):(0,a.isMsWindow)((0,o.locateWindow)())?this.hash=new v.Sha256(n):this.hash=new h.Sha256(n)}return r(t,"Sha256"),t.prototype.update=function(n,s){this.hash.update((0,i.convertToBuffer)(n))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();c.Sha256=e},ZPwG:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("AUdx")),m=f(d("MelK")),a=d("DUgj"),o=f(d("hEYi")),i=f(d("iFpF")),e=d("f2XL"),t=d("P7D+"),n=f(d("aVV0"));let s=r(class extends n.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){let g="";if(this.context.peer&&this.context.peer.localDescription&&(g=new h.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let k=0,B=0;this.context.videoCaptureAndEncodeParameter&&(k=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),B=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const R={rid:"hi",maxBitrate:B*1e3,maxFramerate:k,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([R])}this.context.videoStreamIndex.subscribeFrameSent();const S=this.fixUpSubscriptionOrder(g,this.context.videoSubscriptions),u=this.context.videoDuplexMode===e.SdkStreamServiceType.TX||this.context.videoDuplexMode===e.SdkStreamServiceType.DUPLEX;let l;const E=g;if(this.context.serverSupportsCompression){const k=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";l=this.textCompressor.compress(E,k),this.context.logger.info(`Compressed the SDP message from ${E.length} to ${l.length} bytes.`),g=""}this.context.previousSdpOffer=new h.default(E);const O=new i.default(this.context.meetingSessionConfiguration.credentials.attendeeId,g,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,S,u,this.context.videoStreamIndex.localStreamDescriptions(),!0,l);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!a.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(O.videoSubscriptionConfiguration=t.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,S.map(k=>k===0?0:this.context.videoStreamIndex.groupIdForStreamId(k)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(O)}`),this.context.signalingClient.subscribe(O);const P=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(P)}`);let x="";P.compressedSdpAnswer&&P.compressedSdpAnswer.length?(x=this.textCompressor.decompress(P.compressedSdpAnswer,this.context.previousSdpAnswerAsString),x.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${P.compressedSdpAnswer.length} to ${x.length} bytes.`),this.context.sdpAnswer=x):this.context.sdpAnswer=P.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(P)})}fixUpSubscriptionOrder(g,S){if(this.context.transceiverController.getMidForStreamId===void 0)return S;const u=new Map;for(const O of S){const P=this.context.transceiverController.getMidForStreamId(O);if(P===void 0){O!==0&&this.logger.warn(`Could not find MID for stream ID: ${O}`);continue}u.set(P,O)}const l=new h.default(g).mediaSections(),E=[];for(const O of l)if(O.mediaType==="video")if(O.direction==="recvonly"){const P=u.get(O.mid);if(P===void 0){this.logger.warn(`Could not find stream ID for MID: ${O.mid}`);continue}E.push(P)}else E.push(0);return this.logger.info(`Fixed up ${JSON.stringify(S)} to ${JSON.stringify(E)} (may be same))}`),E}receiveSubscribeAck(){return new Promise((g,S)=>{let u=r(class{cancel(){this.signalingClient.removeObserver(this),S(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(O){if(O.type===o.default.WebSocketClosed){this.cancel();return}else if(O.type!==o.default.ReceivedSignalFrame||O.message.type!==e.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const P=O.message.suback;g(P)}constructor(O){this.signalingClient=O}},"Interceptor");const l=new u(this.context.signalingClient);this.context.signalingClient.registerObserver(l),this.taskCanceler=l})}constructor(g){super(g.logger),this.context=g,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new m.default(g.logger)}},"SubscribeAndReceiveSubscribeAckTask");c.default=s},ZS2b:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class hv{equal(h){return this.remoteVideoAvailable===h.remoteVideoAvailable&&this.canStartLocalVideo===h.canStartLocalVideo}clone(){const h=new hv;return h.remoteVideoAvailable=this.remoteVideoAvailable,h.canStartLocalVideo=this.canStartLocalVideo,h}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");c.default=v},ZXtA:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=.8;let f=r(class{reportEvent(m){const a=m-this.lastReportedEventTimestamp;if(a>=this.reportingPeriodMillis){const o=this.filterCount,i=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=m,this.framerate===0||o===0)return;const e=Math.round(i/o),t=Math.round(this.framerate*(a/1e3))-o,n=Math.round(100*i/a);e>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:t,avgFilterDurationMillis:e,framerate:this.framerate,periodMillis:a}),n>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:n,filterMillis:i,periodMillis:a})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*v)}frameReceived(m){m!==this.framerate&&(this.framerate=m,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());const a=Date.now();this.reportEvent(a)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}constructor(m,a,o,i){this.delegate=m,this.reportingPeriodMillis=a,this.filterCPUUtilization=o,this.logger=i,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}},"BackgroundFilterFrameCounter");c.default=f},"ZY/g":function(U,c,d){d("aFj7");for(var v=d("7whZ"),f=d("BRsN"),h=d("ig3W"),m=d("zBWt")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),o=0;o<a.length;o++){var i=a[o],e=v[i],t=e&&e.prototype;t&&!t[m]&&f(t,m,i),h[i]=h.Array}},ZZPe:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{process(m){return v(this,void 0,void 0,function*(){return m})}destroy(){return v(this,void 0,void 0,function*(){})}},"NoOpVideoFrameProcessor");c.default=f},ZblS:function(U,c,d){d("kcqV");var v=d("VSTI").Object;U.exports=r(function(h,m){return v.getOwnPropertyDescriptor(h,m)},"getOwnPropertyDescriptor")},ZdbB:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{setEncodingParameters(m){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const a=this._localCameraTransceiver.sender;if(!m||m.size===0)return;const o=Array.from(m.values()),i=a.getParameters();if(!i.encodings||i.encodings.length===0)i.encodings=o;else for(const e of i.encodings)for(const t of o){if((e.rid||t.rid)&&e.rid!==t.rid)continue;let n;for(n in t)n==="rid"||n==="codecPayloadType"||t.hasOwnProperty(n)&&(e[n]=t[n])}yield a.setParameters(i)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(m){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const a=this._localCameraTransceiver.sender;if(!a||m<=0)return;const o=a.getParameters();o.encodings||(o.encodings=[{}]);for(const i of o.encodings)i.maxBitrate=m*1e3;yield a.setParameters(o)})}setPeer(m){this.peer=m}reset(){this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(m){return this._localCameraTransceiver?m===this._localCameraTransceiver.sender.track||m===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]})),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(m){return v(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(m),!0)})}setAudioInput(m){return v(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,m)})}setVideoInput(m){return v(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,m)})}updateVideoTransceivers(m,a){if(!this.useTransceivers())return a.array();const o=this.peer.getTransceivers();return this.videoSubscriptions=[0],a=a.clone(),this.updateTransceivers(o,m,a),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(m,a,o){const i=o.array();m.length!==0&&!m[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(m,a,i)):m.length!==0&&this.updateTransceiverWithStop(m,a,i);for(const e of i){const t=this.peer.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(e,t),this.groupIdToTransceiver.set(a.groupIdForStreamId(e),t),this.videoSubscriptions.push(e),this.logger.info(`adding transceiver mid: ${t.mid} subscription: ${e} direction: recvonly`)}}updateTransceiverWithStop(m,a,o){let i=1;this.videoSubscriptions=[0];for(const e of m){if(e===this._localCameraTransceiver||!this.transceiverIsVideo(e)||!e.mid)continue;let t=!1;const n=a.streamIdForTrack("v_"+e.mid);if(e.direction!=="inactive"&&n!==void 0){for(const[s,p]of o.entries())if(a.StreamIdsInSameGroup(n,p)){e.direction="recvonly",this.videoSubscriptions[i]=p,t=!0,this.streamIdToTransceiver.delete(n),this.streamIdToTransceiver.set(p,e),o.splice(s,1);break}}if(!t){this.videoSubscriptions[i]=0,this.logger.info(`Stopping MID: ${e.mid}, direction: ${e.direction}, current direction: ${e.currentDirection}`),e.stop();for(const[s,p]of this.streamIdToTransceiver.entries())e.mid===p.mid&&(this.streamIdToTransceiver.delete(s),this.groupIdToTransceiver.delete(a.groupIdForStreamId(s)))}i+=1}}updateTransceiverWithoutStop(m,a,o){let i=1;for(const e of m)if(!(e===this._localCameraTransceiver||!this.transceiverIsVideo(e))){if(this.videoSubscriptions[i]=0,e.direction!=="inactive"){const t=a.streamIdForTrack("v_"+e.mid);if(t!==void 0){for(const[n,s]of o.entries())if(a.StreamIdsInSameGroup(t,s)){e.direction="recvonly",this.videoSubscriptions[i]=s,this.streamIdToTransceiver.delete(t),this.streamIdToTransceiver.set(s,e),o.splice(n,1);break}}}i+=1}i=1;for(const e of m)if(!(e===this._localCameraTransceiver||!this.transceiverIsVideo(e))){if(e.direction==="inactive"&&o.length>0){e.direction="recvonly";const t=o.shift();this.videoSubscriptions[i]=t,this.streamIdToTransceiver.set(t,e),this.groupIdToTransceiver.set(a.groupIdForStreamId(t),e)}else if(this.videoSubscriptions[i]===0){e.direction="inactive";for(const[t,n]of this.streamIdToTransceiver.entries())e===n&&(this.streamIdToTransceiver.delete(t),this.groupIdToTransceiver.delete(a.groupIdForStreamId(t)))}i+=1}}getMidForStreamId(m){var a;return(a=this.streamIdToTransceiver.get(m))===null||a===void 0?void 0:a.mid}setStreamIdForMid(m,a){for(const[o,i]of this.streamIdToTransceiver.entries())if(i.mid===m){this.streamIdToTransceiver.delete(o),this.streamIdToTransceiver.set(a,i);return}}getMidForGroupId(m){var a;return(a=this.groupIdToTransceiver.get(m))===null||a===void 0?void 0:a.mid}transceiverIsVideo(m){return m.receiver&&m.receiver.track&&m.receiver.track.kind==="video"||m.sender&&m.sender.track&&m.sender.track.kind==="video"}debugDumpTransceivers(){let m="",a=0;for(const o of this.peer.getTransceivers())this.transceiverIsVideo(o)&&(m+=`transceiver index=${a} mid=${o.mid} subscription=${this.videoSubscriptions[a]} direction=${o.direction}
`,a+=1);return m}setTransceiverInput(m,a){return v(this,void 0,void 0,function*(){m&&(a?m.direction="sendrecv":m.direction="inactive",yield m.sender.replaceTrack(a))})}constructor(m,a){this.logger=m,this.browserBehavior=a,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map}},"DefaultTransceiverController");c.default=f},Zful:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("oHvd"));let h=r(class $s extends f.default{health(){if(this.currentData.isConnectionStartRecent($s.CONNECTION_WAIT_TIME_MS))return 1;const o=this.currentData.consecutiveStatsWithNoPackets>=$s.CONNECTION_UNHEALTHY_THRESHOLD,i=this.currentData.consecutiveMissedPongs>=$s.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>$s.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const e=this.audioDelayPointsOverMaximum>$s.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return e&&(this.audioDelayPointsOverMaximum=0),o||i||e?(this.logger.warn(`reconnection recommended due to: no packets received: ${o}, missed pongs: ${i}, bad audio delay: ${e}`),0):1}constructor(a,o,i){super(o,i,"Reconnection Health"),this.logger=a,this.audioDelayPointsOverMaximum=0,$s.CONNECTION_UNHEALTHY_THRESHOLD=o.connectionUnhealthyThreshold,$s.CONNECTION_WAIT_TIME_MS=o.connectionWaitTimeMs,$s.MISSED_PONGS_THRESHOLD=o.missedPongsUpperThreshold,$s.MAXIMUM_AUDIO_DELAY_MS=o.maximumAudioDelayMs,$s.MAXIMUM_AUDIO_DELAY_DATA_POINTS=o.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");c.default=h},Zhxc:function(U,c,d){"use strict";var v=d("c3gm"),f=d("XFRR"),h=4294967295;function m(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}r(m,"LazyWrapper"),m.prototype=Object(v.a)(f.a.prototype),m.prototype.constructor=m;var a=m,o=d("+j7y"),i=d("ftz4"),e=d("Gn1W"),t=d("/1FC"),n=d("EUcb"),s=d("eAQQ");function p(x){if(x instanceof a)return x.clone();var k=new e.a(x.__wrapped__,x.__chain__);return k.__actions__=Object(s.a)(x.__actions__),k.__index__=x.__index__,k.__values__=x.__values__,k}r(p,"wrapperClone");var g=p,S=Object.prototype,u=S.hasOwnProperty;function l(x){if(Object(n.a)(x)&&!Object(t.a)(x)&&!(x instanceof a)){if(x instanceof e.a)return x;if(u.call(x,"__wrapped__"))return g(x)}return new e.a(x)}r(l,"lodash"),l.prototype=f.a.prototype,l.prototype.constructor=l;var E=l;function O(x){var k=Object(i.a)(x),B=E[k];if(typeof B!="function"||!(k in a.prototype))return!1;if(x===B)return!0;var R=Object(o.a)(B);return!!R&&x===R[0]}r(O,"isLaziable");var P=c.a=O},Zit3:function(U,c,d){"use strict";d.r(c),d.d(c,"__Client",function(){return Qs}),d.d(c,"ChimeSDKMessagingClient",function(){return yo}),d.d(c,"ChimeSDKMessaging",function(){return Fc}),d.d(c,"$Command",function(){return On}),d.d(c,"AssociateChannelFlowCommand",function(){return ac}),d.d(c,"BatchCreateChannelMembershipCommand",function(){return lc}),d.d(c,"ChannelFlowCallbackCommand",function(){return cc}),d.d(c,"CreateChannelBanCommand",function(){return dc}),d.d(c,"CreateChannelCommand",function(){return uc}),d.d(c,"CreateChannelFlowCommand",function(){return fc}),d.d(c,"CreateChannelMembershipCommand",function(){return Ei}),d.d(c,"CreateChannelModeratorCommand",function(){return Cn}),d.d(c,"DeleteChannelBanCommand",function(){return ma}),d.d(c,"DeleteChannelCommand",function(){return ja}),d.d(c,"DeleteChannelFlowCommand",function(){return Ga}),d.d(c,"DeleteChannelMembershipCommand",function(){return $a}),d.d(c,"DeleteChannelMessageCommand",function(){return Vs}),d.d(c,"DeleteChannelModeratorCommand",function(){return zi}),d.d(c,"DeleteMessagingStreamingConfigurationsCommand",function(){return Gi}),d.d(c,"DescribeChannelBanCommand",function(){return ia}),d.d(c,"DescribeChannelCommand",function(){return jn}),d.d(c,"DescribeChannelFlowCommand",function(){return Or}),d.d(c,"DescribeChannelMembershipCommand",function(){return gs}),d.d(c,"DescribeChannelMembershipForAppInstanceUserCommand",function(){return $i}),d.d(c,"DescribeChannelModeratedByAppInstanceUserCommand",function(){return Cl}),d.d(c,"DescribeChannelModeratorCommand",function(){return ga}),d.d(c,"DisassociateChannelFlowCommand",function(){return Ka}),d.d(c,"GetChannelMembershipPreferencesCommand",function(){return Ja}),d.d(c,"GetChannelMessageCommand",function(){return va}),d.d(c,"GetChannelMessageStatusCommand",function(){return bl}),d.d(c,"GetMessagingSessionEndpointCommand",function(){return El}),d.d(c,"GetMessagingStreamingConfigurationsCommand",function(){return Tl}),d.d(c,"ListChannelBansCommand",function(){return Ya}),d.d(c,"ListChannelFlowsCommand",function(){return Hs}),d.d(c,"ListChannelMembershipsCommand",function(){return ko}),d.d(c,"ListChannelMembershipsForAppInstanceUserCommand",function(){return zs}),d.d(c,"ListChannelMessagesCommand",function(){return Sa}),d.d(c,"ListChannelModeratorsCommand",function(){return ya}),d.d(c,"ListChannelsAssociatedWithChannelFlowCommand",function(){return vs}),d.d(c,"ListChannelsCommand",function(){return Ca}),d.d(c,"ListChannelsModeratedByAppInstanceUserCommand",function(){return Xa}),d.d(c,"ListSubChannelsCommand",function(){return Qa}),d.d(c,"ListTagsForResourceCommand",function(){return Il}),d.d(c,"PutChannelExpirationSettingsCommand",function(){return Qo}),d.d(c,"PutChannelMembershipPreferencesCommand",function(){return wl}),d.d(c,"PutMessagingStreamingConfigurationsCommand",function(){return Za}),d.d(c,"RedactChannelMessageCommand",function(){return Ol}),d.d(c,"SearchChannelsCommand",function(){return ba}),d.d(c,"SendChannelMessageCommand",function(){return Ea}),d.d(c,"TagResourceCommand",function(){return Ml}),d.d(c,"UntagResourceCommand",function(){return Al}),d.d(c,"UpdateChannelCommand",function(){return st}),d.d(c,"UpdateChannelFlowCommand",function(){return qa}),d.d(c,"UpdateChannelMessageCommand",function(){return oo}),d.d(c,"UpdateChannelReadMarkerCommand",function(){return Ss}),d.d(c,"paginateListChannelBans",function(){return pc}),d.d(c,"paginateListChannelFlows",function(){return Ef}),d.d(c,"paginateListChannelMembershipsForAppInstanceUser",function(){return Hc}),d.d(c,"paginateListChannelMemberships",function(){return Tf}),d.d(c,"paginateListChannelMessages",function(){return Ws}),d.d(c,"paginateListChannelModerators",function(){return Pd}),d.d(c,"paginateListChannelsAssociatedWithChannelFlow",function(){return Dd}),d.d(c,"paginateListChannelsModeratedByAppInstanceUser",function(){return Gc}),d.d(c,"paginateListChannels",function(){return js}),d.d(c,"paginateListSubChannels",function(){return Yc}),d.d(c,"paginateSearchChannels",function(){return nl}),d.d(c,"AllowNotifications",function(){return vh}),d.d(c,"ChannelMembershipType",function(){return Sh}),d.d(c,"ErrorCode",function(){return yh}),d.d(c,"BadRequestException",function(){return Kl}),d.d(c,"ConflictException",function(){return Jl}),d.d(c,"ForbiddenException",function(){return Yl}),d.d(c,"NotFoundException",function(){return Xl}),d.d(c,"ServiceFailureException",function(){return Ql}),d.d(c,"ServiceUnavailableException",function(){return Zl}),d.d(c,"ThrottledClientException",function(){return ql}),d.d(c,"UnauthorizedClientException",function(){return ec}),d.d(c,"ResourceLimitExceededException",function(){return tc}),d.d(c,"ExpirationCriterion",function(){return Ch}),d.d(c,"ChannelMode",function(){return bh}),d.d(c,"ChannelPrivacy",function(){return Eh}),d.d(c,"InvocationType",function(){return Th}),d.d(c,"FallbackAction",function(){return Ih}),d.d(c,"PushNotificationType",function(){return wh}),d.d(c,"ChannelMessagePersistenceType",function(){return Oh}),d.d(c,"ChannelMessageStatus",function(){return Mh}),d.d(c,"ChannelMessageType",function(){return Ah}),d.d(c,"MessagingDataType",function(){return Rh}),d.d(c,"SortOrder",function(){return Ph}),d.d(c,"SearchFieldKey",function(){return Dh}),d.d(c,"SearchFieldOperator",function(){return kh}),d.d(c,"IdentityFilterSensitiveLog",function(){return Ir}),d.d(c,"BatchChannelMembershipsFilterSensitiveLog",function(){return lu}),d.d(c,"BatchCreateChannelMembershipResponseFilterSensitiveLog",function(){return cu}),d.d(c,"ChannelFilterSensitiveLog",function(){return du}),d.d(c,"ChannelAssociatedWithFlowSummaryFilterSensitiveLog",function(){return uu}),d.d(c,"ChannelBanFilterSensitiveLog",function(){return fu}),d.d(c,"ChannelBanSummaryFilterSensitiveLog",function(){return hu}),d.d(c,"ProcessorFilterSensitiveLog",function(){return nc}),d.d(c,"ChannelFlowFilterSensitiveLog",function(){return pu}),d.d(c,"MessageAttributeValueFilterSensitiveLog",function(){return ic}),d.d(c,"PushNotificationConfigurationFilterSensitiveLog",function(){return Cd}),d.d(c,"ChannelMessageCallbackFilterSensitiveLog",function(){return mu}),d.d(c,"ChannelFlowCallbackRequestFilterSensitiveLog",function(){return gu}),d.d(c,"ChannelFlowSummaryFilterSensitiveLog",function(){return vu}),d.d(c,"ChannelMembershipFilterSensitiveLog",function(){return Su}),d.d(c,"ChannelSummaryFilterSensitiveLog",function(){return rc}),d.d(c,"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog",function(){return bd}),d.d(c,"PushNotificationPreferencesFilterSensitiveLog",function(){return yu}),d.d(c,"ChannelMembershipPreferencesFilterSensitiveLog",function(){return Bc}),d.d(c,"ChannelMembershipSummaryFilterSensitiveLog",function(){return Cu}),d.d(c,"ChannelMessageFilterSensitiveLog",function(){return bu}),d.d(c,"ChannelMessageSummaryFilterSensitiveLog",function(){return Eu}),d.d(c,"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog",function(){return Ed}),d.d(c,"ChannelModeratorFilterSensitiveLog",function(){return Tu}),d.d(c,"ChannelModeratorSummaryFilterSensitiveLog",function(){return Iu}),d.d(c,"TagFilterSensitiveLog",function(){return oc}),d.d(c,"CreateChannelRequestFilterSensitiveLog",function(){return wu}),d.d(c,"CreateChannelBanResponseFilterSensitiveLog",function(){return Ou}),d.d(c,"CreateChannelFlowRequestFilterSensitiveLog",function(){return Mu}),d.d(c,"CreateChannelMembershipResponseFilterSensitiveLog",function(){return Au}),d.d(c,"CreateChannelModeratorResponseFilterSensitiveLog",function(){return Ru}),d.d(c,"DescribeChannelResponseFilterSensitiveLog",function(){return Pu}),d.d(c,"DescribeChannelBanResponseFilterSensitiveLog",function(){return Du}),d.d(c,"DescribeChannelFlowResponseFilterSensitiveLog",function(){return ku}),d.d(c,"DescribeChannelMembershipResponseFilterSensitiveLog",function(){return xu}),d.d(c,"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog",function(){return _u}),d.d(c,"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog",function(){return Lu}),d.d(c,"DescribeChannelModeratorResponseFilterSensitiveLog",function(){return Nu}),d.d(c,"GetChannelMembershipPreferencesResponseFilterSensitiveLog",function(){return Bu}),d.d(c,"GetChannelMessageResponseFilterSensitiveLog",function(){return Fu}),d.d(c,"ListChannelBansRequestFilterSensitiveLog",function(){return Uu}),d.d(c,"ListChannelBansResponseFilterSensitiveLog",function(){return Vu}),d.d(c,"ListChannelFlowsRequestFilterSensitiveLog",function(){return Hu}),d.d(c,"ListChannelFlowsResponseFilterSensitiveLog",function(){return zu}),d.d(c,"ListChannelMembershipsRequestFilterSensitiveLog",function(){return Wu}),d.d(c,"ListChannelMembershipsResponseFilterSensitiveLog",function(){return ju}),d.d(c,"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog",function(){return Gu}),d.d(c,"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog",function(){return $u}),d.d(c,"ListChannelMessagesRequestFilterSensitiveLog",function(){return Ku}),d.d(c,"ListChannelMessagesResponseFilterSensitiveLog",function(){return Ju}),d.d(c,"ListChannelModeratorsRequestFilterSensitiveLog",function(){return Yu}),d.d(c,"ListChannelModeratorsResponseFilterSensitiveLog",function(){return Xu}),d.d(c,"ListChannelsRequestFilterSensitiveLog",function(){return Qu}),d.d(c,"ListChannelsResponseFilterSensitiveLog",function(){return Zu}),d.d(c,"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog",function(){return qu}),d.d(c,"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog",function(){return ef}),d.d(c,"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog",function(){return tf}),d.d(c,"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog",function(){return nf}),d.d(c,"ListSubChannelsRequestFilterSensitiveLog",function(){return rf}),d.d(c,"ListSubChannelsResponseFilterSensitiveLog",function(){return of}),d.d(c,"ListTagsForResourceResponseFilterSensitiveLog",function(){return sf}),d.d(c,"PutChannelMembershipPreferencesRequestFilterSensitiveLog",function(){return af}),d.d(c,"PutChannelMembershipPreferencesResponseFilterSensitiveLog",function(){return lf}),d.d(c,"SearchChannelsRequestFilterSensitiveLog",function(){return cf}),d.d(c,"SearchChannelsResponseFilterSensitiveLog",function(){return df}),d.d(c,"SendChannelMessageRequestFilterSensitiveLog",function(){return uf}),d.d(c,"TagResourceRequestFilterSensitiveLog",function(){return ff}),d.d(c,"UntagResourceRequestFilterSensitiveLog",function(){return hf}),d.d(c,"UpdateChannelRequestFilterSensitiveLog",function(){return pf}),d.d(c,"UpdateChannelFlowRequestFilterSensitiveLog",function(){return mf}),d.d(c,"UpdateChannelMessageRequestFilterSensitiveLog",function(){return gf}),d.d(c,"ChimeSDKMessagingServiceException",function(){return Co});var v={};d.r(v),d.d(v,"isVirtualHostableS3Bucket",function(){return fs}),d.d(v,"parseArn",function(){return hs}),d.d(v,"partition",function(){return Da}),d.d(v,"setPartitionInfo",function(){return aa}),d.d(v,"useDefaultPartitionInfo",function(){return xi}),d.d(v,"getUserAgentPrefix",function(){return ds});var f={};d.r(f),d.d(f,"aws",function(){return v}),d.d(f,"booleanEquals",function(){return _s}),d.d(f,"getAttr",function(){return ue}),d.d(f,"isSet",function(){return ie}),d.d(f,"isValidHostLabel",function(){return us}),d.d(f,"not",function(){return q}),d.d(f,"parseURL",function(){return Me}),d.d(f,"stringEquals",function(){return De}),d.d(f,"substring",function(){return Ne}),d.d(f,"uriEncode",function(){return Be});var h;(function(T){T.ENV="env",T.CONFIG="shared config entry"})(h||(h={}));const m=r((T,y,C)=>{if(y in T){if(T[y]==="true")return!0;if(T[y]==="false")return!1;throw new Error(`Cannot load ${C} "${y}". Expected "true" or "false", got ${T[y]}.`)}},"booleanSelector"),a="AWS_USE_DUALSTACK_ENDPOINT",o="use_dualstack_endpoint",i=!1,e={environmentVariableSelector:T=>m(T,a,h.ENV),configFileSelector:T=>m(T,o,h.CONFIG),default:!1},t="AWS_USE_FIPS_ENDPOINT",n="use_fips_endpoint",s=!1,p={environmentVariableSelector:T=>m(T,t,h.ENV),configFileSelector:T=>m(T,n,h.CONFIG),default:!1},g=r(T=>{if(typeof T=="function")return T;const y=Promise.resolve(T);return()=>y},"normalizeProvider"),S=r(T=>{const{endpoint:y,urlParser:C}=T;var I,F;return{...T,tls:(I=T.tls)!==null&&I!==void 0?I:!0,endpoint:g(typeof y=="string"?C(y):y),isCustomEndpoint:!0,useDualstackEndpoint:g((F=T.useDualstackEndpoint)!==null&&F!==void 0?F:!1)}},"resolveCustomEndpointsConfig");var u=d("9oTK");const l=function(){var T=Object(u.coroutine)(function*(y){const{tls:C=!0}=y,I=yield y.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(I))throw new Error("Invalid region in client config");const H=yield y.useDualstackEndpoint(),$=yield y.useFipsEndpoint();var fe;const{hostname:ne}=(fe=yield y.regionInfoProvider(I,{useDualstackEndpoint:H,useFipsEndpoint:$}))!==null&&fe!==void 0?fe:{};if(!ne)throw new Error("Cannot resolve hostname from client config");return y.urlParser(`${C?"https:":"http:"}//${ne}`)});return r(function(C){return T.apply(this,arguments)},"getEndpointFromRegion")}(),E=r(T=>{var y;const C=g((y=T.useDualstackEndpoint)!==null&&y!==void 0?y:!1),{endpoint:I,useFipsEndpoint:F,urlParser:H}=T;var $;return{...T,tls:($=T.tls)!==null&&$!==void 0?$:!0,endpoint:I?g(typeof I=="string"?H(I):I):()=>l({...T,useDualstackEndpoint:C,useFipsEndpoint:F}),isCustomEndpoint:!!I,useDualstackEndpoint:C}},"resolveEndpointsConfig"),O="AWS_REGION",P="region",x={environmentVariableSelector:T=>T[O],configFileSelector:T=>T[P],default:()=>{throw new Error("Region is missing")}},k={preferredFile:"credentials"},B=r(T=>typeof T=="string"&&(T.startsWith("fips-")||T.endsWith("-fips")),"isFipsRegion"),R=r(T=>B(T)?["fips-aws-global","aws-fips"].includes(T)?"us-east-1":T.replace(/fips-(dkr-|prod-)?|-fips/,""):T,"getRealRegion"),N=r(T=>{const{region:y,useFipsEndpoint:C}=T;if(!y)throw new Error("Region is missing");return{...T,region:Object(u.coroutine)(function*(){if(typeof y=="string")return R(y);const I=yield y();return R(I)}),useFipsEndpoint:Object(u.coroutine)(function*(){const I=typeof y=="string"?y:yield y();return B(I)?!0:typeof C!="function"?Promise.resolve(!!C):C()})}},"resolveRegionConfig"),w=r(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{useFipsEndpoint:y,useDualstackEndpoint:C}=arguments.length>1?arguments[1]:void 0;var I;return(I=T.find(F=>{let{tags:H}=F;return y===H.includes("fips")&&C===H.includes("dualstack")}))===null||I===void 0?void 0:I.hostname},"getHostnameFromVariants"),A=r((T,y)=>{let{regionHostname:C,partitionHostname:I}=y;return C||(I?I.replace("{region}",T):void 0)},"getResolvedHostname");var D;const K=r((T,y)=>{let{partitionHash:C}=y;return(D=Object.keys(C||{}).find(I=>C[I].regions.includes(T)))!==null&&D!==void 0?D:"aws"},"getResolvedPartition"),X=r((T,y)=>{let{signingRegion:C,regionRegex:I,useFipsEndpoint:F}=y;if(C)return C;if(F){const H=I.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),$=T.match(H);if($)return $[0].slice(1,-1)}},"getResolvedSigningRegion"),j=r((T,y)=>{let{useFipsEndpoint:C=!1,useDualstackEndpoint:I=!1,signingService:F,regionHash:H,partitionHash:$}=y;var fe,ne,Ce,ce,et;const Ot=K(T,{partitionHash:$});var Kt;const zt=T in H?T:(Kt=(fe=$[Ot])===null||fe===void 0?void 0:fe.endpoint)!==null&&Kt!==void 0?Kt:T,Ht={useFipsEndpoint:C,useDualstackEndpoint:I},dn=w((ne=H[zt])===null||ne===void 0?void 0:ne.variants,Ht),Zi=w((Ce=$[Ot])===null||Ce===void 0?void 0:Ce.variants,Ht),Ta=A(zt,{regionHostname:dn,partitionHostname:Zi});if(Ta===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:zt,useFipsEndpoint:C,useDualstackEndpoint:I}}`);const Ia=X(Ta,{signingRegion:(ce=H[zt])===null||ce===void 0?void 0:ce.signingRegion,regionRegex:$[Ot].regionRegex,useFipsEndpoint:C});return{partition:Ot,signingService:F,hostname:Ta,...Ia&&{signingRegion:Ia},...((et=H[zt])===null||et===void 0?void 0:et.signingService)&&{signingService:H[zt].signingService}}},"getRegionInfo");var te;(function(T){T[T.HEADER=0]="HEADER",T[T.TRAILER=1]="TRAILER"})(te||(te={}));class me{add(y){this.values.push(y)}set(y){this.values=y}remove(y){this.values=this.values.filter(C=>C!==y)}toString(){return this.values.map(y=>y.includes(",")||y.includes(" ")?`"${y}"`:y).join(", ")}get(){return this.values}constructor({name:y,kind:C=te.HEADER,values:I=[]}){this.name=y,this.kind=C,this.values=I}}r(me,"Field_Field");class we{setField(y){this.entries[y.name.toLowerCase()]=y}getField(y){return this.entries[y.toLowerCase()]}removeField(y){delete this.entries[y.toLowerCase()]}getByType(y){return Object.values(this.entries).filter(C=>C.kind===y)}constructor({fields:y=[],encoding:C="utf-8"}){this.entries={},y.forEach(this.setField.bind(this)),this.encoding=C}}r(we,"Fields");class pe{static isInstance(y){if(!y)return!1;const C=y;return"method"in C&&"protocol"in C&&"hostname"in C&&"path"in C&&typeof C.query=="object"&&typeof C.headers=="object"}clone(){const y=new pe({...this,headers:{...this.headers}});return y.query&&(y.query=Ae(y.query)),y}constructor(y){this.method=y.method||"GET",this.hostname=y.hostname||"localhost",this.port=y.port,this.query=y.query||{},this.headers=y.headers||{},this.body=y.body,this.protocol=y.protocol?y.protocol.slice(-1)!==":"?`${y.protocol}:`:y.protocol:"https:",this.path=y.path?y.path.charAt(0)!=="/"?`/${y.path}`:y.path:"/"}}r(pe,"HttpRequest");function Ae(T){return Object.keys(T).reduce((y,C)=>{const I=T[C];return{...y,[C]:Array.isArray(I)?[...I]:I}},{})}r(Ae,"cloneQuery");class Je{static isInstance(y){if(!y)return!1;const C=y;return typeof C.statusCode=="number"&&typeof C.headers=="object"}constructor(y){this.statusCode=y.statusCode,this.headers=y.headers||{},this.body=y.body}}r(Je,"HttpResponse");function Fe(T){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(T)}r(Fe,"isValidHostname");const Ue="content-length";function Le(T){return y=>function(){var C=Object(u.coroutine)(function*(I){const F=I.request;if(pe.isInstance(F)){const{body:H,headers:$}=F;if(H&&Object.keys($).map(fe=>fe.toLowerCase()).indexOf(Ue)===-1)try{const fe=T(H);F.headers={...F.headers,[Ue]:String(fe)}}catch{}}return y({...I,request:F})});return function(I){return C.apply(this,arguments)}}()}r(Le,"contentLengthMiddleware");const at={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},lt=r(T=>({applyToStack:y=>{y.add(Le(T.bodyLengthChecker),at)}}),"getContentLengthPlugin"),ot=function(){var T=Object(u.coroutine)(function*(y){const C=(y==null?void 0:y.Bucket)||"";if(typeof y.Bucket=="string"&&(y.Bucket=C.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Rn(C)){if(y.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Ft(C)||C.indexOf(".")!==-1&&!String(y.Endpoint).startsWith("http:")||C.toLowerCase()!==C||C.length<3)&&(y.ForcePathStyle=!0);return y.DisableMultiRegionAccessPoints&&(y.disableMultiRegionAccessPoints=!0,y.DisableMRAP=!0),y});return r(function(C){return T.apply(this,arguments)},"resolveParamsForS3")}(),pt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ct=/(\d+\.){3}\d+/,rt=/\.\./,Tn=/\./,Qt=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,Ft=r(T=>pt.test(T)&&!ct.test(T)&&!rt.test(T),"isDnsCompatibleBucketName"),Rn=r(T=>{const[y,C,I,F,H,$]=T.split(":"),fe=y==="arn"&&T.split(":").length>=6,ne=[y,C,I,H,$].filter(Boolean).length===5;if(fe&&!ne)throw new Error(`Invalid ARN: ${T} was an invalid ARN.`);return y==="arn"&&!!C&&!!I&&!!H&&!!$},"isArnBucketName"),Pn=r((T,y,C)=>{const I=function(){var F=Object(u.coroutine)(function*(){var H;const $=(H=C[T])!==null&&H!==void 0?H:C[y];return typeof $=="function"?$():$});return r(function(){return F.apply(this,arguments)},"configProvider")}();return T==="endpoint"||y==="endpoint"?Object(u.coroutine)(function*(){const F=yield I();if(F&&typeof F=="object"){if("url"in F)return F.url.href;if("hostname"in F){const{protocol:H,hostname:$,port:fe,path:ne}=F;return`${H}//${$}${fe?":"+fe:""}${ne}`}}return F}):I},"createConfigValueProvider"),ti=function(){var T=Object(u.coroutine)(function*(y,C,I,F){const H=yield Sn(y,C,I);if(typeof I.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return I.endpointProvider(H,F)});return r(function(C,I,F,H){return T.apply(this,arguments)},"getEndpointFromInstructions")}(),Sn=function(){var T=Object(u.coroutine)(function*(y,C,I){var F;const H={},$=(C==null||(F=C.getEndpointParameterInstructions)===null||F===void 0?void 0:F.call(C))||{};for(const[fe,ne]of Object.entries($))switch(ne.type){case"staticContextParams":H[fe]=ne.value;break;case"contextParams":H[fe]=y[ne.name];break;case"clientContextParams":case"builtInParams":H[fe]=yield Pn(ne.name,fe,I)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(ne))}return Object.keys($).length===0&&Object.assign(H,I),String(I.serviceId).toLowerCase()==="s3"&&(yield ot(H)),H});return r(function(C,I,F){return T.apply(this,arguments)},"resolveParams")}();function oi(T){const y={};if(T=T.replace(/^\?/,""),T)for(const C of T.split("&")){let[I,F=null]=C.split("=");I=decodeURIComponent(I),F&&(F=decodeURIComponent(F)),I in y?Array.isArray(y[I])?y[I].push(F):y[I]=[y[I],F]:y[I]=F}return y}r(oi,"parseQueryString");const vi=r(T=>{if(typeof T=="string")return vi(new URL(T));const{hostname:y,pathname:C,port:I,protocol:F,search:H}=T;let $;return H&&($=oi(H)),{hostname:y,port:I?parseInt(I):void 0,protocol:F,path:C,query:$}},"parseUrl"),Hn=r(T=>typeof T=="object"?"url"in T?vi(T.url):T:vi(T),"toEndpointV1"),Di=r(T=>{let{config:y,instructions:C}=T;return(I,F)=>function(){var H=Object(u.coroutine)(function*($){var fe,ne;const Ce=yield ti($.input,{getEndpointParameterInstructions(){return C}},{...y},F);F.endpointV2=Ce,F.authSchemes=(fe=Ce.properties)===null||fe===void 0?void 0:fe.authSchemes;const ce=(ne=F.authSchemes)===null||ne===void 0?void 0:ne[0];return ce&&(F.signing_region=ce.signingRegion,F.signing_service=ce.signingName),I({...$})});return function($){return H.apply(this,arguments)}}()},"endpointMiddleware"),Bi=r((T,y)=>(C,I)=>function(){var F=Object(u.coroutine)(function*(H){const{response:$}=yield C(H);try{const fe=yield y($,T);return{response:$,output:fe}}catch(fe){if(Object.defineProperty(fe,"$response",{value:$}),!("$metadata"in fe)){const ne="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";fe.message+=`
  `+ne}throw fe}});return function(H){return F.apply(this,arguments)}}(),"deserializerMiddleware"),Gt=r((T,y)=>(C,I)=>function(){var F=Object(u.coroutine)(function*(H){var $;const fe=!(($=I.endpointV2)===null||$===void 0)&&$.url&&T.urlParser?Object(u.coroutine)(function*(){return T.urlParser(I.endpointV2.url)}):T.endpoint;if(!fe)throw new Error("No valid endpoint provider available.");const ne=yield y(H.input,{...T,endpoint:fe});return C({...H,request:ne})});return function(H){return F.apply(this,arguments)}}(),"serializerMiddleware"),Dn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Dt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function je(T,y,C){return{applyToStack:I=>{I.add(Bi(T,C),Dn),I.add(Gt(T,y),Dt)}}}r(je,"getSerdePlugin");const yt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Dt.name},dt=r((T,y)=>({applyToStack:C=>{C.addRelativeTo(Di({config:T,instructions:y}),yt)}}),"getEndpointPlugin"),cn=r(T=>{var y;const C=(y=T.tls)!==null&&y!==void 0?y:!0,{endpoint:I}=T,F=I!=null?Object(u.coroutine)(function*(){return Hn(yield g(I)())}):void 0,H=!!I;var $,fe;return{...T,endpoint:F,tls:C,isCustomEndpoint:H,useDualstackEndpoint:g(($=T.useDualstackEndpoint)!==null&&$!==void 0?$:!1),useFipsEndpoint:g((fe=T.useFipsEndpoint)!==null&&fe!==void 0?fe:!1)}},"resolveEndpointConfig");function li(T){return T}r(li,"resolveHostHeaderConfig");const ci=r(T=>y=>function(){var C=Object(u.coroutine)(function*(I){if(!pe.isInstance(I.request))return y(I);const{request:F}=I,{handlerProtocol:H=""}=T.requestHandler.metadata||{};if(H.indexOf("h2")>=0&&!F.headers[":authority"])delete F.headers.host,F.headers[":authority"]="";else if(!F.headers.host){let $=F.hostname;F.port!=null&&($+=`:${F.port}`),F.headers.host=$}return y(I)});return function(I){return C.apply(this,arguments)}}(),"hostHeaderMiddleware"),Jn={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},di=r(T=>({applyToStack:y=>{y.add(ci(T),Jn)}}),"getHostHeaderPlugin"),Mi=r(()=>(T,y)=>function(){var C=Object(u.coroutine)(function*(I){try{var F;const $=yield T(I),{clientName:fe,commandName:ne,logger:Ce,dynamoDbDocumentClientOptions:ce={}}=y,{overrideInputFilterSensitiveLog:et,overrideOutputFilterSensitiveLog:Ot}=ce,Kt=et??y.inputFilterSensitiveLog,zt=Ot??y.outputFilterSensitiveLog,{$metadata:Ht,...dn}=$.output;return Ce==null||(F=Ce.info)===null||F===void 0||F.call(Ce,{clientName:fe,commandName:ne,input:Kt(I.input),output:zt(dn),metadata:Ht}),$}catch($){var H;const{clientName:fe,commandName:ne,logger:Ce,dynamoDbDocumentClientOptions:ce={}}=y,{overrideInputFilterSensitiveLog:et}=ce,Ot=et??y.inputFilterSensitiveLog;throw Ce==null||(H=Ce.error)===null||H===void 0||H.call(Ce,{clientName:fe,commandName:ne,input:Ot(I.input),error:$,metadata:$.$metadata}),$}});return function(I){return C.apply(this,arguments)}}(),"loggerMiddleware"),Sr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ai=r(T=>({applyToStack:y=>{y.add(Mi(),Sr)}}),"getLoggerPlugin"),Hi="X-Amzn-Trace-Id",rn="AWS_LAMBDA_FUNCTION_NAME",ge="_X_AMZN_TRACE_ID",Re=r(T=>y=>function(){var C=Object(u.coroutine)(function*(I){const{request:F}=I;if(!pe.isInstance(F)||T.runtime!=="node"||F.headers.hasOwnProperty(Hi))return y(I);const H=Object({NODE_ENV:"production"})[rn],$=Object({NODE_ENV:"production"})[ge],fe=r(ne=>typeof ne=="string"&&ne.length>0,"nonEmptyString");return fe(H)&&fe($)&&(F.headers[Hi]=$),y({...I,request:F})});return function(I){return C.apply(this,arguments)}}(),"recursionDetectionMiddleware"),Ve={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},kt=r(T=>({applyToStack:y=>{y.add(Re(T),Ve)}}),"getRecursionDetectionPlugin");var tt;(function(T){T.STANDARD="standard",T.ADAPTIVE="adaptive"})(tt||(tt={}));const it=3,bt=tt.STANDARD,an=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],un=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],en=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Mn=[500,502,503,504],qi=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],pi=r(T=>T.$retryable!==void 0,"isRetryableByTrait"),dr=r(T=>an.includes(T.name),"isClockSkewError"),Ki=r(T=>{var y,C;return((y=T.$metadata)===null||y===void 0?void 0:y.httpStatusCode)===429||un.includes(T.name)||((C=T.$retryable)===null||C===void 0?void 0:C.throttling)==!0},"isThrottlingError"),mi=r(T=>{var y;return en.includes(T.name)||qi.includes((T==null?void 0:T.code)||"")||Mn.includes(((y=T.$metadata)===null||y===void 0?void 0:y.httpStatusCode)||0)},"isTransientError"),Pr=r(T=>{var y;if(((y=T.$metadata)===null||y===void 0?void 0:y.httpStatusCode)!==void 0){const C=T.$metadata.httpStatusCode;return 500<=C&&C<=599&&!mi(T)}return!1},"isServerError");class si{getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){var y=this;return Object(u.coroutine)(function*(){return y.acquireTokenBucket(1)})()}acquireTokenBucket(y){var C=this;return Object(u.coroutine)(function*(){if(C.enabled){if(C.refillTokenBucket(),y>C.currentCapacity){const I=(y-C.currentCapacity)/C.fillRate*1e3;yield new Promise(F=>setTimeout(F,I))}C.currentCapacity=C.currentCapacity-y}})()}refillTokenBucket(){const y=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=y;return}const C=(y-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+C),this.lastTimestamp=y}updateClientSendingRate(y){let C;if(this.updateMeasuredRate(),Ki(y)){const F=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=F,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),C=this.cubicThrottle(F),this.enableTokenBucket()}else this.calculateTimeWindow(),C=this.cubicSuccess(this.getCurrentTimeInSeconds());const I=Math.min(C,2*this.measuredTxRate);this.updateTokenBucketRate(I)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(y){return this.getPrecise(y*this.beta)}cubicSuccess(y){return this.getPrecise(this.scaleConstant*Math.pow(y-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(y){this.refillTokenBucket(),this.fillRate=Math.max(y,this.minFillRate),this.maxCapacity=Math.max(y,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const y=this.getCurrentTimeInSeconds(),C=Math.floor(y*2)/2;if(this.requestCount++,C>this.lastTxRateBucket){const I=this.requestCount/(C-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(I*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=C}}getPrecise(y){return parseFloat(y.toFixed(8))}constructor(y){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0;var C;this.beta=(C=y==null?void 0:y.beta)!==null&&C!==void 0?C:.7;var I;this.minCapacity=(I=y==null?void 0:y.minCapacity)!==null&&I!==void 0?I:1;var F;this.minFillRate=(F=y==null?void 0:y.minFillRate)!==null&&F!==void 0?F:.5;var H;this.scaleConstant=(H=y==null?void 0:y.scaleConstant)!==null&&H!==void 0?H:.4;var $;this.smooth=($=y==null?void 0:y.smooth)!==null&&$!==void 0?$:.8;const fe=this.getCurrentTimeInSeconds();this.lastThrottleTime=fe,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}}r(si,"DefaultRateLimiter_DefaultRateLimiter");const or=100,$n=20*1e3,ur=500,Ji=500,xr=5,Dr=10,Xi=1,_r="amz-sdk-invocation-id",vt="amz-sdk-request",z=r(()=>{let T=or;return{computeNextBackoffDelay:r(I=>Math.floor(Math.min($n,Math.random()*2**I*T)),"computeNextBackoffDelay"),setDelayBase:r(I=>{T=I},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),de=r(T=>{let{retryDelay:y,retryCount:C,retryCost:I}=T;return{getRetryCount:r(()=>C,"getRetryCount"),getRetryDelay:r(()=>Math.min($n,y),"getRetryDelay"),getRetryCost:r(()=>I,"getRetryCost")}},"createDefaultRetryToken");class Ie{acquireInitialRetryToken(y){return Object(u.coroutine)(function*(){return de({retryDelay:or,retryCount:0})})()}refreshRetryTokenForRetry(y,C){var I=this;return Object(u.coroutine)(function*(){const F=yield I.getMaxAttempts();if(I.shouldRetry(y,C,F)){const H=C.errorType;I.retryBackoffStrategy.setDelayBase(H==="THROTTLING"?ur:or);const $=I.retryBackoffStrategy.computeNextBackoffDelay(y.getRetryCount()),fe=C.retryAfterHint?Math.max(C.retryAfterHint.getTime()-Date.now()||0,$):$,ne=I.getCapacityCost(H);return I.capacity-=ne,de({retryDelay:fe,retryCount:y.getRetryCount()+1,retryCost:ne})}throw new Error("No retry token available")})()}recordSuccess(y){var C;this.capacity=Math.max(Ji,this.capacity+((C=y.getRetryCost())!==null&&C!==void 0?C:Xi))}getCapacity(){return this.capacity}getMaxAttempts(){var y=this;return Object(u.coroutine)(function*(){try{return yield y.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${it}`),it}})()}shouldRetry(y,C,I){return y.getRetryCount()<I&&this.capacity>=this.getCapacityCost(C.errorType)&&this.isRetryableError(C.errorType)}getCapacityCost(y){return y==="TRANSIENT"?Dr:xr}isRetryableError(y){return y==="THROTTLING"||y==="TRANSIENT"}constructor(y){this.maxAttempts=y,this.mode=tt.STANDARD,this.capacity=Ji,this.retryBackoffStrategy=z(),this.maxAttemptsProvider=typeof y=="function"?y:Object(u.coroutine)(function*(){return y})}}r(Ie,"StandardRetryStrategy_StandardRetryStrategy");class xe{acquireInitialRetryToken(y){var C=this;return Object(u.coroutine)(function*(){return yield C.rateLimiter.getSendToken(),C.standardRetryStrategy.acquireInitialRetryToken(y)})()}refreshRetryTokenForRetry(y,C){var I=this;return Object(u.coroutine)(function*(){return I.rateLimiter.updateClientSendingRate(C),I.standardRetryStrategy.refreshRetryTokenForRetry(y,C)})()}recordSuccess(y){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(y)}constructor(y,C){this.maxAttemptsProvider=y,this.mode=tt.ADAPTIVE;const{rateLimiter:I}=C??{};this.rateLimiter=I??new si,this.standardRetryStrategy=new Ie(y)}}r(xe,"AdaptiveRetryStrategy_AdaptiveRetryStrategy");class $e extends Ie{refreshRetryTokenForRetry(y,C){var I=this,F=r(()=>super.refreshRetryTokenForRetry,"_superprop_get_refreshRetryTokenForRetry");return Object(u.coroutine)(function*(){const H=yield F().call(I,y,C);return H.getRetryDelay=()=>I.computeNextBackoffDelay(H.getRetryCount()),H})()}constructor(y,C=or){super(typeof y=="function"?y:Object(u.coroutine)(function*(){return y})),typeof C=="number"?this.computeNextBackoffDelay=()=>C:this.computeNextBackoffDelay=C}}r($e,"ConfiguredRetryStrategy_ConfiguredRetryStrategy");var ut,mt=new Uint8Array(16);function St(){if(!ut&&(ut=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ut))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ut(mt)}r(St,"rng");var It=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Rt(T){return typeof T=="string"&&It.test(T)}r(Rt,"validate");for(var Zt=Rt,Wt=[],on=0;on<256;++on)Wt.push((on+256).toString(16).substr(1));function Tt(T){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=(Wt[T[y+0]]+Wt[T[y+1]]+Wt[T[y+2]]+Wt[T[y+3]]+"-"+Wt[T[y+4]]+Wt[T[y+5]]+"-"+Wt[T[y+6]]+Wt[T[y+7]]+"-"+Wt[T[y+8]]+Wt[T[y+9]]+"-"+Wt[T[y+10]]+Wt[T[y+11]]+Wt[T[y+12]]+Wt[T[y+13]]+Wt[T[y+14]]+Wt[T[y+15]]).toLowerCase();if(!Zt(C))throw TypeError("Stringified UUID is invalid");return C}r(Tt,"stringify");var Yn=Tt;function kn(T,y,C){T=T||{};var I=T.random||(T.rng||St)();if(I[6]=I[6]&15|64,I[8]=I[8]&63|128,y){C=C||0;for(var F=0;F<16;++F)y[C+F]=I[F];return y}return Yn(I)}r(kn,"v4");var Si=kn;const ui=r((T,y)=>{const C=T;var I;const F=(I=y==null?void 0:y.noRetryIncrement)!==null&&I!==void 0?I:Xi;var H;const $=(H=y==null?void 0:y.retryCost)!==null&&H!==void 0?H:xr;var fe;const ne=(fe=y==null?void 0:y.timeoutRetryCost)!==null&&fe!==void 0?fe:Dr;let Ce=T;const ce=r(zt=>zt.name==="TimeoutError"?ne:$,"getCapacityAmount"),et=r(zt=>ce(zt)<=Ce,"hasRetryTokens");return Object.freeze({hasRetryTokens:et,retrieveRetryTokens:r(zt=>{if(!et(zt))throw new Error("No retry token available");const Ht=ce(zt);return Ce-=Ht,Ht},"retrieveRetryTokens"),releaseRetryTokens:r(zt=>{Ce+=zt??F,Ce=Math.min(Ce,C)},"releaseRetryTokens")})},"getDefaultRetryQuota"),fi=r((T,y)=>Math.floor(Math.min($n,Math.random()*2**y*T)),"defaultDelayDecider"),gi=r(T=>T?pi(T)||dr(T)||Ki(T)||mi(T):!1,"defaultRetryDecider"),yi=r(T=>T instanceof Error?T:T instanceof Object?Object.assign(new Error,T):typeof T=="string"?new Error(T):new Error(`AWS SDK error wrapper for ${T}`),"asSdkError");class Fi{shouldRetry(y,C,I){return C<I&&this.retryDecider(y)&&this.retryQuota.hasRetryTokens(y)}getMaxAttempts(){var y=this;return Object(u.coroutine)(function*(){let C;try{C=yield y.maxAttemptsProvider()}catch{C=it}return C})()}retry(y,C,I){var F=this;return Object(u.coroutine)(function*(){let H,$=0,fe=0;const ne=yield F.getMaxAttempts(),{request:Ce}=C;for(pe.isInstance(Ce)&&(Ce.headers[_r]=Si());;)try{pe.isInstance(Ce)&&(Ce.headers[vt]=`attempt=${$+1}; max=${ne}`),I!=null&&I.beforeRequest&&(yield I.beforeRequest());const{response:ce,output:et}=yield y(C);return I!=null&&I.afterRequest&&I.afterRequest(ce),F.retryQuota.releaseRetryTokens(H),et.$metadata.attempts=$+1,et.$metadata.totalRetryDelay=fe,{response:ce,output:et}}catch(ce){const et=yi(ce);if($++,F.shouldRetry(et,$,ne)){H=F.retryQuota.retrieveRetryTokens(et);const Ot=F.delayDecider(Ki(et)?ur:or,$),Kt=ni(et.$response),zt=Math.max(Kt||0,Ot);fe+=zt,yield new Promise(Ht=>setTimeout(Ht,zt));continue}throw et.$metadata||(et.$metadata={}),et.$metadata.attempts=$,et.$metadata.totalRetryDelay=fe,et}})()}constructor(y,C){this.maxAttemptsProvider=y,this.mode=tt.STANDARD;var I;this.retryDecider=(I=C==null?void 0:C.retryDecider)!==null&&I!==void 0?I:gi;var F;this.delayDecider=(F=C==null?void 0:C.delayDecider)!==null&&F!==void 0?F:fi;var H;this.retryQuota=(H=C==null?void 0:C.retryQuota)!==null&&H!==void 0?H:ui(Ji)}}r(Fi,"dist_es_StandardRetryStrategy_StandardRetryStrategy");const ni=r(T=>{if(!Je.isInstance(T))return;const y=Object.keys(T.headers).find(H=>H.toLowerCase()==="retry-after");if(!y)return;const C=T.headers[y],I=Number(C);return Number.isNaN(I)?new Date(C).getTime()-Date.now():I*1e3},"getDelayFromRetryAfterHeader");class Ci extends Fi{retry(y,C){var I=this,F=r(()=>super.retry,"_superprop_get_retry");return Object(u.coroutine)(function*(){return F().call(I,y,C,{beforeRequest:Object(u.coroutine)(function*(){return I.rateLimiter.getSendToken()}),afterRequest:H=>{I.rateLimiter.updateClientSendingRate(H)}})})()}constructor(y,C){const{rateLimiter:I,...F}=C??{};super(y,F),this.rateLimiter=I??new si,this.mode=tt.ADAPTIVE}}r(Ci,"dist_es_AdaptiveRetryStrategy_AdaptiveRetryStrategy");const In="AWS_MAX_ATTEMPTS",Qn="max_attempts",ii={environmentVariableSelector:T=>{const y=T[In];if(!y)return;const C=parseInt(y);if(Number.isNaN(C))throw new Error(`Environment variable ${In} mast be a number, got "${y}"`);return C},configFileSelector:T=>{const y=T[Qn];if(!y)return;const C=parseInt(y);if(Number.isNaN(C))throw new Error(`Shared config file entry ${Qn} mast be a number, got "${y}"`);return C},default:it},Zn=r(T=>{const{retryStrategy:y}=T;var C;const I=g((C=T.maxAttempts)!==null&&C!==void 0?C:it);return{...T,maxAttempts:I,retryStrategy:Object(u.coroutine)(function*(){return y||((yield g(T.retryMode)())===tt.ADAPTIVE?new xe(I):new Ie(I))})}},"resolveRetryConfig"),yr="AWS_RETRY_MODE",Ui="retry_mode",sr={environmentVariableSelector:T=>T[yr],configFileSelector:T=>T[Ui],default:bt},Ri=r(()=>T=>function(){var y=Object(u.coroutine)(function*(C){const{request:I}=C;return pe.isInstance(I)&&(delete I.headers[_r],delete I.headers[vt]),T(C)});return function(C){return y.apply(this,arguments)}}(),"omitRetryHeadersMiddleware"),No={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},er=r(T=>({applyToStack:y=>{y.addRelativeTo(Ri(),No)}}),"getOmitRetryHeadersPlugin"),Qi=r(T=>(y,C)=>function(){var I=Object(u.coroutine)(function*(F){let H=yield T.retryStrategy();const $=yield T.maxAttempts();if(qn(H)){H=H;let fe=yield H.acquireInitialRetryToken(C.partition_id),ne=new Error,Ce=0,ce=0;const{request:et}=F;for(pe.isInstance(et)&&(et.headers[_r]=Si());;)try{pe.isInstance(et)&&(et.headers[vt]=`attempt=${Ce+1}; max=${$}`);const{response:Ot,output:Kt}=yield y(F);return H.recordSuccess(fe),Kt.$metadata.attempts=Ce+1,Kt.$metadata.totalRetryDelay=ce,{response:Ot,output:Kt}}catch(Ot){const Kt=Yt(Ot);ne=yi(Ot);try{fe=yield H.refreshRetryTokenForRetry(fe,Kt)}catch{throw ne.$metadata||(ne.$metadata={}),ne.$metadata.attempts=Ce+1,ne.$metadata.totalRetryDelay=ce,ne}Ce=fe.getRetryCount();const zt=fe.getRetryDelay();ce+=zt,yield new Promise(Ht=>setTimeout(Ht,zt))}}else return H=H,H!=null&&H.mode&&(C.userAgent=[...C.userAgent||[],["cfg/retry-mode",H.mode]]),H.retry(y,F)});return function(F){return I.apply(this,arguments)}}(),"retryMiddleware"),qn=r(T=>typeof T.acquireInitialRetryToken<"u"&&typeof T.refreshRetryTokenForRetry<"u"&&typeof T.recordSuccess<"u","isRetryStrategyV2"),Yt=r(T=>{const y={errorType:fr(T)},C=Wi(T.$response);return C&&(y.retryAfterHint=C),y},"getRetryErrorInfo"),fr=r(T=>Ki(T)?"THROTTLING":mi(T)?"TRANSIENT":Pr(T)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Zo={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},so=r(T=>({applyToStack:y=>{y.add(Qi(T),Zo)}}),"getRetryPlugin"),Wi=r(T=>{if(!Je.isInstance(T))return;const y=Object.keys(T.headers).find(H=>H.toLowerCase()==="retry-after");if(!y)return;const C=T.headers[y],I=Number(C);return Number.isNaN(I)?new Date(C):new Date(I*1e3)},"getRetryAfterHint");class Jr extends Error{static from(y){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object.assign(new this(y.message,C),y)}constructor(y,C=!0){super(y),this.tryNextLink=C,this.name="ProviderError",Object.setPrototypeOf(this,Jr.prototype)}}r(Jr,"ProviderError");class Hr extends Jr{constructor(y,C=!0){super(y,C),this.tryNextLink=C,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Hr.prototype)}}r(Hr,"CredentialsProviderError_CredentialsProviderError");class tr extends Jr{constructor(y,C=!0){super(y,C),this.tryNextLink=C,this.name="TokenProviderError",Object.setPrototypeOf(this,tr.prototype)}}r(tr,"TokenProviderError_TokenProviderError");function Ts(){for(var T=arguments.length,y=new Array(T),C=0;C<T;C++)y[C]=arguments[C];return()=>{let I=Promise.reject(new Jr("No providers in chain"));for(const F of y)I=I.catch(H=>{if(H!=null&&H.tryNextLink)return F();throw H});return I}}r(Ts,"chain");const Is=r(T=>()=>Promise.resolve(T),"fromStatic"),ki=r((T,y,C)=>{let I,F,H,$=!1;const fe=function(){var ne=Object(u.coroutine)(function*(){F||(F=T());try{I=yield F,H=!0,$=!1}finally{F=void 0}return I});return r(function(){return ne.apply(this,arguments)},"coalesceProvider")}();return y===void 0?function(){var ne=Object(u.coroutine)(function*(Ce){return(!H||Ce!=null&&Ce.forceRefresh)&&(I=yield fe()),I});return function(Ce){return ne.apply(this,arguments)}}():function(){var ne=Object(u.coroutine)(function*(Ce){return(!H||Ce!=null&&Ce.forceRefresh)&&(I=yield fe()),$?I:C&&!C(I)?($=!0,I):(y(I)&&(yield fe()),I)});return function(Ce){return ne.apply(this,arguments)}}()},"memoize"),Cr={},Eo={};for(let T=0;T<256;T++){let y=T.toString(16).toLowerCase();y.length===1&&(y=`0${y}`),Cr[T]=y,Eo[y]=T}function ws(T){if(T.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const y=new Uint8Array(T.length/2);for(let C=0;C<T.length;C+=2){const I=T.slice(C,C+2).toLowerCase();if(I in Eo)y[C/2]=Eo[I];else throw new Error(`Cannot decode unrecognized sequence ${I} as hexadecimal`)}return y}r(ws,"fromHex");function Lr(T){let y="";for(let C=0;C<T.byteLength;C++)y+=Cr[T[C]];return y}r(Lr,"toHex");const fo=r(T=>new TextEncoder().encode(T),"fromUtf8"),ao=r(T=>typeof T=="string"?fo(T):ArrayBuffer.isView(T)?new Uint8Array(T.buffer,T.byteOffset,T.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(T),"toUint8Array"),To=r(T=>new TextDecoder("utf-8").decode(T),"toUtf8"),qo="X-Amz-Algorithm",es="X-Amz-Credential",Bo="X-Amz-Date",ts="X-Amz-SignedHeaders",ho="X-Amz-Expires",zr="X-Amz-Signature",Nr="X-Amz-Security-Token",Io="X-Amz-Region-Set",po="authorization",Yr=Bo.toLowerCase(),Uo=[po,Yr,"date"],Vo=zr.toLowerCase(),ar="x-amz-content-sha256",Ho=Nr.toLowerCase(),ns="host",zo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Wr=/^proxy-/,lo=/^sec-/,br=[/^proxy-/i,/^sec-/i],Br="AWS4-HMAC-SHA256",Wo="AWS4-ECDSA-P256-SHA256",Xr="AWS4-HMAC-SHA256-PAYLOAD",is="UNSIGNED-PAYLOAD",kr=50,mo="aws4_request",wo=60*60*24*7,Fr={},jr=[],Oo=r((T,y,C)=>`${T}/${y}/${C}/${mo}`,"createScope"),jo=function(){var T=Object(u.coroutine)(function*(y,C,I,F,H){const $=yield Ur(y,C.secretAccessKey,C.accessKeyId),fe=`${I}:${F}:${H}:${Lr($)}:${C.sessionToken}`;if(fe in Fr)return Fr[fe];for(jr.push(fe);jr.length>kr;)delete Fr[jr.shift()];let ne=`AWS4${C.secretAccessKey}`;for(const Ce of[I,F,H,mo])ne=yield Ur(y,ne,Ce);return Fr[fe]=ne});return r(function(C,I,F,H,$){return T.apply(this,arguments)},"getSigningKey")}(),Js=r(()=>{jr.length=0,Object.keys(Fr).forEach(T=>{delete Fr[T]})},"clearCredentialCache"),Ur=r((T,y,C)=>{const I=new T(y);return I.update(ao(C)),I.digest()},"hmac"),rs=r((T,y,C)=>{let{headers:I}=T;const F={};for(const H of Object.keys(I).sort()){if(I[H]==null)continue;const $=H.toLowerCase();($ in zo||y!=null&&y.has($)||Wr.test($)||lo.test($))&&(!C||C&&!C.has($))||(F[$]=I[H].trim().replace(/\s+/g," "))}return F},"getCanonicalHeaders"),Gr=r(T=>encodeURIComponent(T).replace(/[!'()*]/g,Os),"escapeUri"),Os=r(T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Ms=r(T=>T.split("/").map(Gr).join("/"),"escapeUriPath"),hr=r(T=>{let{query:y={}}=T;const C=[],I={};for(const F of Object.keys(y).sort()){if(F.toLowerCase()===Vo)continue;C.push(F);const H=y[F];typeof H=="string"?I[F]=`${Gr(F)}=${Gr(H)}`:Array.isArray(H)&&(I[F]=H.slice(0).sort().reduce(($,fe)=>$.concat([`${Gr(F)}=${Gr(fe)}`]),[]).join("&"))}return C.map(F=>I[F]).filter(F=>F).join("&")},"getCanonicalQuery"),Qr=r(T=>typeof ArrayBuffer=="function"&&T instanceof ArrayBuffer||Object.prototype.toString.call(T)==="[object ArrayBuffer]","isArrayBuffer"),Zr=function(){var T=Object(u.coroutine)(function*(y,C){let{headers:I,body:F}=y;for(const H of Object.keys(I))if(H.toLowerCase()===ar)return I[H];if(F==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof F=="string"||ArrayBuffer.isView(F)||Qr(F)){const H=new C;return H.update(ao(F)),Lr(yield H.digest())}return is});return r(function(C,I){return T.apply(this,arguments)},"getPayloadHash")}(),os=r((T,y)=>{T=T.toLowerCase();for(const C of Object.keys(y))if(T===C.toLowerCase())return!0;return!1},"hasHeader"),ss=r((T,y)=>{T=T.toLowerCase();for(const C of Object.keys(y))if(T===C.toLowerCase())return y[C]},"getHeaderValue"),Ys=r((T,y)=>{T=T.toLowerCase();for(const C of Object.keys(y))T===C.toLowerCase()&&delete y[C]},"deleteHeader"),Mo=r(T=>{let{headers:y,query:C,...I}=T;return{...I,headers:{...y},query:C?as(C):void 0}},"cloneRequest"),as=r(T=>Object.keys(T).reduce((y,C)=>{const I=T[C];return{...y,[C]:Array.isArray(I)?[...I]:I}},{}),"cloneRequest_cloneQuery"),As=r(function(T){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{headers:C,query:I={}}=typeof T.clone=="function"?T.clone():Mo(T);for(const H of Object.keys(C)){var F;const $=H.toLowerCase();$.slice(0,6)==="x-amz-"&&!(!((F=y.unhoistableHeaders)===null||F===void 0)&&F.has($))&&(I[H]=C[H],delete C[H])}return{...T,headers:C,query:I}},"moveHeadersToQuery"),ls=r(T=>{T=typeof T.clone=="function"?T.clone():Mo(T);for(const y of Object.keys(T.headers))Uo.indexOf(y.toLowerCase())>-1&&delete T.headers[y];return T},"prepareRequest"),qr=r(T=>Rs(T).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Rs=r(T=>typeof T=="number"?new Date(T*1e3):typeof T=="string"?Number(T)?new Date(Number(T)*1e3):new Date(T):T,"toDate");class Ao{presign(y){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var I=this;return Object(u.coroutine)(function*(){const{signingDate:F=new Date,expiresIn:H=3600,unsignableHeaders:$,unhoistableHeaders:fe,signableHeaders:ne,signingRegion:Ce,signingService:ce}=C,et=yield I.credentialProvider();I.validateResolvedCredentials(et);const Ot=Ce??(yield I.regionProvider()),{longDate:Kt,shortDate:zt}=nr(F);if(H>wo)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Ht=Oo(zt,Ot,ce??I.service),dn=As(ls(y),{unhoistableHeaders:fe});et.sessionToken&&(dn.query[Nr]=et.sessionToken),dn.query[qo]=Br,dn.query[es]=`${et.accessKeyId}/${Ht}`,dn.query[Bo]=Kt,dn.query[ho]=H.toString(10);const Zi=rs(dn,$,ne);return dn.query[ts]=Ro(Zi),dn.query[zr]=yield I.getSignature(Kt,Ht,I.getSigningKey(et,Ot,zt,ce),I.createCanonicalRequest(dn,Zi,yield Zr(y,I.sha256))),dn})()}sign(y,C){var I=this;return Object(u.coroutine)(function*(){return typeof y=="string"?I.signString(y,C):y.headers&&y.payload?I.signEvent(y,C):I.signRequest(y,C)})()}signEvent(y,C){let{headers:I,payload:F}=y,{signingDate:H=new Date,priorSignature:$,signingRegion:fe,signingService:ne}=C;var Ce=this;return Object(u.coroutine)(function*(){const ce=fe??(yield Ce.regionProvider()),{shortDate:et,longDate:Ot}=nr(H),Kt=Oo(et,ce,ne??Ce.service),zt=yield Zr({headers:{},body:F},Ce.sha256),Ht=new Ce.sha256;Ht.update(I);const dn=Lr(yield Ht.digest()),Zi=[Xr,Ot,Kt,$,dn,zt].join(`
`);return Ce.signString(Zi,{signingDate:H,signingRegion:ce,signingService:ne})})()}signString(y){let{signingDate:C=new Date,signingRegion:I,signingService:F}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var H=this;return Object(u.coroutine)(function*(){const $=yield H.credentialProvider();H.validateResolvedCredentials($);const fe=I??(yield H.regionProvider()),{shortDate:ne}=nr(C),Ce=new H.sha256(yield H.getSigningKey($,fe,ne,F));return Ce.update(ao(y)),Lr(yield Ce.digest())})()}signRequest(y){let{signingDate:C=new Date,signableHeaders:I,unsignableHeaders:F,signingRegion:H,signingService:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var fe=this;return Object(u.coroutine)(function*(){const ne=yield fe.credentialProvider();fe.validateResolvedCredentials(ne);const Ce=H??(yield fe.regionProvider()),ce=ls(y),{longDate:et,shortDate:Ot}=nr(C),Kt=Oo(Ot,Ce,$??fe.service);ce.headers[Yr]=et,ne.sessionToken&&(ce.headers[Ho]=ne.sessionToken);const zt=yield Zr(ce,fe.sha256);!os(ar,ce.headers)&&fe.applyChecksum&&(ce.headers[ar]=zt);const Ht=rs(ce,F,I),dn=yield fe.getSignature(et,Kt,fe.getSigningKey(ne,Ce,Ot,$),fe.createCanonicalRequest(ce,Ht,zt));return ce.headers[po]=`${Br} Credential=${ne.accessKeyId}/${Kt}, SignedHeaders=${Ro(Ht)}, Signature=${dn}`,ce})()}createCanonicalRequest(y,C,I){const F=Object.keys(C).sort();return`${y.method}
${this.getCanonicalPath(y)}
${hr(y)}
${F.map(H=>`${H}:${C[H]}`).join(`
`)}

${F.join(";")}
${I}`}createStringToSign(y,C,I){var F=this;return Object(u.coroutine)(function*(){const H=new F.sha256;H.update(ao(I));const $=yield H.digest();return`${Br}
${y}
${C}
${Lr($)}`})()}getCanonicalPath(y){let{path:C}=y;if(this.uriEscapePath){const I=[];for(const $ of C.split("/"))($==null?void 0:$.length)!==0&&$!=="."&&($===".."?I.pop():I.push($));const F=`${C!=null&&C.startsWith("/")?"/":""}${I.join("/")}${I.length>0&&(C!=null&&C.endsWith("/"))?"/":""}`;return encodeURIComponent(F).replace(/%2F/g,"/")}return C}getSignature(y,C,I,F){var H=this;return Object(u.coroutine)(function*(){const $=yield H.createStringToSign(y,C,F),fe=new H.sha256(yield I);return fe.update(ao($)),Lr(yield fe.digest())})()}getSigningKey(y,C,I,F){return jo(this.sha256,y,I,C,F||this.service)}validateResolvedCredentials(y){if(typeof y!="object"||typeof y.accessKeyId!="string"||typeof y.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}constructor({applyChecksum:y,credentials:C,region:I,service:F,sha256:H,uriEscapePath:$=!0}){this.service=F,this.sha256=H,this.uriEscapePath=$,this.applyChecksum=typeof y=="boolean"?y:!0,this.regionProvider=g(I),this.credentialProvider=g(C)}}r(Ao,"SignatureV4_SignatureV4");const nr=r(T=>{const y=qr(T).replace(/[\-:]/g,"");return{longDate:y,shortDate:y.slice(0,8)}},"formatDate"),Ro=r(T=>Object.keys(T).sort().join(";"),"getCanonicalHeaderList"),Po=3e5,Do=r(T=>{const y=T.credentials?go(T.credentials):T.credentialDefaultProvider(T),{signingEscapePath:C=!0,systemClockOffset:I=T.systemClockOffset||0,sha256:F}=T;let H;return T.signer?H=g(T.signer):T.regionInfoProvider?H=r(()=>g(T.region)().then(function(){var $=Object(u.coroutine)(function*(fe){return[(yield T.regionInfoProvider(fe,{useFipsEndpoint:yield T.useFipsEndpoint(),useDualstackEndpoint:yield T.useDualstackEndpoint()}))||{},fe]});return function(fe){return $.apply(this,arguments)}}()).then($=>{let[fe,ne]=$;const{signingRegion:Ce,signingService:ce}=fe;T.signingRegion=T.signingRegion||Ce||ne,T.signingName=T.signingName||ce||T.serviceId;const et={...T,credentials:y,region:T.signingRegion,service:T.signingName,sha256:F,uriEscapePath:C},Ot=T.signerConstructor||Ao;return new Ot(et)}),"signer"):H=function(){var $=Object(u.coroutine)(function*(fe){fe=Object.assign({},{name:"sigv4",signingName:T.signingName||T.defaultSigningName,signingRegion:yield g(T.region)(),properties:{}},fe);const ne=fe.signingRegion,Ce=fe.signingName;T.signingRegion=T.signingRegion||ne,T.signingName=T.signingName||Ce||T.serviceId;const ce={...T,credentials:y,region:T.signingRegion,service:T.signingName,sha256:F,uriEscapePath:C},et=T.signerConstructor||Ao;return new et(ce)});return function(fe){return $.apply(this,arguments)}}(),{...T,systemClockOffset:I,signingEscapePath:C,credentials:y,signer:H}},"resolveAwsAuthConfig"),$r=r(T=>{const y=T.credentials?go(T.credentials):T.credentialDefaultProvider(T),{signingEscapePath:C=!0,systemClockOffset:I=T.systemClockOffset||0,sha256:F}=T;let H;return T.signer?H=g(T.signer):H=g(new Ao({credentials:y,region:T.region,service:T.signingName,sha256:F,uriEscapePath:C})),{...T,systemClockOffset:I,signingEscapePath:C,credentials:y,signer:H}},"resolveSigV4AuthConfig"),go=r(T=>typeof T=="function"?ki(T,y=>y.expiration!==void 0&&y.expiration.getTime()-Date.now()<Po,y=>y.expiration!==void 0):g(T),"normalizeCredentialProvider"),pr=r(T=>new Date(Date.now()+T),"getSkewCorrectedDate"),Go=r((T,y)=>Math.abs(pr(y).getTime()-T)>=3e5,"isClockSkewed"),eo=r((T,y)=>{const C=Date.parse(T);return Go(C,y)?C-Date.now():y},"getUpdatedSystemClockOffset"),Ps=r(T=>(y,C)=>function(){var I=Object(u.coroutine)(function*(F){var H,$,fe,ne;if(!pe.isInstance(F.request))return y(F);const Ce=(H=C.endpointV2)===null||H===void 0||($=H.properties)===null||$===void 0||(fe=$.authSchemes)===null||fe===void 0?void 0:fe[0],ce=(Ce==null?void 0:Ce.name)==="sigv4a"?Ce==null||(ne=Ce.signingRegionSet)===null||ne===void 0?void 0:ne.join(","):void 0,et=yield T.signer(Ce),Ot=yield y({...F,request:yield et.sign(F.request,{signingDate:pr(T.systemClockOffset),signingRegion:ce||C.signing_region,signingService:C.signing_service})}).catch(zt=>{var Ht;const dn=(Ht=zt.ServerTime)!==null&&Ht!==void 0?Ht:to(zt.$response);throw dn&&(T.systemClockOffset=eo(dn,T.systemClockOffset)),zt}),Kt=to(Ot.response);return Kt&&(T.systemClockOffset=eo(Kt,T.systemClockOffset)),Ot});return function(F){return I.apply(this,arguments)}}(),"awsAuthMiddleware");var vo;const to=r(T=>{var y,C;return Je.isInstance(T)?(vo=(y=T.headers)===null||y===void 0?void 0:y.date)!==null&&vo!==void 0?vo:(C=T.headers)===null||C===void 0?void 0:C.Date:void 0},"getDateHeader"),Xs={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},cs=r(T=>({applyToStack:y=>{y.addRelativeTo(Ps(T),Xs)}}),"getAwsAuthPlugin"),Pa=cs;function no(T){return{...T,customUserAgent:typeof T.customUserAgent=="string"?[[T.customUserAgent]]:T.customUserAgent}}r(no,"resolveUserAgentConfig");var $o=d("syoQ");let Er=$o,mr="";const Da=r(T=>{const{partitions:y}=Er;for(const I of y){const{regions:F,outputs:H}=I;for(const[$,fe]of Object.entries(F))if($===T)return{...H,...fe}}for(const I of y){const{regionRegex:F,outputs:H}=I;if(new RegExp(F).test(T))return{...H}}const C=y.find(I=>I.id==="aws");if(!C)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...C.outputs}},"partition_partition"),aa=r(function(T){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";Er=T,mr=y},"setPartitionInfo"),xi=r(()=>{aa($o,"")},"useDefaultPartitionInfo"),ds=r(()=>mr,"getUserAgentPrefix"),So="endpoints";function io(T){return typeof T!="object"||T==null?T:"ref"in T?`$${io(T.ref)}`:"fn"in T?`${T.fn}(${(T.argv||[]).map(io).join(", ")})`:JSON.stringify(T,null,2)}r(io,"toDebugString");class ji extends Error{constructor(y){super(y),this.name="EndpointError"}}r(ji,"EndpointError");const Ds=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ks=r(T=>Ds.test(T)||T.startsWith("[")&&T.endsWith("]"),"isIpAddress"),xs=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),us=r(function(T){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return xs.test(T);const C=T.split(".");for(const I of C)if(!us(I))return!1;return!0},"isValidHostLabel"),fs=r(function(T){if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){for(const C of T.split("."))if(!fs(C))return!1;return!0}return!(!us(T)||T.length<3||T.length>63||T!==T.toLowerCase()||ks(T))},"isVirtualHostableS3Bucket"),hs=r(T=>{const y=T.split(":");if(y.length<6)return null;const[C,I,F,H,$,...fe]=y;return C!=="arn"||I===""||F===""||fe[0]===""?null:{partition:I,service:F,region:H,accountId:$,resourceId:fe[0].includes("/")?fe[0].split("/"):fe}},"parseArn"),_s=r((T,y)=>T===y,"booleanEquals"),la=r(T=>{const y=T.split("."),C=[];for(const I of y){const F=I.indexOf("[");if(F!==-1){if(I.indexOf("]")!==I.length-1)throw new ji(`Path: '${T}' does not end with ']'`);const H=I.slice(F+1,-1);if(Number.isNaN(parseInt(H)))throw new ji(`Invalid array index: '${H}' in path: '${T}'`);F!==0&&C.push(I.slice(0,F)),C.push(H)}else C.push(I)}return C},"getAttrPathList"),ue=r((T,y)=>la(y).reduce((C,I)=>{if(typeof C!="object")throw new ji(`Index '${I}' in '${y}' not found in '${JSON.stringify(T)}'`);return Array.isArray(C)?C[parseInt(I)]:C[I]},T),"getAttr"),ie=r(T=>T!=null,"isSet"),q=r(T=>!T,"not");var L;(function(T){T.HEADER="header",T.QUERY="query"})(L||(L={}));var J;(function(T){T.AAAA="AAAA",T.A="A"})(J||(J={}));var oe;(function(T){T.HTTP="http",T.HTTPS="https"})(oe||(oe={}));var re;(function(T){T.HTTP_0_9="http/0.9",T.HTTP_1_0="http/1.0",T.TDS_8_0="tds/8.0"})(re||(re={}));const be={[oe.HTTP]:80,[oe.HTTPS]:443},Me=r(T=>{const y=(()=>{try{if(T instanceof URL)return T;if(typeof T=="object"&&"hostname"in T){const{hostname:Ot,port:Kt,protocol:zt="",path:Ht="",query:dn={}}=T,Zi=new URL(`${zt}//${Ot}${Kt?`:${Kt}`:""}${Ht}`);return Zi.search=Object.entries(dn).map(Ta=>{let[Ia,If]=Ta;return`${Ia}=${If}`}).join("&"),Zi}return new URL(T)}catch{return null}})();if(!y)return console.error(`Unable to parse ${JSON.stringify(T)} as a whatwg URL.`),null;const C=y.href,{host:I,hostname:F,pathname:H,protocol:$,search:fe}=y;if(fe)return null;const ne=$.slice(0,-1);if(!Object.values(oe).includes(ne))return null;const Ce=ks(F),ce=C.includes(`${I}:${be[ne]}`)||typeof T=="string"&&T.includes(`${I}:${be[ne]}`),et=`${I}${ce?`:${be[ne]}`:""}`;return{scheme:ne,authority:et,path:H,normalizedPath:H.endsWith("/")?H:`${H}/`,isIp:Ce}},"parseURL"),De=r((T,y)=>T===y,"stringEquals"),Ne=r((T,y,C,I)=>y>=C||T.length<C?null:I?T.substring(T.length-C,T.length-y):T.substring(y,C),"substring"),Be=r(T=>encodeURIComponent(T).replace(/[!*'()]/g,y=>`%${y.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Ge=r((T,y)=>{const C=[],I={...y.endpointParams,...y.referenceRecord};let F=0;for(;F<T.length;){const H=T.indexOf("{",F);if(H===-1){C.push(T.slice(F));break}C.push(T.slice(F,H));const $=T.indexOf("}",H);if($===-1){C.push(T.slice(H));break}T[H+1]==="{"&&T[$+1]==="}"&&(C.push(T.slice(H+1,$)),F=$+2);const fe=T.substring(H+1,$);if(fe.includes("#")){const[ne,Ce]=fe.split("#");C.push(ue(I[ne],Ce))}else C.push(I[fe]);F=$+1}return C.join("")},"evaluateTemplate"),Ze=r((T,y)=>{let{ref:C}=T;return{...y.endpointParams,...y.referenceRecord}[C]},"getReferenceValue"),gt=r((T,y,C)=>{if(typeof T=="string")return Ge(T,C);if(T.fn)return _t(T,C);if(T.ref)return Ze(T,C);throw new ji(`'${y}': ${String(T)} is not a string, function or reference.`)},"evaluateExpression"),_t=r((T,y)=>{let{fn:C,argv:I}=T;const F=I.map(H=>["boolean","number"].includes(typeof H)?H:gt(H,"arg",y));return C.split(".").reduce((H,$)=>H[$],f)(...F)},"callFunction"),Jt=r((T,y)=>{let{assign:C,...I}=T;var F,H;if(C&&C in y.referenceRecord)throw new ji(`'${C}' is already defined in Reference Record.`);const $=_t(I,y);return(F=y.logger)===null||F===void 0||(H=F.debug)===null||H===void 0||H.call(F,So,`evaluateCondition: ${io(I)} = ${io($)}`),{result:$===""?!0:!!$,...C!=null&&{toAssign:{name:C,value:$}}}},"evaluateCondition"),Xt=r(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=arguments.length>1?arguments[1]:void 0;const C={};for(const H of T){const{result:$,toAssign:fe}=Jt(H,{...y,referenceRecord:{...y.referenceRecord,...C}});if(!$)return{result:$};if(fe){var I,F;C[fe.name]=fe.value,(I=y.logger)===null||I===void 0||(F=I.debug)===null||F===void 0||F.call(I,So,`assign: ${fe.name} := ${io(fe.value)}`)}}return{result:!0,referenceRecord:C}},"evaluateConditions"),fn=r((T,y)=>Object.entries(T).reduce((C,I)=>{let[F,H]=I;return{...C,[F]:H.map($=>{const fe=gt($,"Header value entry",y);if(typeof fe!="string")throw new ji(`Header '${F}' value '${fe}' is not a string`);return fe})}},{}),"getEndpointHeaders"),pn=r((T,y)=>{if(Array.isArray(T))return T.map(C=>pn(C,y));switch(typeof T){case"string":return Ge(T,y);case"object":if(T===null)throw new ji(`Unexpected endpoint property: ${T}`);return wn(T,y);case"boolean":return T;default:throw new ji(`Unexpected endpoint property type: ${typeof T}`)}},"getEndpointProperty"),wn=r((T,y)=>Object.entries(T).reduce((C,I)=>{let[F,H]=I;return{...C,[F]:pn(H,y)}},{}),"getEndpointProperties"),Pt=r((T,y)=>{const C=gt(T,"Endpoint URL",y);if(typeof C=="string")try{return new URL(C)}catch(I){throw console.error(`Failed to construct URL with ${C}`,I),I}throw new ji(`Endpoint URL must be a string, got ${typeof C}`)},"getEndpointUrl"),ei=r((T,y)=>{var C,I;const{conditions:F,endpoint:H}=T,{result:$,referenceRecord:fe}=Xt(F,y);if(!$)return;const ne={...y,referenceRecord:{...y.referenceRecord,...fe}},{url:Ce,properties:ce,headers:et}=H;return(C=y.logger)===null||C===void 0||(I=C.debug)===null||I===void 0||I.call(C,So,`Resolving endpoint from template: ${io(H)}`),{...et!=null&&{headers:fn(et,ne)},...ce!=null&&{properties:wn(ce,ne)},url:Pt(Ce,ne)}},"evaluateEndpointRule"),Xn=r((T,y)=>{const{conditions:C,error:I}=T,{result:F,referenceRecord:H}=Xt(C,y);if(F)throw new ji(gt(I,"Error",{...y,referenceRecord:{...y.referenceRecord,...H}}))},"evaluateErrorRule"),Ii=r((T,y)=>{const{conditions:C,rules:I}=T,{result:F,referenceRecord:H}=Xt(C,y);if(F)return _i(I,{...y,referenceRecord:{...y.referenceRecord,...H}})},"evaluateTreeRule"),_i=r((T,y)=>{for(const C of T)if(C.type==="endpoint"){const I=ei(C,y);if(I)return I}else if(C.type==="error")Xn(C,y);else if(C.type==="tree"){const I=Ii(C,y);if(I)return I}else throw new ji(`Unknown endpoint rule: ${C}`);throw new ji("Rules evaluation failed")},"evaluateRules"),wi=r((T,y)=>{var C,I,F,H,$;const{endpointParams:fe,logger:ne}=y,{parameters:Ce,rules:ce}=T;(C=y.logger)===null||C===void 0||(I=C.debug)===null||I===void 0||I.call(C,`${So} Initial EndpointParams: ${io(fe)}`);const et=Object.entries(Ce).filter(Ht=>{let[,dn]=Ht;return dn.default!=null}).map(Ht=>{let[dn,Zi]=Ht;return[dn,Zi.default]});if(et.length>0)for(const[Ht,dn]of et){var Ot;fe[Ht]=(Ot=fe[Ht])!==null&&Ot!==void 0?Ot:dn}const Kt=Object.entries(Ce).filter(Ht=>{let[,dn]=Ht;return dn.required}).map(Ht=>{let[dn]=Ht;return dn});for(const Ht of Kt)if(fe[Ht]==null)throw new ji(`Missing required parameter: '${Ht}'`);const zt=_i(ce,{endpointParams:fe,logger:ne,referenceRecord:{}});if(!((F=y.endpointParams)===null||F===void 0)&&F.Endpoint)try{const Ht=new URL(y.endpointParams.Endpoint),{protocol:dn,port:Zi}=Ht;zt.url.protocol=dn,zt.url.port=Zi}catch{}return(H=y.logger)===null||H===void 0||($=H.debug)===null||$===void 0||$.call(H,`${So} Resolved endpoint: ${io(zt)}`),zt},"resolveEndpoint"),bi="user-agent",Vi="x-amz-user-agent",Pi=" ",ir=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ro=r(T=>(y,C)=>function(){var I=Object(u.coroutine)(function*(F){var H,$;const{request:fe}=F;if(!pe.isInstance(fe))return y(F);const{headers:ne}=fe,Ce=(C==null||(H=C.userAgent)===null||H===void 0?void 0:H.map(Vr))||[],ce=(yield T.defaultUserAgentProvider()).map(Vr),et=(T==null||($=T.customUserAgent)===null||$===void 0?void 0:$.map(Vr))||[],Ot=ds(),Kt=(Ot?[Ot]:[]).concat([...ce,...Ce,...et]).join(Pi),zt=[...ce.filter(Ht=>Ht.startsWith("aws-sdk-")),...et].join(Pi);return T.runtime!=="browser"?(zt&&(ne[Vi]=ne[Vi]?`${ne[bi]} ${zt}`:zt),ne[bi]=Kt):ne[Vi]=Kt,y({...F,request:fe})});return function(F){return I.apply(this,arguments)}}(),"userAgentMiddleware"),Vr=r(T=>{let[y,C]=T;const I=y.indexOf("/"),F=y.substring(0,I);let H=y.substring(I+1);return F==="api"&&(H=H.toLowerCase()),[F,H,C].filter($=>$&&$.length>0).map($=>$==null?void 0:$.replace(ir,"_")).join("/")},"escapeUserAgent"),Tr={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ka=r(T=>({applyToStack:y=>{y.add(ro(T),Tr)}}),"getUserAgentPlugin");class co{trace(){}debug(){}info(){}warn(){}error(){}}r(co,"NoOpLogger");const Ko=r(()=>{let T=[],y=[];const C=new Set,I=r(ce=>ce.sort((et,Ot)=>Ls[Ot.step]-Ls[et.step]||al[Ot.priority||"normal"]-al[et.priority||"normal"]),"sort"),F=r(ce=>{let et=!1;const Ot=r(Kt=>Kt.name&&Kt.name===ce?(et=!0,C.delete(ce),!1):!0,"filterCb");return T=T.filter(Ot),y=y.filter(Ot),et},"removeByName"),H=r(ce=>{let et=!1;const Ot=r(Kt=>Kt.middleware===ce?(et=!0,Kt.name&&C.delete(Kt.name),!1):!0,"filterCb");return T=T.filter(Ot),y=y.filter(Ot),et},"removeByReference"),$=r(ce=>(T.forEach(et=>{ce.add(et.middleware,{...et})}),y.forEach(et=>{ce.addRelativeTo(et.middleware,{...et})}),ce),"cloneTo"),fe=r(ce=>{const et=[];return ce.before.forEach(Ot=>{Ot.before.length===0&&Ot.after.length===0?et.push(Ot):et.push(...fe(Ot))}),et.push(ce),ce.after.reverse().forEach(Ot=>{Ot.before.length===0&&Ot.after.length===0?et.push(Ot):et.push(...fe(Ot))}),et},"expandRelativeMiddlewareList"),ne=r(function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const et=[],Ot=[],Kt={};return T.forEach(Ht=>{const dn={...Ht,before:[],after:[]};dn.name&&(Kt[dn.name]=dn),et.push(dn)}),y.forEach(Ht=>{const dn={...Ht,before:[],after:[]};dn.name&&(Kt[dn.name]=dn),Ot.push(dn)}),Ot.forEach(Ht=>{if(Ht.toMiddleware){const dn=Kt[Ht.toMiddleware];if(dn===void 0){if(ce)return;throw new Error(`${Ht.toMiddleware} is not found when adding ${Ht.name||"anonymous"} middleware ${Ht.relation} ${Ht.toMiddleware}`)}Ht.relation==="after"&&dn.after.push(Ht),Ht.relation==="before"&&dn.before.push(Ht)}}),I(et).map(fe).reduce((Ht,dn)=>(Ht.push(...dn),Ht),[])},"getMiddlewareList"),Ce={add:function(ce){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{name:Ot,override:Kt}=et,zt={step:"initialize",priority:"normal",middleware:ce,...et};if(Ot){if(C.has(Ot)){if(!Kt)throw new Error(`Duplicate middleware name '${Ot}'`);const Ht=T.findIndex(Zi=>Zi.name===Ot),dn=T[Ht];if(dn.step!==zt.step||dn.priority!==zt.priority)throw new Error(`"${Ot}" middleware with ${dn.priority} priority in ${dn.step} step cannot be overridden by same-name middleware with ${zt.priority} priority in ${zt.step} step.`);T.splice(Ht,1)}C.add(Ot)}T.push(zt)},addRelativeTo:(ce,et)=>{const{name:Ot,override:Kt}=et,zt={middleware:ce,...et};if(Ot){if(C.has(Ot)){if(!Kt)throw new Error(`Duplicate middleware name '${Ot}'`);const Ht=y.findIndex(Zi=>Zi.name===Ot),dn=y[Ht];if(dn.toMiddleware!==zt.toMiddleware||dn.relation!==zt.relation)throw new Error(`"${Ot}" middleware ${dn.relation} "${dn.toMiddleware}" middleware cannot be overridden by same-name middleware ${zt.relation} "${zt.toMiddleware}" middleware.`);y.splice(Ht,1)}C.add(Ot)}y.push(zt)},clone:()=>$(Ko()),use:ce=>{ce.applyToStack(Ce)},remove:ce=>typeof ce=="string"?F(ce):H(ce),removeByTag:ce=>{let et=!1;const Ot=r(Kt=>{const{tags:zt,name:Ht}=Kt;return zt&&zt.includes(ce)?(Ht&&C.delete(Ht),et=!0,!1):!0},"filterCb");return T=T.filter(Ot),y=y.filter(Ot),et},concat:ce=>{const et=$(Ko());return et.use(ce),et},applyToStack:$,identify:()=>ne(!0).map(ce=>ce.name+": "+(ce.tags||[]).join(",")),resolve:(ce,et)=>{for(const Ot of ne().map(Kt=>Kt.middleware).reverse())ce=Ot(ce,et);return ce}};return Ce},"constructStack"),Ls={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},al={high:3,normal:2,low:1};class Qs{send(y,C,I){const F=typeof C!="function"?C:void 0,H=typeof C=="function"?C:I,$=y.resolveMiddleware(this.middlewareStack,this.config,F);if(H)$(y).then(fe=>H(null,fe.output),fe=>H(fe)).catch(()=>{});else return $(y).then(fe=>fe.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}constructor(y){this.middlewareStack=Ko(),this.config=y}}r(Qs,"client_Client");class On{constructor(){this.middlewareStack=Ko()}}r(On,"command_Command");const sn="***SensitiveInformation***",Ul=r((T,y)=>{for(const C of Object.keys(T)){const I=T[C],F=function(){var $=Object(u.coroutine)(function*(fe,ne,Ce){const ce=new I(fe);if(typeof ne=="function")this.send(ce,ne);else if(typeof Ce=="function"){if(typeof ne!="object")throw new Error(`Expected http options but got ${typeof ne}`);this.send(ce,ne||{},Ce)}else return this.send(ce,ne)});return r(function(ne,Ce,ce){return $.apply(this,arguments)},"methodImpl")}(),H=(C[0].toLowerCase()+C.slice(1)).replace(/Command$/,"");y.prototype[H]=F}},"createAggregatedClient"),Mc=r(T=>{switch(T){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${T}"`)}},"parseBoolean"),ll=r(T=>{if(T!=null){if(typeof T=="number"){if((T===0||T===1)&&ha.warn(fa(`Expected boolean, got ${typeof T}: ${T}`)),T===0)return!1;if(T===1)return!0}if(typeof T=="string"){const y=T.toLowerCase();if((y==="false"||y==="true")&&ha.warn(fa(`Expected boolean, got ${typeof T}: ${T}`)),y==="false")return!1;if(y==="true")return!0}if(typeof T=="boolean")return T;throw new TypeError(`Expected boolean, got ${typeof T}: ${T}`)}},"expectBoolean"),Yi=r(T=>{if(T!=null){if(typeof T=="string"){const y=parseFloat(T);if(!Number.isNaN(y))return String(y)!==String(T)&&ha.warn(fa(`Expected number but observed string: ${T}`)),y}if(typeof T=="number")return T;throw new TypeError(`Expected number, got ${typeof T}: ${T}`)}},"expectNumber"),Vl=Math.ceil(2**127*(2-2**-23)),xa=r(T=>{const y=Yi(T);if(y!==void 0&&!Number.isNaN(y)&&y!==1/0&&y!==-1/0&&Math.abs(y)>Vl)throw new TypeError(`Expected 32-bit float, got ${T}`);return y},"expectFloat32"),ca=r(T=>{if(T!=null){if(Number.isInteger(T)&&!Number.isNaN(T))return T;throw new TypeError(`Expected integer, got ${typeof T}: ${T}`)}},"expectLong"),Ac=ca,cl=r(T=>_a(T,32),"expectInt32"),dl=r(T=>_a(T,16),"expectShort"),ul=r(T=>_a(T,8),"expectByte"),_a=r((T,y)=>{const C=ca(T);if(C!==void 0&&gr(C,y)!==C)throw new TypeError(`Expected ${y}-bit integer, got ${T}`);return C},"expectSizedInt"),gr=r((T,y)=>{switch(y){case 32:return Int32Array.of(T)[0];case 16:return Int16Array.of(T)[0];case 8:return Int8Array.of(T)[0]}},"castInt"),ln=r((T,y)=>{if(T==null)throw y?new TypeError(`Expected a non-null value for ${y}`):new TypeError("Expected a non-null value");return T},"expectNonNull"),Kn=r(T=>{if(T==null)return;if(typeof T=="object"&&!Array.isArray(T))return T;const y=Array.isArray(T)?"array":typeof T;throw new TypeError(`Expected object, got ${y}: ${T}`)},"expectObject"),At=r(T=>{if(T!=null){if(typeof T=="string")return T;if(["boolean","number","bigint"].includes(typeof T))return ha.warn(fa(`Expected string, got ${typeof T}: ${T}`)),String(T);throw new TypeError(`Expected string, got ${typeof T}: ${T}`)}},"expectString"),Rc=r(T=>{if(T==null)return;const y=Kn(T),C=Object.entries(y).filter(I=>{let[,F]=I;return F!=null}).map(I=>{let[F]=I;return F});if(C.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(C.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${C} were not null.`);return y},"expectUnion"),fl=r(T=>Yi(typeof T=="string"?Ns(T):T),"strictParseDouble"),Jo=fl,Zs=r(T=>xa(typeof T=="string"?Ns(T):T),"strictParseFloat32"),qs=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ns=r(T=>{const y=T.match(qs);if(y===null||y[0].length!==T.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(T)},"parseNumber"),da=r(T=>typeof T=="string"?hl(T):Yi(T),"limitedParseDouble"),Pc=da,Yo=da,ua=r(T=>typeof T=="string"?hl(T):xa(T),"limitedParseFloat32"),hl=r(T=>{switch(T){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${T}`)}},"parseFloatString"),kc=r(T=>ca(typeof T=="string"?Ns(T):T),"strictParseLong"),xc=r(T=>cl(typeof T=="string"?Ns(T):T),"strictParseInt32"),ea=r(T=>dl(typeof T=="string"?Ns(T):T),"strictParseShort"),Hl=r(T=>ul(typeof T=="string"?Ns(T):T),"strictParseByte"),fa=r(T=>String(new TypeError(T).stack||T).split(`
`).slice(0,5).filter(y=>!y.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),ha={warn:console.warn},zl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],La=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _c(T){const y=T.getUTCFullYear(),C=T.getUTCMonth(),I=T.getUTCDay(),F=T.getUTCDate(),H=T.getUTCHours(),$=T.getUTCMinutes(),fe=T.getUTCSeconds(),ne=F<10?`0${F}`:`${F}`,Ce=H<10?`0${H}`:`${H}`,ce=$<10?`0${$}`:`${$}`,et=fe<10?`0${fe}`:`${fe}`;return`${zl[I]}, ${ne} ${La[C]} ${y} ${Ce}:${ce}:${et} GMT`}r(_c,"dateToUtcString");const Wl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Lc=r(T=>{if(T==null)return;if(typeof T!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const y=Wl.exec(T);if(!y)throw new TypeError("Invalid RFC-3339 date-time value");const[C,I,F,H,$,fe,ne,Ce]=y,ce=ea(Ee(I)),et=Q(F,"month",1,12),Ot=Q(H,"day",1,31);return ps(ce,et,Ot,{hours:$,minutes:fe,seconds:ne,fractionalMilliseconds:Ce})},"parseRfc3339DateTime"),jl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Nc=r(T=>{if(T==null)return;if(typeof T!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const y=jl.exec(T);if(!y)throw new TypeError("Invalid RFC-3339 date-time value");const[C,I,F,H,$,fe,ne,Ce,ce]=y,et=ea(Ee(I)),Ot=Q(F,"month",1,12),Kt=Q(H,"day",1,31),zt=ps(et,Ot,Kt,{hours:$,minutes:fe,seconds:ne,fractionalMilliseconds:Ce});return ce.toUpperCase()!="Z"&&zt.setTime(zt.getTime()-se(ce)),zt},"parseRfc3339DateTimeWithOffset"),Na=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ba=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Fa=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),pl=r(T=>{if(T==null)return;if(typeof T!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let y=Na.exec(T);if(y){const[C,I,F,H,$,fe,ne,Ce]=y;return ps(ea(Ee(H)),za(F),Q(I,"day",1,31),{hours:$,minutes:fe,seconds:ne,fractionalMilliseconds:Ce})}if(y=Ba.exec(T),y){const[C,I,F,H,$,fe,ne,Ce]=y;return Ha(ps(Ua(H),za(F),Q(I,"day",1,31),{hours:$,minutes:fe,seconds:ne,fractionalMilliseconds:Ce}))}if(y=Fa.exec(T),y){const[C,I,F,H,$,fe,ne,Ce]=y;return ps(ea(Ee(Ce)),za(I),Q(F.trimLeft(),"day",1,31),{hours:H,minutes:$,seconds:fe,fractionalMilliseconds:ne})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),rr=r(T=>{if(T==null)return;let y;if(typeof T=="number")y=T;else if(typeof T=="string")y=fl(T);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(y)||y===1/0||y===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(y*1e3))},"parseEpochTimestamp"),ps=r((T,y,C,I)=>{const F=y-1;return V(T,F,C),new Date(Date.UTC(T,F,C,Q(I.hours,"hour",0,23),Q(I.minutes,"minute",0,59),Q(I.seconds,"seconds",0,60),G(I.fractionalMilliseconds)))},"buildDate"),Ua=r(T=>{const y=new Date().getUTCFullYear(),C=Math.floor(y/100)*100+ea(Ee(T));return C<y?C+100:C},"parseTwoDigitYear"),Va=50*365*24*60*60*1e3,Ha=r(T=>T.getTime()-new Date().getTime()>Va?new Date(Date.UTC(T.getUTCFullYear()-100,T.getUTCMonth(),T.getUTCDate(),T.getUTCHours(),T.getUTCMinutes(),T.getUTCSeconds(),T.getUTCMilliseconds())):T,"adjustRfc850Year"),za=r(T=>{const y=La.indexOf(T);if(y<0)throw new TypeError(`Invalid month: ${T}`);return y+1},"parseMonthByShortName"),b=[31,28,31,30,31,30,31,31,30,31,30,31],V=r((T,y,C)=>{let I=b[y];if(y===1&&M(T)&&(I=29),C>I)throw new TypeError(`Invalid day for ${La[y]} in ${T}: ${C}`)},"validateDayOfMonth"),M=r(T=>T%4===0&&(T%100!==0||T%400===0),"isLeapYear"),Q=r((T,y,C,I)=>{const F=Hl(Ee(T));if(F<C||F>I)throw new TypeError(`${y} must be between ${C} and ${I}, inclusive`);return F},"parseDateValue"),G=r(T=>T==null?0:Zs("0."+T)*1e3,"parseMilliseconds"),se=r(T=>{const y=T[0];let C=1;if(y=="+")C=1;else if(y=="-")C=-1;else throw new TypeError(`Offset direction, ${y}, must be "+" or "-"`);const I=Number(T.substring(1,3)),F=Number(T.substring(4,6));return C*(I*60+F)*60*1e3},"parseOffsetToMilliseconds"),Ee=r(T=>{let y=0;for(;y<T.length-1&&T.charAt(y)==="0";)y++;return y===0?T:T.slice(y)},"stripLeadingZeroes");class Se extends Error{constructor(y){super(y.message),Object.setPrototypeOf(this,Se.prototype),this.name=y.name,this.$fault=y.$fault,this.$metadata=y.$metadata}}r(Se,"ServiceException");const Qe=r(function(T){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.entries(y).filter(I=>{let[,F]=I;return F!==void 0}).forEach(I=>{let[F,H]=I;(T[F]==null||T[F]==="")&&(T[F]=H)});const C=T.message||T.Message||"UnknownError";return T.message=C,delete T.Message,T},"decorateServiceException"),he=r(T=>{let{output:y,parsedBody:C,exceptionCtor:I,errorCode:F}=T;const H=_e(y),$=H.httpStatusCode?H.httpStatusCode+"":void 0,fe=new I({name:(C==null?void 0:C.code)||(C==null?void 0:C.Code)||F||$||"UnknownError",$fault:"client",$metadata:H});throw Qe(fe,C)},"throwDefaultError"),Te=r(T=>y=>{let{output:C,parsedBody:I,errorCode:F}=y;he({output:C,parsedBody:I,exceptionCtor:T,errorCode:F})},"withBaseException");var tn,Ye;const _e=r(T=>({httpStatusCode:T.statusCode,requestId:(Ye=(tn=T.headers["x-amzn-requestid"])!==null&&tn!==void 0?tn:T.headers["x-amzn-request-id"])!==null&&Ye!==void 0?Ye:T.headers["x-amz-request-id"],extendedRequestId:T.headers["x-amz-id-2"],cfId:T.headers["x-amz-cf-id"]}),"deserializeMetadata"),Et=r(T=>{switch(T){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode");let zn=!1;const qt=r(T=>{T&&!zn&&parseInt(T.substring(1,T.indexOf(".")))<14&&(zn=!0)},"emitWarningIfUnsupportedVersion");function Ut(T){return encodeURIComponent(T).replace(/[!'()*]/g,function(y){return"%"+y.charCodeAt(0).toString(16).toUpperCase()})}r(Ut,"extendedEncodeURIComponent");const gn=r(T=>Array.isArray(T)?T:[T],"getArrayIfSingleItem"),$t=r(T=>{const y="#text";for(const C in T)T.hasOwnProperty(C)&&T[C][y]!==void 0?T[C]=T[C][y]:typeof T[C]=="object"&&T[C]!==null&&(T[C]=$t(T[C]));return T},"getValueFromTextNode"),Ke=r(function(){const T=Object.getPrototypeOf(this).constructor,y=Function.bind.apply(String,[null,...arguments]),C=new y;return Object.setPrototypeOf(C,T.prototype),C},"StringWrapper");Ke.prototype=Object.create(String.prototype,{constructor:{value:Ke,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Ke,String);class nn extends Ke{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(y){return y instanceof nn?y:y instanceof String||typeof y=="string"?new nn(y):new nn(JSON.stringify(y))}}r(nn,"LazyJsonString");function We(T,y,C){let I,F,H;if(typeof y>"u"&&typeof C>"u")I={},H=T;else{if(I=T,typeof y=="function")return F=y,H=C,yn(I,F,H);H=y}for(const $ of Object.keys(H)){if(!Array.isArray(H[$])){I[$]=H[$];continue}Vt(I,null,H,$)}return I}r(We,"map");const wt=r(T=>{const y={};for(const[C,I]of Object.entries(T||{}))y[C]=[,I];return y},"convertMap"),qe=r((T,y)=>{const C={};for(const I in y)Vt(C,T,y,I);return C},"take"),yn=r((T,y,C)=>We(T,Object.entries(C).reduce((I,F)=>{let[H,$]=F;return Array.isArray($)?I[H]=$:typeof $=="function"?I[H]=[y,$()]:I[H]=[y,$],I},{})),"mapWithFilter"),Vt=r((T,y,C,I)=>{if(y!==null){let $=C[I];typeof $=="function"&&($=[,$]);const[fe=jt,ne=Kr,Ce=I]=$;(typeof fe=="function"&&fe(y[Ce])||typeof fe!="function"&&fe)&&(T[I]=ne(y[Ce]));return}let[F,H]=C[I];if(typeof H=="function"){let $;const fe=F===void 0&&($=H())!=null,ne=typeof F=="function"&&!!F(void 0)||typeof F!="function"&&!!F;fe?T[I]=$:ne&&(T[I]=H())}else{const $=F===void 0&&H!=null,fe=typeof F=="function"&&!!F(H)||typeof F!="function"&&!!F;($||fe)&&(T[I]=H)}},"applyInstruction"),jt=r(T=>T!=null,"nonNullish"),Kr=r(T=>T,"pass"),mn=r((T,y,C,I,F,H)=>{if(y!=null&&y[C]!==void 0){const $=I();if($.length<=0)throw new Error("Empty value provided for input HTTP label: "+C+".");T=T.replace(F,H?$.split("/").map(fe=>Ut(fe)).join("/"):Ut($))}else throw new Error("No value provided for input HTTP label: "+C+".");return T},"resolve_path_resolvedPath"),ml=r(T=>{if(T!==T)return"NaN";switch(T){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return T}},"serializeFloat"),hn=r(T=>{if(T==null)return{};if(Array.isArray(T))return T.filter(y=>y!=null);if(typeof T=="object"){const y={};for(const C of Object.keys(T))T[C]!=null&&(y[C]=hn(T[C]));return y}return T},"_json");function Bs(T,y,C){if(C<=0||!Number.isInteger(C))throw new Error("Invalid number of delimiters ("+C+") for splitEvery.");const I=T.split(y);if(C===1)return I;const F=[];let H="";for(let $=0;$<I.length;$++)H===""?H=I[$]:H+=y+I[$],($+1)%C===0&&(F.push(H),H="");return H!==""&&F.push(H),F}r(Bs,"splitEvery");const ms=r(T=>{var y,C;return{...T,useDualstackEndpoint:(y=T.useDualstackEndpoint)!==null&&y!==void 0?y:!1,useFipsEndpoint:(C=T.useFipsEndpoint)!==null&&C!==void 0?C:!1,defaultSigningName:"chime"}},"resolveClientEndpointParameters");var $f=d("M2az"),Kf=d("viNG");function Jf(T){const y=[];for(let C of Object.keys(T).sort()){const I=T[C];if(C=Gr(C),Array.isArray(I))for(let F=0,H=I.length;F<H;F++)y.push(`${C}=${Gr(I[F])}`);else{let F=C;(I||typeof I=="string")&&(F+=`=${Gr(I)}`),y.push(F)}}return y.join("&")}r(Jf,"buildQueryString");function Yf(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Promise((y,C)=>{T&&setTimeout(()=>{const I=new Error(`Request did not complete within ${T} ms`);I.name="TimeoutError",C(I)},T)})}r(Yf,"requestTimeout");class Kd{destroy(){}handle(y){let{abortSignal:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var I=this;return Object(u.coroutine)(function*(){I.config||(I.config=yield I.configProvider);const F=I.config.requestTimeout;if(C!=null&&C.aborted){const Kt=new Error("Request aborted");return Kt.name="AbortError",Promise.reject(Kt)}let H=y.path;if(y.query){const Kt=Jf(y.query);Kt&&(H+=`?${Kt}`)}const{port:$,method:fe}=y,ne=`${y.protocol}//${y.hostname}${$?`:${$}`:""}${H}`,ce={body:fe==="GET"||fe==="HEAD"?void 0:y.body,headers:new Headers(y.headers),method:fe};typeof AbortController<"u"&&(ce.signal=C);const et=new Request(ne,ce),Ot=[fetch(et).then(Kt=>{const zt=Kt.headers,Ht={};for(const Zi of zt.entries())Ht[Zi[0]]=Zi[1];return Kt.body!=null?{response:new Je({headers:Ht,statusCode:Kt.status,body:Kt.body})}:Kt.blob().then(Zi=>({response:new Je({headers:Ht,statusCode:Kt.status,body:Zi})}))}),Yf(F)];return C&&Ot.push(new Promise((Kt,zt)=>{C.onabort=()=>{const Ht=new Error("Request aborted");Ht.name="AbortError",zt(Ht)}})),Promise.race(Ot)})()}constructor(y){typeof y=="function"?this.configProvider=y().then(C=>C||{}):(this.config=y??{},this.configProvider=Promise.resolve(this.config))}}r(Kd,"fetch_http_handler_FetchHttpHandler");const pa={},gl=new Array(64);for(let T=0,y="A".charCodeAt(0),C="Z".charCodeAt(0);T+y<=C;T++){const I=String.fromCharCode(T+y);pa[I]=T,gl[T]=I}for(let T=0,y="a".charCodeAt(0),C="z".charCodeAt(0);T+y<=C;T++){const I=String.fromCharCode(T+y),F=T+26;pa[I]=F,gl[F]=I}for(let T=0;T<10;T++){pa[T.toString(10)]=T+52;const y=T.toString(10),C=T+52;pa[y]=C,gl[C]=y}pa["+"]=62,gl[62]="+",pa["/"]=63,gl[63]="/";const vl=6,Gl=8,Xf=63,Jd=r(T=>{let y=T.length/4*3;T.slice(-2)==="=="?y-=2:T.slice(-1)==="="&&y--;const C=new ArrayBuffer(y),I=new DataView(C);for(let F=0;F<T.length;F+=4){let H=0,$=0;for(let Ce=F,ce=F+3;Ce<=ce;Ce++)if(T[Ce]!=="="){if(!(T[Ce]in pa))throw new TypeError(`Invalid character ${T[Ce]} in base64 string.`);H|=pa[T[Ce]]<<(ce-Ce)*vl,$+=vl}else H>>=vl;const fe=F/4*3;H>>=$%Gl;const ne=Math.floor($/Gl);for(let Ce=0;Ce<ne;Ce++){const ce=(ne-Ce-1)*Gl;I.setUint8(fe+Ce,(H&255<<ce)>>ce)}}return new Uint8Array(C)},"fromBase64");function Qf(T){let y="";for(let C=0;C<T.length;C+=3){let I=0,F=0;for(let $=C,fe=Math.min(C+3,T.length);$<fe;$++)I|=T[$]<<(fe-$-1)*Gl,F+=Gl;const H=Math.ceil(F/vl);I<<=H*vl-F;for(let $=1;$<=H;$++){const fe=(H-$)*vl;y+=gl[(I&Xf<<fe)>>fe]}y+="==".slice(0,4-H)}return y}r(Qf,"toBase64");const Zf=r(T=>typeof Blob=="function"&&T instanceof Blob?qf(T):eh(T),"streamCollector");function qf(T){return ad.apply(this,arguments)}r(qf,"collectBlob");function ad(){return ad=Object(u.coroutine)(function*(T){const y=yield th(T),C=Jd(y);return new Uint8Array(C)}),ad.apply(this,arguments)}r(ad,"_collectBlob");function eh(T){return ld.apply(this,arguments)}r(eh,"collectStream");function ld(){return ld=Object(u.coroutine)(function*(T){let y=new Uint8Array(0);const C=T.getReader();let I=!1;for(;!I;){const{done:F,value:H}=yield C.read();if(H){const $=y;y=new Uint8Array($.length+H.length),y.set($),y.set(H,$.length)}I=F}return y}),ld.apply(this,arguments)}r(ld,"_collectStream");function th(T){return new Promise((y,C)=>{const I=new FileReader;I.onloadend=()=>{if(I.readyState!==2)return C(new Error("Reader aborted too early"));var F;const H=(F=I.result)!==null&&F!==void 0?F:"",$=H.indexOf(","),fe=$>-1?$+1:H.length;y(H.substring(fe))},I.onabort=()=>C(new Error("Read aborted")),I.onerror=()=>C(I.error),I.readAsDataURL(T)})}r(th,"readToBase64");const Ov=r(T=>()=>{throw new Error(T)},"invalidFunction"),nh=r(T=>()=>Promise.reject(T),"invalidProvider"),ih=r(T=>{if(typeof T=="string"){let y=T.length;for(let C=y-1;C>=0;C--){const I=T.charCodeAt(C);I>127&&I<=2047?y++:I>2047&&I<=65535&&(y+=2),I>=56320&&I<=57343&&C--}return y}else{if(typeof T.byteLength=="number")return T.byteLength;if(typeof T.size=="number")return T.size}throw new Error(`Body Length computation failed for ${T}`)},"calculateBodyLength");var rh=d("M39V"),Yd=d.n(rh);const oh=r(T=>{let{serviceId:y,clientVersion:C}=T;return Object(u.coroutine)(function*(){var I,F,H,$,fe;const ne=typeof window<"u"&&(!(window==null||(I=window.navigator)===null||I===void 0)&&I.userAgent)?Yd.a.parse(window.navigator.userAgent):void 0;var Ce,ce;const et=[["aws-sdk-js",C],[`os/${(ne==null||(F=ne.os)===null||F===void 0?void 0:F.name)||"other"}`,ne==null||(H=ne.os)===null||H===void 0?void 0:H.version],["lang/js"],["md/browser",`${(Ce=ne==null||($=ne.browser)===null||$===void 0?void 0:$.name)!==null&&Ce!==void 0?Ce:"unknown"}_${(ce=ne==null||(fe=ne.browser)===null||fe===void 0?void 0:fe.version)!==null&&ce!==void 0?ce:"unknown"}`]];return y&&et.push([`api/${y}`,C]),et})},"dist_es_defaultUserAgent"),Xd="required",ta="fn",na="argv",Sl="ref",Qd="isSet",uo="tree",yl="error",$l="endpoint",cd="PartitionResult",Zd={[Xd]:!1,type:"String"},qd={[Xd]:!0,default:!1,type:"Boolean"},eu={[Sl]:"Endpoint"},tu={[ta]:"booleanEquals",[na]:[{[Sl]:"UseFIPS"},!0]},nu={[ta]:"booleanEquals",[na]:[{[Sl]:"UseDualStack"},!0]},Fs={},iu={[ta]:"booleanEquals",[na]:[!0,{[ta]:"getAttr",[na]:[{[Sl]:cd},"supportsFIPS"]}]},ru={[ta]:"booleanEquals",[na]:[!0,{[ta]:"getAttr",[na]:[{[Sl]:cd},"supportsDualStack"]}]},ou=[tu],su=[nu],au=[{[Sl]:"Region"}],sh={version:"1.0",parameters:{Region:Zd,UseDualStack:qd,UseFIPS:qd,Endpoint:Zd},rules:[{conditions:[{[ta]:Qd,[na]:[eu]}],type:uo,rules:[{conditions:ou,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:yl},{type:uo,rules:[{conditions:su,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:yl},{endpoint:{url:eu,properties:Fs,headers:Fs},type:$l}]}]},{type:uo,rules:[{conditions:[{[ta]:Qd,[na]:au}],type:uo,rules:[{conditions:[{[ta]:"aws.partition",[na]:au,assign:cd}],type:uo,rules:[{conditions:[tu,nu],type:uo,rules:[{conditions:[iu,ru],type:uo,rules:[{type:uo,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fs,headers:Fs},type:$l}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:yl}]},{conditions:ou,type:uo,rules:[{conditions:[iu],type:uo,rules:[{type:uo,rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Fs,headers:Fs},type:$l}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:yl}]},{conditions:su,type:uo,rules:[{conditions:[ru],type:uo,rules:[{type:uo,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fs,headers:Fs},type:$l}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:yl}]},{type:uo,rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:Fs,headers:Fs},type:$l}]}]}]},{error:"Invalid Configuration: Missing Region",type:yl}]}]},ah=r(function(T){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return wi(sh,{endpointParams:T,logger:y.logger})},"defaultEndpointResolver");var dd,ud,fd,hd,pd,md,gd,vd,Sd;const lh=r(T=>({apiVersion:"2021-05-15",base64Decoder:(dd=T==null?void 0:T.base64Decoder)!==null&&dd!==void 0?dd:Jd,base64Encoder:(ud=T==null?void 0:T.base64Encoder)!==null&&ud!==void 0?ud:Qf,disableHostPrefix:(fd=T==null?void 0:T.disableHostPrefix)!==null&&fd!==void 0?fd:!1,endpointProvider:(hd=T==null?void 0:T.endpointProvider)!==null&&hd!==void 0?hd:ah,logger:(pd=T==null?void 0:T.logger)!==null&&pd!==void 0?pd:new co,serviceId:(md=T==null?void 0:T.serviceId)!==null&&md!==void 0?md:"Chime SDK Messaging",urlParser:(gd=T==null?void 0:T.urlParser)!==null&&gd!==void 0?gd:vi,utf8Decoder:(vd=T==null?void 0:T.utf8Decoder)!==null&&vd!==void 0?vd:fo,utf8Encoder:(Sd=T==null?void 0:T.utf8Encoder)!==null&&Sd!==void 0?Sd:To}),"getRuntimeConfig"),ch=["in-region","cross-region","mobile","standard","legacy"],dh=r(function(){let{defaultsMode:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ki(Object(u.coroutine)(function*(){const y=typeof T=="function"?yield T():T;switch(y==null?void 0:y.toLowerCase()){case"auto":return Promise.resolve(uh()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(y==null?void 0:y.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${ch.join(", ")}, got ${y}`)}}))},"resolveDefaultsModeConfig"),uh=r(()=>{var T,y;const C=typeof window<"u"&&(!(window==null||(T=window.navigator)===null||T===void 0)&&T.userAgent)?Yd.a.parse(window.navigator.userAgent):void 0,I=C==null||(y=C.platform)===null||y===void 0?void 0:y.type;return I==="tablet"||I==="mobile"},"isMobileBrowser"),fh=r(T=>{const y=dh(T),C=r(()=>y().then(Et),"defaultConfigProvider"),I=lh(T);var F,H,$,fe,ne,Ce,ce,et,Ot,Kt,zt;return{...I,...T,runtime:"browser",defaultsMode:y,bodyLengthChecker:(F=T==null?void 0:T.bodyLengthChecker)!==null&&F!==void 0?F:ih,credentialDefaultProvider:(H=T==null?void 0:T.credentialDefaultProvider)!==null&&H!==void 0?H:Ht=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:($=T==null?void 0:T.defaultUserAgentProvider)!==null&&$!==void 0?$:oh({serviceId:I.serviceId,clientVersion:$f.version}),maxAttempts:(fe=T==null?void 0:T.maxAttempts)!==null&&fe!==void 0?fe:it,region:(ne=T==null?void 0:T.region)!==null&&ne!==void 0?ne:nh("Region is missing"),requestHandler:(Ce=T==null?void 0:T.requestHandler)!==null&&Ce!==void 0?Ce:new Kd(C),retryMode:(ce=T==null?void 0:T.retryMode)!==null&&ce!==void 0?ce:Object(u.coroutine)(function*(){return(yield C()).retryMode||bt}),sha256:(et=T==null?void 0:T.sha256)!==null&&et!==void 0?et:Kf.Sha256,streamCollector:(Ot=T==null?void 0:T.streamCollector)!==null&&Ot!==void 0?Ot:Zf,useDualstackEndpoint:(Kt=T==null?void 0:T.useDualstackEndpoint)!==null&&Kt!==void 0?Kt:()=>Promise.resolve(i),useFipsEndpoint:(zt=T==null?void 0:T.useFipsEndpoint)!==null&&zt!==void 0?zt:()=>Promise.resolve(s)}},"runtimeConfig_browser_getRuntimeConfig");class yo extends Qs{destroy(){super.destroy()}constructor(y){const C=fh(y),I=ms(C),F=N(I),H=cn(F),$=Zn(H),fe=$,ne=Do(fe),Ce=no(ne);super(Ce),this.config=Ce,this.middlewareStack.use(so(this.config)),this.middlewareStack.use(lt(this.config)),this.middlewareStack.use(di(this.config)),this.middlewareStack.use(Ai(this.config)),this.middlewareStack.use(kt(this.config)),this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ka(this.config))}}r(yo,"ChimeSDKMessagingClient_ChimeSDKMessagingClient");var yd;(function(T){T[T.HEADER=0]="HEADER",T[T.TRAILER=1]="TRAILER"})(yd||(yd={}));class hh{constructor({name:y,kind:C=yd.HEADER,values:I=[]}){this.name=y,this.kind=C,this.values=I}add(y){this.values.push(y)}set(y){this.values=y}remove(y){this.values=this.values.filter(C=>C!==y)}toString(){return this.values.map(y=>y.includes(",")||y.includes(" ")?`"${y}"`:y).join(", ")}get(){return this.values}}r(hh,"dist_es_Field_Field");class ph{constructor({fields:y=[],encoding:C="utf-8"}){this.entries={},y.forEach(this.setField.bind(this)),this.encoding=C}setField(y){this.entries[y.name.toLowerCase()]=y}getField(y){return this.entries[y.toLowerCase()]}removeField(y){delete this.entries[y.toLowerCase()]}getByType(y){return Object.values(this.entries).filter(C=>C.kind===y)}}r(ph,"Fields_Fields");class An{constructor(y){this.method=y.method||"GET",this.hostname=y.hostname||"localhost",this.port=y.port,this.query=y.query||{},this.headers=y.headers||{},this.body=y.body,this.protocol=y.protocol?y.protocol.slice(-1)!==":"?`${y.protocol}:`:y.protocol:"https:",this.path=y.path?y.path.charAt(0)!=="/"?`/${y.path}`:y.path:"/"}static isInstance(y){if(!y)return!1;const C=y;return"method"in C&&"protocol"in C&&"hostname"in C&&"path"in C&&typeof C.query=="object"&&typeof C.headers=="object"}clone(){const y=new An({...this,headers:{...this.headers}});return y.query&&(y.query=mh(y.query)),y}}r(An,"httpRequest_HttpRequest");function mh(T){return Object.keys(T).reduce((y,C)=>{const I=T[C];return{...y,[C]:Array.isArray(I)?[...I]:I}},{})}r(mh,"httpRequest_cloneQuery");class gh{constructor(y){this.statusCode=y.statusCode,this.headers=y.headers||{},this.body=y.body}static isInstance(y){if(!y)return!1;const C=y;return typeof C.statusCode=="number"&&typeof C.headers=="object"}}r(gh,"httpResponse_HttpResponse");function Av(T){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(T)}r(Av,"isValidHostname_isValidHostname");class Co extends Se{constructor(y){super(y),Object.setPrototypeOf(this,Co.prototype)}}r(Co,"ChimeSDKMessagingServiceException_ChimeSDKMessagingServiceException");const vh={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},Sh={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},yh={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class Kl extends Co{constructor(y){super({name:"BadRequestException",$fault:"client",...y}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,Kl.prototype),this.Code=y.Code,this.Message=y.Message}}r(Kl,"models_0_BadRequestException");class Jl extends Co{constructor(y){super({name:"ConflictException",$fault:"client",...y}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,Jl.prototype),this.Code=y.Code,this.Message=y.Message}}r(Jl,"models_0_ConflictException");class Yl extends Co{constructor(y){super({name:"ForbiddenException",$fault:"client",...y}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,Yl.prototype),this.Code=y.Code,this.Message=y.Message}}r(Yl,"models_0_ForbiddenException");class Xl extends Co{constructor(y){super({name:"NotFoundException",$fault:"client",...y}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,Xl.prototype),this.Code=y.Code,this.Message=y.Message}}r(Xl,"models_0_NotFoundException");class Ql extends Co{constructor(y){super({name:"ServiceFailureException",$fault:"server",...y}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,Ql.prototype),this.Code=y.Code,this.Message=y.Message}}r(Ql,"models_0_ServiceFailureException");class Zl extends Co{constructor(y){super({name:"ServiceUnavailableException",$fault:"server",...y}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,Zl.prototype),this.Code=y.Code,this.Message=y.Message}}r(Zl,"models_0_ServiceUnavailableException");class ql extends Co{constructor(y){super({name:"ThrottledClientException",$fault:"client",...y}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,ql.prototype),this.Code=y.Code,this.Message=y.Message}}r(ql,"models_0_ThrottledClientException");class ec extends Co{constructor(y){super({name:"UnauthorizedClientException",$fault:"client",...y}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,ec.prototype),this.Code=y.Code,this.Message=y.Message}}r(ec,"models_0_UnauthorizedClientException");class tc extends Co{constructor(y){super({name:"ResourceLimitExceededException",$fault:"client",...y}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,tc.prototype),this.Code=y.Code,this.Message=y.Message}}r(tc,"models_0_ResourceLimitExceededException");const Ch={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},bh={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},Eh={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},Th={ASYNC:"ASYNC"},Ih={ABORT:"ABORT",CONTINUE:"CONTINUE"},wh={DEFAULT:"DEFAULT",VOIP:"VOIP"},Oh={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},Mh={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},Ah={CONTROL:"CONTROL",STANDARD:"STANDARD"},Rh={Channel:"Channel",ChannelMessage:"ChannelMessage"},Ph={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},Dh={MEMBERS:"MEMBERS"},kh={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},Ir=r(T=>({...T,...T.Name&&{Name:sn}}),"IdentityFilterSensitiveLog"),lu=r(T=>({...T,...T.InvitedBy&&{InvitedBy:Ir(T.InvitedBy)},...T.Members&&{Members:T.Members.map(y=>Ir(y))}}),"BatchChannelMembershipsFilterSensitiveLog"),cu=r(T=>({...T,...T.BatchChannelMemberships&&{BatchChannelMemberships:lu(T.BatchChannelMemberships)}}),"BatchCreateChannelMembershipResponseFilterSensitiveLog"),du=r(T=>({...T,...T.Name&&{Name:sn},...T.Metadata&&{Metadata:sn},...T.CreatedBy&&{CreatedBy:Ir(T.CreatedBy)}}),"ChannelFilterSensitiveLog"),uu=r(T=>({...T,...T.Name&&{Name:sn},...T.Metadata&&{Metadata:sn}}),"ChannelAssociatedWithFlowSummaryFilterSensitiveLog"),fu=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)},...T.CreatedBy&&{CreatedBy:Ir(T.CreatedBy)}}),"ChannelBanFilterSensitiveLog"),hu=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)}}),"ChannelBanSummaryFilterSensitiveLog"),nc=r(T=>({...T,...T.Name&&{Name:sn}}),"ProcessorFilterSensitiveLog"),pu=r(T=>({...T,...T.Processors&&{Processors:T.Processors.map(y=>nc(y))},...T.Name&&{Name:sn}}),"ChannelFlowFilterSensitiveLog"),ic=r(T=>({...T,...T.StringValues&&{StringValues:sn}}),"MessageAttributeValueFilterSensitiveLog"),Cd=r(T=>({...T,...T.Title&&{Title:sn},...T.Body&&{Body:sn}}),"PushNotificationConfigurationFilterSensitiveLog"),mu=r(T=>({...T,...T.Content&&{Content:sn},...T.Metadata&&{Metadata:sn},...T.PushNotification&&{PushNotification:Cd(T.PushNotification)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((y,C)=>{let[I,F]=C;return y[I]=ic(F),y},{})},...T.ContentType&&{ContentType:sn}}),"ChannelMessageCallbackFilterSensitiveLog"),gu=r(T=>({...T,...T.ChannelMessage&&{ChannelMessage:mu(T.ChannelMessage)}}),"ChannelFlowCallbackRequestFilterSensitiveLog"),vu=r(T=>({...T,...T.Name&&{Name:sn},...T.Processors&&{Processors:T.Processors.map(y=>nc(y))}}),"ChannelFlowSummaryFilterSensitiveLog"),Su=r(T=>({...T,...T.InvitedBy&&{InvitedBy:Ir(T.InvitedBy)},...T.Member&&{Member:Ir(T.Member)}}),"ChannelMembershipFilterSensitiveLog"),rc=r(T=>({...T,...T.Name&&{Name:sn},...T.Metadata&&{Metadata:sn}}),"ChannelSummaryFilterSensitiveLog"),bd=r(T=>({...T,...T.ChannelSummary&&{ChannelSummary:rc(T.ChannelSummary)}}),"ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog"),yu=r(T=>({...T,...T.FilterRule&&{FilterRule:sn}}),"PushNotificationPreferencesFilterSensitiveLog"),Bc=r(T=>({...T,...T.PushNotifications&&{PushNotifications:yu(T.PushNotifications)}}),"ChannelMembershipPreferencesFilterSensitiveLog"),Cu=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)}}),"ChannelMembershipSummaryFilterSensitiveLog"),bu=r(T=>({...T,...T.Content&&{Content:sn},...T.Metadata&&{Metadata:sn},...T.Sender&&{Sender:Ir(T.Sender)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((y,C)=>{let[I,F]=C;return y[I]=ic(F),y},{})},...T.ContentType&&{ContentType:sn}}),"ChannelMessageFilterSensitiveLog"),Eu=r(T=>({...T,...T.Content&&{Content:sn},...T.Metadata&&{Metadata:sn},...T.Sender&&{Sender:Ir(T.Sender)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((y,C)=>{let[I,F]=C;return y[I]=ic(F),y},{})},...T.ContentType&&{ContentType:sn}}),"ChannelMessageSummaryFilterSensitiveLog"),Ed=r(T=>({...T,...T.ChannelSummary&&{ChannelSummary:rc(T.ChannelSummary)}}),"ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog"),Tu=r(T=>({...T,...T.Moderator&&{Moderator:Ir(T.Moderator)},...T.CreatedBy&&{CreatedBy:Ir(T.CreatedBy)}}),"ChannelModeratorFilterSensitiveLog"),Iu=r(T=>({...T,...T.Moderator&&{Moderator:Ir(T.Moderator)}}),"ChannelModeratorSummaryFilterSensitiveLog"),oc=r(T=>({...T,...T.Key&&{Key:sn},...T.Value&&{Value:sn}}),"TagFilterSensitiveLog"),wu=r(T=>({...T,...T.Name&&{Name:sn},...T.Metadata&&{Metadata:sn},...T.ClientRequestToken&&{ClientRequestToken:sn},...T.Tags&&{Tags:T.Tags.map(y=>oc(y))},...T.ChannelId&&{ChannelId:sn}}),"CreateChannelRequestFilterSensitiveLog"),Ou=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)}}),"CreateChannelBanResponseFilterSensitiveLog"),Mu=r(T=>({...T,...T.Processors&&{Processors:T.Processors.map(y=>nc(y))},...T.Name&&{Name:sn},...T.Tags&&{Tags:T.Tags.map(y=>oc(y))},...T.ClientRequestToken&&{ClientRequestToken:sn}}),"CreateChannelFlowRequestFilterSensitiveLog"),Au=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)}}),"CreateChannelMembershipResponseFilterSensitiveLog"),Ru=r(T=>({...T,...T.ChannelModerator&&{ChannelModerator:Ir(T.ChannelModerator)}}),"CreateChannelModeratorResponseFilterSensitiveLog"),Pu=r(T=>({...T,...T.Channel&&{Channel:du(T.Channel)}}),"DescribeChannelResponseFilterSensitiveLog"),Du=r(T=>({...T,...T.ChannelBan&&{ChannelBan:fu(T.ChannelBan)}}),"DescribeChannelBanResponseFilterSensitiveLog"),ku=r(T=>({...T,...T.ChannelFlow&&{ChannelFlow:pu(T.ChannelFlow)}}),"DescribeChannelFlowResponseFilterSensitiveLog"),xu=r(T=>({...T,...T.ChannelMembership&&{ChannelMembership:Su(T.ChannelMembership)}}),"DescribeChannelMembershipResponseFilterSensitiveLog"),_u=r(T=>({...T,...T.ChannelMembership&&{ChannelMembership:bd(T.ChannelMembership)}}),"DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog"),Lu=r(T=>({...T,...T.Channel&&{Channel:Ed(T.Channel)}}),"DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog"),Nu=r(T=>({...T,...T.ChannelModerator&&{ChannelModerator:Tu(T.ChannelModerator)}}),"DescribeChannelModeratorResponseFilterSensitiveLog"),Bu=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)},...T.Preferences&&{Preferences:Bc(T.Preferences)}}),"GetChannelMembershipPreferencesResponseFilterSensitiveLog"),Fu=r(T=>({...T,...T.ChannelMessage&&{ChannelMessage:bu(T.ChannelMessage)}}),"GetChannelMessageResponseFilterSensitiveLog"),Uu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelBansRequestFilterSensitiveLog"),Vu=r(T=>({...T,...T.NextToken&&{NextToken:sn},...T.ChannelBans&&{ChannelBans:T.ChannelBans.map(y=>hu(y))}}),"ListChannelBansResponseFilterSensitiveLog"),Hu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelFlowsRequestFilterSensitiveLog"),zu=r(T=>({...T,...T.ChannelFlows&&{ChannelFlows:T.ChannelFlows.map(y=>vu(y))},...T.NextToken&&{NextToken:sn}}),"ListChannelFlowsResponseFilterSensitiveLog"),Wu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelMembershipsRequestFilterSensitiveLog"),ju=r(T=>({...T,...T.ChannelMemberships&&{ChannelMemberships:T.ChannelMemberships.map(y=>Cu(y))},...T.NextToken&&{NextToken:sn}}),"ListChannelMembershipsResponseFilterSensitiveLog"),Gu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog"),$u=r(T=>({...T,...T.ChannelMemberships&&{ChannelMemberships:T.ChannelMemberships.map(y=>bd(y))},...T.NextToken&&{NextToken:sn}}),"ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog"),Ku=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelMessagesRequestFilterSensitiveLog"),Ju=r(T=>({...T,...T.NextToken&&{NextToken:sn},...T.ChannelMessages&&{ChannelMessages:T.ChannelMessages.map(y=>Eu(y))}}),"ListChannelMessagesResponseFilterSensitiveLog"),Yu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelModeratorsRequestFilterSensitiveLog"),Xu=r(T=>({...T,...T.NextToken&&{NextToken:sn},...T.ChannelModerators&&{ChannelModerators:T.ChannelModerators.map(y=>Iu(y))}}),"ListChannelModeratorsResponseFilterSensitiveLog"),Qu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelsRequestFilterSensitiveLog"),Zu=r(T=>({...T,...T.Channels&&{Channels:T.Channels.map(y=>rc(y))},...T.NextToken&&{NextToken:sn}}),"ListChannelsResponseFilterSensitiveLog"),qu=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog"),ef=r(T=>({...T,...T.Channels&&{Channels:T.Channels.map(y=>uu(y))},...T.NextToken&&{NextToken:sn}}),"ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog"),tf=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog"),nf=r(T=>({...T,...T.Channels&&{Channels:T.Channels.map(y=>Ed(y))},...T.NextToken&&{NextToken:sn}}),"ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog"),rf=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListSubChannelsRequestFilterSensitiveLog"),of=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"ListSubChannelsResponseFilterSensitiveLog"),sf=r(T=>({...T,...T.Tags&&{Tags:T.Tags.map(y=>oc(y))}}),"ListTagsForResourceResponseFilterSensitiveLog"),af=r(T=>({...T,...T.Preferences&&{Preferences:Bc(T.Preferences)}}),"PutChannelMembershipPreferencesRequestFilterSensitiveLog"),lf=r(T=>({...T,...T.Member&&{Member:Ir(T.Member)},...T.Preferences&&{Preferences:Bc(T.Preferences)}}),"PutChannelMembershipPreferencesResponseFilterSensitiveLog"),cf=r(T=>({...T,...T.NextToken&&{NextToken:sn}}),"SearchChannelsRequestFilterSensitiveLog"),df=r(T=>({...T,...T.Channels&&{Channels:T.Channels.map(y=>rc(y))},...T.NextToken&&{NextToken:sn}}),"SearchChannelsResponseFilterSensitiveLog"),uf=r(T=>({...T,...T.Content&&{Content:sn},...T.Metadata&&{Metadata:sn},...T.ClientRequestToken&&{ClientRequestToken:sn},...T.PushNotification&&{PushNotification:Cd(T.PushNotification)},...T.MessageAttributes&&{MessageAttributes:Object.entries(T.MessageAttributes).reduce((y,C)=>{let[I,F]=C;return y[I]=ic(F),y},{})},...T.ContentType&&{ContentType:sn}}),"SendChannelMessageRequestFilterSensitiveLog"),ff=r(T=>({...T,...T.Tags&&{Tags:T.Tags.map(y=>oc(y))}}),"TagResourceRequestFilterSensitiveLog"),hf=r(T=>({...T,...T.TagKeys&&{TagKeys:sn}}),"UntagResourceRequestFilterSensitiveLog"),pf=r(T=>({...T,...T.Name&&{Name:sn},...T.Metadata&&{Metadata:sn}}),"UpdateChannelRequestFilterSensitiveLog"),mf=r(T=>({...T,...T.Processors&&{Processors:T.Processors.map(y=>nc(y))},...T.Name&&{Name:sn}}),"UpdateChannelFlowRequestFilterSensitiveLog"),gf=r(T=>({...T,...T.Content&&{Content:sn},...T.Metadata&&{Metadata:sn},...T.ContentType&&{ContentType:sn}}),"UpdateChannelMessageRequestFilterSensitiveLog"),xh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/channel-flow`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{ChannelFlowArn:[]})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_AssociateChannelFlowCommand")}(),_h=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({operation:[,"batch-create"]});let ce;return ce=JSON.stringify(qe(y,{MemberArns:et=>hn(et),SubChannelId:[],Type:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_BatchCreateChannelMembershipCommand")}(),Lh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({operation:[,"channel-flow-callback"]});let ce;return ce=JSON.stringify(qe(y,{CallbackId:[!0,et=>et??Si()],ChannelMessage:et=>hn(et),DeleteResource:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ChannelFlowCallbackCommand")}(),Nh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer}),ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels`;let Ce;return Ce=JSON.stringify(qe(y,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,ce=>ce??Si()],ElasticChannelConfiguration:ce=>hn(ce),ExpirationSettings:ce=>hn(ce),MemberArns:ce=>hn(ce),Metadata:[],Mode:[],ModeratorArns:ce=>hn(ce),Name:[],Privacy:[],Tags:ce=>hn(ce)})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_CreateChannelCommand")}(),Bh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/bans`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{MemberArn:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_CreateChannelBanCommand")}(),Fh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channel-flows`;let Ce;return Ce=JSON.stringify(qe(y,{AppInstanceArn:[],ClientRequestToken:[!0,ce=>ce??Si()],Name:[],Processors:ce=>hn(ce),Tags:ce=>hn(ce)})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_CreateChannelFlowCommand")}(),Uh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{MemberArn:[],SubChannelId:[],Type:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_CreateChannelMembershipCommand")}(),Vh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/moderators`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{ChannelModeratorArn:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_CreateChannelModeratorCommand")}(),Hh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteChannelCommand")}(),sc=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/bans/{MemberArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteChannelBanCommand")}(),zh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channel-flows/{ChannelFlowArn}`;ne=mn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteChannelFlowCommand")}(),Wh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships/{MemberArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);const Ce=We({"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteChannelMembershipCommand")}(),jh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const Ce=We({"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteChannelMessageCommand")}(),Gh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"ChannelModeratorArn",()=>y.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteChannelModeratorCommand")}(),$h=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ne=mn(ne,y,"AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DeleteMessagingStreamingConfigurationsCommand")}(),vf=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelCommand")}(),Kh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/bans/{MemberArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelBanCommand")}(),Jh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channel-flows/{ChannelFlowArn}`;ne=mn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelFlowCommand")}(),Yh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships/{MemberArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);const Ce=We({"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelMembershipCommand")}(),Xh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({scope:[,"app-instance-user-membership"],"app-instance-user-arn":[,ln(y.AppInstanceUserArn,"AppInstanceUserArn")]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelMembershipForAppInstanceUserCommand")}(),Qh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({scope:[,"app-instance-user-moderated-channel"],"app-instance-user-arn":[,ln(y.AppInstanceUserArn,"AppInstanceUserArn")]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelModeratedByAppInstanceUserCommand")}(),Zh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/moderators/{ChannelModeratorArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"ChannelModeratorArn",()=>y.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DescribeChannelModeratorCommand")}(),qh=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"DELETE",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_DisassociateChannelFlowCommand")}(),ep=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_GetChannelMembershipPreferencesCommand")}(),tp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const Ce=We({"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_GetChannelMessageCommand")}(),np=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const Ce=We({scope:[,"message-status"],"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_GetChannelMessageStatusCommand")}(),ip=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/endpoints/messaging-session`;let Ce;return Ce="",new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_GetMessagingSessionEndpointCommand")}(),rp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ne=mn(ne,y,"AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_GetMessagingStreamingConfigurationsCommand")}(),op=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/bans`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelBansCommand")}(),sp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channel-flows`,Ce=We({"app-instance-arn":[,ln(y.AppInstanceArn,"AppInstanceArn")],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelFlowsCommand")}(),ap=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({type:[,y.Type],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken],"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelMembershipsCommand")}(),lp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer}),ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels`,Ce=We({scope:[,"app-instance-user-memberships"],"app-instance-user-arn":[,y.AppInstanceUserArn],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelMembershipsForAppInstanceUserCommand")}(),cp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({"sort-order":[,y.SortOrder],"not-before":[()=>y.NotBefore!==void 0,()=>(y.NotBefore.toISOString().split(".")[0]+"Z").toString()],"not-after":[()=>y.NotAfter!==void 0,()=>(y.NotAfter.toISOString().split(".")[0]+"Z").toString()],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken],"sub-channel-id":[,y.SubChannelId]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelMessagesCommand")}(),dp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/moderators`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelModeratorsCommand")}(),up=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer}),ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels`,Ce=We({"app-instance-arn":[,ln(y.AppInstanceArn,"AppInstanceArn")],privacy:[,y.Privacy],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelsCommand")}(),fp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels`,Ce=We({scope:[,"channel-flow-associations"],"channel-flow-arn":[,ln(y.ChannelFlowArn,"ChannelFlowArn")],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelsAssociatedWithChannelFlowCommand")}(),hp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer}),ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels`,Ce=We({scope:[,"app-instance-user-moderated-channels"],"app-instance-user-arn":[,y.AppInstanceUserArn],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListChannelsModeratedByAppInstanceUserCommand")}(),pp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/subchannels`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);const Ce=We({"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListSubChannelsCommand")}(),mp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/tags`,Ce=We({arn:[,ln(y.ResourceARN,"ResourceARN")]});let ce;return new An({protocol:F,hostname:I,port:H,method:"GET",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_ListTagsForResourceCommand")}(),gp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/expiration-settings`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{ExpirationSettings:ce=>hn(ce)})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_PutChannelExpirationSettingsCommand")}(),vp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/memberships/{MemberArn}/preferences`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MemberArn",()=>y.MemberArn,"{MemberArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{Preferences:ce=>hn(ce)})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_PutChannelMembershipPreferencesCommand")}(),Sp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/app-instances/{AppInstanceArn}/streaming-configurations`;ne=mn(ne,y,"AppInstanceArn",()=>y.AppInstanceArn,"{AppInstanceArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{StreamingConfigurations:ce=>hn(ce)})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_PutMessagingStreamingConfigurationsCommand")}(),yp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);const Ce=We({operation:[,"redact"]});let ce;return ce=JSON.stringify(qe(y,{SubChannelId:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_RedactChannelMessageCommand")}(),Cp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer}),ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels`,Ce=We({operation:[,"search"],"max-results":[()=>y.MaxResults!==void 0,()=>y.MaxResults.toString()],"next-token":[,y.NextToken]});let ce;return ce=JSON.stringify(qe(y,{Fields:et=>hn(et)})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_SearchChannelsCommand")}(),bp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{ClientRequestToken:[!0,ce=>ce??Si()],Content:[],ContentType:[],MessageAttributes:ce=>hn(ce),Metadata:[],Persistence:[],PushNotification:ce=>hn(ce),SubChannelId:[],Type:[]})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_SendChannelMessageCommand")}(),Ep=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/tags`,Ce=We({operation:[,"tag-resource"]});let ce;return ce=JSON.stringify(qe(y,{ResourceARN:[],Tags:et=>hn(et)})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_TagResourceCommand")}(),Tp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"},ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/tags`,Ce=We({operation:[,"untag-resource"]});let ce;return ce=JSON.stringify(qe(y,{ResourceARN:[],TagKeys:et=>hn(et)})),new An({protocol:F,hostname:I,port:H,method:"POST",headers:fe,path:ne,query:Ce,body:ce})});return r(function(C,I){return T.apply(this,arguments)},"se_UntagResourceCommand")}(),Ip=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{Metadata:[],Mode:[],Name:[]})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_UpdateChannelCommand")}(),wp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe={"content-type":"application/json"};let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channel-flows/{ChannelFlowArn}`;ne=mn(ne,y,"ChannelFlowArn",()=>y.ChannelFlowArn,"{ChannelFlowArn}",!1);let Ce;return Ce=JSON.stringify(qe(y,{Name:[],Processors:ce=>hn(ce)})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_UpdateChannelFlowCommand")}(),Op=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"content-type":"application/json","x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/messages/{MessageId}`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1),ne=mn(ne,y,"MessageId",()=>y.MessageId,"{MessageId}",!1);let Ce;return Ce=JSON.stringify(qe(y,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_UpdateChannelMessageCommand")}(),Mp=function(){var T=Object(u.coroutine)(function*(y,C){const{hostname:I,protocol:F="https",port:H,path:$}=yield C.endpoint(),fe=We({},hi,{"x-amz-chime-bearer":y.ChimeBearer});let ne=`${$!=null&&$.endsWith("/")?$.slice(0,-1):$||""}/channels/{ChannelArn}/readMarker`;ne=mn(ne,y,"ChannelArn",()=>y.ChannelArn,"{ChannelArn}",!1);let Ce;return new An({protocol:F,hostname:I,port:H,method:"PUT",headers:fe,path:ne,body:Ce})});return r(function(C,I){return T.apply(this,arguments)},"se_UpdateChannelReadMarkerCommand")}(),Ap=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Rp(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_AssociateChannelFlowCommand")}(),Rp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_AssociateChannelFlowCommandError")}(),Pp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Dp(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{BatchChannelMemberships:hn,Errors:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_BatchCreateChannelMembershipCommand")}(),Dp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_BatchCreateChannelMembershipCommandError")}(),kp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return xp(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{CallbackId:At,ChannelArn:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ChannelFlowCallbackCommand")}(),xp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ChannelFlowCallbackCommandError")}(),_p=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Lp(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelCommand")}(),Lp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelCommandError")}(),Np=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Bp(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,Member:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelBanCommand")}(),Bp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelBanCommandError")}(),Fp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Up(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelFlowArn:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelFlowCommand")}(),Up=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelFlowCommandError")}(),Vp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Hp(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,Member:hn,SubChannelId:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelMembershipCommand")}(),Hp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelMembershipCommandError")}(),zp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return Wp(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,ChannelModerator:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelModeratorCommand")}(),Wp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_CreateChannelModeratorCommandError")}(),jp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Gp(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelCommand")}(),Gp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelCommandError")}(),$p=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Kp(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelBanCommand")}(),Kp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelBanCommandError")}(),Jp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Yp(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelFlowCommand")}(),Yp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelFlowCommandError")}(),Xp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return Qp(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelMembershipCommand")}(),Qp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelMembershipCommandError")}(),Zp=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return qp(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelMessageCommand")}(),qp=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelMessageCommandError")}(),em=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return tm(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelModeratorCommand")}(),tm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteChannelModeratorCommandError")}(),nm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return im(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteMessagingStreamingConfigurationsCommand")}(),im=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DeleteMessagingStreamingConfigurationsCommandError")}(),rm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return om(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Channel:$=>Tg($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelCommand")}(),om=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelCommandError")}(),sm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return am(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelBan:$=>Ig($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelBanCommand")}(),am=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelBanCommandError")}(),lm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return cm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelFlow:$=>wg($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelFlowCommand")}(),cm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelFlowCommandError")}(),dm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return um(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelMembership:$=>Og($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipCommand")}(),um=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipCommandError")}(),fm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return hm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelMembership:$=>Sf($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipForAppInstanceUserCommand")}(),hm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelMembershipForAppInstanceUserCommandError")}(),pm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return mm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Channel:$=>yf($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelModeratedByAppInstanceUserCommand")}(),mm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelModeratedByAppInstanceUserCommandError")}(),gm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return vm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelModerator:$=>kg($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelModeratorCommand")}(),vm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DescribeChannelModeratorCommandError")}(),Sm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return ym(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_DisassociateChannelFlowCommand")}(),ym=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_DisassociateChannelFlowCommandError")}(),Cm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return bm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,Member:hn,Preferences:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_GetChannelMembershipPreferencesCommand")}(),bm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_GetChannelMembershipPreferencesCommandError")}(),Em=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Tm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelMessage:$=>Ag($,C)});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_GetChannelMessageCommand")}(),Tm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_GetChannelMessageCommandError")}(),Im=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return wm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Status:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_GetChannelMessageStatusCommand")}(),wm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_GetChannelMessageStatusCommandError")}(),Om=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Mm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Endpoint:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_GetMessagingSessionEndpointCommand")}(),Mm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_GetMessagingSessionEndpointCommandError")}(),Am=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Rm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{StreamingConfigurations:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_GetMessagingStreamingConfigurationsCommand")}(),Rm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_GetMessagingStreamingConfigurationsCommandError")}(),Pm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Dm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,ChannelBans:hn,NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelBansCommand")}(),Dm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelBansCommandError")}(),km=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return xm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelFlows:hn,NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelFlowsCommand")}(),xm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelFlowsCommandError")}(),_m=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Lm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,ChannelMemberships:hn,NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelMembershipsCommand")}(),Lm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelMembershipsCommandError")}(),Nm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Bm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelMemberships:$=>Mg($,C),NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelMembershipsForAppInstanceUserCommand")}(),Bm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelMembershipsForAppInstanceUserCommandError")}(),Fm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Um(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,ChannelMessages:$=>Pg($,C),NextToken:At,SubChannelId:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelMessagesCommand")}(),Um=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelMessagesCommandError")}(),Vm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Hm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,ChannelModerators:hn,NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelModeratorsCommand")}(),Hm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelModeratorsCommandError")}(),zm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Wm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Channels:$=>Cf($,C),NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelsCommand")}(),Wm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelsCommandError")}(),jm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Gm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Channels:hn,NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelsAssociatedWithChannelFlowCommand")}(),Gm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelsAssociatedWithChannelFlowCommandError")}(),$m=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Km(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Channels:$=>Dg($,C),NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelsModeratedByAppInstanceUserCommand")}(),Km=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListChannelsModeratedByAppInstanceUserCommandError")}(),Jm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Ym(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,NextToken:At,SubChannels:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListSubChannelsCommand")}(),Ym=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListSubChannelsCommandError")}(),Xm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return Qm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Tags:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_ListTagsForResourceCommand")}(),Qm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_ListTagsForResourceCommandError")}(),Zm=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return qm(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,ExpirationSettings:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_PutChannelExpirationSettingsCommand")}(),qm=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_PutChannelExpirationSettingsCommandError")}(),eg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return tg(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,Member:hn,Preferences:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_PutChannelMembershipPreferencesCommand")}(),tg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_PutChannelMembershipPreferencesCommandError")}(),ng=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return ig(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{StreamingConfigurations:hn});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_PutMessagingStreamingConfigurationsCommand")}(),ig=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw yield Us(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_PutMessagingStreamingConfigurationsCommandError")}(),rg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return og(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,MessageId:At,SubChannelId:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_RedactChannelMessageCommand")}(),og=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_RedactChannelMessageCommandError")}(),sg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return ag(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{Channels:$=>Cf($,C),NextToken:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_SearchChannelsCommand")}(),ag=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_SearchChannelsCommandError")}(),lg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==201&&y.statusCode>=300)return cg(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,MessageId:At,Status:hn,SubChannelId:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_SendChannelMessageCommand")}(),cg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_SendChannelMessageCommandError")}(),dg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return ug(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_TagResourceCommand")}(),ug=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw yield Wa(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_TagResourceCommandError")}(),fg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==204&&y.statusCode>=300)return hg(y,C);const I=We({$metadata:W(y)});return yield Xo(y.body,C),I});return r(function(C,I){return T.apply(this,arguments)},"de_UntagResourceCommand")}(),hg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_UntagResourceCommandError")}(),pg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return mg(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelCommand")}(),mg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelCommandError")}(),gg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return vg(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelFlowArn:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelFlowCommand")}(),vg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelFlowCommandError")}(),Sg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return yg(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At,MessageId:At,Status:hn,SubChannelId:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelMessageCommand")}(),yg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelMessageCommandError")}(),Cg=function(){var T=Object(u.coroutine)(function*(y,C){if(y.statusCode!==200&&y.statusCode>=300)return bg(y,C);const I=We({$metadata:W(y)}),F=ln(Kn(yield ri(y.body,C)),"body"),H=qe(F,{ChannelArn:At});return Object.assign(I,H),I});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelReadMarkerCommand")}(),bg=function(){var T=Object(u.coroutine)(function*(y,C){const I={...y,body:yield Un(y.body,C)},F=Vn(y,I.body);switch(F){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw yield Wn(I,C);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw yield wr(I,C);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw yield _n(I,C);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw yield Ln(I,C);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw yield Nn(I,C);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw yield Bn(I,C);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw yield Fn(I,C);default:const H=I.body;return xn({output:y,parsedBody:H,errorCode:F})}});return r(function(C,I){return T.apply(this,arguments)},"de_UpdateChannelReadMarkerCommandError")}(),xn=Te(Co),Wn=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new Kl({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_BadRequestExceptionRes")}(),wr=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new Jl({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_ConflictExceptionRes")}(),_n=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new Yl({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_ForbiddenExceptionRes")}(),Us=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new Xl({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_NotFoundExceptionRes")}(),Wa=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new tc({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_ResourceLimitExceededExceptionRes")}(),Ln=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new Ql({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_ServiceFailureExceptionRes")}(),Nn=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new Zl({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_ServiceUnavailableExceptionRes")}(),Bn=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new ql({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_ThrottledClientExceptionRes")}(),Fn=function(){var T=Object(u.coroutine)(function*(y,C){const I=We({}),F=y.body,H=qe(F,{Code:At,Message:At});Object.assign(I,H);const $=new ec({$metadata:W(y),...I});return Qe($,y.body)});return r(function(C,I){return T.apply(this,arguments)},"de_UnauthorizedClientExceptionRes")}(),Eg=r((T,y)=>qe(T,{ReadMarkerTimestamp:C=>ln(rr(Yi(C))),SubChannelId:At,Type:At}),"de_AppInstanceUserMembershipSummary"),Tg=r((T,y)=>qe(T,{ChannelArn:At,ChannelFlowArn:At,CreatedBy:hn,CreatedTimestamp:C=>ln(rr(Yi(C))),ElasticChannelConfiguration:hn,ExpirationSettings:hn,LastMessageTimestamp:C=>ln(rr(Yi(C))),LastUpdatedTimestamp:C=>ln(rr(Yi(C))),Metadata:At,Mode:At,Name:At,Privacy:At}),"de_Channel"),Ig=r((T,y)=>qe(T,{ChannelArn:At,CreatedBy:hn,CreatedTimestamp:C=>ln(rr(Yi(C))),Member:hn}),"de_ChannelBan"),wg=r((T,y)=>qe(T,{ChannelFlowArn:At,CreatedTimestamp:C=>ln(rr(Yi(C))),LastUpdatedTimestamp:C=>ln(rr(Yi(C))),Name:At,Processors:hn}),"de_ChannelFlow"),Og=r((T,y)=>qe(T,{ChannelArn:At,CreatedTimestamp:C=>ln(rr(Yi(C))),InvitedBy:hn,LastUpdatedTimestamp:C=>ln(rr(Yi(C))),Member:hn,SubChannelId:At,Type:At}),"de_ChannelMembership"),Sf=r((T,y)=>qe(T,{AppInstanceUserMembershipSummary:C=>Eg(C,y),ChannelSummary:C=>Td(C,y)}),"de_ChannelMembershipForAppInstanceUserSummary"),Mg=r((T,y)=>(T||[]).filter(I=>I!=null).map(I=>Sf(I,y)),"de_ChannelMembershipForAppInstanceUserSummaryList"),Ag=r((T,y)=>qe(T,{ChannelArn:At,Content:At,ContentType:At,CreatedTimestamp:C=>ln(rr(Yi(C))),LastEditedTimestamp:C=>ln(rr(Yi(C))),LastUpdatedTimestamp:C=>ln(rr(Yi(C))),MessageAttributes:hn,MessageId:At,Metadata:At,Persistence:At,Redacted:ll,Sender:hn,Status:hn,SubChannelId:At,Type:At}),"de_ChannelMessage"),Rg=r((T,y)=>qe(T,{Content:At,ContentType:At,CreatedTimestamp:C=>ln(rr(Yi(C))),LastEditedTimestamp:C=>ln(rr(Yi(C))),LastUpdatedTimestamp:C=>ln(rr(Yi(C))),MessageAttributes:hn,MessageId:At,Metadata:At,Redacted:ll,Sender:hn,Status:hn,Type:At}),"de_ChannelMessageSummary"),Pg=r((T,y)=>(T||[]).filter(I=>I!=null).map(I=>Rg(I,y)),"de_ChannelMessageSummaryList"),yf=r((T,y)=>qe(T,{ChannelSummary:C=>Td(C,y)}),"de_ChannelModeratedByAppInstanceUserSummary"),Dg=r((T,y)=>(T||[]).filter(I=>I!=null).map(I=>yf(I,y)),"de_ChannelModeratedByAppInstanceUserSummaryList"),kg=r((T,y)=>qe(T,{ChannelArn:At,CreatedBy:hn,CreatedTimestamp:C=>ln(rr(Yi(C))),Moderator:hn}),"de_ChannelModerator"),Td=r((T,y)=>qe(T,{ChannelArn:At,LastMessageTimestamp:C=>ln(rr(Yi(C))),Metadata:At,Mode:At,Name:At,Privacy:At}),"de_ChannelSummary"),Cf=r((T,y)=>(T||[]).filter(I=>I!=null).map(I=>Td(I,y)),"de_ChannelSummaryList");var Id,wd;const W=r(T=>({httpStatusCode:T.statusCode,requestId:(wd=(Id=T.headers["x-amzn-requestid"])!==null&&Id!==void 0?Id:T.headers["x-amzn-request-id"])!==null&&wd!==void 0?wd:T.headers["x-amz-request-id"],extendedRequestId:T.headers["x-amz-id-2"],cfId:T.headers["x-amz-cf-id"]}),"Aws_restJson1_deserializeMetadata"),Xo=r(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Uint8Array,y=arguments.length>1?arguments[1]:void 0;return T instanceof Uint8Array?Promise.resolve(T):y.streamCollector(T)||Promise.resolve(new Uint8Array)},"collectBody"),xg=r((T,y)=>Xo(T,y).then(C=>y.utf8Encoder(C)),"collectBodyString"),hi=r(T=>T!=null&&T!==""&&(!Object.getOwnPropertyNames(T).includes("length")||T.length!=0)&&(!Object.getOwnPropertyNames(T).includes("size")||T.size!=0),"isSerializableHeaderValue"),ri=r((T,y)=>xg(T,y).then(C=>C.length?JSON.parse(C):{}),"parseBody"),Un=function(){var T=Object(u.coroutine)(function*(y,C){const I=yield ri(y,C);var F;return I.message=(F=I.message)!==null&&F!==void 0?F:I.Message,I});return r(function(C,I){return T.apply(this,arguments)},"parseErrorBody")}(),Vn=r((T,y)=>{const C=r((H,$)=>Object.keys(H).find(fe=>fe.toLowerCase()===$.toLowerCase()),"findKey"),I=r(H=>{let $=H;return typeof $=="number"&&($=$.toString()),$.indexOf(",")>=0&&($=$.split(",")[0]),$.indexOf(":")>=0&&($=$.split(":")[0]),$.indexOf("#")>=0&&($=$.split("#")[1]),$},"sanitizeErrorCode"),F=C(T.headers,"x-amzn-errortype");if(F!==void 0)return I(T.headers[F]);if(y.code!==void 0)return I(y.code);if(y.__type!==void 0)return I(y.__type)},"loadRestJsonErrorCode");class ac extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ac.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return xh(y,C)}deserialize(y,C){return Ap(y,C)}constructor(y){super(),this.input=y}}r(ac,"AssociateChannelFlowCommand_AssociateChannelFlowCommand");class lc extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,lc.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:cu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return _h(y,C)}deserialize(y,C){return Pp(y,C)}constructor(y){super(),this.input=y}}r(lc,"BatchCreateChannelMembershipCommand_BatchCreateChannelMembershipCommand");class cc extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,cc.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:gu,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Lh(y,C)}deserialize(y,C){return kp(y,C)}constructor(y){super(),this.input=y}}r(cc,"ChannelFlowCallbackCommand_ChannelFlowCallbackCommand");class dc extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,dc.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Ou},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Bh(y,C)}deserialize(y,C){return Np(y,C)}constructor(y){super(),this.input=y}}r(dc,"CreateChannelBanCommand_CreateChannelBanCommand");class uc extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,uc.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:wu,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Nh(y,C)}deserialize(y,C){return _p(y,C)}constructor(y){super(),this.input=y}}r(uc,"CreateChannelCommand_CreateChannelCommand");class fc extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,fc.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:Mu,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Fh(y,C)}deserialize(y,C){return Fp(y,C)}constructor(y){super(),this.input=y}}r(fc,"CreateChannelFlowCommand_CreateChannelFlowCommand");class Ei extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ei.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Au},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Uh(y,C)}deserialize(y,C){return Vp(y,C)}constructor(y){super(),this.input=y}}r(Ei,"CreateChannelMembershipCommand_CreateChannelMembershipCommand");class Cn extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Cn.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Ru},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Vh(y,C)}deserialize(y,C){return zp(y,C)}constructor(y){super(),this.input=y}}r(Cn,"CreateChannelModeratorCommand_CreateChannelModeratorCommand");class ma extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ma.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return sc(y,C)}deserialize(y,C){return $p(y,C)}constructor(y){super(),this.input=y}}r(ma,"DeleteChannelBanCommand_DeleteChannelBanCommand");class ja extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ja.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Hh(y,C)}deserialize(y,C){return jp(y,C)}constructor(y){super(),this.input=y}}r(ja,"DeleteChannelCommand_DeleteChannelCommand");class Ga extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ga.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return zh(y,C)}deserialize(y,C){return Jp(y,C)}constructor(y){super(),this.input=y}}r(Ga,"DeleteChannelFlowCommand_DeleteChannelFlowCommand");class $a extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,$a.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Wh(y,C)}deserialize(y,C){return Xp(y,C)}constructor(y){super(),this.input=y}}r($a,"DeleteChannelMembershipCommand_DeleteChannelMembershipCommand");class Vs extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Vs.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return jh(y,C)}deserialize(y,C){return Zp(y,C)}constructor(y){super(),this.input=y}}r(Vs,"DeleteChannelMessageCommand_DeleteChannelMessageCommand");class zi extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,zi.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Gh(y,C)}deserialize(y,C){return em(y,C)}constructor(y){super(),this.input=y}}r(zi,"DeleteChannelModeratorCommand_DeleteChannelModeratorCommand");class Gi extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Gi.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DeleteMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return $h(y,C)}deserialize(y,C){return nm(y,C)}constructor(y){super(),this.input=y}}r(Gi,"DeleteMessagingStreamingConfigurationsCommand_DeleteMessagingStreamingConfigurationsCommand");class ia extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ia.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Du},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Kh(y,C)}deserialize(y,C){return sm(y,C)}constructor(y){super(),this.input=y}}r(ia,"DescribeChannelBanCommand_DescribeChannelBanCommand");class jn extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,jn.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Pu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return vf(y,C)}deserialize(y,C){return rm(y,C)}constructor(y){super(),this.input=y}}r(jn,"DescribeChannelCommand_DescribeChannelCommand");class Or extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Or.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ku},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Jh(y,C)}deserialize(y,C){return lm(y,C)}constructor(y){super(),this.input=y}}r(Or,"DescribeChannelFlowCommand_DescribeChannelFlowCommand");class gs extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,gs.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:xu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Yh(y,C)}deserialize(y,C){return dm(y,C)}constructor(y){super(),this.input=y}}r(gs,"DescribeChannelMembershipCommand_DescribeChannelMembershipCommand");class $i extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,$i.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:_u},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Xh(y,C)}deserialize(y,C){return fm(y,C)}constructor(y){super(),this.input=y}}r($i,"DescribeChannelMembershipForAppInstanceUserCommand_DescribeChannelMembershipForAppInstanceUserCommand");class Cl extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Cl.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Lu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Qh(y,C)}deserialize(y,C){return pm(y,C)}constructor(y){super(),this.input=y}}r(Cl,"DescribeChannelModeratedByAppInstanceUserCommand_DescribeChannelModeratedByAppInstanceUserCommand");class ga extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ga.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Nu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Zh(y,C)}deserialize(y,C){return gm(y,C)}constructor(y){super(),this.input=y}}r(ga,"DescribeChannelModeratorCommand_DescribeChannelModeratorCommand");class Ka extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ka.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return qh(y,C)}deserialize(y,C){return Sm(y,C)}constructor(y){super(),this.input=y}}r(Ka,"DisassociateChannelFlowCommand_DisassociateChannelFlowCommand");class Ja extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ja.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Bu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return ep(y,C)}deserialize(y,C){return Cm(y,C)}constructor(y){super(),this.input=y}}r(Ja,"GetChannelMembershipPreferencesCommand_GetChannelMembershipPreferencesCommand");class va extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,va.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:Fu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return tp(y,C)}deserialize(y,C){return Em(y,C)}constructor(y){super(),this.input=y}}r(va,"GetChannelMessageCommand_GetChannelMessageCommand");class bl extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,bl.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return np(y,C)}deserialize(y,C){return Im(y,C)}constructor(y){super(),this.input=y}}r(bl,"GetChannelMessageStatusCommand_GetChannelMessageStatusCommand");class El extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,El.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return ip(y,C)}deserialize(y,C){return Om(y,C)}constructor(y){super(),this.input=y}}r(El,"GetMessagingSessionEndpointCommand_GetMessagingSessionEndpointCommand");class Tl extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Tl.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return rp(y,C)}deserialize(y,C){return Am(y,C)}constructor(y){super(),this.input=y}}r(Tl,"GetMessagingStreamingConfigurationsCommand_GetMessagingStreamingConfigurationsCommand");class Ya extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ya.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:Uu,outputFilterSensitiveLog:Vu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return op(y,C)}deserialize(y,C){return Pm(y,C)}constructor(y){super(),this.input=y}}r(Ya,"ListChannelBansCommand_ListChannelBansCommand");class Hs extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Hs.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:Hu,outputFilterSensitiveLog:zu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return sp(y,C)}deserialize(y,C){return km(y,C)}constructor(y){super(),this.input=y}}r(Hs,"ListChannelFlowsCommand_ListChannelFlowsCommand");class ko extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ko.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:Wu,outputFilterSensitiveLog:ju},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return ap(y,C)}deserialize(y,C){return _m(y,C)}constructor(y){super(),this.input=y}}r(ko,"ListChannelMembershipsCommand_ListChannelMembershipsCommand");class zs extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,zs.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:Gu,outputFilterSensitiveLog:$u},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return lp(y,C)}deserialize(y,C){return Nm(y,C)}constructor(y){super(),this.input=y}}r(zs,"ListChannelMembershipsForAppInstanceUserCommand_ListChannelMembershipsForAppInstanceUserCommand");class Sa extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Sa.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:Ku,outputFilterSensitiveLog:Ju},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return cp(y,C)}deserialize(y,C){return Fm(y,C)}constructor(y){super(),this.input=y}}r(Sa,"ListChannelMessagesCommand_ListChannelMessagesCommand");class ya extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ya.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:Yu,outputFilterSensitiveLog:Xu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return dp(y,C)}deserialize(y,C){return Vm(y,C)}constructor(y){super(),this.input=y}}r(ya,"ListChannelModeratorsCommand_ListChannelModeratorsCommand");class vs extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,vs.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:qu,outputFilterSensitiveLog:ef},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return fp(y,C)}deserialize(y,C){return jm(y,C)}constructor(y){super(),this.input=y}}r(vs,"ListChannelsAssociatedWithChannelFlowCommand_ListChannelsAssociatedWithChannelFlowCommand");class Ca extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ca.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:Qu,outputFilterSensitiveLog:Zu},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return up(y,C)}deserialize(y,C){return zm(y,C)}constructor(y){super(),this.input=y}}r(Ca,"ListChannelsCommand_ListChannelsCommand");class Xa extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Xa.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:tf,outputFilterSensitiveLog:nf},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return hp(y,C)}deserialize(y,C){return $m(y,C)}constructor(y){super(),this.input=y}}r(Xa,"ListChannelsModeratedByAppInstanceUserCommand_ListChannelsModeratedByAppInstanceUserCommand");class Qa extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Qa.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:rf,outputFilterSensitiveLog:of},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return pp(y,C)}deserialize(y,C){return Jm(y,C)}constructor(y){super(),this.input=y}}r(Qa,"ListSubChannelsCommand_ListSubChannelsCommand");class Il extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Il.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:sf},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return mp(y,C)}deserialize(y,C){return Xm(y,C)}constructor(y){super(),this.input=y}}r(Il,"ListTagsForResourceCommand_ListTagsForResourceCommand");class Qo extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Qo.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelExpirationSettingsCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return gp(y,C)}deserialize(y,C){return Zm(y,C)}constructor(y){super(),this.input=y}}r(Qo,"PutChannelExpirationSettingsCommand_PutChannelExpirationSettingsCommand");class wl extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,wl.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:af,outputFilterSensitiveLog:lf},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return vp(y,C)}deserialize(y,C){return eg(y,C)}constructor(y){super(),this.input=y}}r(wl,"PutChannelMembershipPreferencesCommand_PutChannelMembershipPreferencesCommand");class Za extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Za.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"PutMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Sp(y,C)}deserialize(y,C){return ng(y,C)}constructor(y){super(),this.input=y}}r(Za,"PutMessagingStreamingConfigurationsCommand_PutMessagingStreamingConfigurationsCommand");class Ol extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ol.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return yp(y,C)}deserialize(y,C){return rg(y,C)}constructor(y){super(),this.input=y}}r(Ol,"RedactChannelMessageCommand_RedactChannelMessageCommand");class ba extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,ba.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:cf,outputFilterSensitiveLog:df},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Cp(y,C)}deserialize(y,C){return sg(y,C)}constructor(y){super(),this.input=y}}r(ba,"SearchChannelsCommand_SearchChannelsCommand");class Ea extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ea.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:uf,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return bp(y,C)}deserialize(y,C){return lg(y,C)}constructor(y){super(),this.input=y}}r(Ea,"SendChannelMessageCommand_SendChannelMessageCommand");class Ml extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ml.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:ff,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Ep(y,C)}deserialize(y,C){return dg(y,C)}constructor(y){super(),this.input=y}}r(Ml,"TagResourceCommand_TagResourceCommand");class Al extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Al.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:hf,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Tp(y,C)}deserialize(y,C){return fg(y,C)}constructor(y){super(),this.input=y}}r(Al,"UntagResourceCommand_UntagResourceCommand");class st extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,st.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:pf,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Ip(y,C)}deserialize(y,C){return pg(y,C)}constructor(y){super(),this.input=y}}r(st,"UpdateChannelCommand_UpdateChannelCommand");class qa extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,qa.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:mf,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return wp(y,C)}deserialize(y,C){return gg(y,C)}constructor(y){super(),this.input=y}}r(qa,"UpdateChannelFlowCommand_UpdateChannelFlowCommand");class oo extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,oo.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:gf,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Op(y,C)}deserialize(y,C){return Sg(y,C)}constructor(y){super(),this.input=y}}r(oo,"UpdateChannelMessageCommand_UpdateChannelMessageCommand");class Ss extends On{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(y,C,I){this.middlewareStack.use(je(C,this.serialize,this.deserialize)),this.middlewareStack.use(dt(C,Ss.getEndpointParameterInstructions()));const F=y.concat(this.middlewareStack),{logger:H}=C,ne={logger:H,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:ce=>ce,outputFilterSensitiveLog:ce=>ce},{requestHandler:Ce}=C;return F.resolve(ce=>Ce.handle(ce.request,I||{}),ne)}serialize(y,C){return Mp(y,C)}deserialize(y,C){return Cg(y,C)}constructor(y){super(),this.input=y}}r(Ss,"UpdateChannelReadMarkerCommand_UpdateChannelReadMarkerCommand");const hc={AssociateChannelFlowCommand:ac,BatchCreateChannelMembershipCommand:lc,ChannelFlowCallbackCommand:cc,CreateChannelCommand:uc,CreateChannelBanCommand:dc,CreateChannelFlowCommand:fc,CreateChannelMembershipCommand:Ei,CreateChannelModeratorCommand:Cn,DeleteChannelCommand:ja,DeleteChannelBanCommand:ma,DeleteChannelFlowCommand:Ga,DeleteChannelMembershipCommand:$a,DeleteChannelMessageCommand:Vs,DeleteChannelModeratorCommand:zi,DeleteMessagingStreamingConfigurationsCommand:Gi,DescribeChannelCommand:jn,DescribeChannelBanCommand:ia,DescribeChannelFlowCommand:Or,DescribeChannelMembershipCommand:gs,DescribeChannelMembershipForAppInstanceUserCommand:$i,DescribeChannelModeratedByAppInstanceUserCommand:Cl,DescribeChannelModeratorCommand:ga,DisassociateChannelFlowCommand:Ka,GetChannelMembershipPreferencesCommand:Ja,GetChannelMessageCommand:va,GetChannelMessageStatusCommand:bl,GetMessagingSessionEndpointCommand:El,GetMessagingStreamingConfigurationsCommand:Tl,ListChannelBansCommand:Ya,ListChannelFlowsCommand:Hs,ListChannelMembershipsCommand:ko,ListChannelMembershipsForAppInstanceUserCommand:zs,ListChannelMessagesCommand:Sa,ListChannelModeratorsCommand:ya,ListChannelsCommand:Ca,ListChannelsAssociatedWithChannelFlowCommand:vs,ListChannelsModeratedByAppInstanceUserCommand:Xa,ListSubChannelsCommand:Qa,ListTagsForResourceCommand:Il,PutChannelExpirationSettingsCommand:Qo,PutChannelMembershipPreferencesCommand:wl,PutMessagingStreamingConfigurationsCommand:Za,RedactChannelMessageCommand:Ol,SearchChannelsCommand:ba,SendChannelMessageCommand:Ea,TagResourceCommand:Ml,UntagResourceCommand:Al,UpdateChannelCommand:st,UpdateChannelFlowCommand:qa,UpdateChannelMessageCommand:oo,UpdateChannelReadMarkerCommand:Ss};class Fc extends yo{}r(Fc,"ChimeSDKMessaging_ChimeSDKMessaging"),Ul(hc,Fc);const Uc=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new Ya(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function pc(T,y){return el.apply(this,arguments)}r(pc,"paginateListChannelBans");function el(){return el=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Uc(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),el.apply(this,arguments)}r(el,"_paginateListChannelBans");const bf=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new Hs(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Ef(T,y){return Vc.apply(this,arguments)}r(Ef,"paginateListChannelFlows");function Vc(){return Vc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(bf(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),Vc.apply(this,arguments)}r(Vc,"_paginateListChannelFlows");const Od=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new zs(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Hc(T,y){return mc.apply(this,arguments)}r(Hc,"paginateListChannelMembershipsForAppInstanceUser");function mc(){return mc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Od(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),mc.apply(this,arguments)}r(mc,"_paginateListChannelMembershipsForAppInstanceUser");const Md=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new ko(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Tf(T,y){return zc.apply(this,arguments)}r(Tf,"paginateListChannelMemberships");function zc(){return zc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Md(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),zc.apply(this,arguments)}r(zc,"_paginateListChannelMemberships");const Ad=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new Sa(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Ws(T,y){return gc.apply(this,arguments)}r(Ws,"paginateListChannelMessages");function gc(){return gc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Ad(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),gc.apply(this,arguments)}r(gc,"_paginateListChannelMessages");const Rd=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new ya(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Pd(T,y){return Wc.apply(this,arguments)}r(Pd,"paginateListChannelModerators");function Wc(){return Wc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Rd(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),Wc.apply(this,arguments)}r(Wc,"_paginateListChannelModerators");const xo=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new vs(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Dd(T,y){return jc.apply(this,arguments)}r(Dd,"paginateListChannelsAssociatedWithChannelFlow");function jc(){return jc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(xo(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),jc.apply(this,arguments)}r(jc,"_paginateListChannelsAssociatedWithChannelFlow");const tl=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new Xa(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Gc(T,y){return $c.apply(this,arguments)}r(Gc,"paginateListChannelsModeratedByAppInstanceUser");function $c(){return $c=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(tl(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),$c.apply(this,arguments)}r($c,"_paginateListChannelsModeratedByAppInstanceUser");const kd=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new Ca(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function js(T,y){return Kc.apply(this,arguments)}r(js,"paginateListChannels");function Kc(){return Kc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(kd(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),Kc.apply(this,arguments)}r(Kc,"_paginateListChannels");const Jc=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new Qa(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function Yc(T,y){return vc.apply(this,arguments)}r(Yc,"paginateListSubChannels");function vc(){return vc=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Jc(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),vc.apply(this,arguments)}r(vc,"_paginateListSubChannels");const Sc=function(){var T=Object(u.coroutine)(function*(y,C){for(var I=arguments.length,F=new Array(I>2?I-2:0),H=2;H<I;H++)F[H-2]=arguments[H];return yield y.send(new ba(C),...F)});return r(function(C,I){return T.apply(this,arguments)},"makePagedClientRequest")}();function nl(T,y){return Gs.apply(this,arguments)}r(nl,"paginateSearchChannels");function Gs(){return Gs=_wrapAsyncGenerator(function*(T,y){for(var C=arguments.length,I=new Array(C>2?C-2:0),F=2;F<C;F++)I[F-2]=arguments[F];let H=T.startingToken||void 0,$=!0,fe;for(;$;){if(y.NextToken=H,y.MaxResults=T.pageSize,T.client instanceof yo)fe=yield _awaitAsyncGenerator(Sc(T.client,y,...I));else throw new Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield fe;const ne=H;H=fe.NextToken,$=!!(H&&(!T.stopOnSameToken||H!==ne))}}),Gs.apply(this,arguments)}r(Gs,"_paginateSearchChannels")},Zkgh:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Vf{add(h){this.ids.add(h)}array(){return Array.from(this.ids.values()).sort((m,a)=>m-a)}contain(h){return this.ids.has(h)}forEach(h){this.ids.forEach(h)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(h){if(!h)return this.ids.size===0;const m=this.array(),a=h.array();if(m.length!==a.length)return!1;for(let o=0;o<m.length;o++)if(m[o]!==a[o])return!1;return!0}clone(){return new Vf(this.array())}remove(h){this.ids.delete(h)}toJSON(){return this.array()}truncate(h){const m=this.array();return new Vf(m.splice(0,h))}constructor(h){this.ids=new Set(h)}},"DefaultVideoStreamIdSet");c.default=v},ZnGd:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("mlaT")),h=v(d("F7zz"));let m=r(class{name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(const o of this.dependencies)o.cancel();this.logger.info(`Canceling ${this.name()}`),h.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&h.default.nextTick(()=>this.cancelPromise(new Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>f.default.INFO||!this.dependencies)return;const o=this.dependencies.filter(i=>i).map(i=>i.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${o}`)}run(){if(this.promise)return this.promise;const o=this.dependencies?Promise.all(this.dependencies.map(i=>i==null?void 0:i.run())):Promise.resolve();return this.logDependencies(),this.ongoing=o.then(()=>this.task.run()),this.promise=new Promise((i,e)=>{this.cancelPromise=e,this.ongoing.then(i).catch(e)})}setParent(o){this.task.setParent(o)}constructor(o,i,e){this.logger=o,this.task=i,this.dependencies=e,this.canceled=!1}},"OnceTask");c.default=m},ZsEg:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(B,R,N,w){function A(D){return D instanceof N?D:new N(function(K){K(D)})}return r(A,"adopt"),new(N||(N=Promise))(function(D,K){function X(me){try{te(w.next(me))}catch(we){K(we)}}r(X,"fulfilled");function j(me){try{te(w.throw(me))}catch(we){K(we)}}r(j,"rejected");function te(me){me.done?D(me.value):A(me.value).then(X,j)}r(te,"step"),te((w=w.apply(B,R||[])).next())})},f=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR")),m=f(d("Gs2/")),a=f(d("F7zz")),o=f(d("FMuk")),i=d("Aplu"),e=f(d("7TH8")),t=f(d("Z/hr")),n=d("6k+I"),s=f(d("6DYs")),p=f(d("KJDN")),g=f(d("QUzi")),S=f(d("u3ud")),u=f(d("wJ81")),l=f(d("wkYg")),E=f(d("sf8V")),O=f(d("my46")),P=d("0OOd");let x=r(class Ni{isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var R;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(R=this.mediaDeviceWrapper)===null||R===void 0||R.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var R;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(R=this.mediaDeviceWrapper)===null||R===void 0||R.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return v(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const N=yield this.listDevicesOfKind("audioinput",R);return this.trace("listAudioInputDevices",R,N),N})}listVideoInputDevices(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const N=yield this.listDevicesOfKind("videoinput",R);return this.trace("listVideoInputDevices",R,N),N})}listAudioOutputDevices(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const N=yield this.listDevicesOfKind("audiooutput",R);return this.trace("listAudioOutputDevices",R,N),N})}pushAudioMeetingStateForPermissions(R){var N;(N=this.eventController)===null||N===void 0||N.publishEvent(R===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(R){var N;(N=this.eventController)===null||N===void 0||N.publishEvent(R===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(R){return v(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(R))})}startAudioInputTask(R){var N;return v(this,void 0,void 0,function*(){if(R===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return n.isAudioTransformDevice(R)?(this.logger.info(`Choosing transform input device ${R}`),yield this.chooseAudioTransformInputDevice(R)):(this.logger.info(`Choosing intrinsic audio input device ${R}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",R)),this.trace("startAudioInputDevice",R,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(N=this.transform)===null||N===void 0?void 0:N.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(w){throw w}})}stopAudioInput(){return v(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return v(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(R){var N;return v(this,void 0,void 0,function*(){if(((N=this.transform)===null||N===void 0?void 0:N.device)===R)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const w=Ni.getAudioContext();if(!(w instanceof OfflineAudioContext))switch(w.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield w.resume()}let A;try{A=yield R.createAudioNode(w)}catch(K){throw this.logger.error(`Unable to create transform device node: ${K}.`),K}const D=yield R.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",D),this.logger.debug(`Got inner stream: ${D}.`),this.setTransform(R,A)})}chooseVideoTransformInputDevice(R){var N;return v(this,void 0,void 0,function*(){if(this.eventController&&R instanceof e.default&&R.passEventControllerToProcessors(this.eventController),R===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const w=this.chosenVideoTransformDevice;w&&this.logger.info("Switched from previous VideoTransformDevice");const A=!!w,D=yield R.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((N=this.activeDevices.video)===null||N===void 0?void 0:N.stream,D)){this.logger.info("video transform device needs new intrinsic device"),A&&w.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=R,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",D),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=R,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield R.transformStream(this.activeDevices.video.stream)})}startVideoInput(R){return v(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(R))})}startVideoInputTask(R){return v(this,void 0,void 0,function*(){if(!R){this.logger.error("Invalid video input device");return}try{return P.isVideoTransformDevice(R)?(this.logger.info(`Choosing video transform device ${R}`),yield this.chooseVideoTransformInputDevice(R),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",R),this.trace("startVideoInputDevice",R),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(N){throw N}})}stopVideoInput(){return v(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return v(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(R){return v(this,void 0,void 0,function*(){this.audioOutputDeviceId=R,this.watchForDeviceChangesIfNecessary();const N=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(N),this.trace("chooseAudioOutput",R,null)})}addDeviceChangeObserver(R){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(R),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(R){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(R),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var R,N;if(!this.activeDevices.audio)return null;const w=(N=(R=this.transform)===null||R===void 0?void 0:R.nodes)===null||N===void 0?void 0:N.end;if(w){const A=w.context.createAnalyser();return A.removeOriginalInputs=()=>{try{w.disconnect(A)}catch{}},w.connect(A),A}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(R){const N=Ni.getAudioContext(),w=N.createAnalyser(),A=N.createMediaStreamSource(R);return A.connect(w),this.trace("createAnalyserNodeForAudioInput"),w.removeOriginalInputs=()=>{try{A.disconnect(w)}catch{}},w}startVideoPreviewForVideoInput(R){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",R.id);return}t.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,R,!0),this.trace("startVideoPreviewForVideoInput",R.id)}stopVideoPreviewForVideoInput(R){t.default.disconnectVideoStreamFromVideoElement(R,!1),this.trace("stopVideoPreviewForVideoInput",R.id)}setDeviceLabelTrigger(R){if(this.deviceInfoCache){for(const N of this.deviceInfoCache)if(!N.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=R,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(R){let N=null;return this.useWebAudio?(N=Ni.getAudioContext().createMediaStreamSource(R),N.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",R.id),N}chooseVideoInputQuality(R,N,w){const A=this.browserBehavior.requiresResolutionAlignment(R,N);this.videoInputQualitySettings=new O.default(A[0],A[1],w)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return v(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return v(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(R){return v(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(R){const N=this.activeDevices[R];if(!N)return;const w=N.endedCallback,A=N.trackMuteCallback,D=N.trackUnmuteCallback;for(const K of N.stream.getTracks())K.stop(),w&&K.removeEventListener("ended",w),A&&K.removeEventListener("mute",A),D&&K.removeEventListener("unmute",D),delete N.endedCallback,delete N.trackMuteCallback,delete N.trackUnmuteCallback,delete this.activeDevices[R]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(R){var N;let w=this.activeDevices.audio;if(this.useWebAudio&&(w=this.getMediaStreamDestinationNode()),!!w){for(const A of w.stream.getTracks())A.enabled!==R&&(A.enabled=R);this.muted!==!R&&(this.muted=!R,(N=this.transform)===null||N===void 0||N.device.mute(this.muted))}}static getIntrinsicDeviceId(R){if(!R)return;if(typeof R=="string")return R;if(R.id)return R.id;const w=R.deviceId;if(!w)return;if(typeof w=="string"||Array.isArray(w))return w;const A=w;if(typeof A.exact=="string"||Array.isArray(A.exact))return A.exact}static createEmptyAudioDevice(){return Ni.synthesizeAudioDevice(0)}static synthesizeAudioDevice(R){const N=Ni.getAudioContext(),w=N.createMediaStreamDestination();if(R){const A=N.createGain();A.gain.value=.1,A.connect(w);const D=N.createOscillator();D.frequency.value=R,D.connect(A),D.start()}else{const A=N.createBufferSource();try{A.buffer=N.createBuffer(1,N.sampleRate*5,N.sampleRate)}catch(D){if(D&&D.name==="NotSupportedError")A.buffer=N.createBuffer(1,Ni.defaultSampleRate*5,Ni.defaultSampleRate);else throw D}A.buffer.getChannelData(0)[0]=3e-4,A.loop=!0,A.connect(w),A.start()}return w.stream}listDevicesOfKind(R,N){return v(this,void 0,void 0,function*(){return(N||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(R)})}updateDeviceInfoCacheFromBrowser(){var R,N;return v(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let A=yield navigator.mediaDevices.enumerateDevices(),D=!0;for(const K of A)if(!K.label){D=!1;break}if(!D)try{this.logger.info("attempting to trigger media device labels since they are hidden");const K=yield this.deviceLabelTrigger();A=yield navigator.mediaDevices.enumerateDevices();for(const X of K.getTracks())X.stop()}catch(K){this.logger.info("unable to get media device labels"),(R=this.eventController)===null||R===void 0||R.publishEvent("audioInputFailed",{audioInputErrorMessage:this.getErrorMessage(K)}),(N=this.eventController)===null||N===void 0||N.publishEvent("videoInputFailed",{videoInputErrorMessage:this.getErrorMessage(K)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(A)}`),this.deviceInfoCache=A})}listCachedDevicesOfKind(R){const N=[];if(this.deviceInfoCache)for(const w of this.deviceInfoCache)w.kind===R&&N.push(w);return N}handleDeviceChange(){return v(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){a.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const R=this.listCachedDevicesOfKind("audioinput"),N=this.listCachedDevicesOfKind("videoinput"),w=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const A=this.listCachedDevicesOfKind("audioinput"),D=this.listCachedDevicesOfKind("videoinput"),K=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(X=>{this.areDeviceListsEqual(R,A)||i.Maybe.of(X.audioInputsChanged).map(j=>j.bind(X)(A)),this.areDeviceListsEqual(N,D)||i.Maybe.of(X.videoInputsChanged).map(j=>j.bind(X)(D)),this.areDeviceListsEqual(w,K)||i.Maybe.of(X.audioOutputsChanged).map(j=>j.bind(X)(K))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(R,N){return v(this,void 0,void 0,function*(){try{R==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}R==="audio"?this.forEachObserver(w=>{i.Maybe.of(w.audioInputStreamEnded).map(A=>A.bind(w)(N))}):this.forEachObserver(w=>{i.Maybe.of(w.videoInputStreamEnded).map(A=>A.bind(w)(N))})})}forEachObserver(R){for(const N of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(N)&&R(N)})}forEachMediaStreamBrokerObserver(R){for(const N of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(N)&&R(N)})}areDeviceListsEqual(R,N){return JSON.stringify(R.map(w=>JSON.stringify(w)).sort())===JSON.stringify(N.map(w=>JSON.stringify(w)).sort())}intrinsicDeviceAsMediaStream(R){return R&&R.id?R:null}hasSameMediaStreamId(R,N,w){var A,D,K,X;let j;return R==="audio"?(j=w==null?void 0:w.audio.streamId,!!j&&j===((D=(A=N.constraints)===null||A===void 0?void 0:A.audio)===null||D===void 0?void 0:D.streamId)):(j=w==null?void 0:w.video.streamId,!!j&&j===((X=(K=N==null?void 0:N.constraints)===null||K===void 0?void 0:K.video)===null||X===void 0?void 0:X.streamId))}hasSameGroupId(R,N,w){if(R==="")return!0;const A=Ni.getIntrinsicDeviceId(w);return this.logger.debug(`Checking deviceIds ${A} of type ${typeof A} with groupId ${R}`),typeof A=="string"&&R===this.getGroupIdFromDeviceId(N,A)}getGroupIdFromDeviceId(R,N){if(this.deviceInfoCache!==null){const w=this.listCachedDevicesOfKind(`${R}input`).find(A=>A.deviceId===N);if(w&&w.groupId)return this.logger.debug(`GroupId of deviceId ${N} found in cache is ${w.groupId}`),w.groupId}return this.logger.debug(`GroupId of deviceId ${N} found in cache is empty`),""}handleGetUserMediaError(R,N){if(!R)throw new p.default(R);switch(R.name){case"NotReadableError":case"TrackStartError":throw new S.default(R);case"NotFoundError":case"DevicesNotFoundError":throw new g.default(R);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw N&&N<Ni.permissionDeniedOriginDetectionThresholdMs?new l.default(R,"Permission denied by browser"):new l.default(R,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new u.default(R);case"TypeError":throw new E.default(R);case"AbortError":default:throw new p.default(R)}}matchesDeviceSelection(R,N,w,A){return w&&w.stream.active&&(this.hasSameMediaStreamId(R,w,A)||w.groupId!==null&&this.hasSameGroupId(w.groupId,R,N))?(this.logger.debug(`Compare current device constraint ${JSON.stringify(w.constraints)} to proposed constraints ${JSON.stringify(A)}`),w.matchesConstraints(A)):!1}chooseInputIntrinsicDevice(R,N){var w,A;return v(this,void 0,void 0,function*(){const D=this.getMediaStreamConstraints(R,N);if(this.matchesDeviceSelection(R,N,this.activeDevices[R],D)){this.logger.info(`reusing existing ${R} input device`);return}this.activeDevices[R]&&this.activeDevices[R].stream&&this.stopTracksAndRemoveCallbacks(R);const K=Date.now(),X=new s.default;try{this.logger.info(`requesting new ${R} device with constraint ${JSON.stringify(D)}`);const j=this.intrinsicDeviceAsMediaStream(N);R==="audio"&&N===null?(X.stream=Ni.createEmptyAudioDevice(),X.constraints=null):j?(this.logger.info(`using media stream ${j.id} for ${R} device`),X.stream=j,X.constraints=D):(X.stream=yield navigator.mediaDevices.getUserMedia(D),X.constraints=D),yield this.handleNewInputDevice(R,X)}catch(j){const te=this.getErrorMessage(j);R==="audio"?(w=this.eventController)===null||w===void 0||w.publishEvent("audioInputFailed",{audioInputErrorMessage:te}):(A=this.eventController)===null||A===void 0||A.publishEvent("videoInputFailed",{videoInputErrorMessage:te}),this.logger.error(`failed to get ${R} device for constraints ${JSON.stringify(D)}: ${te}`);let me=!0;if(j&&"constraint"in j&&(this.logger.error(`Over-constrained by constraint: ${j.constraint}`),this.useMediaConstraintsFallback)){const we=this.getMediaStreamConstraints(R,N,!0),pe=JSON.stringify(we);if(pe!==JSON.stringify(D)){this.logger.info(`retry requesting new ${R} device with minimal constraint ${pe}`);try{X.stream=yield navigator.mediaDevices.getUserMedia(we),X.constraints=we,yield this.handleNewInputDevice(R,X),me=!1}catch(Ae){this.logger.error(`failed to get ${R} device for constraints ${pe}: ${this.getErrorMessage(Ae)}`)}}}if(me){if(R==="audio"){this.logger.info(`choosing null ${R} device instead`);try{X.stream=Ni.createEmptyAudioDevice(),X.constraints=null,yield this.handleNewInputDevice(R,X)}catch(we){this.logger.error(`failed to choose null ${R} device. ${we.name}: ${we.message}`)}}this.handleGetUserMediaError(j,Date.now()-K)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(R){return R?R.name&&R.message?`${R.name}: ${R.message}`:R.name?R.name:R.message?R.message:"UnknownError":"UnknownError"}handleNewInputDevice(R,N){var w;return v(this,void 0,void 0,function*(){this.logger.info(`got ${R} device for constraints ${JSON.stringify(N.constraints)}`);const A=(w=this.getMediaTrackSettings(N.stream))===null||w===void 0?void 0:w.deviceId;N.groupId=A?this.getGroupIdFromDeviceId(R,A):"",this.activeDevices[R]=N,this.logger.debug(`Set activeDevice to ${JSON.stringify(N)}`),this.watchForDeviceChangesIfNecessary();const D=N.stream.getTracks()[0];if(D&&(N.endedCallback=()=>{this.activeDevices[R]&&this.activeDevices[R].stream===N.stream&&(this.handleDeviceStreamEnded(R,A),delete N.endedCallback)},D.addEventListener("ended",N.endedCallback,{once:!0})),R==="audio"){const K=N.stream.getAudioTracks()[0];if(K){const X=K.getSettings().deviceId||N.stream;N.trackMuteCallback=()=>{this.mediaStreamMuteObserver(X,!0)},N.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(X,!1)},K.addEventListener("mute",N.trackMuteCallback,{once:!1}),K.addEventListener("unmute",N.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),K.muted?N.trackMuteCallback():N.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(R,N,w,A){if(A&&this.listCachedDevicesOfKind(`${R}input`).length===1)return!0;const D={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?D.deviceId=N:D.deviceId={exact:N},w&&(D.groupId=w),A?D:R==="video"?(D.width={ideal:this.videoInputQualitySettings.videoWidth},D.height={ideal:this.videoInputQualitySettings.videoHeight},D.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},D):(this.supportSampleRateConstraint()&&(D.sampleRate={ideal:Ni.defaultSampleRate}),this.supportSampleSizeConstraint()&&(D.sampleSize={ideal:Ni.defaultSampleSize}),this.supportChannelCountConstraint()&&(D.channelCount={ideal:Ni.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},D))}getMediaStreamConstraintsFromTrackConstraints(R,N){return R==="audio"?{audio:N}:{video:N}}getMediaStreamConstraints(R,N){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A={};if(!N)return null;const D=this.intrinsicDeviceAsMediaStream(N);if(D)return A.streamId=D.id,this.getMediaStreamConstraintsFromTrackConstraints(R,A);if(typeof N=="string"){let K="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?K=this.getGroupIdFromDeviceId(R,N):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),A=this.calculateMediaStreamConstraints(R,N,K,w),this.getMediaStreamConstraintsFromTrackConstraints(R,A)}return k(N)?(A=this.calculateMediaStreamConstraints(R,N.deviceId,N.groupId,w),this.getMediaStreamConstraintsFromTrackConstraints(R,A)):(A=N,this.getMediaStreamConstraintsFromTrackConstraints(R,A))}deviceInfoFromDeviceId(R,N){if(this.deviceInfoCache===null)return null;for(const w of this.deviceInfoCache)if(w.kind===R&&w.deviceId===N)return w;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(R,N){if(!R||!R.active||!N)return!1;if(N.id)return R.id===N.id;const w=this.getMediaTrackSettings(R);if(!w.deviceId)return!1;const A=Ni.getIntrinsicDeviceId(N);return typeof A=="string"?w.deviceId===A:!1}getMediaTrackSettings(R){var N;return(N=R.getTracks()[0])===null||N===void 0?void 0:N.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const R=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(R)}setTransform(R,N){var w,A;(A=(w=this.transform)===null||w===void 0?void 0:w.nodes)===null||A===void 0||A.end.disconnect(),this.transform={nodes:N,device:R};const D=N==null?void 0:N.end,K=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${D} to destination ${K}.`),D==null||D.connect(K),this.reconnectAudioInputs()}removeTransform(){var R;const N=this.transform;if(N)return(R=this.transform.nodes)===null||R===void 0||R.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),N}attachAudioInputStreamToAudioContext(R){var N;(N=this.audioInputSourceNode)===null||N===void 0||N.disconnect(),this.audioInputSourceNode=Ni.getAudioContext().createMediaStreamSource(R);const w=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(w)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=Ni.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var R,N;return((N=(R=this.transform)===null||R===void 0?void 0:R.nodes)===null||N===void 0?void 0:N.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(R){Ni.defaultLatencyHint=R}static getAudioContext(){if(!Ni.audioContext){const R={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(R.sampleRate=Ni.defaultSampleRate),new h.default().requiresPlaybackLatencyHintForAudioContext()&&(R.latencyHint="playback"),Ni.defaultLatencyHint&&(R.latencyHint=Ni.defaultLatencyHint),Ni.audioContext=new(window.AudioContext||window.webkitAudioContext)(R)}return Ni.audioContext}static closeAudioContext(){if(Ni.audioContext)try{Ni.audioContext.close()}catch{}Ni.audioContext=null}addMediaStreamBrokerObserver(R){this.mediaStreamBrokerObservers.add(R)}removeMediaStreamBrokerObserver(R){this.mediaStreamBrokerObservers.delete(R)}publishVideoInputDidChangeEvent(R){this.forEachMediaStreamBrokerObserver(N=>{N.videoInputDidChange&&N.videoInputDidChange(R)}),this.pushVideoMeetingStateForPermissions(R)}publishAudioInputDidChangeEvent(R){this.forEachMediaStreamBrokerObserver(N=>{N.audioInputDidChange&&N.audioInputDidChange(R)}),this.pushAudioMeetingStateForPermissions(R)}publishAudioOutputDidChangeEvent(R){this.forEachMediaStreamBrokerObserver(N=>{N.audioOutputDidChange&&N.audioOutputDidChange(R)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(R,N,w){let A=`API/DefaultDeviceController/${R}`;typeof N<"u"&&(A+=` ${JSON.stringify(N)}`),typeof w<"u"&&(A+=` -> ${JSON.stringify(w)}`),this.logger.info(A)}constructor(R,N,w=new h.default,A){this.logger=R,this.browserBehavior=w,this.eventController=A,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new o.default,this.videoInputTaskQueue=new o.default,this.muted=!1,this.mediaStreamMuteObserver=(j,te)=>{for(const me of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(me)&&me.audioInputMuteStateChanged&&me.audioInputMuteStateChanged(j,te)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:D=!1,useMediaConstraintsFallback:K=!0}=N||{};this.useWebAudio=D,this.useMediaConstraintsFallback=K,this.videoInputQualitySettings=new O.default(Ni.defaultVideoWidth,Ni.defaultVideoHeight,Ni.defaultVideoFrameRate);const X=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=X[0],this.videoInputQualitySettings.videoHeight=X[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new m.default().create();const j=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(j)}`)}catch(j){R.error(j.message)}}},"DefaultDeviceController");c.default=x,x.permissionDeniedOriginDetectionThresholdMs=500,x.defaultVideoWidth=960,x.defaultVideoHeight=540,x.defaultVideoFrameRate=15,x.defaultSampleRate=48e3,x.defaultSampleSize=16,x.defaultChannelCount=1,x.audioContext=null;function k(B){return typeof B=="object"&&"deviceId"in B&&"groupId"in B&&"kind"in B&&"label"in B}r(k,"isMediaDeviceInfo")},ZzQ1:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=void 0;function v(f){if(!Uint32Array.from){for(var h=new Uint32Array(f.length),m=0;m<f.length;)h[m]=f[m],m+=1;return h}return Uint32Array.from(f)}r(v,"uint32ArrayFrom"),c.uint32ArrayFrom=v},"a16/":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}},"MeetingSessionCredentials");c.default=v},a6MJ:function(U,c,d){"use strict";var v=this&&this.__createBinding||(Object.create?function(rn,ge,Re,Ve){Ve===void 0&&(Ve=Re),Object.defineProperty(rn,Ve,{enumerable:!0,get:function(){return ge[Re]}})}:function(rn,ge,Re,Ve){Ve===void 0&&(Ve=Re),rn[Ve]=ge[Re]}),f=this&&this.__setModuleDefault||(Object.create?function(rn,ge){Object.defineProperty(rn,"default",{enumerable:!0,value:ge})}:function(rn,ge){rn.default=ge}),h=this&&this.__importStar||function(rn){if(rn&&rn.__esModule)return rn;var ge={};if(rn!=null)for(var Re in rn)Re!=="default"&&Object.prototype.hasOwnProperty.call(rn,Re)&&v(ge,rn,Re);return f(ge,rn),ge},m=this&&this.__awaiter||function(rn,ge,Re,Ve){function kt(tt){return tt instanceof Re?tt:new Re(function(it){it(tt)})}return r(kt,"adopt"),new(Re||(Re=Promise))(function(tt,it){function bt(en){try{un(Ve.next(en))}catch(Mn){it(Mn)}}r(bt,"fulfilled");function an(en){try{un(Ve.throw(en))}catch(Mn){it(Mn)}}r(an,"rejected");function un(en){en.done?tt(en.value):kt(en.value).then(bt,an)}r(un,"step"),un((Ve=Ve.apply(rn,ge||[])).next())})},a=this&&this.__importDefault||function(rn){return rn&&rn.__esModule?rn:{default:rn}};Object.defineProperty(c,"__esModule",{value:!0});const o=a(d("HAqy")),i=a(d("kUL9")),e=a(d("f3u9")),t=a(d("U9CR")),n=a(d("rhlI")),s=a(d("da6e")),p=a(d("aZba")),g=a(d("papz")),S=a(d("ZS2b")),u=a(d("ppUg")),l=a(d("igcJ")),E=a(d("iRMv")),O=a(d("F7zz")),P=a(d("on9F")),x=a(d("K5tc")),k=a(d("AXyi")),B=a(d("Q2ix")),R=a(d("HG8V")),N=h(d("/AJg")),w=a(d("HbHZ")),A=a(d("bQ+R")),D=d("XCDq"),K=a(d("YbMW")),X=a(d("nDuE")),j=a(d("7EAL")),te=a(d("wjYw")),me=a(d("7UVU")),we=a(d("lFzH")),pe=a(d("tMH2")),Ae=a(d("Wdtm")),Je=a(d("2vi8")),Fe=a(d("3taG")),Ue=a(d("Hi4k")),Le=a(d("uB5g")),at=a(d("W+eo")),lt=a(d("hspq")),ot=a(d("rkwE")),pt=a(d("5Y0c")),ct=a(d("uQRK")),rt=a(d("fxRI")),Tn=a(d("rw3l")),Qt=a(d("D7wJ")),Ft=a(d("K+bq")),Rn=a(d("XzFx")),Pn=a(d("fZkv")),ti=a(d("ZISg")),Sn=a(d("iQPr")),oi=a(d("xeHQ")),vi=a(d("ZdbB")),Hn=a(d("wQGL")),Di=a(d("VYs+")),Bi=a(d("XJKy")),Gt=d("Aplu"),Dn=a(d("Biyp")),Dt=a(d("uTAD")),je=a(d("rCkh")),yt=d("T44/"),dt=a(d("MpTp")),cn=a(d("0LIx")),li=a(d("LIUS")),ci=a(d("yS4C")),Jn=a(d("Wnnr")),di=a(d("BGMr")),Mi=a(d("P7Xm")),Sr=a(d("kabN")),Ai=a(d("1uai"));let Hi=r(class Hd{destroy(){return m(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new o.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(ge){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(ge):null}setAudioProfile(ge){this._audioProfile=ge}addObserver(ge){this.logger.info("adding meeting observer"),this.observerQueue.add(ge)}removeObserver(ge){this.logger.info("removing meeting observer"),this.observerQueue.delete(ge)}forEachObserver(ge){for(const Re of this.observerQueue)O.default.nextTick(()=>{this.observerQueue.has(Re)&&ge(Re)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new Ai.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new t.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new R.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const ge=r(()=>m(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()}),"handleClosed");this.preStartObserver={handleSignalingClientEvent(Re){Re.type===w.default.WebSocketClosed&&ge()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(ge=>{this.logger.error(`Signaling task pre-start failed: ${ge}`),this.signalingTask=void 0})}start(ge){this.startReturningPromise(ge).then(()=>{this.logger.info("start completed")}).catch(Re=>{this.logger.error(`start failed: ${Re}`)})}startReturningPromise(ge){return(ge==null?void 0:ge.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Re,Ve)=>{this.sessionStateController.perform(x.default.Connect,()=>{this.actionConnect(!1).then(Re).catch(Ve)})}))}connectWithPromises(ge){const Re=this.meetingSessionContext,Ve=r((dr,Ki)=>new Sn.default(this.logger,Ki,dr),"timeout");this.monitorTask=new Ue.default(Re,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const kt=this.monitorTask.once(),tt=new ot.default(Re).once();this.receiveIndexTask=new Tn.default(Re),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const it=new Ft.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new Fe.default(Re),new Qt.default(Re),new Ae.default(Re),new ct.default(Re),this.receiveIndexTask]).once(),bt=new me.default(Re).once(it),an=new X.default(Re).once(bt,tt),un=new we.default(Re).once(an),en=new Rn.default(Re).once(un),Mn=new pe.default(Re).once(en),qi=new ti.default(Re).once(Mn),pi=new pt.default(Re).once(qi);return new Ft.default(this.logger,this.wrapTaskName("AudioVideoStart"),[kt,Ve(this.configuration.connectionTimeoutMs,new Ft.default(this.logger,"Peer",[qi,pi,ge?new Sn.default(this.logger,new at.default(this.logger,"FinalizeConnection",[new oi.default(Re),new Pn.default(Re)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Pn.default(Re)]))])}actionConnect(ge){var Re;return m(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new t.default().hasChromiumWebRTC();const Ve=!!this.configuration.urls.audioHostURL;if(Ve?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new u.default(this.configuration.credentials.attendeeId).hasModality(u.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Hn.default(this.logger,this.meetingSessionContext.browserBehavior):this.meetingSessionContext.transceiverController=new Di.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new vi.default(this.logger,this.meetingSessionContext.browserBehavior)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new Bi.default(this.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.volumeIndicatorAdapter=new Sr.default(this.logger,this._realtimeController,Hd.MIN_VOLUME_DECIBELS,Hd.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.enableSimulcast){let it=this.meetingSessionContext.videoUplinkBandwidthPolicy;it||(it=new di.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=it),it.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new je.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new li.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new cn.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new Mi.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Dt.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new S.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Dn.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new dt.default,this.meetingSessionContext.videosPaused=new dt.default,this.meetingSessionContext.statsCollector=new K.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new s.default(this,this._realtimeController,this.connectionHealthData,new l.default(this.meetingSessionContext.signalingClient,Hd.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},ge||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(it=>{Gt.Maybe.of(it.audioVideoDidStartConnecting).map(bt=>bt.bind(it)(!1))}),(Re=this.eventController)===null||Re===void 0||Re.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const kt=Ve&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+kt);const tt=this.connectWithPromises(kt);try{yield tt.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(x.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(it){this.signalingTask=void 0;const bt=new p.default(this.getMeetingStatusCode(it)||g.default.TaskFailed);if(this.logger.info(`Start failed: ${bt} due to error ${it}.`),this.sessionStateController.state()===k.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(x.default.Fail,()=>m(this,void 0,void 0,function*(){yield this.actionDisconnect(bt,!0,it),this.handleMeetingSessionStatus(bt,it)||this.notifyStop(bt,it)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new Sn.default(this.logger,new Le.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=D.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(ge=>{Gt.Maybe.of(ge.audioVideoDidStart).map(Re=>Re.bind(ge)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var ge;return this.sessionStateController.state()===k.default.NotConnected?((ge=this.meetingSessionContext.signalingClient)===null||ge===void 0||ge.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Re,Ve)=>{this.sessionStateController.perform(x.default.Disconnect,()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new p.default(g.default.Left),!1,null).then(Re).catch(Ve)})})}stop(){this.stopReturningPromise()}actionDisconnect(ge,Re,Ve){return m(this,void 0,void 0,function*(){try{yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new Sn.default(this.logger,new Je.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const kt=[new Sn.default(this.logger,new te.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoClean"),kt).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(x.default.FinishDisconnecting,()=>{Re||this.notifyStop(ge,Ve)})})}update(){let Re=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{needsRenegotiation:!0}).needsRenegotiation;if(Re||(Re=this.meetingSessionContext.peer===void 0),Re||(Re=!this.updateRemoteVideosFromPolicy()),Re||(Re=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Re)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Ve=this.sessionStateController.perform(x.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Ve===B.default.Transitioned||Ve===B.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!N.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===N.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const ge=this.detectChangesInVideosToReceive();if(ge===void 0)return!1;const Re=ge.added,Ve=ge.simulcastStreamUpdates,kt=ge.removed,tt=this.meetingSessionContext,it=[];for(const[bt,an]of Ve.entries()){const un=new A.default;if(un.streamId=an,un.attendeeId=tt.videoStreamIndex.attendeeIdForStreamId(an),un.mid=tt.transceiverController.getMidForStreamId(bt),un.mid===void 0)return this.logger.info(`No MID found for stream ID ${bt}, cannot update stream without renegotiation`),!1;if(it.push(un),tt.transceiverController.setStreamIdForMid(un.mid,an),tt.videoStreamIndex.overrideStreamIdMappings(bt,an),tt.videoTileController.haveVideoTileForAttendeeId(un.attendeeId)){const en=tt.videoTileController.getVideoTileForAttendeeId(un.attendeeId);if(!en.setStreamId)return!1;en.setStreamId(an)}}return it.length!==0&&tt.signalingClient.remoteVideoUpdate(it,[]),Re.length!==0||kt.length!==0?!1:(tt.videoStreamIndex.subscribeFrameSent(),!0)}detectChangesInVideosToReceive(){const ge=this.meetingSessionContext;if(ge.videosToReceive===null||!ge.transceiverController||!ge.transceiverController.getMidForStreamId||!ge.transceiverController.setStreamIdForMid||!ge.videosToReceive.forEach||!ge.signalingClient.remoteVideoUpdate||!ge.videoStreamIndex.overrideStreamIdMappings)return;let Re=[];const Ve=new Map;let kt=[];if(ge.lastVideosToReceive===null)Re=ge.videosToReceive.array();else{const tt=ge.videoStreamIndex;ge.videosToReceive.forEach(it=>{if(ge.lastVideosToReceive.contain(it))return;let bt=!1;ge.lastVideosToReceive.forEach(an=>{bt||tt.StreamIdsInSameGroup(an,it)&&(Ve.set(an,it),bt=!0)}),bt||Re.push(it)}),kt=ge.lastVideosToReceive.array().filter(it=>{const bt=ge.videosToReceive.contain(it),an=Ve.has(it);return!bt&&!an})}return this.logger.info(`Request to update remote videos with added: ${Re}, updated: ${[...Ve.entries()]}, removed: ${kt}`),{added:Re,removed:kt,simulcastStreamUpdates:Ve}}isNotAddingOrRemovingStreams(){const ge=this.detectChangesInVideosToReceive();if(ge===void 0)return!1;const Re=ge.added,Ve=ge.removed;return!(Re.length!==0||Ve.length!==0)}sendRemoteVideoUpdate(){const ge=this.meetingSessionContext;if(ge.videosToReceive===null)return!1;const Re=ge.videosToReceive.array().map(bt=>ge.videoStreamIndex.groupIdForStreamId(bt)),Ve=yt.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(ge,Re,ge.videoDownlinkBandwidthPolicy.getVideoPreferences()),kt=new Map,tt=[];for(const bt of Ve){let an=!1;if(!ge.lastVideoSubscriptionConfiguration.has(bt.groupId))an=!0;else{const un=ge.lastVideoSubscriptionConfiguration.get(bt.groupId);bt.equals(un)||(this.logger.debug(`${JSON.stringify(bt)} does not equal ${JSON.stringify(un)}, sending update`),an=!0)}kt.set(bt.groupId,bt),an&&tt.push(bt)}ge.lastVideoSubscriptionConfiguration=kt;const it=[];if(ge.lastVideosToReceive!==null){const bt=new Set(Re);for(const an of ge.lastVideosToReceive.array()){const un=ge.videoStreamIndex.groupIdForStreamId(an);if(!bt.has(un)){const en=ge.transceiverController.getMidForGroupId(un);if(en===void 0){ge.logger.warn(`Could not find MID for group ID to remove: ${un}`);continue}it.push(en)}}}return(tt.length!==0||it.length!==0)&&ge.signalingClient.remoteVideoUpdate(tt,it),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const ge=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(ge)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const ge=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!ge||!ge.headerExtensions?!1:ge.headerExtensions.some(Re=>Re.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(ge){const Re=r(()=>m(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),ge()}),"restartVideo"),Ve=this.sessionStateController.perform(x.default.Update,()=>{Re()});return Ve===B.default.Transitioned||Ve===B.default.DeferredTransition}replaceLocalVideo(ge){return m(this,void 0,void 0,function*(){if(!ge||ge.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Re=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Re){const Ve=Re.state(),kt=ge.getVideoTracks()[0].getSettings();Re.bindVideoStream(Ve.boundAttendeeId,!0,ge,kt.width,kt.height,Ve.streamId,Ve.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(ge.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=ge,this.logger.info("Local video input is updated")})}replaceLocalAudio(ge){return m(this,void 0,void 0,function*(){if(!ge||ge.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(ge.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=ge,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(ge){return m(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new rt.default(this.meetingSessionContext),new Sn.default(this.logger,new Ft.default(this.logger,"UpdateSession",[new X.default(this.meetingSessionContext),new we.default(this.meetingSessionContext),new Rn.default(this.meetingSessionContext),new pe.default(this.meetingSessionContext),new ti.default(this.meetingSessionContext),new Pn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),ge&&this.sessionStateController.perform(x.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Re){this.sessionStateController.perform(x.default.FinishUpdating,()=>{const Ve=new p.default(this.getMeetingStatusCode(Re)||g.default.TaskFailed);Ve.statusCode()!==g.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Ve,Re)})}})}notifyStop(ge,Re){var Ve;if(this.forEachObserver(kt=>{Gt.Maybe.of(kt.audioVideoDidStop).map(tt=>tt.bind(kt)(ge))}),this.promotedToPrimaryMeeting&&Re&&this.forEachObserver(kt=>{this.promotedToPrimaryMeeting=!1,Gt.Maybe.of(kt.audioVideoWasDemotedFromPrimaryMeeting).map(tt=>tt.bind(kt)(new p.default(g.default.SignalingInternalServerError)))}),this.eventController){const{signalingOpenDurationMs:kt,poorConnectionCount:tt,startTimeMs:it,iceGatheringDurationMs:bt,attendeePresenceDurationMs:an,meetingStartDurationMs:un}=this.meetingSessionContext,en={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:it===null?0:Math.round(Date.now()-it),meetingStatus:g.default[ge.statusCode()],signalingOpenDurationMs:kt,iceGatheringDurationMs:bt,attendeePresenceDurationMs:an,poorConnectionCount:tt,meetingStartDurationMs:un,retryCount:this.totalRetryCount},Mn=Re&&Re.message||((Ve=ge.toString)===null||Ve===void 0?void 0:Ve.call(ge))||"";en.meetingDurationMs===0?(en.meetingErrorMessage=Mn,delete en.meetingDurationMs,delete en.attendeePresenceDurationMs,delete en.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",en)):ge.isFailure()||ge.isAudioConnectionFailure()?(en.meetingErrorMessage=Mn,this.eventController.publishEvent("meetingFailed",en)):this.eventController.publishEvent("meetingEnded",en)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const ge=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(ge)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(ge,Re){const Ve=this._reconnectController.retryWithBackoff(()=>m(this,void 0,void 0,function*(){this.sessionStateController.state()===k.default.NotConnected?this.sessionStateController.perform(x.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(x.default.Reconnect,()=>{this.actionReconnect(ge)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Ve||this.sessionStateController.perform(x.default.Fail,()=>{this.actionDisconnect(ge,!1,Re)}),Ve}actionReconnect(ge){return m(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Re=>{Gt.Maybe.of(Re.audioVideoDidStartConnecting).map(Ve=>Ve.bind(Re)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset();try{yield new Ft.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new Sn.default(this.logger,new Ft.default(this.logger,"Media",[new j.default(this.meetingSessionContext),new Ft.default(this.logger,"Signaling",[new Le.default(this.meetingSessionContext),new Ae.default(this.meetingSessionContext),new ct.default(this.meetingSessionContext)]),new me.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new rt.default(this.meetingSessionContext),new Sn.default(this.logger,new Ft.default(this.logger,"UpdateSession",[new X.default(this.meetingSessionContext),new we.default(this.meetingSessionContext),new Rn.default(this.meetingSessionContext),new pe.default(this.meetingSessionContext),new ti.default(this.meetingSessionContext),new Pn.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(x.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Re,poorConnectionCount:Ve,startTimeMs:kt,iceGatheringDurationMs:tt,attendeePresenceDurationMs:it,meetingStartDurationMs:bt}=this.meetingSessionContext,an={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-kt),meetingStatus:g.default[ge.statusCode()],signalingOpenDurationMs:Re,iceGatheringDurationMs:tt,attendeePresenceDurationMs:it,poorConnectionCount:Ve,meetingStartDurationMs:bt,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",an)}this.actionFinishConnecting()})}catch(Re){this.sessionStateController.perform(x.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Ve=new p.default(this.getMeetingStatusCode(Re)||g.default.TaskFailed);this.handleMeetingSessionStatus(Ve,Re)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(ge){return`${ge}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(ge){const Re=/the meeting status code: (\d+)/.exec(ge&&ge.message);return Re&&Re.length>1?Number.parseInt(Re[1],10):null}enforceBandwidthLimitationForSender(ge){return m(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(ge)})}handleMeetingSessionStatus(ge,Re){if(this.logger.info(`handling status: ${g.default[ge.statusCode()]}`),ge.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(ge),ge.statusCode()===g.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(ge.statusCode()===g.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Ve=>{Gt.Maybe.of(Ve.videoSendDidBecomeUnavailable).map(kt=>kt.bind(Ve)())}),!1;if(ge.statusCode()===g.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Ve=>{Gt.Maybe.of(Ve.audioVideoWasDemotedFromPrimaryMeeting).map(kt=>kt.bind(Ve)(ge))}),!1;if(ge.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(ge.isFailure()||ge.isTerminal())&&this.meetingSessionContext.reconnectController){const Ve=this.reconnect(ge,Re);return Ve?this.logger.warn(`will retry due to status code ${g.default[ge.statusCode()]}${Re?` and error: ${Re.message}`:""}`):this.logger.error(`failed with status code ${g.default[ge.statusCode()]}${Re?` and error: ${Re.message}`:""}`),Ve}return!1}setVideoMaxBandwidthKbps(ge){if(ge<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${ge} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(ge)),this.maxUplinkBandwidthKbps=ge}handleHasBandwidthPriority(ge){return m(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(ge),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Re=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(ge);const Ve=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Re!==Ve&&(this.logger.info(`video send bandwidth priority ${ge} max has changed from ${Re} kbps to ${Ve} kbps`),yield this.enforceBandwidthLimitationForSender(Ve))}})}pauseReceivingStream(ge){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([ge])}resumeReceivingStream(ge){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([ge])}setVideoCodecSendPreferences(ge){this.videoSendCodecPreferences=ge,this.meetingSessionContext.videoSendCodecPreferences=ge,this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:ge}=this.meetingSessionContext;if(!ge)return this.logger.info("meeting has not started"),[];const Re=this.configuration.credentials.attendeeId;return ge.allVideoSendingSourcesExcludingSelf(Re)}encodingSimulcastLayersDidChange(ge){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Re=>{Gt.Maybe.of(Re.encodingSimulcastLayersDidChange).map(Ve=>Ve.bind(Re)(ge))})}promoteToPrimaryMeeting(ge){return this.actionPromoteToPrimaryMeeting(ge)}actionPromoteToPrimaryMeeting(ge){return m(this,void 0,void 0,function*(){let Re=new p.default(g.default.SignalingRequestFailed);return yield new Ft.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new Sn.default(this.logger,new lt.default(this.meetingSessionContext,ge,Ve=>{Re=Ve}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Re.statusCode()===g.default.OK,Re})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(ge=>{Gt.Maybe.of(ge.audioVideoWasDemotedFromPrimaryMeeting).map(Re=>Re.bind(ge)(new p.default(g.default.OK)))})}videoInputDidChange(ge){return m(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(ge?yield this.replaceLocalVideo(ge):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(ge){return m(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!ge)try{ge=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(ge)})}constructor(ge,Re,Ve,kt,tt,it){this._audioProfile=new e.default,this.connectionHealthData=new n.default,this.observerQueue=new Set,this.meetingSessionContext=new Ai.default,this.enableSimulcast=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.destroyed=!1,this._logger=Re,this.sessionStateController=new P.default(this._logger),this._configuration=ge,this._webSocketAdapter=Ve,this._realtimeController=new E.default(kt),this._realtimeController.realtimeSetLocalAttendeeId(ge.credentials.attendeeId,ge.credentials.externalUserId),this._mediaStreamBroker=kt,this._reconnectController=tt,this._videoTileController=new ci.default(new Jn.default,this,this._logger),this._audioMixController=new i.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=it}},"DefaultAudioVideoController");c.default=Hi,Hi.MIN_VOLUME_DECIBELS=-42,Hi.MAX_VOLUME_DECIBELS=-14,Hi.PING_PONG_INTERVAL_MS=1e4},aApz:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.Unread="unread",f.LastMessageTimestamp="last-message-timestamp"})(v||(v={})),c.default=v},aFj7:function(U,c,d){"use strict";var v=d("L5pH"),f=d("6jRP"),h=d("ig3W"),m=d("bKEA");U.exports=d("OTpG")(Array,"Array",function(a,o){this._t=m(a),this._i=0,this._k=o},function(){var a=this._t,o=this._k,i=this._i++;return!a||i>=a.length?(this._t=void 0,f(1)):o=="keys"?f(0,i):o=="values"?f(0,a[i]):f(0,[i,a[i]])},"values"),h.Arguments=h.Array,v("keys"),v("values"),v("entries")},aMTh:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR"));let m=r(class pv{getInnerDevice(){return this.device}mute(i){return v(this,void 0,void 0,function*(){this.node&&(i?yield this.node.disable():yield this.node.enable())})}stop(){return v(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(i){return v(this,void 0,void 0,function*(){return this.device===i&&!a(i)?this:new pv(i,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return v(this,void 0,void 0,function*(){if(this.failed)return this.device;const i=this.nodeOptions.es,e={echoCancellation:!i,googEchoCancellation:!i,googEchoCancellation2:!i,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let t;return this.nodeOptions&&this.nodeOptions.agc!==void 0?t=this.nodeOptions.agc.useBuiltInAGC:t=!0,e.autoGainControl=t,e.googAutoGainControl=t,e.googAutoGainControl2=t,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?e.deviceId=this.device:e.deviceId={exact:this.device},e):this.device.id?this.device:Object.assign(Object.assign({},this.device),e):e})}createAudioNode(i){var e,t;return v(this,void 0,void 0,function*(){if(((e=this.node)===null||e===void 0?void 0:e.context)===i)return{start:this.node,end:this.node};const s=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((t=this.node)===null||t===void 0||t.disconnect(),this.node=yield this.voiceFocus.createNode(i,s),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(i,{channelCount:1,channelCountMode:"explicit"});for(const S of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(S);this.createMixSourceNode()}const p=this.node,g=this.node;return{start:p,end:g}}catch(p){throw this.failed=!0,this.delegate.onFallback(this,p),p}})}observeMeetingAudio(i){return v(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.addAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.addFarEndStream(e)})}unObserveMeetingAudio(i){return v(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;i.removeAudioMixObserver(this);const e=yield i.getCurrentMeetingAudioStream();e&&this.removeFarendStream(e)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}addFarEndStream(i){return v(this,void 0,void 0,function*(){!this.nodeOptions.es||!i||this.farEndStreamToAudioSourceNode.has(i)||(this.node?this.assignFarEndStreamToAudioSourceNode(i):this.farEndStreamToAudioSourceNode.set(i,null))})}removeFarendStream(i){var e;return v(this,void 0,void 0,function*(){(e=this.farEndStreamToAudioSourceNode.get(i))===null||e===void 0||e.disconnect(),this.farEndStreamToAudioSourceNode.delete(i)})}meetingAudioStreamBecameActive(i){return v(this,void 0,void 0,function*(){this.addFarEndStream(i)})}meetingAudioStreamBecameInactive(i){return v(this,void 0,void 0,function*(){this.removeFarendStream(i)})}assignFarEndStreamToAudioSourceNode(i){const e=this.node.context.createMediaStreamSource(i);e.channelCount=1,e.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(i,e),e.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}constructor(i,e,t,n,s=!1,p=void 0,g=new h.default,S=new Map,u=void 0,l=void 0){this.device=i,this.voiceFocus=e,this.delegate=t,this.nodeOptions=n,this.failed=s,this.node=p,this.browserBehavior=g,this.farEndStreamToAudioSourceNode=S,this.mixDestNode=u,this.mixSourceNode=l}},"VoiceFocusTransformDevice");function a(o){return o==="default"?!0:!o||typeof o!="object"?!1:"deviceId"in o&&o.deviceId==="default"||"id"in o&&o.id==="default"}r(a,"isDefaultDevice"),c.default=m},aNtF:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class bs{static initializeWorker(){bs.debugLog("Initializing RedundantAudioEncoder");const h=new bs;self.RTCRtpScriptTransformer&&(self.onrtctransform=m=>{m.transformer.options.type==="SenderTransform"?h.setupSenderTransform(m.transformer.readable,m.transformer.writable):m.transformer.options.type==="ReceiverTransform"?h.setupReceiverTransform(m.transformer.readable,m.transformer.writable):m.transformer.options.type==="PassthroughTransform"&&h.setupPassthroughTransform(m.transformer.readable,m.transformer.writable)}),self.onmessage=m=>{m.data.msgType==="StartRedWorker"?(h.setupSenderTransform(m.data.send.readable,m.data.send.writable),h.setupReceiverTransform(m.data.receive.readable,m.data.receive.writable)):m.data.msgType==="RedPayloadType"?h.setRedPayloadType(m.data.payloadType):m.data.msgType==="OpusPayloadType"?h.setOpusPayloadType(m.data.payloadType):m.data.msgType==="UpdateNumRedundantEncodings"?h.setNumRedundantEncodings(m.data.numRedundantEncodings):m.data.msgType==="Enable"?h.setRedundancyEnabled(!0):m.data.msgType==="Disable"&&h.setRedundancyEnabled(!1)}}static debugLog(h){bs.shouldLogDebug&&self.postMessage({type:"REDWorkerDebugLog",log:`[AudioRed] ${h}`})}static getNumRedundantEncodingsForPacketLoss(h){let m=0,a=!1;return h<=8?m=0:h<=18?m=1:h<=75?m=2:(m=0,a=!0),[m,a]}setupPassthroughTransform(h,m){bs.debugLog("Setting up passthrough transform"),h.pipeTo(m)}setupSenderTransform(h,m){bs.debugLog("Setting up sender RED transform");const a=new TransformStream({transform:this.senderTransform.bind(this)});h.pipeThrough(a).pipeTo(m)}setupReceiverTransform(h,m){bs.debugLog("Setting up receiver RED transform");const a=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});h.pipeThrough(a).pipeTo(m)}setRedPayloadType(h){this.redPayloadType=h,bs.debugLog(`red payload type set to ${this.redPayloadType}`)}setOpusPayloadType(h){this.opusPayloadType=h,bs.debugLog(`opus payload type set to ${this.opusPayloadType}`)}setNumRedundantEncodings(h){this.numRedundantEncodings=h,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),bs.debugLog(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`)}setRedundancyEnabled(h){this.redundancyEnabled=h,bs.debugLog(`redundancy ${this.redundancyEnabled?"enabled":"disabled"}`)}senderTransform(h,m){if(h.getMetadata().payloadType!==this.redPayloadType){m.enqueue(h);return}const o=this.getPrimaryPayload(h.timestamp,h.data);if(!o){m.enqueue(h);return}const i=this.encode(h.timestamp,o);if(!i){m.enqueue(h);return}h.data=i,m.enqueue(h)}getPrimaryPayload(h,m){const a=this.splitEncodings(h,m);return!a||a.length<1?null:a[a.length-1].payload}splitEncodings(h,m){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;const i=new DataView(m);let e=i.byteLength,t=0,n=0,s=0,p=0,g=!1;const S=new Array,u=new Array,l=new Array;for(;e>0;)if(g=(i.getUint8(p)&128)===0,g){if((i.getUint8(p)&127)!==this.opusPayloadType||(t+=this.redLastHeaderSizeBytes,n+=this.redLastHeaderSizeBytes,t>=i.byteLength))return null;s=i.byteLength-t;break}else{if(e<this.redHeaderSizeBytes)return null;const B=((i.getUint8(p+2)&3)<<8)+i.getUint8(p+3);u.push(B);const R=i.getUint16(p+1)>>2,N=h-R;l.push(N),t+=B+this.redHeaderSizeBytes,n+=this.redHeaderSizeBytes,p+=this.redHeaderSizeBytes,e-=this.redHeaderSizeBytes}if(!g)return null;let E=n;for(let B=0;B<l.length;B++){const R=new ArrayBuffer(u[B]);new Uint8Array(R).set(new Uint8Array(i.buffer,E,u[B]),0);const w={timestamp:l[B],payload:R,isRedundant:!0};a&&(w.hasFec=this.opusPacketHasFec(new DataView(R),R.byteLength)),S.push(w),E+=u[B]}const O=i.byteLength-s,P=new ArrayBuffer(s);new Uint8Array(P).set(new Uint8Array(i.buffer,O,s),0);const k={timestamp:h,payload:P,isRedundant:!1,seq:o};return a&&(k.hasFec=this.opusPacketHasFec(new DataView(P),P.byteLength)),S.push(k),S}encode(h,m){const a=m.byteLength;if(a===0||a>=this.maxRedPacketSizeBytes||a>=this.maxAudioRtpPacketSizeBytes)return null;const o=this.numRedundantEncodings;let i=this.redLastHeaderSizeBytes,e=a,t=this.maxAudioRtpPacketSizeBytes-a-i;const n=new Array,s=new Array;if(this.redundancyEnabled){let l=this.uint32WrapAround(h-this.redPacketizationTime*this.redPacketDistance);for(let E=0;E<o&&!(this.uint32WrapAround(h-l)>=this.maxRedTimestampOffset);E++){let O=l,P=this.encodingHistory.find(x=>x.timestamp===O);if(P||(O=this.uint32WrapAround(l-this.redPacketizationTime),P=this.encodingHistory.find(x=>x.timestamp===O)),P){const x=P.payload.byteLength;if(t<this.redHeaderSizeBytes+x)break;t-=this.redHeaderSizeBytes+x,i+=this.redHeaderSizeBytes,e+=x,n.unshift(P.timestamp),s.unshift(P.payload)}l-=this.redPacketizationTime*this.redPacketDistance,l=this.uint32WrapAround(l)}}const p=new ArrayBuffer(i+e),g=new DataView(p);let S=0;for(let l=0;l<n.length;l++){const E=h-n[l];g.setUint8(S,this.opusPayloadType|128),g.setUint16(S+1,E<<2|s[l].byteLength>>8),g.setUint8(S+3,s[l].byteLength&255),S+=this.redHeaderSizeBytes}g.setUint8(S,this.opusPayloadType),S+=this.redLastHeaderSizeBytes;const u=new Uint8Array(p);for(let l=0;l<s.length;l++)u.set(new Uint8Array(s[l]),S),S+=s[l].byteLength;return u.set(new Uint8Array(m),S),S+=m.byteLength,S!==i+e?null:(this.updateEncodingHistory(h,m),p)}updateEncodingHistory(h,m){for(const o of this.encodingHistory){const i=this.redPacketizationTime*this.redMaxRecoveryDistance;if(h-o.timestamp>=i)this.encodingHistory.shift();else break}const a=new DataView(m);(this.opusPacketIsCeltOnly(a)||this.opusPacketHasVoiceActivity(a,a.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:h,payload:m}))}initializePacketLogs(){const h=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(h),index:0,windowSize:h},this.redRecoveryLog={window:new Array(h),index:0,windowSize:h},this.fecRecoveryLog={window:new Array(h),index:0,windowSize:h},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(h,m){const a=h.getMetadata();if(a.payloadType!==this.redPayloadType){m.enqueue(h);return}const o=this.splitEncodings(h.timestamp,h.data,!0,a.sequenceNumber);if(!o){m.enqueue(h);return}for(let i=o.length-1;i>=0;i--)this.updateLossStats(o[i])&&(this.updateRedStats(o[i]),this.updateFecStats(o[i]));this.maybeReportLossStats(o[o.length-1].timestamp,a.synchronizationSource),m.enqueue(h)}updateLossStats(h){if(h.isRedundant)return!0;const m=h.timestamp,a=h.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=a,this.addTimestamp(this.primaryPacketLog,m),!0;const o=this.int16(a-this.newestSequenceNumber);return o<-this.maxOutOfOrderPacketDistance?!1:(o<0?this.hasTimestamp(this.primaryPacketLog,m)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,m),this.removeFromRecoveryWindows(m)):o>1&&(this.totalAudioPacketsLost+=o-1),o>0&&(this.totalAudioPacketsExpected+=o,this.newestSequenceNumber=h.seq,this.addTimestamp(this.primaryPacketLog,m)),!0)}updateRedStats(h){if(!h.isRedundant||this.totalAudioPacketsLost===0)return;const m=h.timestamp;this.hasTimestamp(this.primaryPacketLog,m)||(this.hasTimestamp(this.redRecoveryLog,m)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,m)),this.removeTimestamp(this.fecRecoveryLog,m)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(h){if(!h.hasFec||this.totalAudioPacketsLost===0)return;const m=h.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,m)||this.hasTimestamp(this.redRecoveryLog,m)||this.hasTimestamp(this.fecRecoveryLog,m)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,m))}maybeReportLossStats(h,m){h-this.lastLossReportTimestamp<this.lossReportInterval||(bs.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:m,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=h)}addTimestamp(h,m){h.window[h.index]=m,h.index=(h.index+1)%h.windowSize}hasTimestamp(h,m){return!!h.window.find(o=>o===m)}removeTimestamp(h,m){const a=h.window.indexOf(m);return a>=0?(h.window[a]=void 0,!0):!1}removeFromRecoveryWindows(h){let m=this.removeTimestamp(this.redRecoveryLog,h);m&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,m=this.removeTimestamp(this.fecRecoveryLog,h),m&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(h){let a=h;return h>=4294967296?a=h-4294967296:h<0&&(a=4294967296+h),a}int16(h){return h<<16>>16}opusPacketIsCeltOnly(h){return!!(h.getUint8(0)&128)}opusPacketGetSamplesPerFrame(h,m){m=Math.round(m),m=Math.min(Math.max(m,-Math.pow(2,32)),Math.pow(2,32)-1);let a,o;return this.opusPacketIsCeltOnly(h)?(o=h.getUint8(0)>>3&3,a=(m<<o)/400):(h.getUint8(0)&96)===96?a=h.getUint8(0)&8?m/50:m/100:(o=h.getUint8(0)>>3&3,o===3?a=m*60/1e3:a=(m<<o)/100),a}opusNumSilkFrames(h){let m=this.opusPacketGetSamplesPerFrame(h,48e3)/48;switch(m<10&&(m=10),m){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(h){return h.getUint8(0)&4?2:1}opusParseSize(h,m,a,o){return a<1?(o[0]=-1,-1):h.getUint8(m)<252?(o[0]=h.getUint8(m),1):a<2?(o[0]=-1,-1):(o[0]=4*h.getUint8(m+1)+h.getUint8(m),2)}opusPacketParseImpl(h,m,a,o,i,e,t,n){if(!e||m<0)return this.OPUS_BAD_ARG;if(m===0)return this.OPUS_INVALID_PACKET;let s,p,g=0,S=!1;const u=h.getUint8(0);o&&(o[0]=u);let l=m-1,E=1,O=l;switch(u&3){case 0:s=1;break;case 1:if(s=2,S=!0,!a){if(l&1)return this.OPUS_INVALID_PACKET;O=l/2,e[0][0]=O}break;case 2:if(s=2,p=this.opusParseSize(h,E,l,e[0]),l-=p,e[0][0]<0||e[0][0]>l)return this.OPUS_INVALID_PACKET;E+=p,O=l-e[0][0];break;default:if(l<1)return this.OPUS_INVALID_PACKET;const P=h.getUint8(E++);if(--l,s=P&63,s<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(h,48e3)*s>5760)return this.OPUS_INVALID_PACKET;if(P&64){let k,B;do{if(l<=0)return this.OPUS_INVALID_PACKET;k=h.getUint8(E++),--l,B=k===255?254:k,l-=B,g+=B}while(k===255)}if(l<0)return this.OPUS_INVALID_PACKET;if(S=!(P&128),S){if(!a){if(O=Math.trunc(l/s),O*s!==l)return this.OPUS_INVALID_PACKET;for(let k=0;k<s-1;++k)e[k][0]=O}}else{O=l;for(let k=0;k<s-1;++k){if(p=this.opusParseSize(h,E,l,e[k]),l-=p,e[k][0]<0||e[k][0]>l)return this.OPUS_INVALID_PACKET;E+=p,O-=p+e[k][0]}if(O<0)return this.OPUS_INVALID_PACKET}}if(a){if(p=this.opusParseSize(h,E,l,e[s-1]),l-=p,e[s-1][0]<0||e[s-1][0]>l)return this.OPUS_INVALID_PACKET;if(E+=p,S){if(e[s-1][0]*s>l)return this.OPUS_INVALID_PACKET;for(let P=0;P<s-1;++P)e[P][0]=e[s-1][0]}else if(!(p+e[s-1][0]<=O))return this.OPUS_INVALID_PACKET}else{if(O>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;e[s-1][0]=O}t&&(t[0]=E);for(let P=0;P<s;++P)i&&(i[P][0]=E),E+=e[P][0];return n&&(n[0]=E+g),s}opusPacketParse(h,m,a,o,i,e){return this.opusPacketParseImpl(h,m,!1,a,o,i,e,null)}opusPacketHasVoiceActivity(h,m){if(!h||m<=0)return 0;if(this.opusPacketIsCeltOnly(h))return-1;const a=this.opusNumSilkFrames(h);if(a===0)return-1;const o=new Array(this.OPUS_MAX_OPUS_FRAMES),i=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let t=0;t<this.OPUS_MAX_OPUS_FRAMES;++t)o[t]=[void 0],i[t]=[void 0];const e=this.opusPacketParse(h,m,null,o,i,null);if(e<0)return-1;for(let t=0;t<e;++t){if(i[t][0]<1)continue;if(h.getUint8(o[t][0])>>8-a||this.opusPacketGetNumChannels(h)===2&&h.getUint8(o[t][0])<<a+1>>8-a)return 1}return 0}opusPacketHasFec(h,m){if(!h||m<=0||this.opusPacketIsCeltOnly(h))return!1;const a=new Array(this.OPUS_MAX_OPUS_FRAMES),o=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let n=0;n<this.OPUS_MAX_OPUS_FRAMES;++n)a[n]=[void 0],o[n]=[void 0];if(this.opusPacketParse(h,m,null,a,o,null)<0||o[0][0]<=1)return!1;const e=this.opusNumSilkFrames(h);if(e===0)return!1;const t=this.opusPacketGetNumChannels(h);if(t!==1&&t!==2)return!1;for(let n=0;n<t;n++)if(h.getUint8(a[0][0])&128>>(n+1)*(e+1)-1)return!0;return!1}constructor(){this.maxRedPacketSizeBytes=1<<10,this.maxAudioRtpPacketSizeBytes=1e3,this.maxRedTimestampOffset=1<<14,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}},"RedundantAudioEncoder");c.default=v,v.shouldLogDebug=!1,v.shouldReportStats=!1},aSsB:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkTCPConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(v=c.CheckNetworkTCPConnectivityFeedback||(c.CheckNetworkTCPConnectivityFeedback={})),c.default=v},aT0f:function(U,c,d){"use strict";var v=d("7whZ"),f=d("nA4W"),h=d("C61u"),m=d("USwo"),a=d("ugGH"),o=d("40oJ").KEY,i=d("S4vA"),e=d("s2er"),t=d("kvAF"),n=d("ixoo"),s=d("zBWt"),p=d("/NTb"),g=d("4Zg2"),S=d("CuL1"),u=d("Trx6"),l=d("d+lc"),E=d("ekG2"),O=d("CYMq"),P=d("bKEA"),x=d("M5dz"),k=d("ENu8"),B=d("b08l"),R=d("GDZC"),N=d("TSC6"),w=d("/tXR"),A=d("GhSp"),D=d("mHY4"),K=N.f,X=A.f,j=R.f,te=v.Symbol,me=v.JSON,we=me&&me.stringify,pe="prototype",Ae=s("_hidden"),Je=s("toPrimitive"),Fe={}.propertyIsEnumerable,Ue=e("symbol-registry"),Le=e("symbols"),at=e("op-symbols"),lt=Object[pe],ot=typeof te=="function"&&!!w.f,pt=v.QObject,ct=!pt||!pt[pe]||!pt[pe].findChild,rt=h&&i(function(){return B(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a!=7})?function(Dt,je,yt){var dt=K(lt,je);dt&&delete lt[je],X(Dt,je,yt),dt&&Dt!==lt&&X(lt,je,dt)}:X,Tn=r(function(Dt){var je=Le[Dt]=B(te[pe]);return je._k=Dt,je},"wrap"),Qt=ot&&typeof te.iterator=="symbol"?function(Dt){return typeof Dt=="symbol"}:function(Dt){return Dt instanceof te},Ft=r(function(je,yt,dt){return je===lt&&Ft(at,yt,dt),l(je),yt=x(yt,!0),l(dt),f(Le,yt)?(dt.enumerable?(f(je,Ae)&&je[Ae][yt]&&(je[Ae][yt]=!1),dt=B(dt,{enumerable:k(0,!1)})):(f(je,Ae)||X(je,Ae,k(1,{})),je[Ae][yt]=!0),rt(je,yt,dt)):X(je,yt,dt)},"defineProperty"),Rn=r(function(je,yt){l(je);for(var dt=S(yt=P(yt)),cn=0,li=dt.length,ci;li>cn;)Ft(je,ci=dt[cn++],yt[ci]);return je},"defineProperties"),Pn=r(function(je,yt){return yt===void 0?B(je):Rn(B(je),yt)},"create"),ti=r(function(je){var yt=Fe.call(this,je=x(je,!0));return this===lt&&f(Le,je)&&!f(at,je)?!1:yt||!f(this,je)||!f(Le,je)||f(this,Ae)&&this[Ae][je]?yt:!0},"propertyIsEnumerable"),Sn=r(function(je,yt){if(je=P(je),yt=x(yt,!0),!(je===lt&&f(Le,yt)&&!f(at,yt))){var dt=K(je,yt);return dt&&f(Le,yt)&&!(f(je,Ae)&&je[Ae][yt])&&(dt.enumerable=!0),dt}},"getOwnPropertyDescriptor"),oi=r(function(je){for(var yt=j(P(je)),dt=[],cn=0,li;yt.length>cn;)!f(Le,li=yt[cn++])&&li!=Ae&&li!=o&&dt.push(li);return dt},"getOwnPropertyNames"),vi=r(function(je){for(var yt=je===lt,dt=j(yt?at:P(je)),cn=[],li=0,ci;dt.length>li;)f(Le,ci=dt[li++])&&(!yt||f(lt,ci))&&cn.push(Le[ci]);return cn},"getOwnPropertySymbols");ot||(te=r(function(){if(this instanceof te)throw TypeError("Symbol is not a constructor!");var je=n(arguments.length>0?arguments[0]:void 0),yt=r(function(dt){this===lt&&yt.call(at,dt),f(this,Ae)&&f(this[Ae],je)&&(this[Ae][je]=!1),rt(this,je,k(1,dt))},"$set");return h&&ct&&rt(lt,je,{configurable:!0,set:yt}),Tn(je)},"Symbol"),a(te[pe],"toString",r(function(){return this._k},"toString")),N.f=Sn,A.f=Ft,d("ZDin").f=R.f=oi,d("GRew").f=ti,w.f=vi,h&&!d("5ETA")&&a(lt,"propertyIsEnumerable",ti,!0),p.f=function(Dt){return Tn(s(Dt))}),m(m.G+m.W+m.F*!ot,{Symbol:te});for(var Hn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Di=0;Hn.length>Di;)s(Hn[Di++]);for(var Bi=D(s.store),Gt=0;Bi.length>Gt;)g(Bi[Gt++]);m(m.S+m.F*!ot,"Symbol",{for:function(Dt){return f(Ue,Dt+="")?Ue[Dt]:Ue[Dt]=te(Dt)},keyFor:r(function(je){if(!Qt(je))throw TypeError(je+" is not a symbol!");for(var yt in Ue)if(Ue[yt]===je)return yt},"keyFor"),useSetter:function(){ct=!0},useSimple:function(){ct=!1}}),m(m.S+m.F*!ot,"Object",{create:Pn,defineProperty:Ft,defineProperties:Rn,getOwnPropertyDescriptor:Sn,getOwnPropertyNames:oi,getOwnPropertySymbols:vi});var Dn=i(function(){w.f(1)});m(m.S+m.F*Dn,"Object",{getOwnPropertySymbols:r(function(je){return w.f(O(je))},"getOwnPropertySymbols")}),me&&m(m.S+m.F*(!ot||i(function(){var Dt=te();return we([Dt])!="[null]"||we({a:Dt})!="{}"||we(Object(Dt))!="{}"})),"JSON",{stringify:r(function(je){for(var yt=[je],dt=1,cn,li;arguments.length>dt;)yt.push(arguments[dt++]);if(li=cn=yt[1],!(!E(cn)&&je===void 0||Qt(je)))return u(cn)||(cn=r(function(ci,Jn){if(typeof li=="function"&&(Jn=li.call(this,ci,Jn)),!Qt(Jn))return Jn},"replacer")),yt[1]=cn,we.apply(me,yt)},"stringify")}),te[pe][Je]||d("BRsN")(te[pe],Je,te[pe].valueOf),t(te,"Symbol"),t(Math,"Math",!0),t(v.JSON,"JSON",!0)},aTUL:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("mYvd");let f=r(class zd{compress(m,a){if(a.length>0){const e=Math.min(a.length,zd.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const o={memLevel:zd.Z_MEM_LEVEL,dictionary:a};return v.deflateRaw(m,o)}decompress(m,a){if(a.length>0){const e=Math.min(a.length,zd.MAX_DICTIONARY_SIZE);a=a.slice(0,e)}const o={to:"string",dictionary:a,chunkSize:4096};let i="";try{i=v.inflateRaw(m,o)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return i}constructor(m){this.logger=m}},"ZLIBTextCompressor");c.default=f,f.Z_MEM_LEVEL=9,f.MAX_DICTIONARY_SIZE=31744},aVV0:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("V3UW")),m=f(d("Sl5A"));let a=r(class{once(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return new h.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(i){this.parentTask=i}getStatus(){return this.status}logAndThrow(i){throw this.logger.info(i),new Error(i)}baseRun(i){return v(this,void 0,void 0,function*(){try{const e=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case m.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case m.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case m.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=m.default.RUNNING,yield i.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-e)} ms`)}catch(e){throw e}finally{this.status!==m.default.CANCELED&&(this.status=m.default.FINISHED)}})}baseCancel(i){if(this.status===m.default.CANCELED||this.status===m.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=m.default.CANCELED,i.call(this)}constructor(i){this.logger=i,this.taskName="BaseTask",this.parentTask=null,this.status=m.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");c.default=a},aZJ3:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("mlaT"));let h=r(class{info(a){}warn(a){}error(a){}debug(a){f.default.DEBUG<this.level||typeof a!="string"&&a()}setLogLevel(a){this.level=a}getLogLevel(){return this.level}constructor(a=f.default.OFF){this.level=a}},"NoOpLogger");c.default=h},aZba:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("XCDq"),h=v(d("papz"));let m=r(class cr{statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:case h.default.VideoCallAtSourceCapacity:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.ICEGatheringTimeoutWorkaround:case h.default.ConnectionHealthReconnect:case h.default.RealtimeApiFailed:case h.default.TaskFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case h.default.Left:case h.default.AudioJoinedFromAnotherDevice:case h.default.AudioAuthenticationRejected:case h.default.AudioCallAtCapacity:case h.default.MeetingEnded:case h.default.AudioDisconnected:case h.default.TURNCredentialsForbidden:case h.default.SignalingBadRequest:case h.default.SignalingRequestFailed:case h.default.VideoCallAtSourceCapacity:case h.default.RealtimeApiFailed:case h.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case h.default.AudioAuthenticationRejected:case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.ICEGatheringTimeoutWorkaround:case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:case h.default.RealtimeApiFailed:case h.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case h.default.OK:return"Everything is OK so far.";case h.default.Left:return"The attendee left the meeting.";case h.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case h.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case h.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case h.default.MeetingEnded:return"The meeting ended.";case h.default.AudioInternalServerError:case h.default.AudioServiceUnavailable:case h.default.AudioDisconnected:return"The audio connection failed.";case h.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case h.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case h.default.SignalingBadRequest:case h.default.SignalingInternalServerError:case h.default.SignalingRequestFailed:return"The signaling connection failed.";case h.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case h.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case h.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case h.default.TaskFailed:return"The connection failed. See the error message for more details.";case h.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case h.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case h.default.NoAttendeePresent:return"The attendee was not present.";case h.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case h.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case h.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const o=this._statusCode;throw new Error(`Unhandled case: ${o}`)}}}static fromSignalFrame(o){return o.error&&o.error.status?this.fromSignalingStatus(o.error.status):o.type===f.SdkSignalFrame.Type.AUDIO_STATUS?o.audioStatus?this.fromAudioStatus(o.audioStatus.audioStatus):new cr(h.default.SignalingRequestFailed):o.type===f.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new cr(h.default.AudioVideoWasRemovedFromPrimaryMeeting):new cr(h.default.OK)}static fromAudioStatus(o){switch(o){case 200:return new cr(h.default.OK);case 301:return new cr(h.default.AudioJoinedFromAnotherDevice);case 302:return new cr(h.default.AudioDisconnectAudio);case 403:return new cr(h.default.AudioAuthenticationRejected);case 409:return new cr(h.default.AudioCallAtCapacity);case 410:return new cr(h.default.MeetingEnded);case 411:return new cr(h.default.AudioAttendeeRemoved);case 500:return new cr(h.default.AudioInternalServerError);case 503:return new cr(h.default.AudioServiceUnavailable);default:switch(Math.floor(o/100)){case 2:return new cr(h.default.OK);default:return new cr(h.default.AudioDisconnected)}}}static fromSignalingStatus(o){switch(o){case 206:return new cr(h.default.VideoCallSwitchToViewOnly);case 509:return new cr(h.default.VideoCallAtSourceCapacity);case 403:return new cr(h.default.AudioAuthenticationRejected);case 409:return new cr(h.default.AudioCallAtCapacity);default:switch(Math.floor(o/100)){case 2:return new cr(h.default.OK);case 4:return new cr(h.default.SignalingBadRequest);case 5:return new cr(h.default.SignalingInternalServerError);default:return new cr(h.default.SignalingRequestFailed)}}}constructor(o){this._statusCode=o}},"MeetingSessionStatus");c.default=m},ac3q:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("U9CR")),h=v(d("DJNY"));let m=r(class rd{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return h.default.semverString}static get sdkVersionSemVer(){var o,i,e,t;const n=h.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(o=n==null?void 0:n.groups)===null||o===void 0?void 0:o.major,minor:(i=n==null?void 0:n.groups)===null||i===void 0?void 0:i.minor,patch:(e=n==null?void 0:n.groups)===null||e===void 0?void 0:e.patch,preRelease:(t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.preRelease}}static get buildSHA(){return h.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const o=new f.default;return`${o.name()}-${o.majorVersion()}`}static urlWithVersion(o){const i=new URL(o);return i.searchParams.append(rd.X_AMZN_VERSION,rd.sdkVersion),i.searchParams.append(rd.X_AMZN_USER_AGENT,rd.sdkUserAgentLowResolution),i.toString()}},"Versioning");c.default=m,m.X_AMZN_VERSION="X-Amzn-Version",m.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},aqWb:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"VideoSource");c.default=v},aqg2:function(U,c,d){var v=d("TYje"),f=d("zBWt")("toStringTag"),h=v(function(){return arguments}())=="Arguments",m=r(function(a,o){try{return a[o]}catch{}},"tryGet");U.exports=function(a){var o,i,e;return a===void 0?"Undefined":a===null?"Null":typeof(i=m(o=Object(a),f))=="string"?i:h?v(o):(e=v(o))=="Object"&&typeof o.callee=="function"?"Arguments":e}},b08l:function(U,c,d){var v=d("d+lc"),f=d("heda"),h=d("l0Kd"),m=d("WpRT")("IE_PROTO"),a=r(function(){},"Empty"),o="prototype",i=r(function(){var e=d("BfU5")("iframe"),t=h.length,n="<",s=">",p;for(e.style.display="none",d("kUGv").appendChild(e),e.src="javascript:",p=e.contentWindow.document,p.open(),p.write(n+"script"+s+"document.F=Object"+n+"/script"+s),p.close(),i=p.F;t--;)delete i[o][h[t]];return i()},"createDict");U.exports=Object.create||r(function(t,n){var s;return t!==null?(a[o]=v(t),s=new a,a[o]=null,s[m]=t):s=i(),n===void 0?s:f(s,n)},"create")},b4Ml:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var v=d("pU0T"),f=d("p72H"),h=d("Yugg"),m=function(){function a(o){this.toHash=new Uint8Array(0),this.secret=o,this.reset()}return r(a,"Sha256"),a.prototype.update=function(o){if(!(0,v.isEmptyData)(o)){var i=(0,v.convertToBuffer)(o),e=new Uint8Array(this.toHash.byteLength+i.byteLength);e.set(this.toHash,0),e.set(i,this.toHash.byteLength),this.toHash=e}},a.prototype.digest=function(){var o=this;return this.key?this.key.then(function(i){return(0,h.locateWindow)().crypto.subtle.sign(f.SHA_256_HMAC_ALGO,i,o.toHash).then(function(e){return new Uint8Array(e)})}):(0,v.isEmptyData)(this.toHash)?Promise.resolve(f.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,h.locateWindow)().crypto.subtle.digest(f.SHA_256_HASH,o.toHash)}).then(function(i){return Promise.resolve(new Uint8Array(i))})},a.prototype.reset=function(){var o=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(i,e){(0,h.locateWindow)().crypto.subtle.importKey("raw",(0,v.convertToBuffer)(o.secret),f.SHA_256_HMAC_ALGO,!1,["sign"]).then(i,e)}),this.key.catch(function(){}))},a}();c.Sha256=m},bKEA:function(U,c,d){var v=d("n7vu"),f=d("yQFZ");U.exports=function(h){return v(f(h))}},"bQ+R":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{equals(h){return h!==void 0&&this.mid===h.mid&&this.attendeeId===h.attendeeId&&this.streamId===h.streamId&&this.groupId===h.groupId&&this.priority===h.priority&&this.targetBitrateKbps===h.targetBitrateKbps}},"SignalingClientVideoSubscriptionConfiguration");c.default=v},bS86:function(U,c,d){var v=d("ig3W"),f=d("zBWt")("iterator"),h=Array.prototype;U.exports=function(m){return m!==void 0&&(v.Array===m||h[f]===m)}},bTau:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("34ho"));let h=r(class Ll{id(){return this._id}base(){return this._id?this._id.split(Ll.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const a=this._id.split(Ll.MODALITY_SEPARATOR);return a.length===2?a[1]:""}hasModality(a){return a!==""&&this.modality()===a}withModality(a){const o=new Ll(this.base()+Ll.MODALITY_SEPARATOR+a);return a===""||this.base()===""||new Ll(o._id).modality()!==a?new Ll(this.base()):o}constructor(a){this._id=a}},"DefaultModality");c.default=h,h.MODALITY_SEPARATOR=f.default.Modality[0],h.MODALITY_CONTENT=f.default.Modality.substr(1)},bVud:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=d("4vb1");v.__exportStar(d("ntEb"),c)},bdgK:function(U,c,d){"use strict";(function(v){var f=function(){if(typeof Map<"u")return Map;function te(me,we){var pe=-1;return me.some(function(Ae,Je){return Ae[0]===we?(pe=Je,!0):!1}),pe}return r(te,"getIndex"),function(){function me(){this.__entries__=[]}return r(me,"class_1"),Object.defineProperty(me.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),me.prototype.get=function(we){var pe=te(this.__entries__,we),Ae=this.__entries__[pe];return Ae&&Ae[1]},me.prototype.set=function(we,pe){var Ae=te(this.__entries__,we);~Ae?this.__entries__[Ae][1]=pe:this.__entries__.push([we,pe])},me.prototype.delete=function(we){var pe=this.__entries__,Ae=te(pe,we);~Ae&&pe.splice(Ae,1)},me.prototype.has=function(we){return!!~te(this.__entries__,we)},me.prototype.clear=function(){this.__entries__.splice(0)},me.prototype.forEach=function(we,pe){pe===void 0&&(pe=null);for(var Ae=0,Je=this.__entries__;Ae<Je.length;Ae++){var Fe=Je[Ae];we.call(pe,Fe[1],Fe[0])}},me}()}(),h=typeof window<"u"&&typeof document<"u"&&window.document===document,m=function(){return typeof v<"u"&&v.Math===Math?v:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),a=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(m):function(te){return setTimeout(function(){return te(Date.now())},1e3/60)}}(),o=2;function i(te,me){var we=!1,pe=!1,Ae=0;function Je(){we&&(we=!1,te()),pe&&Ue()}r(Je,"resolvePending");function Fe(){a(Je)}r(Fe,"timeoutCallback");function Ue(){var Le=Date.now();if(we){if(Le-Ae<o)return;pe=!0}else we=!0,pe=!1,setTimeout(Fe,me);Ae=Le}return r(Ue,"proxy"),Ue}r(i,"throttle");var e=20,t=["top","right","bottom","left","width","height","size","weight"],n=typeof MutationObserver<"u",s=function(){function te(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=i(this.refresh.bind(this),e)}return r(te,"ResizeObserverController"),te.prototype.addObserver=function(me){~this.observers_.indexOf(me)||this.observers_.push(me),this.connected_||this.connect_()},te.prototype.removeObserver=function(me){var we=this.observers_,pe=we.indexOf(me);~pe&&we.splice(pe,1),!we.length&&this.connected_&&this.disconnect_()},te.prototype.refresh=function(){var me=this.updateObservers_();me&&this.refresh()},te.prototype.updateObservers_=function(){var me=this.observers_.filter(function(we){return we.gatherActive(),we.hasActive()});return me.forEach(function(we){return we.broadcastActive()}),me.length>0},te.prototype.connect_=function(){!h||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),n?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},te.prototype.disconnect_=function(){!h||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},te.prototype.onTransitionEnd_=function(me){var we=me.propertyName,pe=we===void 0?"":we,Ae=t.some(function(Je){return!!~pe.indexOf(Je)});Ae&&this.refresh()},te.getInstance=function(){return this.instance_||(this.instance_=new te),this.instance_},te.instance_=null,te}(),p=r(function(te,me){for(var we=0,pe=Object.keys(me);we<pe.length;we++){var Ae=pe[we];Object.defineProperty(te,Ae,{value:me[Ae],enumerable:!1,writable:!1,configurable:!0})}return te},"defineConfigurable"),g=r(function(te){var me=te&&te.ownerDocument&&te.ownerDocument.defaultView;return me||m},"getWindowOf"),S=N(0,0,0,0);function u(te){return parseFloat(te)||0}r(u,"toFloat");function l(te){for(var me=[],we=1;we<arguments.length;we++)me[we-1]=arguments[we];return me.reduce(function(pe,Ae){var Je=te["border-"+Ae+"-width"];return pe+u(Je)},0)}r(l,"getBordersSize");function E(te){for(var me=["top","right","bottom","left"],we={},pe=0,Ae=me;pe<Ae.length;pe++){var Je=Ae[pe],Fe=te["padding-"+Je];we[Je]=u(Fe)}return we}r(E,"getPaddings");function O(te){var me=te.getBBox();return N(0,0,me.width,me.height)}r(O,"getSVGContentRect");function P(te){var me=te.clientWidth,we=te.clientHeight;if(!me&&!we)return S;var pe=g(te).getComputedStyle(te),Ae=E(pe),Je=Ae.left+Ae.right,Fe=Ae.top+Ae.bottom,Ue=u(pe.width),Le=u(pe.height);if(pe.boxSizing==="border-box"&&(Math.round(Ue+Je)!==me&&(Ue-=l(pe,"left","right")+Je),Math.round(Le+Fe)!==we&&(Le-=l(pe,"top","bottom")+Fe)),!k(te)){var at=Math.round(Ue+Je)-me,lt=Math.round(Le+Fe)-we;Math.abs(at)!==1&&(Ue-=at),Math.abs(lt)!==1&&(Le-=lt)}return N(Ae.left,Ae.top,Ue,Le)}r(P,"getHTMLElementContentRect");var x=function(){return typeof SVGGraphicsElement<"u"?function(te){return te instanceof g(te).SVGGraphicsElement}:function(te){return te instanceof g(te).SVGElement&&typeof te.getBBox=="function"}}();function k(te){return te===g(te).document.documentElement}r(k,"isDocumentElement");function B(te){return h?x(te)?O(te):P(te):S}r(B,"getContentRect");function R(te){var me=te.x,we=te.y,pe=te.width,Ae=te.height,Je=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Fe=Object.create(Je.prototype);return p(Fe,{x:me,y:we,width:pe,height:Ae,top:we,right:me+pe,bottom:Ae+we,left:me}),Fe}r(R,"createReadOnlyRect");function N(te,me,we,pe){return{x:te,y:me,width:we,height:pe}}r(N,"createRectInit");var w=function(){function te(me){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=N(0,0,0,0),this.target=me}return r(te,"ResizeObservation"),te.prototype.isActive=function(){var me=B(this.target);return this.contentRect_=me,me.width!==this.broadcastWidth||me.height!==this.broadcastHeight},te.prototype.broadcastRect=function(){var me=this.contentRect_;return this.broadcastWidth=me.width,this.broadcastHeight=me.height,me},te}(),A=function(){function te(me,we){var pe=R(we);p(this,{target:me,contentRect:pe})}return r(te,"ResizeObserverEntry"),te}(),D=function(){function te(me,we,pe){if(this.activeObservations_=[],this.observations_=new f,typeof me!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=me,this.controller_=we,this.callbackCtx_=pe}return r(te,"ResizeObserverSPI"),te.prototype.observe=function(me){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(me instanceof g(me).Element))throw new TypeError('parameter 1 is not of type "Element".');var we=this.observations_;we.has(me)||(we.set(me,new w(me)),this.controller_.addObserver(this),this.controller_.refresh())}},te.prototype.unobserve=function(me){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(me instanceof g(me).Element))throw new TypeError('parameter 1 is not of type "Element".');var we=this.observations_;we.has(me)&&(we.delete(me),we.size||this.controller_.removeObserver(this))}},te.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},te.prototype.gatherActive=function(){var me=this;this.clearActive(),this.observations_.forEach(function(we){we.isActive()&&me.activeObservations_.push(we)})},te.prototype.broadcastActive=function(){if(this.hasActive()){var me=this.callbackCtx_,we=this.activeObservations_.map(function(pe){return new A(pe.target,pe.broadcastRect())});this.callback_.call(me,we,me),this.clearActive()}},te.prototype.clearActive=function(){this.activeObservations_.splice(0)},te.prototype.hasActive=function(){return this.activeObservations_.length>0},te}(),K=typeof WeakMap<"u"?new WeakMap:new f,X=function(){function te(me){if(!(this instanceof te))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var we=s.getInstance(),pe=new D(me,we,this);K.set(this,pe)}return r(te,"ResizeObserver"),te}();["observe","unobserve","disconnect"].forEach(function(te){X.prototype[te]=function(){var me;return(me=K.get(this))[te].apply(me,arguments)}});var j=function(){return typeof m.ResizeObserver<"u"?m.ResizeObserver:X}();c.a=j}).call(this,d("yLpj"))},beBF:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"Attendee");c.default=v},bjg3:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportDirection=void 0;var v;(function(f){f[f.UPSTREAM=0]="UPSTREAM",f[f.DOWNSTREAM=1]="DOWNSTREAM"})(v=c.ClientMetricReportDirection||(c.ClientMetricReportDirection={})),c.default=v},c41J:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={ChannelNotFound:"channel_not_found",GlobalRatelimited:"global_ratelimited",Ratelimited:"ratelimited",InternalError:"internal_error"},t=Object(a.a)("megaphone.notifications.list generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"megaphone.notifications.list",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to megaphone.notifications.list
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetchermegaphoneNotificationsListFetcher",description:"megaphone.notifications.list generated fetcher"}},c7k8:function(U,c,d){"use strict";d.d(c,"a",function(){return dr}),d.d(c,"b",function(){return Pr}),d.d(c,"c",function(){return ur}),d.d(c,"d",function(){return Xi}),d.d(c,"k",function(){return Dt}),d.d(c,"f",function(){return ii}),d.d(c,"g",function(){return Zo}),d.d(c,"h",function(){return ss}),d.d(c,"i",function(){return cs}),d.d(c,"e",function(){return to}),d.d(c,"j",function(){return _s});var v=d("Yz+Y"),f=d.n(v),h=d("iCc5"),m=d.n(h),a=d("V7oC"),o=d.n(a),i=d("FYw3"),e=d.n(i),t=d("mRg0"),n=d.n(t),s=d("q1tI"),p=d("VCL8"),g=d("P2sY"),S=d.n(g),u=d("QbLZ"),l=d.n(u);function E(ue){var ie,q,L="";if(typeof ue=="string"||typeof ue=="number")L+=ue;else if(typeof ue=="object")if(Array.isArray(ue))for(ie=0;ie<ue.length;ie++)ue[ie]&&(q=E(ue[ie]))&&(L&&(L+=" "),L+=q);else for(ie in ue)ue[ie]&&(L&&(L+=" "),L+=ie);return L}r(E,"clsx_m_r");function O(){for(var ue,ie,q=0,L="";q<arguments.length;)(ue=arguments[q++])&&(ie=E(ue))&&(L&&(L+=" "),L+=ie);return L}r(O,"clsx");var P=O;function x(ue){var ie=ue.cellCount,q=ue.cellSize,L=ue.computeMetadataCallback,J=ue.computeMetadataCallbackProps,oe=ue.nextCellsCount,re=ue.nextCellSize,be=ue.nextScrollToIndex,Me=ue.scrollToIndex,De=ue.updateScrollOffsetForScrollToIndex;(ie!==oe||(typeof q=="number"||typeof re=="number")&&q!==re)&&(L(J),Me>=0&&Me===be&&De())}r(x,"calculateSizeAndPositionDataAndUpdateScrollOffset");var k=d("jo6Y"),B=d.n(k),R=d("n3tL"),N=null,w=null,A=null,D=null,K=null,X=null,j=null,te=null,me=null,we=null,pe=null,Ae=null,Je=null,Fe=null,Ue=null,Le=null,at=null,lt=null,ot=function(){function ue(ie){var q=ie.cellCount,L=ie.cellSizeGetter,J=ie.estimatedCellSize;m()(this,ue),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=L,this._cellCount=q,this._estimatedCellSize=J}return r(ue,"CellSizeAndPositionManager"),o()(ue,[{key:"areOffsetsAdjusted",value:r(function(){return!1},"areOffsetsAdjusted")},{key:"configure",value:r(function(q){var L=q.cellCount,J=q.estimatedCellSize,oe=q.cellSizeGetter;this._cellCount=L,this._estimatedCellSize=J,this._cellSizeGetter=oe},"configure")},{key:"getCellCount",value:r(function(){return this._cellCount},"getCellCount")},{key:"getEstimatedCellSize",value:r(function(){return this._estimatedCellSize},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:r(function(){return this._lastMeasuredIndex},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:r(function(){return 0},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:r(function(q){if(q<0||q>=this._cellCount)throw Error("Requested index "+q+" is outside of range 0.."+this._cellCount);if(q>this._lastMeasuredIndex)for(var L=this.getSizeAndPositionOfLastMeasuredCell(),J=L.offset+L.size,oe=this._lastMeasuredIndex+1;oe<=q;oe++){var re=this._cellSizeGetter({index:oe});if(re===void 0||isNaN(re))throw Error("Invalid size returned for cell "+oe+" of value "+re);re===null?(this._cellSizeAndPositionData[oe]={offset:J,size:0},this._lastBatchedIndex=q):(this._cellSizeAndPositionData[oe]={offset:J,size:re},J+=re,this._lastMeasuredIndex=q)}return this._cellSizeAndPositionData[q]},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:r(function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:r(function(){var q=this.getSizeAndPositionOfLastMeasuredCell(),L=q.offset+q.size,J=this._cellCount-this._lastMeasuredIndex-1,oe=J*this._estimatedCellSize;return L+oe},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:r(function(q){var L=q.align,J=L===void 0?"auto":L,oe=q.containerSize,re=q.currentOffset,be=q.targetIndex;if(oe<=0)return 0;var Me=this.getSizeAndPositionOfCell(be),De=Me.offset,Ne=De-oe+Me.size,Be=void 0;switch(J){case"start":Be=De;break;case"end":Be=Ne;break;case"center":Be=De-(oe-Me.size)/2;break;default:Be=Math.max(Ne,Math.min(De,re));break}var Ge=this.getTotalSize();return Math.max(0,Math.min(Ge-oe,Be))},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:r(function(q){var L=q.containerSize,J=q.offset,oe=this.getTotalSize();if(oe===0)return{};var re=J+L,be=this._findNearestCell(J),Me=this.getSizeAndPositionOfCell(be);J=Me.offset+Me.size;for(var De=be;J<re&&De<this._cellCount-1;)De++,J+=this.getSizeAndPositionOfCell(De).size;return{start:be,stop:De}},"getVisibleCellRange")},{key:"resetCell",value:r(function(q){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,q-1)},"resetCell")},{key:"_binarySearch",value:r(function(q,L,J){for(;L<=q;){var oe=L+Math.floor((q-L)/2),re=this.getSizeAndPositionOfCell(oe).offset;if(re===J)return oe;re<J?L=oe+1:re>J&&(q=oe-1)}return L>0?L-1:0},"_binarySearch")},{key:"_exponentialSearch",value:r(function(q,L){for(var J=1;q<this._cellCount&&this.getSizeAndPositionOfCell(q).offset<L;)q+=J,J*=2;return this._binarySearch(Math.min(q,this._cellCount-1),Math.floor(q/2),L)},"_exponentialSearch")},{key:"_findNearestCell",value:r(function(q){if(isNaN(q))throw Error("Invalid offset "+q+" specified");q=Math.max(0,q);var L=this.getSizeAndPositionOfLastMeasuredCell(),J=Math.max(0,this._lastMeasuredIndex);return L.offset>=q?this._binarySearch(J,0,q):this._exponentialSearch(J,q)},"_findNearestCell")}]),ue}(),pt=ot,ct=15e5,rt=16777100,Tn=r(function(){return typeof window<"u"},"isBrowser"),Qt=r(function(){return!!window.chrome},"isChrome"),Ft=r(function(){return Tn()&&Qt()?rt:ct},"getMaxElementSize"),Rn=function(){function ue(ie){var q=ie.maxScrollSize,L=q===void 0?Ft():q,J=B()(ie,["maxScrollSize"]);m()(this,ue),this._cellSizeAndPositionManager=new pt(J),this._maxScrollSize=L}return r(ue,"ScalingCellSizeAndPositionManager"),o()(ue,[{key:"areOffsetsAdjusted",value:r(function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize},"areOffsetsAdjusted")},{key:"configure",value:r(function(q){this._cellSizeAndPositionManager.configure(q)},"configure")},{key:"getCellCount",value:r(function(){return this._cellSizeAndPositionManager.getCellCount()},"getCellCount")},{key:"getEstimatedCellSize",value:r(function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()},"getEstimatedCellSize")},{key:"getLastMeasuredIndex",value:r(function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()},"getLastMeasuredIndex")},{key:"getOffsetAdjustment",value:r(function(q){var L=q.containerSize,J=q.offset,oe=this._cellSizeAndPositionManager.getTotalSize(),re=this.getTotalSize(),be=this._getOffsetPercentage({containerSize:L,offset:J,totalSize:re});return Math.round(be*(re-oe))},"getOffsetAdjustment")},{key:"getSizeAndPositionOfCell",value:r(function(q){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(q)},"getSizeAndPositionOfCell")},{key:"getSizeAndPositionOfLastMeasuredCell",value:r(function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()},"getSizeAndPositionOfLastMeasuredCell")},{key:"getTotalSize",value:r(function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())},"getTotalSize")},{key:"getUpdatedOffsetForIndex",value:r(function(q){var L=q.align,J=L===void 0?"auto":L,oe=q.containerSize,re=q.currentOffset,be=q.targetIndex;re=this._safeOffsetToOffset({containerSize:oe,offset:re});var Me=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:J,containerSize:oe,currentOffset:re,targetIndex:be});return this._offsetToSafeOffset({containerSize:oe,offset:Me})},"getUpdatedOffsetForIndex")},{key:"getVisibleCellRange",value:r(function(q){var L=q.containerSize,J=q.offset;return J=this._safeOffsetToOffset({containerSize:L,offset:J}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:L,offset:J})},"getVisibleCellRange")},{key:"resetCell",value:r(function(q){this._cellSizeAndPositionManager.resetCell(q)},"resetCell")},{key:"_getOffsetPercentage",value:r(function(q){var L=q.containerSize,J=q.offset,oe=q.totalSize;return oe<=L?0:J/(oe-L)},"_getOffsetPercentage")},{key:"_offsetToSafeOffset",value:r(function(q){var L=q.containerSize,J=q.offset,oe=this._cellSizeAndPositionManager.getTotalSize(),re=this.getTotalSize();if(oe===re)return J;var be=this._getOffsetPercentage({containerSize:L,offset:J,totalSize:oe});return Math.round(be*(re-L))},"_offsetToSafeOffset")},{key:"_safeOffsetToOffset",value:r(function(q){var L=q.containerSize,J=q.offset,oe=this._cellSizeAndPositionManager.getTotalSize(),re=this.getTotalSize();if(oe===re)return J;var be=this._getOffsetPercentage({containerSize:L,offset:J,totalSize:re});return Math.round(be*(oe-L))},"_safeOffsetToOffset")}]),ue}(),Pn=Rn,ti=d("GQeE"),Sn=d.n(ti);function oi(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ie={};return function(q){var L=q.callback,J=q.indices,oe=Sn()(J),re=!ue||oe.every(function(Me){var De=J[Me];return Array.isArray(De)?De.length>0:De>=0}),be=oe.length!==Sn()(ie).length||oe.some(function(Me){var De=ie[Me],Ne=J[Me];return Array.isArray(Ne)?De.join(",")!==Ne.join(","):De!==Ne});ie=J,re&&be&&L(J)}}r(oi,"createCallbackMemoizer");var vi=-1,Hn=1,Di="horizontal",Bi="vertical";function Gt(ue){var ie=ue.cellCount,q=ue.overscanCellsCount,L=ue.scrollDirection,J=ue.startIndex,oe=ue.stopIndex;return L===Hn?{overscanStartIndex:Math.max(0,J),overscanStopIndex:Math.min(ie-1,oe+q)}:{overscanStartIndex:Math.max(0,J-q),overscanStopIndex:Math.min(ie-1,oe)}}r(Gt,"defaultOverscanIndicesGetter");function Dn(ue){var ie=ue.cellSize,q=ue.cellSizeAndPositionManager,L=ue.previousCellsCount,J=ue.previousCellSize,oe=ue.previousScrollToAlignment,re=ue.previousScrollToIndex,be=ue.previousSize,Me=ue.scrollOffset,De=ue.scrollToAlignment,Ne=ue.scrollToIndex,Be=ue.size,Ge=ue.sizeJustIncreasedFromZero,Ze=ue.updateScrollIndexCallback,gt=q.getCellCount(),_t=Ne>=0&&Ne<gt,Jt=Be!==be||Ge||!J||typeof ie=="number"&&ie!==J;_t&&(Jt||De!==oe||Ne!==re)?Ze(Ne):!_t&&gt>0&&(Be<be||gt<L)&&Me>q.getTotalSize()-Be&&Ze(gt-1)}r(Dn,"updateScrollIndexHelper");function Dt(ue){for(var ie=ue.cellCache,q=ue.cellRenderer,L=ue.columnSizeAndPositionManager,J=ue.columnStartIndex,oe=ue.columnStopIndex,re=ue.deferredMeasurementCache,be=ue.horizontalOffsetAdjustment,Me=ue.isScrolling,De=ue.isScrollingOptOut,Ne=ue.parent,Be=ue.rowSizeAndPositionManager,Ge=ue.rowStartIndex,Ze=ue.rowStopIndex,gt=ue.styleCache,_t=ue.verticalOffsetAdjustment,Jt=ue.visibleColumnIndices,Xt=ue.visibleRowIndices,fn=[],pn=L.areOffsetsAdjusted()||Be.areOffsetsAdjusted(),wn=!Me&&!pn,Pt=Ge;Pt<=Ze;Pt++)for(var ei=Be.getSizeAndPositionOfCell(Pt),Xn=J;Xn<=oe;Xn++){var Ii=L.getSizeAndPositionOfCell(Xn),_i=Xn>=Jt.start&&Xn<=Jt.stop&&Pt>=Xt.start&&Pt<=Xt.stop,wi=Pt+"-"+Xn,bi=void 0;wn&&gt[wi]?bi=gt[wi]:re&&!re.has(Pt,Xn)?bi={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(bi={height:ei.size,left:Ii.offset+be,position:"absolute",top:ei.offset+_t,width:Ii.size},gt[wi]=bi);var Vi={columnIndex:Xn,isScrolling:Me,isVisible:_i,key:wi,parent:Ne,rowIndex:Pt,style:bi},Pi=void 0;(De||Me)&&!be&&!_t?(ie[wi]||(ie[wi]=q(Vi)),Pi=ie[wi]):Pi=q(Vi),!(Pi==null||Pi===!1)&&fn.push(Pi)}return fn}r(Dt,"defaultCellRangeRenderer");function je(ue,ie){}r(je,"warnAboutMissingStyle");var yt=!!(typeof window<"u"&&window.document&&window.document.createElement),dt;function cn(ue){if((!dt&&dt!==0||ue)&&yt){var ie=document.createElement("div");ie.style.position="absolute",ie.style.top="-9999px",ie.style.width="50px",ie.style.height="50px",ie.style.overflow="scroll",document.body.appendChild(ie),dt=ie.offsetWidth-ie.clientWidth,document.body.removeChild(ie)}return dt}r(cn,"scrollbarSize_scrollbarSize");var li=d("4d7F"),ci=d.n(li),Jn=void 0;typeof window<"u"?Jn=window:typeof self<"u"?Jn=self:Jn={};var di=Jn.requestAnimationFrame||Jn.webkitRequestAnimationFrame||Jn.mozRequestAnimationFrame||Jn.oRequestAnimationFrame||Jn.msRequestAnimationFrame||function(ue){return Jn.setTimeout(ue,1e3/60)},Mi=Jn.cancelAnimationFrame||Jn.webkitCancelAnimationFrame||Jn.mozCancelAnimationFrame||Jn.oCancelAnimationFrame||Jn.msCancelAnimationFrame||function(ue){Jn.clearTimeout(ue)},Sr=di,Ai=Mi,Hi=null,rn=r(function(ie){return Ai(ie.id)},"cancelAnimationTimeout"),ge=r(function(ie,q){var L=void 0;ci.a.resolve().then(function(){L=Date.now()});var J=r(function re(){Date.now()-L>=q?ie.call():oe.id=Sr(re)},"timeout"),oe={id:Sr(J)};return oe},"requestAnimationTimeout"),Re=150,Ve={OBSERVED:"observed",REQUESTED:"requested"},kt=r(function(){return null},"renderNull"),tt=function(ue){n()(ie,ue);function ie(q){m()(this,ie);var L=e()(this,(ie.__proto__||f()(ie)).call(this,q));L._onGridRenderedMemoizer=oi(),L._onScrollMemoizer=oi(!1),L._deferredInvalidateColumnIndex=null,L._deferredInvalidateRowIndex=null,L._recomputeScrollLeftFlag=!1,L._recomputeScrollTopFlag=!1,L._horizontalScrollBarSize=0,L._verticalScrollBarSize=0,L._scrollbarPresenceChanged=!1,L._renderedColumnStartIndex=0,L._renderedColumnStopIndex=0,L._renderedRowStartIndex=0,L._renderedRowStopIndex=0,L._styleCache={},L._cellCache={},L._debounceScrollEndedCallback=function(){L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1,needToResetStyleCache:!1})},L._invokeOnGridRenderedHelper=function(){var re=L.props.onSectionRendered;L._onGridRenderedMemoizer({callback:re,indices:{columnOverscanStartIndex:L._columnStartIndex,columnOverscanStopIndex:L._columnStopIndex,columnStartIndex:L._renderedColumnStartIndex,columnStopIndex:L._renderedColumnStopIndex,rowOverscanStartIndex:L._rowStartIndex,rowOverscanStopIndex:L._rowStopIndex,rowStartIndex:L._renderedRowStartIndex,rowStopIndex:L._renderedRowStopIndex}})},L._setScrollingContainerRef=function(re){L._scrollingContainer=re},L._onScroll=function(re){re.target===L._scrollingContainer&&L.handleScrollEvent(re.target)};var J=new Pn({cellCount:q.columnCount,cellSizeGetter:r(function(be){return ie._wrapSizeGetter(q.columnWidth)(be)},"cellSizeGetter"),estimatedCellSize:ie._getEstimatedColumnSize(q)}),oe=new Pn({cellCount:q.rowCount,cellSizeGetter:r(function(be){return ie._wrapSizeGetter(q.rowHeight)(be)},"cellSizeGetter"),estimatedCellSize:ie._getEstimatedRowSize(q)});return L.state={instanceProps:{columnSizeAndPositionManager:J,rowSizeAndPositionManager:oe,prevColumnWidth:q.columnWidth,prevRowHeight:q.rowHeight,prevColumnCount:q.columnCount,prevRowCount:q.rowCount,prevIsScrolling:q.isScrolling===!0,prevScrollToColumn:q.scrollToColumn,prevScrollToRow:q.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Hn,scrollDirectionVertical:Hn,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},q.scrollToRow>0&&(L._initialScrollTop=L._getCalculatedScrollTop(q,L.state)),q.scrollToColumn>0&&(L._initialScrollLeft=L._getCalculatedScrollLeft(q,L.state)),L}return r(ie,"Grid"),o()(ie,[{key:"getOffsetForCell",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=L.alignment,oe=J===void 0?this.props.scrollToAlignment:J,re=L.columnIndex,be=re===void 0?this.props.scrollToColumn:re,Me=L.rowIndex,De=Me===void 0?this.props.scrollToRow:Me,Ne=l()({},this.props,{scrollToAlignment:oe,scrollToColumn:be,scrollToRow:De});return{scrollLeft:this._getCalculatedScrollLeft(Ne),scrollTop:this._getCalculatedScrollTop(Ne)}},"getOffsetForCell")},{key:"getTotalRowsHeight",value:r(function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()},"getTotalRowsHeight")},{key:"getTotalColumnsWidth",value:r(function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()},"getTotalColumnsWidth")},{key:"handleScrollEvent",value:r(function(L){var J=L.scrollLeft,oe=J===void 0?0:J,re=L.scrollTop,be=re===void 0?0:re;if(!(be<0)){this._debounceScrollEnded();var Me=this.props,De=Me.autoHeight,Ne=Me.autoWidth,Be=Me.height,Ge=Me.width,Ze=this.state.instanceProps,gt=Ze.scrollbarSize,_t=Ze.rowSizeAndPositionManager.getTotalSize(),Jt=Ze.columnSizeAndPositionManager.getTotalSize(),Xt=Math.min(Math.max(0,Jt-Ge+gt),oe),fn=Math.min(Math.max(0,_t-Be+gt),be);if(this.state.scrollLeft!==Xt||this.state.scrollTop!==fn){var pn=Xt!==this.state.scrollLeft?Xt>this.state.scrollLeft?Hn:vi:this.state.scrollDirectionHorizontal,wn=fn!==this.state.scrollTop?fn>this.state.scrollTop?Hn:vi:this.state.scrollDirectionVertical,Pt={isScrolling:!0,scrollDirectionHorizontal:pn,scrollDirectionVertical:wn,scrollPositionChangeReason:Ve.OBSERVED};De||(Pt.scrollTop=fn),Ne||(Pt.scrollLeft=Xt),Pt.needToResetStyleCache=!1,this.setState(Pt)}this._invokeOnScrollMemoizer({scrollLeft:Xt,scrollTop:fn,totalColumnsWidth:Jt,totalRowsHeight:_t})}},"handleScrollEvent")},{key:"invalidateCellSizeAfterRender",value:r(function(L){var J=L.columnIndex,oe=L.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,J):J,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,oe):oe},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:r(function(){var L=this.props,J=L.columnCount,oe=L.rowCount,re=this.state.instanceProps;re.columnSizeAndPositionManager.getSizeAndPositionOfCell(J-1),re.rowSizeAndPositionManager.getSizeAndPositionOfCell(oe-1)},"measureAllCells")},{key:"recomputeGridSize",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=L.columnIndex,oe=J===void 0?0:J,re=L.rowIndex,be=re===void 0?0:re,Me=this.props,De=Me.scrollToColumn,Ne=Me.scrollToRow,Be=this.state.instanceProps;Be.columnSizeAndPositionManager.resetCell(oe),Be.rowSizeAndPositionManager.resetCell(be),this._recomputeScrollLeftFlag=De>=0&&(this.state.scrollDirectionHorizontal===Hn?oe<=De:oe>=De),this._recomputeScrollTopFlag=Ne>=0&&(this.state.scrollDirectionVertical===Hn?be<=Ne:be>=Ne),this._styleCache={},this._cellCache={},this.forceUpdate()},"recomputeGridSize")},{key:"scrollToCell",value:r(function(L){var J=L.columnIndex,oe=L.rowIndex,re=this.props.columnCount,be=this.props;re>1&&J!==void 0&&this._updateScrollLeftForScrollToColumn(l()({},be,{scrollToColumn:J})),oe!==void 0&&this._updateScrollTopForScrollToRow(l()({},be,{scrollToRow:oe}))},"scrollToCell")},{key:"componentDidMount",value:r(function(){var L=this.props,J=L.getScrollbarSize,oe=L.height,re=L.scrollLeft,be=L.scrollToColumn,Me=L.scrollTop,De=L.scrollToRow,Ne=L.width,Be=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),Be.scrollbarSizeMeasured||this.setState(function(gt){var _t=l()({},gt,{needToResetStyleCache:!1});return _t.instanceProps.scrollbarSize=J(),_t.instanceProps.scrollbarSizeMeasured=!0,_t}),typeof re=="number"&&re>=0||typeof Me=="number"&&Me>=0){var Ge=ie._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:re,scrollTop:Me});Ge&&(Ge.needToResetStyleCache=!1,this.setState(Ge))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var Ze=oe>0&&Ne>0;be>=0&&Ze&&this._updateScrollLeftForScrollToColumn(),De>=0&&Ze&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:re||0,scrollTop:Me||0,totalColumnsWidth:Be.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:Be.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()},"componentDidMount")},{key:"componentDidUpdate",value:r(function(L,J){var oe=this,re=this.props,be=re.autoHeight,Me=re.autoWidth,De=re.columnCount,Ne=re.height,Be=re.rowCount,Ge=re.scrollToAlignment,Ze=re.scrollToColumn,gt=re.scrollToRow,_t=re.width,Jt=this.state,Xt=Jt.scrollLeft,fn=Jt.scrollPositionChangeReason,pn=Jt.scrollTop,wn=Jt.instanceProps;this._handleInvalidatedGridSize();var Pt=De>0&&L.columnCount===0||Be>0&&L.rowCount===0;fn===Ve.REQUESTED&&(!Me&&Xt>=0&&(Xt!==this._scrollingContainer.scrollLeft||Pt)&&(this._scrollingContainer.scrollLeft=Xt),!be&&pn>=0&&(pn!==this._scrollingContainer.scrollTop||Pt)&&(this._scrollingContainer.scrollTop=pn));var ei=(L.width===0||L.height===0)&&Ne>0&&_t>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Dn({cellSizeAndPositionManager:wn.columnSizeAndPositionManager,previousCellsCount:L.columnCount,previousCellSize:L.columnWidth,previousScrollToAlignment:L.scrollToAlignment,previousScrollToIndex:L.scrollToColumn,previousSize:L.width,scrollOffset:Xt,scrollToAlignment:Ge,scrollToIndex:Ze,size:_t,sizeJustIncreasedFromZero:ei,updateScrollIndexCallback:r(function(){return oe._updateScrollLeftForScrollToColumn(oe.props)},"updateScrollIndexCallback")}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Dn({cellSizeAndPositionManager:wn.rowSizeAndPositionManager,previousCellsCount:L.rowCount,previousCellSize:L.rowHeight,previousScrollToAlignment:L.scrollToAlignment,previousScrollToIndex:L.scrollToRow,previousSize:L.height,scrollOffset:pn,scrollToAlignment:Ge,scrollToIndex:gt,size:Ne,sizeJustIncreasedFromZero:ei,updateScrollIndexCallback:r(function(){return oe._updateScrollTopForScrollToRow(oe.props)},"updateScrollIndexCallback")}),this._invokeOnGridRenderedHelper(),Xt!==J.scrollLeft||pn!==J.scrollTop){var Xn=wn.rowSizeAndPositionManager.getTotalSize(),Ii=wn.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:Xt,scrollTop:pn,totalColumnsWidth:Ii,totalRowsHeight:Xn})}this._maybeCallOnScrollbarPresenceChange()},"componentDidUpdate")},{key:"componentWillUnmount",value:r(function(){this._disablePointerEventsTimeoutId&&rn(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:r(function(){var L=this.props,J=L.autoContainerWidth,oe=L.autoHeight,re=L.autoWidth,be=L.className,Me=L.containerProps,De=L.containerRole,Ne=L.containerStyle,Be=L.height,Ge=L.id,Ze=L.noContentRenderer,gt=L.role,_t=L.style,Jt=L.tabIndex,Xt=L.width,fn=this.state,pn=fn.instanceProps,wn=fn.needToResetStyleCache,Pt=this._isScrolling(),ei={boxSizing:"border-box",direction:"ltr",height:oe?"auto":Be,position:"relative",width:re?"auto":Xt,WebkitOverflowScrolling:"touch",willChange:"transform"};wn&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var Xn=pn.columnSizeAndPositionManager.getTotalSize(),Ii=pn.rowSizeAndPositionManager.getTotalSize(),_i=Ii>Be?pn.scrollbarSize:0,wi=Xn>Xt?pn.scrollbarSize:0;(wi!==this._horizontalScrollBarSize||_i!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=wi,this._verticalScrollBarSize=_i,this._scrollbarPresenceChanged=!0),ei.overflowX=Xn+_i<=Xt?"hidden":"auto",ei.overflowY=Ii+wi<=Be?"hidden":"auto";var bi=this._childrenToDisplay,Vi=bi.length===0&&Be>0&&Xt>0;return s.createElement("div",l()({ref:this._setScrollingContainerRef},Me,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:P("ReactVirtualized__Grid",be),id:Ge,onScroll:this._onScroll,role:gt,style:l()({},ei,_t),tabIndex:Jt}),bi.length>0&&s.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:De,style:l()({width:J?"auto":Xn,height:Ii,maxWidth:Xn,maxHeight:Ii,overflow:"hidden",pointerEvents:Pt?"none":"",position:"relative"},Ne)},bi),Vi&&Ze())},"render")},{key:"_calculateChildrenToRender",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,oe=L.cellRenderer,re=L.cellRangeRenderer,be=L.columnCount,Me=L.deferredMeasurementCache,De=L.height,Ne=L.overscanColumnCount,Be=L.overscanIndicesGetter,Ge=L.overscanRowCount,Ze=L.rowCount,gt=L.width,_t=L.isScrollingOptOut,Jt=J.scrollDirectionHorizontal,Xt=J.scrollDirectionVertical,fn=J.instanceProps,pn=this._initialScrollTop>0?this._initialScrollTop:J.scrollTop,wn=this._initialScrollLeft>0?this._initialScrollLeft:J.scrollLeft,Pt=this._isScrolling(L,J);if(this._childrenToDisplay=[],De>0&&gt>0){var ei=fn.columnSizeAndPositionManager.getVisibleCellRange({containerSize:gt,offset:wn}),Xn=fn.rowSizeAndPositionManager.getVisibleCellRange({containerSize:De,offset:pn}),Ii=fn.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:gt,offset:wn}),_i=fn.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:De,offset:pn});this._renderedColumnStartIndex=ei.start,this._renderedColumnStopIndex=ei.stop,this._renderedRowStartIndex=Xn.start,this._renderedRowStopIndex=Xn.stop;var wi=Be({direction:"horizontal",cellCount:be,overscanCellsCount:Ne,scrollDirection:Jt,startIndex:typeof ei.start=="number"?ei.start:0,stopIndex:typeof ei.stop=="number"?ei.stop:-1}),bi=Be({direction:"vertical",cellCount:Ze,overscanCellsCount:Ge,scrollDirection:Xt,startIndex:typeof Xn.start=="number"?Xn.start:0,stopIndex:typeof Xn.stop=="number"?Xn.stop:-1}),Vi=wi.overscanStartIndex,Pi=wi.overscanStopIndex,ir=bi.overscanStartIndex,ro=bi.overscanStopIndex;if(Me){if(!Me.hasFixedHeight()){for(var Vr=ir;Vr<=ro;Vr++)if(!Me.has(Vr,0)){Vi=0,Pi=be-1;break}}if(!Me.hasFixedWidth()){for(var Tr=Vi;Tr<=Pi;Tr++)if(!Me.has(0,Tr)){ir=0,ro=Ze-1;break}}}this._childrenToDisplay=re({cellCache:this._cellCache,cellRenderer:oe,columnSizeAndPositionManager:fn.columnSizeAndPositionManager,columnStartIndex:Vi,columnStopIndex:Pi,deferredMeasurementCache:Me,horizontalOffsetAdjustment:Ii,isScrolling:Pt,isScrollingOptOut:_t,parent:this,rowSizeAndPositionManager:fn.rowSizeAndPositionManager,rowStartIndex:ir,rowStopIndex:ro,scrollLeft:wn,scrollTop:pn,styleCache:this._styleCache,verticalOffsetAdjustment:_i,visibleColumnIndices:ei,visibleRowIndices:Xn}),this._columnStartIndex=Vi,this._columnStopIndex=Pi,this._rowStartIndex=ir,this._rowStopIndex=ro}},"_calculateChildrenToRender")},{key:"_debounceScrollEnded",value:r(function(){var L=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&rn(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=ge(this._debounceScrollEndedCallback,L)},"_debounceScrollEnded")},{key:"_handleInvalidatedGridSize",value:r(function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var L=this._deferredInvalidateColumnIndex,J=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:L,rowIndex:J})}},"_handleInvalidatedGridSize")},{key:"_invokeOnScrollMemoizer",value:r(function(L){var J=this,oe=L.scrollLeft,re=L.scrollTop,be=L.totalColumnsWidth,Me=L.totalRowsHeight;this._onScrollMemoizer({callback:r(function(Ne){var Be=Ne.scrollLeft,Ge=Ne.scrollTop,Ze=J.props,gt=Ze.height,_t=Ze.onScroll,Jt=Ze.width;_t({clientHeight:gt,clientWidth:Jt,scrollHeight:Me,scrollLeft:Be,scrollTop:Ge,scrollWidth:be})},"callback"),indices:{scrollLeft:oe,scrollTop:re}})},"_invokeOnScrollMemoizer")},{key:"_isScrolling",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(L,"isScrolling")?Boolean(L.isScrolling):Boolean(J.isScrolling)},"_isScrolling")},{key:"_maybeCallOnScrollbarPresenceChange",value:r(function(){if(this._scrollbarPresenceChanged){var L=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,L({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}},"_maybeCallOnScrollbarPresenceChange")},{key:"scrollToPosition",value:r(function(L){var J=L.scrollLeft,oe=L.scrollTop,re=ie._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:J,scrollTop:oe});re&&(re.needToResetStyleCache=!1,this.setState(re))},"scrollToPosition")},{key:"_getCalculatedScrollLeft",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ie._getCalculatedScrollLeft(L,J)},"_getCalculatedScrollLeft")},{key:"_updateScrollLeftForScrollToColumn",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,oe=ie._getScrollLeftForScrollToColumnStateUpdate(L,J);oe&&(oe.needToResetStyleCache=!1,this.setState(oe))},"_updateScrollLeftForScrollToColumn")},{key:"_getCalculatedScrollTop",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return ie._getCalculatedScrollTop(L,J)},"_getCalculatedScrollTop")},{key:"_resetStyleCache",value:r(function(){var L=this._styleCache,J=this._cellCache,oe=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var re=this._rowStartIndex;re<=this._rowStopIndex;re++)for(var be=this._columnStartIndex;be<=this._columnStopIndex;be++){var Me=re+"-"+be;this._styleCache[Me]=L[Me],oe&&(this._cellCache[Me]=J[Me])}},"_resetStyleCache")},{key:"_updateScrollTopForScrollToRow",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,oe=ie._getScrollTopForScrollToRowStateUpdate(L,J);oe&&(oe.needToResetStyleCache=!1,this.setState(oe))},"_updateScrollTopForScrollToRow")}],[{key:"getDerivedStateFromProps",value:r(function(L,J){var oe={};L.columnCount===0&&J.scrollLeft!==0||L.rowCount===0&&J.scrollTop!==0?(oe.scrollLeft=0,oe.scrollTop=0):(L.scrollLeft!==J.scrollLeft&&L.scrollToColumn<0||L.scrollTop!==J.scrollTop&&L.scrollToRow<0)&&S()(oe,ie._getScrollToPositionStateUpdate({prevState:J,scrollLeft:L.scrollLeft,scrollTop:L.scrollTop}));var re=J.instanceProps;oe.needToResetStyleCache=!1,(L.columnWidth!==re.prevColumnWidth||L.rowHeight!==re.prevRowHeight)&&(oe.needToResetStyleCache=!0),re.columnSizeAndPositionManager.configure({cellCount:L.columnCount,estimatedCellSize:ie._getEstimatedColumnSize(L),cellSizeGetter:ie._wrapSizeGetter(L.columnWidth)}),re.rowSizeAndPositionManager.configure({cellCount:L.rowCount,estimatedCellSize:ie._getEstimatedRowSize(L),cellSizeGetter:ie._wrapSizeGetter(L.rowHeight)}),(re.prevColumnCount===0||re.prevRowCount===0)&&(re.prevColumnCount=0,re.prevRowCount=0),L.autoHeight&&L.isScrolling===!1&&re.prevIsScrolling===!0&&S()(oe,{isScrolling:!1});var be=void 0,Me=void 0;return x({cellCount:re.prevColumnCount,cellSize:typeof re.prevColumnWidth=="number"?re.prevColumnWidth:null,computeMetadataCallback:r(function(){return re.columnSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:L,nextCellsCount:L.columnCount,nextCellSize:typeof L.columnWidth=="number"?L.columnWidth:null,nextScrollToIndex:L.scrollToColumn,scrollToIndex:re.prevScrollToColumn,updateScrollOffsetForScrollToIndex:r(function(){be=ie._getScrollLeftForScrollToColumnStateUpdate(L,J)},"updateScrollOffsetForScrollToIndex")}),x({cellCount:re.prevRowCount,cellSize:typeof re.prevRowHeight=="number"?re.prevRowHeight:null,computeMetadataCallback:r(function(){return re.rowSizeAndPositionManager.resetCell(0)},"computeMetadataCallback"),computeMetadataCallbackProps:L,nextCellsCount:L.rowCount,nextCellSize:typeof L.rowHeight=="number"?L.rowHeight:null,nextScrollToIndex:L.scrollToRow,scrollToIndex:re.prevScrollToRow,updateScrollOffsetForScrollToIndex:r(function(){Me=ie._getScrollTopForScrollToRowStateUpdate(L,J)},"updateScrollOffsetForScrollToIndex")}),re.prevColumnCount=L.columnCount,re.prevColumnWidth=L.columnWidth,re.prevIsScrolling=L.isScrolling===!0,re.prevRowCount=L.rowCount,re.prevRowHeight=L.rowHeight,re.prevScrollToColumn=L.scrollToColumn,re.prevScrollToRow=L.scrollToRow,re.scrollbarSize=L.getScrollbarSize(),re.scrollbarSize===void 0?(re.scrollbarSizeMeasured=!1,re.scrollbarSize=0):re.scrollbarSizeMeasured=!0,oe.instanceProps=re,l()({},oe,be,Me)},"getDerivedStateFromProps")},{key:"_getEstimatedColumnSize",value:r(function(L){return typeof L.columnWidth=="number"?L.columnWidth:L.estimatedColumnSize},"_getEstimatedColumnSize")},{key:"_getEstimatedRowSize",value:r(function(L){return typeof L.rowHeight=="number"?L.rowHeight:L.estimatedRowSize},"_getEstimatedRowSize")},{key:"_getScrollToPositionStateUpdate",value:r(function(L){var J=L.prevState,oe=L.scrollLeft,re=L.scrollTop,be={scrollPositionChangeReason:Ve.REQUESTED};return typeof oe=="number"&&oe>=0&&(be.scrollDirectionHorizontal=oe>J.scrollLeft?Hn:vi,be.scrollLeft=oe),typeof re=="number"&&re>=0&&(be.scrollDirectionVertical=re>J.scrollTop?Hn:vi,be.scrollTop=re),typeof oe=="number"&&oe>=0&&oe!==J.scrollLeft||typeof re=="number"&&re>=0&&re!==J.scrollTop?be:null},"_getScrollToPositionStateUpdate")},{key:"_wrapSizeGetter",value:r(function(L){return typeof L=="function"?L:function(){return L}},"_wrapSizeGetter")},{key:"_getCalculatedScrollLeft",value:r(function(L,J){var oe=L.columnCount,re=L.height,be=L.scrollToAlignment,Me=L.scrollToColumn,De=L.width,Ne=J.scrollLeft,Be=J.instanceProps;if(oe>0){var Ge=oe-1,Ze=Me<0?Ge:Math.min(Ge,Me),gt=Be.rowSizeAndPositionManager.getTotalSize(),_t=Be.scrollbarSizeMeasured&&gt>re?Be.scrollbarSize:0;return Be.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:be,containerSize:De-_t,currentOffset:Ne,targetIndex:Ze})}return 0},"_getCalculatedScrollLeft")},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:r(function(L,J){var oe=J.scrollLeft,re=ie._getCalculatedScrollLeft(L,J);return typeof re=="number"&&re>=0&&oe!==re?ie._getScrollToPositionStateUpdate({prevState:J,scrollLeft:re,scrollTop:-1}):null},"_getScrollLeftForScrollToColumnStateUpdate")},{key:"_getCalculatedScrollTop",value:r(function(L,J){var oe=L.height,re=L.rowCount,be=L.scrollToAlignment,Me=L.scrollToRow,De=L.width,Ne=J.scrollTop,Be=J.instanceProps;if(re>0){var Ge=re-1,Ze=Me<0?Ge:Math.min(Ge,Me),gt=Be.columnSizeAndPositionManager.getTotalSize(),_t=Be.scrollbarSizeMeasured&&gt>De?Be.scrollbarSize:0;return Be.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:be,containerSize:oe-_t,currentOffset:Ne,targetIndex:Ze})}return 0},"_getCalculatedScrollTop")},{key:"_getScrollTopForScrollToRowStateUpdate",value:r(function(L,J){var oe=J.scrollTop,re=ie._getCalculatedScrollTop(L,J);return typeof re=="number"&&re>=0&&oe!==re?ie._getScrollToPositionStateUpdate({prevState:J,scrollLeft:-1,scrollTop:re}):null},"_getScrollTopForScrollToRowStateUpdate")}]),ie}(s.PureComponent);tt.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Dt,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:cn,noContentRenderer:kt,onScroll:r(function(){},"onScroll"),onScrollbarPresenceChange:r(function(){},"onScrollbarPresenceChange"),onSectionRendered:r(function(){},"onSectionRendered"),overscanColumnCount:0,overscanIndicesGetter:Gt,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Re,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},tt.propTypes=null,Object(p.polyfill)(tt);var it=tt,bt=-1,an=1,un="horizontal",en="vertical";function Mn(ue){var ie=ue.cellCount,q=ue.overscanCellsCount,L=ue.scrollDirection,J=ue.startIndex,oe=ue.stopIndex;return q=Math.max(1,q),L===an?{overscanStartIndex:Math.max(0,J-1),overscanStopIndex:Math.min(ie-1,oe+q)}:{overscanStartIndex:Math.max(0,J-q),overscanStopIndex:Math.min(ie-1,oe+1)}}r(Mn,"accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter");var qi=null,pi=function(ue){n()(ie,ue);function ie(){var q,L,J,oe;m()(this,ie);for(var re=arguments.length,be=Array(re),Me=0;Me<re;Me++)be[Me]=arguments[Me];return oe=(L=(J=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(be))),J),J.state={scrollToColumn:0,scrollToRow:0},J._columnStartIndex=0,J._columnStopIndex=0,J._rowStartIndex=0,J._rowStopIndex=0,J._onKeyDown=function(De){var Ne=J.props,Be=Ne.columnCount,Ge=Ne.disabled,Ze=Ne.mode,gt=Ne.rowCount;if(!Ge){var _t=J._getScrollState(),Jt=_t.scrollToColumn,Xt=_t.scrollToRow,fn=J._getScrollState(),pn=fn.scrollToColumn,wn=fn.scrollToRow;switch(De.key){case"ArrowDown":wn=Math.min(Ze==="cells"?wn+1:J._rowStopIndex+1,gt-1);break;case"ArrowLeft":pn=Math.max(Ze==="cells"?pn-1:J._columnStartIndex-1,0);break;case"ArrowRight":pn=Math.min(Ze==="cells"?pn+1:J._columnStopIndex+1,Be-1);break;case"ArrowUp":wn=Math.max(Ze==="cells"?wn-1:J._rowStartIndex-1,0);break}(pn!==Jt||wn!==Xt)&&(De.preventDefault(),J._updateScrollState({scrollToColumn:pn,scrollToRow:wn}))}},J._onSectionRendered=function(De){var Ne=De.columnStartIndex,Be=De.columnStopIndex,Ge=De.rowStartIndex,Ze=De.rowStopIndex;J._columnStartIndex=Ne,J._columnStopIndex=Be,J._rowStartIndex=Ge,J._rowStopIndex=Ze},L),e()(J,oe)}return r(ie,"ArrowKeyStepper"),o()(ie,[{key:"setScrollIndexes",value:r(function(L){var J=L.scrollToColumn,oe=L.scrollToRow;this.setState({scrollToRow:oe,scrollToColumn:J})},"setScrollIndexes")},{key:"render",value:r(function(){var L=this.props,J=L.className,oe=L.children,re=this._getScrollState(),be=re.scrollToColumn,Me=re.scrollToRow;return s.createElement("div",{className:J,onKeyDown:this._onKeyDown},oe({onSectionRendered:this._onSectionRendered,scrollToColumn:be,scrollToRow:Me}))},"render")},{key:"_getScrollState",value:r(function(){return this.props.isControlled?this.props:this.state},"_getScrollState")},{key:"_updateScrollState",value:r(function(L){var J=L.scrollToColumn,oe=L.scrollToRow,re=this.props,be=re.isControlled,Me=re.onScrollToChange;typeof Me=="function"&&Me({scrollToColumn:J,scrollToRow:oe}),be||this.setState({scrollToColumn:J,scrollToRow:oe})},"_updateScrollState")}],[{key:"getDerivedStateFromProps",value:r(function(L,J){return L.isControlled?null:L.scrollToColumn!==J.scrollToColumn||L.scrollToRow!==J.scrollToRow?{scrollToColumn:L.scrollToColumn,scrollToRow:L.scrollToRow}:null},"getDerivedStateFromProps")}]),ie}(s.PureComponent);pi.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},pi.propTypes=null,Object(p.polyfill)(pi);var dr=pi,Ki=d("m0Av"),mi=function(ue){n()(ie,ue);function ie(){var q,L,J,oe;m()(this,ie);for(var re=arguments.length,be=Array(re),Me=0;Me<re;Me++)be[Me]=arguments[Me];return oe=(L=(J=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(be))),J),J.state={height:J.props.defaultHeight||0,width:J.props.defaultWidth||0},J._onResize=function(){var De=J.props,Ne=De.disableHeight,Be=De.disableWidth,Ge=De.onResize;if(J._parentNode){var Ze=J._parentNode.offsetHeight||0,gt=J._parentNode.offsetWidth||0,_t=J._window||window,Jt=_t.getComputedStyle(J._parentNode)||{},Xt=parseInt(Jt.paddingLeft,10)||0,fn=parseInt(Jt.paddingRight,10)||0,pn=parseInt(Jt.paddingTop,10)||0,wn=parseInt(Jt.paddingBottom,10)||0,Pt=Ze-pn-wn,ei=gt-Xt-fn;(!Ne&&J.state.height!==Pt||!Be&&J.state.width!==ei)&&(J.setState({height:Ze-pn-wn,width:gt-Xt-fn}),Ge({height:Ze,width:gt}))}},J._setRef=function(De){J._autoSizer=De},L),e()(J,oe)}return r(ie,"AutoSizer"),o()(ie,[{key:"componentDidMount",value:r(function(){var L=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(Ki.a)(L,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())},"componentDidMount")},{key:"componentWillUnmount",value:r(function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)},"componentWillUnmount")},{key:"render",value:r(function(){var L=this.props,J=L.children,oe=L.className,re=L.disableHeight,be=L.disableWidth,Me=L.style,De=this.state,Ne=De.height,Be=De.width,Ge={overflow:"visible"},Ze={};return re||(Ge.height=0,Ze.height=Ne),be||(Ge.width=0,Ze.width=Be),s.createElement("div",{className:oe,ref:this._setRef,style:l()({},Ge,Me)},J(Ze))},"render")}]),ie}(s.PureComponent);mi.defaultProps={onResize:r(function(){},"onResize"),disableHeight:!1,disableWidth:!1,style:{}},mi.propTypes=null;var Pr=mi,si=d("wSSu"),or=null,$n=function(ue){n()(ie,ue);function ie(){var q,L,J,oe;m()(this,ie);for(var re=arguments.length,be=Array(re),Me=0;Me<re;Me++)be[Me]=arguments[Me];return oe=(L=(J=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(be))),J),J._measure=function(){var De=J.props,Ne=De.cache,Be=De.columnIndex,Ge=Be===void 0?0:Be,Ze=De.parent,gt=De.rowIndex,_t=gt===void 0?J.props.index||0:gt,Jt=J._getCellMeasurements(),Xt=Jt.height,fn=Jt.width;(Xt!==Ne.getHeight(_t,Ge)||fn!==Ne.getWidth(_t,Ge))&&(Ne.set(_t,Ge,fn,Xt),Ze&&typeof Ze.recomputeGridSize=="function"&&Ze.recomputeGridSize({columnIndex:Ge,rowIndex:_t}))},L),e()(J,oe)}return r(ie,"CellMeasurer"),o()(ie,[{key:"componentDidMount",value:r(function(){this._maybeMeasureCell()},"componentDidMount")},{key:"componentDidUpdate",value:r(function(){this._maybeMeasureCell()},"componentDidUpdate")},{key:"render",value:r(function(){var L=this.props.children;return typeof L=="function"?L({measure:this._measure}):L},"render")},{key:"_getCellMeasurements",value:r(function(){var L=this.props.cache,J=Object(si.findDOMNode)(this);if(J&&J.ownerDocument&&J.ownerDocument.defaultView&&J instanceof J.ownerDocument.defaultView.HTMLElement){var oe=J.style.width,re=J.style.height;L.hasFixedWidth()||(J.style.width="auto"),L.hasFixedHeight()||(J.style.height="auto");var be=Math.ceil(J.offsetHeight),Me=Math.ceil(J.offsetWidth);return oe&&(J.style.width=oe),re&&(J.style.height=re),{height:be,width:Me}}else return{height:0,width:0}},"_getCellMeasurements")},{key:"_maybeMeasureCell",value:r(function(){var L=this.props,J=L.cache,oe=L.columnIndex,re=oe===void 0?0:oe,be=L.parent,Me=L.rowIndex,De=Me===void 0?this.props.index||0:Me;if(!J.has(De,re)){var Ne=this._getCellMeasurements(),Be=Ne.height,Ge=Ne.width;J.set(De,re,Ge,Be),be&&typeof be.invalidateCellSizeAfterRender=="function"&&be.invalidateCellSizeAfterRender({columnIndex:re,rowIndex:De})}},"_maybeMeasureCell")}]),ie}(s.PureComponent);$n.__internalCellMeasurerFlag=!1,$n.propTypes=null;var ur=$n,Ji=30,xr=100,Dr=function(){function ue(){var ie=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m()(this,ue),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(Ne){var Be=Ne.index,Ge=ie._keyMapper(0,Be);return ie._columnWidthCache.hasOwnProperty(Ge)?ie._columnWidthCache[Ge]:ie._defaultWidth},this.rowHeight=function(Ne){var Be=Ne.index,Ge=ie._keyMapper(Be,0);return ie._rowHeightCache.hasOwnProperty(Ge)?ie._rowHeightCache[Ge]:ie._defaultHeight};var L=q.defaultHeight,J=q.defaultWidth,oe=q.fixedHeight,re=q.fixedWidth,be=q.keyMapper,Me=q.minHeight,De=q.minWidth;this._hasFixedHeight=oe===!0,this._hasFixedWidth=re===!0,this._minHeight=Me||0,this._minWidth=De||0,this._keyMapper=be||_r,this._defaultHeight=Math.max(this._minHeight,typeof L=="number"?L:Ji),this._defaultWidth=Math.max(this._minWidth,typeof J=="number"?J:xr)}return r(ue,"CellMeasurerCache"),o()(ue,[{key:"clear",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=this._keyMapper(q,L);delete this._cellHeightCache[J],delete this._cellWidthCache[J],this._updateCachedColumnAndRowSizes(q,L)},"clear")},{key:"clearAll",value:r(function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0},"clearAll")},{key:"hasFixedHeight",value:r(function(){return this._hasFixedHeight},"hasFixedHeight")},{key:"hasFixedWidth",value:r(function(){return this._hasFixedWidth},"hasFixedWidth")},{key:"getHeight",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var J=this._keyMapper(q,L);return this._cellHeightCache.hasOwnProperty(J)?Math.max(this._minHeight,this._cellHeightCache[J]):this._defaultHeight},"getHeight")},{key:"getWidth",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var J=this._keyMapper(q,L);return this._cellWidthCache.hasOwnProperty(J)?Math.max(this._minWidth,this._cellWidthCache[J]):this._defaultWidth},"getWidth")},{key:"has",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=this._keyMapper(q,L);return this._cellHeightCache.hasOwnProperty(J)},"has")},{key:"set",value:r(function(q,L,J,oe){var re=this._keyMapper(q,L);L>=this._columnCount&&(this._columnCount=L+1),q>=this._rowCount&&(this._rowCount=q+1),this._cellHeightCache[re]=oe,this._cellWidthCache[re]=J,this._updateCachedColumnAndRowSizes(q,L)},"set")},{key:"_updateCachedColumnAndRowSizes",value:r(function(q,L){if(!this._hasFixedWidth){for(var J=0,oe=0;oe<this._rowCount;oe++)J=Math.max(J,this.getWidth(oe,L));var re=this._keyMapper(0,L);this._columnWidthCache[re]=J}if(!this._hasFixedHeight){for(var be=0,Me=0;Me<this._columnCount;Me++)be=Math.max(be,this.getHeight(q,Me));var De=this._keyMapper(q,0);this._rowHeightCache[De]=be}},"_updateCachedColumnAndRowSizes")},{key:"defaultHeight",get:r(function(){return this._defaultHeight},"get")},{key:"defaultWidth",get:r(function(){return this._defaultWidth},"get")}]),ue}(),Xi=Dr;function _r(ue,ie){return ue+"-"+ie}r(_r,"defaultKeyMapper");var vt=ur,z=150,de={OBSERVED:"observed",REQUESTED:"requested"},Ie=function(ue){n()(ie,ue);function ie(){var q;m()(this,ie);for(var L=arguments.length,J=Array(L),oe=0;oe<L;oe++)J[oe]=arguments[oe];var re=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(J)));return re.state={isScrolling:!1,scrollLeft:0,scrollTop:0},re._calculateSizeAndPositionDataOnNextUpdate=!1,re._onSectionRenderedMemoizer=oi(),re._onScrollMemoizer=oi(!1),re._invokeOnSectionRenderedHelper=function(){var be=re.props,Me=be.cellLayoutManager,De=be.onSectionRendered;re._onSectionRenderedMemoizer({callback:De,indices:{indices:Me.getLastRenderedIndices()}})},re._setScrollingContainerRef=function(be){re._scrollingContainer=be},re._updateScrollPositionForScrollToCell=function(){var be=re.props,Me=be.cellLayoutManager,De=be.height,Ne=be.scrollToAlignment,Be=be.scrollToCell,Ge=be.width,Ze=re.state,gt=Ze.scrollLeft,_t=Ze.scrollTop;if(Be>=0){var Jt=Me.getScrollPositionForCell({align:Ne,cellIndex:Be,height:De,scrollLeft:gt,scrollTop:_t,width:Ge});(Jt.scrollLeft!==gt||Jt.scrollTop!==_t)&&re._setScrollPosition(Jt)}},re._onScroll=function(be){if(be.target===re._scrollingContainer){re._enablePointerEventsAfterDelay();var Me=re.props,De=Me.cellLayoutManager,Ne=Me.height,Be=Me.isScrollingChange,Ge=Me.width,Ze=re._scrollbarSize,gt=De.getTotalSize(),_t=gt.height,Jt=gt.width,Xt=Math.max(0,Math.min(Jt-Ge+Ze,be.target.scrollLeft)),fn=Math.max(0,Math.min(_t-Ne+Ze,be.target.scrollTop));if(re.state.scrollLeft!==Xt||re.state.scrollTop!==fn){var pn=be.cancelable?de.OBSERVED:de.REQUESTED;re.state.isScrolling||Be(!0),re.setState({isScrolling:!0,scrollLeft:Xt,scrollPositionChangeReason:pn,scrollTop:fn})}re._invokeOnScrollMemoizer({scrollLeft:Xt,scrollTop:fn,totalWidth:Jt,totalHeight:_t})}},re._scrollbarSize=cn(),re._scrollbarSize===void 0?(re._scrollbarSizeMeasured=!1,re._scrollbarSize=0):re._scrollbarSizeMeasured=!0,re}return r(ie,"CollectionView"),o()(ie,[{key:"recomputeCellSizesAndPositions",value:r(function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()},"recomputeCellSizesAndPositions")},{key:"componentDidMount",value:r(function(){var L=this.props,J=L.cellLayoutManager,oe=L.scrollLeft,re=L.scrollToCell,be=L.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=cn(),this._scrollbarSizeMeasured=!0,this.setState({})),re>=0?this._updateScrollPositionForScrollToCell():(oe>=0||be>=0)&&this._setScrollPosition({scrollLeft:oe,scrollTop:be}),this._invokeOnSectionRenderedHelper();var Me=J.getTotalSize(),De=Me.height,Ne=Me.width;this._invokeOnScrollMemoizer({scrollLeft:oe||0,scrollTop:be||0,totalHeight:De,totalWidth:Ne})},"componentDidMount")},{key:"componentDidUpdate",value:r(function(L,J){var oe=this.props,re=oe.height,be=oe.scrollToAlignment,Me=oe.scrollToCell,De=oe.width,Ne=this.state,Be=Ne.scrollLeft,Ge=Ne.scrollPositionChangeReason,Ze=Ne.scrollTop;Ge===de.REQUESTED&&(Be>=0&&Be!==J.scrollLeft&&Be!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=Be),Ze>=0&&Ze!==J.scrollTop&&Ze!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=Ze)),(re!==L.height||be!==L.scrollToAlignment||Me!==L.scrollToCell||De!==L.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()},"componentDidUpdate")},{key:"componentWillUnmount",value:r(function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)},"componentWillUnmount")},{key:"render",value:r(function(){var L=this.props,J=L.autoHeight,oe=L.cellCount,re=L.cellLayoutManager,be=L.className,Me=L.height,De=L.horizontalOverscanSize,Ne=L.id,Be=L.noContentRenderer,Ge=L.style,Ze=L.verticalOverscanSize,gt=L.width,_t=this.state,Jt=_t.isScrolling,Xt=_t.scrollLeft,fn=_t.scrollTop;(this._lastRenderedCellCount!==oe||this._lastRenderedCellLayoutManager!==re||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=oe,this._lastRenderedCellLayoutManager=re,this._calculateSizeAndPositionDataOnNextUpdate=!1,re.calculateSizeAndPositionData());var pn=re.getTotalSize(),wn=pn.height,Pt=pn.width,ei=Math.max(0,Xt-De),Xn=Math.max(0,fn-Ze),Ii=Math.min(Pt,Xt+gt+De),_i=Math.min(wn,fn+Me+Ze),wi=Me>0&&gt>0?re.cellRenderers({height:_i-Xn,isScrolling:Jt,width:Ii-ei,x:ei,y:Xn}):[],bi={boxSizing:"border-box",direction:"ltr",height:J?"auto":Me,position:"relative",WebkitOverflowScrolling:"touch",width:gt,willChange:"transform"},Vi=wn>Me?this._scrollbarSize:0,Pi=Pt>gt?this._scrollbarSize:0;return bi.overflowX=Pt+Vi<=gt?"hidden":"auto",bi.overflowY=wn+Pi<=Me?"hidden":"auto",s.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:P("ReactVirtualized__Collection",be),id:Ne,onScroll:this._onScroll,role:"grid",style:l()({},bi,Ge),tabIndex:0},oe>0&&s.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:wn,maxHeight:wn,maxWidth:Pt,overflow:"hidden",pointerEvents:Jt?"none":"",width:Pt}},wi),oe===0&&Be())},"render")},{key:"_enablePointerEventsAfterDelay",value:r(function(){var L=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var J=L.props.isScrollingChange;J(!1),L._disablePointerEventsTimeoutId=null,L.setState({isScrolling:!1})},z)},"_enablePointerEventsAfterDelay")},{key:"_invokeOnScrollMemoizer",value:r(function(L){var J=this,oe=L.scrollLeft,re=L.scrollTop,be=L.totalHeight,Me=L.totalWidth;this._onScrollMemoizer({callback:r(function(Ne){var Be=Ne.scrollLeft,Ge=Ne.scrollTop,Ze=J.props,gt=Ze.height,_t=Ze.onScroll,Jt=Ze.width;_t({clientHeight:gt,clientWidth:Jt,scrollHeight:be,scrollLeft:Be,scrollTop:Ge,scrollWidth:Me})},"callback"),indices:{scrollLeft:oe,scrollTop:re}})},"_invokeOnScrollMemoizer")},{key:"_setScrollPosition",value:r(function(L){var J=L.scrollLeft,oe=L.scrollTop,re={scrollPositionChangeReason:de.REQUESTED};J>=0&&(re.scrollLeft=J),oe>=0&&(re.scrollTop=oe),(J>=0&&J!==this.state.scrollLeft||oe>=0&&oe!==this.state.scrollTop)&&this.setState(re)},"_setScrollPosition")}],[{key:"getDerivedStateFromProps",value:r(function(L,J){return L.cellCount===0&&(J.scrollLeft!==0||J.scrollTop!==0)?{scrollLeft:0,scrollTop:0}:L.scrollLeft!==J.scrollLeft||L.scrollTop!==J.scrollTop?{scrollLeft:L.scrollLeft!=null?L.scrollLeft:J.scrollLeft,scrollTop:L.scrollTop!=null?L.scrollTop:J.scrollTop}:null},"getDerivedStateFromProps")}]),ie}(s.PureComponent);Ie.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:r(function(){return null},"noContentRenderer"),onScroll:r(function(){return null},"onScroll"),onSectionRendered:r(function(){return null},"onSectionRendered"),scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},Ie.propTypes={},Object(p.polyfill)(Ie);var xe=Ie,$e=null,ut=null,mt=null,St=null,It=null,Rt=function(){function ue(ie){var q=ie.height,L=ie.width,J=ie.x,oe=ie.y;m()(this,ue),this.height=q,this.width=L,this.x=J,this.y=oe,this._indexMap={},this._indices=[]}return r(ue,"Section"),o()(ue,[{key:"addCellIndex",value:r(function(q){var L=q.index;this._indexMap[L]||(this._indexMap[L]=!0,this._indices.push(L))},"addCellIndex")},{key:"getCellIndices",value:r(function(){return this._indices},"getCellIndices")},{key:"toString",value:r(function(){return this.x+","+this.y+" "+this.width+"x"+this.height},"toString")}]),ue}(),Zt=Rt,Wt=100,on=function(){function ue(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wt;m()(this,ue),this._sectionSize=ie,this._cellMetadata=[],this._sections={}}return r(ue,"SectionManager"),o()(ue,[{key:"getCellIndices",value:r(function(q){var L=q.height,J=q.width,oe=q.x,re=q.y,be={};return this.getSections({height:L,width:J,x:oe,y:re}).forEach(function(Me){return Me.getCellIndices().forEach(function(De){be[De]=De})}),Sn()(be).map(function(Me){return be[Me]})},"getCellIndices")},{key:"getCellMetadata",value:r(function(q){var L=q.index;return this._cellMetadata[L]},"getCellMetadata")},{key:"getSections",value:r(function(q){for(var L=q.height,J=q.width,oe=q.x,re=q.y,be=Math.floor(oe/this._sectionSize),Me=Math.floor((oe+J-1)/this._sectionSize),De=Math.floor(re/this._sectionSize),Ne=Math.floor((re+L-1)/this._sectionSize),Be=[],Ge=be;Ge<=Me;Ge++)for(var Ze=De;Ze<=Ne;Ze++){var gt=Ge+"."+Ze;this._sections[gt]||(this._sections[gt]=new Zt({height:this._sectionSize,width:this._sectionSize,x:Ge*this._sectionSize,y:Ze*this._sectionSize})),Be.push(this._sections[gt])}return Be},"getSections")},{key:"getTotalSectionCount",value:r(function(){return Sn()(this._sections).length},"getTotalSectionCount")},{key:"toString",value:r(function(){var q=this;return Sn()(this._sections).map(function(L){return q._sections[L].toString()})},"toString")},{key:"registerCell",value:r(function(q){var L=q.cellMetadatum,J=q.index;this._cellMetadata[J]=L,this.getSections(L).forEach(function(oe){return oe.addCellIndex({index:J})})},"registerCell")}]),ue}(),Tt=on;function Yn(ue){for(var ie=ue.cellCount,q=ue.cellSizeAndPositionGetter,L=ue.sectionSize,J=[],oe=new Tt(L),re=0,be=0,Me=0;Me<ie;Me++){var De=q({index:Me});if(De.height==null||isNaN(De.height)||De.width==null||isNaN(De.width)||De.x==null||isNaN(De.x)||De.y==null||isNaN(De.y))throw Error("Invalid metadata returned for cell "+Me+`:
        x:`+De.x+", y:"+De.y+", width:"+De.width+", height:"+De.height);re=Math.max(re,De.y+De.height),be=Math.max(be,De.x+De.width),J[Me]=De,oe.registerCell({cellMetadatum:De,index:Me})}return{cellMetadata:J,height:re,sectionManager:oe,width:be}}r(Yn,"calculateSizeAndPositionData_calculateSizeAndPositionData");function kn(ue){var ie=ue.align,q=ie===void 0?"auto":ie,L=ue.cellOffset,J=ue.cellSize,oe=ue.containerSize,re=ue.currentOffset,be=L,Me=be-oe+J;switch(q){case"start":return be;case"end":return Me;case"center":return be-(oe-J)/2;default:return Math.max(Me,Math.min(be,re))}}r(kn,"getUpdatedOffsetForIndex");var Si=function(ue){n()(ie,ue);function ie(q,L){m()(this,ie);var J=e()(this,(ie.__proto__||f()(ie)).call(this,q,L));return J._cellMetadata=[],J._lastRenderedCellIndices=[],J._cellCache=[],J._isScrollingChange=J._isScrollingChange.bind(J),J._setCollectionViewRef=J._setCollectionViewRef.bind(J),J}return r(ie,"Collection"),o()(ie,[{key:"forceUpdate",value:r(function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()},"forceUpdate")},{key:"recomputeCellSizesAndPositions",value:r(function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()},"recomputeCellSizesAndPositions")},{key:"render",value:r(function(){var L=B()(this.props,[]);return s.createElement(xe,l()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},L))},"render")},{key:"calculateSizeAndPositionData",value:r(function(){var L=this.props,J=L.cellCount,oe=L.cellSizeAndPositionGetter,re=L.sectionSize,be=Yn({cellCount:J,cellSizeAndPositionGetter:oe,sectionSize:re});this._cellMetadata=be.cellMetadata,this._sectionManager=be.sectionManager,this._height=be.height,this._width=be.width},"calculateSizeAndPositionData")},{key:"getLastRenderedIndices",value:r(function(){return this._lastRenderedCellIndices},"getLastRenderedIndices")},{key:"getScrollPositionForCell",value:r(function(L){var J=L.align,oe=L.cellIndex,re=L.height,be=L.scrollLeft,Me=L.scrollTop,De=L.width,Ne=this.props.cellCount;if(oe>=0&&oe<Ne){var Be=this._cellMetadata[oe];be=kn({align:J,cellOffset:Be.x,cellSize:Be.width,containerSize:De,currentOffset:be,targetIndex:oe}),Me=kn({align:J,cellOffset:Be.y,cellSize:Be.height,containerSize:re,currentOffset:Me,targetIndex:oe})}return{scrollLeft:be,scrollTop:Me}},"getScrollPositionForCell")},{key:"getTotalSize",value:r(function(){return{height:this._height,width:this._width}},"getTotalSize")},{key:"cellRenderers",value:r(function(L){var J=this,oe=L.height,re=L.isScrolling,be=L.width,Me=L.x,De=L.y,Ne=this.props,Be=Ne.cellGroupRenderer,Ge=Ne.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:oe,width:be,x:Me,y:De}),Be({cellCache:this._cellCache,cellRenderer:Ge,cellSizeAndPositionGetter:r(function(gt){var _t=gt.index;return J._sectionManager.getCellMetadata({index:_t})},"cellSizeAndPositionGetter"),indices:this._lastRenderedCellIndices,isScrolling:re})},"cellRenderers")},{key:"_isScrollingChange",value:r(function(L){L||(this._cellCache=[])},"_isScrollingChange")},{key:"_setCollectionViewRef",value:r(function(L){this._collectionView=L},"_setCollectionViewRef")}]),ie}(s.PureComponent);Si.defaultProps={"aria-label":"grid",cellGroupRenderer:fi};var ui=Si;Si.propTypes={};function fi(ue){var ie=ue.cellCache,q=ue.cellRenderer,L=ue.cellSizeAndPositionGetter,J=ue.indices,oe=ue.isScrolling;return J.map(function(re){var be=L({index:re}),Me={index:re,isScrolling:oe,key:re,style:{height:be.height,left:be.x,position:"absolute",top:be.y,width:be.width}};return oe?(re in ie||(ie[re]=q(Me)),ie[re]):q(Me)}).filter(function(re){return!!re})}r(fi,"defaultCellGroupRenderer");var gi=ui,yi=function(ue){n()(ie,ue);function ie(q,L){m()(this,ie);var J=e()(this,(ie.__proto__||f()(ie)).call(this,q,L));return J._registerChild=J._registerChild.bind(J),J}return r(ie,"ColumnSizer"),o()(ie,[{key:"componentDidUpdate",value:r(function(L){var J=this.props,oe=J.columnMaxWidth,re=J.columnMinWidth,be=J.columnCount,Me=J.width;(oe!==L.columnMaxWidth||re!==L.columnMinWidth||be!==L.columnCount||Me!==L.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()},"componentDidUpdate")},{key:"render",value:r(function(){var L=this.props,J=L.children,oe=L.columnMaxWidth,re=L.columnMinWidth,be=L.columnCount,Me=L.width,De=re||1,Ne=oe?Math.min(oe,Me):Me,Be=Me/be;Be=Math.max(De,Be),Be=Math.min(Ne,Be),Be=Math.floor(Be);var Ge=Math.min(Me,Be*be);return J({adjustedWidth:Ge,columnWidth:Be,getColumnWidth:r(function(){return Be},"getColumnWidth"),registerChild:this._registerChild})},"render")},{key:"_registerChild",value:r(function(L){if(L&&typeof L.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=L,this._registeredChild&&this._registeredChild.recomputeGridSize()},"_registerChild")}]),ie}(s.PureComponent),Fi=yi;yi.propTypes={};var ni=Fi,Ci=d("m1cH"),In=d.n(Ci),Qn=function(ue){n()(ie,ue);function ie(q,L){m()(this,ie);var J=e()(this,(ie.__proto__||f()(ie)).call(this,q,L));return J._loadMoreRowsMemoizer=oi(),J._onRowsRendered=J._onRowsRendered.bind(J),J._registerChild=J._registerChild.bind(J),J}return r(ie,"InfiniteLoader"),o()(ie,[{key:"resetLoadMoreRowsCache",value:r(function(L){this._loadMoreRowsMemoizer=oi(),L&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)},"resetLoadMoreRowsCache")},{key:"render",value:r(function(){var L=this.props.children;return L({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})},"render")},{key:"_loadUnloadedRanges",value:r(function(L){var J=this,oe=this.props.loadMoreRows;L.forEach(function(re){var be=oe(re);be&&be.then(function(){Zn({lastRenderedStartIndex:J._lastRenderedStartIndex,lastRenderedStopIndex:J._lastRenderedStopIndex,startIndex:re.startIndex,stopIndex:re.stopIndex})&&J._registeredChild&&Ui(J._registeredChild,J._lastRenderedStartIndex)})})},"_loadUnloadedRanges")},{key:"_onRowsRendered",value:r(function(L){var J=L.startIndex,oe=L.stopIndex;this._lastRenderedStartIndex=J,this._lastRenderedStopIndex=oe,this._doStuff(J,oe)},"_onRowsRendered")},{key:"_doStuff",value:r(function(L,J){var oe,re=this,be=this.props,Me=be.isRowLoaded,De=be.minimumBatchSize,Ne=be.rowCount,Be=be.threshold,Ge=yr({isRowLoaded:Me,minimumBatchSize:De,rowCount:Ne,startIndex:Math.max(0,L-Be),stopIndex:Math.min(Ne-1,J+Be)}),Ze=(oe=[]).concat.apply(oe,In()(Ge.map(function(gt){var _t=gt.startIndex,Jt=gt.stopIndex;return[_t,Jt]})));this._loadMoreRowsMemoizer({callback:r(function(){re._loadUnloadedRanges(Ge)},"callback"),indices:{squashedUnloadedRanges:Ze}})},"_doStuff")},{key:"_registerChild",value:r(function(L){this._registeredChild=L},"_registerChild")}]),ie}(s.PureComponent);Qn.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var ii=Qn;Qn.propTypes={};function Zn(ue){var ie=ue.lastRenderedStartIndex,q=ue.lastRenderedStopIndex,L=ue.startIndex,J=ue.stopIndex;return!(L>q||J<ie)}r(Zn,"isRangeVisible");function yr(ue){for(var ie=ue.isRowLoaded,q=ue.minimumBatchSize,L=ue.rowCount,J=ue.startIndex,oe=ue.stopIndex,re=[],be=null,Me=null,De=J;De<=oe;De++){var Ne=ie({index:De});Ne?Me!==null&&(re.push({startIndex:be,stopIndex:Me}),be=Me=null):(Me=De,be===null&&(be=De))}if(Me!==null){for(var Be=Math.min(Math.max(Me,be+q-1),L-1),Ge=Me+1;Ge<=Be&&!ie({index:Ge});Ge++)Me=Ge;re.push({startIndex:be,stopIndex:Me})}if(re.length)for(var Ze=re[0];Ze.stopIndex-Ze.startIndex+1<q&&Ze.startIndex>0;){var gt=Ze.startIndex-1;if(!ie({index:gt}))Ze.startIndex=gt;else break}return re}r(yr,"scanForUnloadedRanges");function Ui(ue){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=typeof ue.recomputeGridSize=="function"?ue.recomputeGridSize:ue.recomputeRowHeights;q?q.call(ue,ie):ue.forceUpdate()}r(Ui,"forceUpdateReactVirtualizedComponent");var sr=ii,Ri=d("JO7F"),No=d.n(Ri),er=null,Qi=null,qn=null,Yt=null,fr=function(ue){n()(ie,ue);function ie(){var q,L,J,oe;m()(this,ie);for(var re=arguments.length,be=Array(re),Me=0;Me<re;Me++)be[Me]=arguments[Me];return oe=(L=(J=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(be))),J),J._cellRenderer=function(De){var Ne=De.parent,Be=De.rowIndex,Ge=De.style,Ze=De.isScrolling,gt=De.isVisible,_t=De.key,Jt=J.props.rowRenderer,Xt=No()(Ge,"width"),fn=Xt.writable;return fn&&(Ge.width="100%"),Jt({index:Be,style:Ge,isScrolling:Ze,isVisible:gt,key:_t,parent:Ne})},J._setRef=function(De){J.Grid=De},J._onScroll=function(De){var Ne=De.clientHeight,Be=De.scrollHeight,Ge=De.scrollTop,Ze=J.props.onScroll;Ze({clientHeight:Ne,scrollHeight:Be,scrollTop:Ge})},J._onSectionRendered=function(De){var Ne=De.rowOverscanStartIndex,Be=De.rowOverscanStopIndex,Ge=De.rowStartIndex,Ze=De.rowStopIndex,gt=J.props.onRowsRendered;gt({overscanStartIndex:Ne,overscanStopIndex:Be,startIndex:Ge,stopIndex:Ze})},L),e()(J,oe)}return r(ie,"List"),o()(ie,[{key:"forceUpdateGrid",value:r(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:r(function(L){var J=L.alignment,oe=L.index;if(this.Grid){var re=this.Grid.getOffsetForCell({alignment:J,rowIndex:oe,columnIndex:0}),be=re.scrollTop;return be}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:r(function(L){var J=L.columnIndex,oe=L.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:oe,columnIndex:J})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:r(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=L.columnIndex,oe=J===void 0?0:J,re=L.rowIndex,be=re===void 0?0:re;this.Grid&&this.Grid.recomputeGridSize({rowIndex:be,columnIndex:oe})},"recomputeGridSize")},{key:"recomputeRowHeights",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L,columnIndex:0})},"recomputeRowHeights")},{key:"scrollToPosition",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})},"scrollToPosition")},{key:"scrollToRow",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})},"scrollToRow")},{key:"render",value:r(function(){var L=this.props,J=L.className,oe=L.noRowsRenderer,re=L.scrollToIndex,be=L.width,Me=P("ReactVirtualized__List",J);return s.createElement(it,l()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:Me,columnWidth:be,columnCount:1,noContentRenderer:oe,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:re}))},"render")}]),ie}(s.PureComponent);fr.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:r(function(){},"onScroll"),noRowsRenderer:r(function(){return null},"noRowsRenderer"),onRowsRendered:r(function(){},"onRowsRendered"),overscanIndicesGetter:Mn,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},fr.propTypes=null;var Zo=fr,so=d("YEIV"),Wi=d.n(so),Jr=d("sk9p"),Hr=d.n(Jr);function tr(ue,ie,q,L){for(var J=q+1;ie<=q;){var oe=ie+q>>>1,re=ue[oe];re>=L?(J=oe,q=oe-1):ie=oe+1}return J}r(tr,"_GEA");function Ts(ue,ie,q,L,J){for(var oe=q+1;ie<=q;){var re=ie+q>>>1,be=ue[re];J(be,L)>=0?(oe=re,q=re-1):ie=re+1}return oe}r(Ts,"_GEP");function Is(ue,ie,q,L,J){return typeof q=="function"?Ts(ue,L===void 0?0:L|0,J===void 0?ue.length-1:J|0,ie,q):tr(ue,q===void 0?0:q|0,L===void 0?ue.length-1:L|0,ie)}r(Is,"dispatchBsearchGE");function ki(ue,ie,q,L){for(var J=q+1;ie<=q;){var oe=ie+q>>>1,re=ue[oe];re>L?(J=oe,q=oe-1):ie=oe+1}return J}r(ki,"_GTA");function Cr(ue,ie,q,L,J){for(var oe=q+1;ie<=q;){var re=ie+q>>>1,be=ue[re];J(be,L)>0?(oe=re,q=re-1):ie=re+1}return oe}r(Cr,"_GTP");function Eo(ue,ie,q,L,J){return typeof q=="function"?Cr(ue,L===void 0?0:L|0,J===void 0?ue.length-1:J|0,ie,q):ki(ue,q===void 0?0:q|0,L===void 0?ue.length-1:L|0,ie)}r(Eo,"dispatchBsearchGT");function ws(ue,ie,q,L){for(var J=ie-1;ie<=q;){var oe=ie+q>>>1,re=ue[oe];re<L?(J=oe,ie=oe+1):q=oe-1}return J}r(ws,"_LTA");function Lr(ue,ie,q,L,J){for(var oe=ie-1;ie<=q;){var re=ie+q>>>1,be=ue[re];J(be,L)<0?(oe=re,ie=re+1):q=re-1}return oe}r(Lr,"_LTP");function fo(ue,ie,q,L,J){return typeof q=="function"?Lr(ue,L===void 0?0:L|0,J===void 0?ue.length-1:J|0,ie,q):ws(ue,q===void 0?0:q|0,L===void 0?ue.length-1:L|0,ie)}r(fo,"dispatchBsearchLT");function ao(ue,ie,q,L){for(var J=ie-1;ie<=q;){var oe=ie+q>>>1,re=ue[oe];re<=L?(J=oe,ie=oe+1):q=oe-1}return J}r(ao,"_LEA");function To(ue,ie,q,L,J){for(var oe=ie-1;ie<=q;){var re=ie+q>>>1,be=ue[re];J(be,L)<=0?(oe=re,ie=re+1):q=re-1}return oe}r(To,"_LEP");function qo(ue,ie,q,L,J){return typeof q=="function"?To(ue,L===void 0?0:L|0,J===void 0?ue.length-1:J|0,ie,q):ao(ue,q===void 0?0:q|0,L===void 0?ue.length-1:L|0,ie)}r(qo,"dispatchBsearchLE");function es(ue,ie,q,L){for(ie-1;ie<=q;){var J=ie+q>>>1,oe=ue[J];if(oe===L)return J;oe<=L?ie=J+1:q=J-1}return-1}r(es,"_EQA");function Bo(ue,ie,q,L,J){for(ie-1;ie<=q;){var oe=ie+q>>>1,re=ue[oe],be=J(re,L);if(be===0)return oe;be<=0?ie=oe+1:q=oe-1}return-1}r(Bo,"_EQP");function ts(ue,ie,q,L,J){return typeof q=="function"?Bo(ue,L===void 0?0:L|0,J===void 0?ue.length-1:J|0,ie,q):es(ue,q===void 0?0:q|0,L===void 0?ue.length-1:L|0,ie)}r(ts,"dispatchBsearchEQ");var ho={ge:Is,gt:Eo,lt:fo,le:qo,eq:ts},zr=0,Nr=1,Io=2;function po(ue,ie,q,L,J){this.mid=ue,this.left=ie,this.right=q,this.leftPoints=L,this.rightPoints=J,this.count=(ie?ie.count:0)+(q?q.count:0)+L.length}r(po,"IntervalTreeNode");var Yr=po.prototype;function Fo(ue,ie){ue.mid=ie.mid,ue.left=ie.left,ue.right=ie.right,ue.leftPoints=ie.leftPoints,ue.rightPoints=ie.rightPoints,ue.count=ie.count}r(Fo,"copy");function Uo(ue,ie){var q=Br(ie);ue.mid=q.mid,ue.left=q.left,ue.right=q.right,ue.leftPoints=q.leftPoints,ue.rightPoints=q.rightPoints,ue.count=q.count}r(Uo,"rebuild");function Vo(ue,ie){var q=ue.intervals([]);q.push(ie),Uo(ue,q)}r(Vo,"rebuildWithInterval");function ar(ue,ie){var q=ue.intervals([]),L=q.indexOf(ie);return L<0?zr:(q.splice(L,1),Uo(ue,q),Nr)}r(ar,"rebuildWithoutInterval"),Yr.intervals=function(ue){return ue.push.apply(ue,this.leftPoints),this.left&&this.left.intervals(ue),this.right&&this.right.intervals(ue),ue},Yr.insert=function(ue){var ie=this.count-this.leftPoints.length;if(this.count+=1,ue[1]<this.mid)this.left?4*(this.left.count+1)>3*(ie+1)?Vo(this,ue):this.left.insert(ue):this.left=Br([ue]);else if(ue[0]>this.mid)this.right?4*(this.right.count+1)>3*(ie+1)?Vo(this,ue):this.right.insert(ue):this.right=Br([ue]);else{var q=ho.ge(this.leftPoints,ue,lo),L=ho.ge(this.rightPoints,ue,br);this.leftPoints.splice(q,0,ue),this.rightPoints.splice(L,0,ue)}},Yr.remove=function(ue){var ie=this.count-this.leftPoints;if(ue[1]<this.mid){if(!this.left)return zr;var q=this.right?this.right.count:0;if(4*q>3*(ie-1))return ar(this,ue);var L=this.left.remove(ue);return L===Io?(this.left=null,this.count-=1,Nr):(L===Nr&&(this.count-=1),L)}else if(ue[0]>this.mid){if(!this.right)return zr;var J=this.left?this.left.count:0;if(4*J>3*(ie-1))return ar(this,ue);var L=this.right.remove(ue);return L===Io?(this.right=null,this.count-=1,Nr):(L===Nr&&(this.count-=1),L)}else{if(this.count===1)return this.leftPoints[0]===ue?Io:zr;if(this.leftPoints.length===1&&this.leftPoints[0]===ue){if(this.left&&this.right){for(var oe=this,re=this.left;re.right;)oe=re,re=re.right;if(oe===this)re.right=this.right;else{var be=this.left,L=this.right;oe.count-=re.count,oe.right=re.left,re.left=be,re.right=L}Fo(this,re),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Fo(this,this.left):Fo(this,this.right);return Nr}for(var be=ho.ge(this.leftPoints,ue,lo);be<this.leftPoints.length&&this.leftPoints[be][0]===ue[0];++be)if(this.leftPoints[be]===ue){this.count-=1,this.leftPoints.splice(be,1);for(var L=ho.ge(this.rightPoints,ue,br);L<this.rightPoints.length&&this.rightPoints[L][1]===ue[1];++L)if(this.rightPoints[L]===ue)return this.rightPoints.splice(L,1),Nr}return zr}};function Ho(ue,ie,q){for(var L=0;L<ue.length&&ue[L][0]<=ie;++L){var J=q(ue[L]);if(J)return J}}r(Ho,"reportLeftRange");function ns(ue,ie,q){for(var L=ue.length-1;L>=0&&ue[L][1]>=ie;--L){var J=q(ue[L]);if(J)return J}}r(ns,"reportRightRange");function zo(ue,ie){for(var q=0;q<ue.length;++q){var L=ie(ue[q]);if(L)return L}}r(zo,"reportRange"),Yr.queryPoint=function(ue,ie){if(ue<this.mid){if(this.left){var q=this.left.queryPoint(ue,ie);if(q)return q}return Ho(this.leftPoints,ue,ie)}else if(ue>this.mid){if(this.right){var q=this.right.queryPoint(ue,ie);if(q)return q}return ns(this.rightPoints,ue,ie)}else return zo(this.leftPoints,ie)},Yr.queryInterval=function(ue,ie,q){if(ue<this.mid&&this.left){var L=this.left.queryInterval(ue,ie,q);if(L)return L}if(ie>this.mid&&this.right){var L=this.right.queryInterval(ue,ie,q);if(L)return L}return ie<this.mid?Ho(this.leftPoints,ie,q):ue>this.mid?ns(this.rightPoints,ue,q):zo(this.leftPoints,q)};function Wr(ue,ie){return ue-ie}r(Wr,"compareNumbers");function lo(ue,ie){var q=ue[0]-ie[0];return q||ue[1]-ie[1]}r(lo,"compareBegin");function br(ue,ie){var q=ue[1]-ie[1];return q||ue[0]-ie[0]}r(br,"compareEnd");function Br(ue){if(ue.length===0)return null;for(var ie=[],q=0;q<ue.length;++q)ie.push(ue[q][0],ue[q][1]);ie.sort(Wr);for(var L=ie[ie.length>>1],J=[],oe=[],re=[],q=0;q<ue.length;++q){var be=ue[q];be[1]<L?J.push(be):L<be[0]?oe.push(be):re.push(be)}var Me=re,De=re.slice();return Me.sort(lo),De.sort(br),new po(L,Br(J),Br(oe),Me,De)}r(Br,"createIntervalTree");function Wo(ue){this.root=ue}r(Wo,"IntervalTree");var Xr=Wo.prototype;Xr.insert=function(ue){this.root?this.root.insert(ue):this.root=new po(ue[0],null,null,[ue],[ue])},Xr.remove=function(ue){if(this.root){var ie=this.root.remove(ue);return ie===Io&&(this.root=null),ie!==zr}return!1},Xr.queryPoint=function(ue,ie){if(this.root)return this.root.queryPoint(ue,ie)},Xr.queryInterval=function(ue,ie,q){if(ue<=ie&&this.root)return this.root.queryInterval(ue,ie,q)},Object.defineProperty(Xr,"count",{get:r(function(){return this.root?this.root.count:0},"get")}),Object.defineProperty(Xr,"intervals",{get:r(function(){return this.root?this.root.intervals([]):[]},"get")});function is(ue){return!ue||ue.length===0?new Wo(null):new Wo(Br(ue))}r(is,"createWrapper");var kr=function(){function ue(){m()(this,ue),this._columnSizeMap={},this._intervalTree=is(),this._leftMap={}}return r(ue,"PositionCache"),o()(ue,[{key:"estimateTotalHeight",value:r(function(q,L,J){var oe=q-this.count;return this.tallestColumnSize+Math.ceil(oe/L)*J},"estimateTotalHeight")},{key:"range",value:r(function(q,L,J){var oe=this;this._intervalTree.queryInterval(q,q+L,function(re){var be=Hr()(re,3),Me=be[0],De=be[1],Ne=be[2];return J(Ne,oe._leftMap[Ne],Me)})},"range")},{key:"setPosition",value:r(function(q,L,J,oe){this._intervalTree.insert([J,J+oe,q]),this._leftMap[q]=L;var re=this._columnSizeMap,be=re[L];be===void 0?re[L]=J+oe:re[L]=Math.max(be,J+oe)},"setPosition")},{key:"count",get:r(function(){return this._intervalTree.count},"get")},{key:"shortestColumnSize",get:r(function(){var q=this._columnSizeMap,L=0;for(var J in q){var oe=q[J];L=L===0?oe:Math.min(L,oe)}return L},"get")},{key:"tallestColumnSize",get:r(function(){var q=this._columnSizeMap,L=0;for(var J in q){var oe=q[J];L=Math.max(L,oe)}return L},"get")}]),ue}(),mo=kr,wo={},Fr=150,jr=function(ue){n()(ie,ue);function ie(){var q,L,J,oe;m()(this,ie);for(var re=arguments.length,be=Array(re),Me=0;Me<re;Me++)be[Me]=arguments[Me];return oe=(L=(J=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(be))),J),J.state={isScrolling:!1,scrollTop:0},J._invalidateOnUpdateStartIndex=null,J._invalidateOnUpdateStopIndex=null,J._positionCache=new mo,J._startIndex=null,J._startIndexMemoized=null,J._stopIndex=null,J._stopIndexMemoized=null,J._debounceResetIsScrollingCallback=function(){J.setState({isScrolling:!1})},J._setScrollingContainerRef=function(De){J._scrollingContainer=De},J._onScroll=function(De){var Ne=J.props.height,Be=De.currentTarget.scrollTop,Ge=Math.min(Math.max(0,J._getEstimatedTotalHeight()-Ne),Be);Be===Ge&&(J._debounceResetIsScrolling(),J.state.scrollTop!==Ge&&J.setState({isScrolling:!0,scrollTop:Ge}))},L),e()(J,oe)}return r(ie,"Masonry"),o()(ie,[{key:"clearCellPositions",value:r(function(){this._positionCache=new mo,this.forceUpdate()},"clearCellPositions")},{key:"invalidateCellSizeAfterRender",value:r(function(L){var J=L.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=J,this._invalidateOnUpdateStopIndex=J):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,J),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,J))},"invalidateCellSizeAfterRender")},{key:"recomputeCellPositions",value:r(function(){var L=this._positionCache.count-1;this._positionCache=new mo,this._populatePositionCache(0,L),this.forceUpdate()},"recomputeCellPositions")},{key:"componentDidMount",value:r(function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()},"componentDidMount")},{key:"componentDidUpdate",value:r(function(L,J){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==L.scrollTop&&this._debounceResetIsScrolling()},"componentDidUpdate")},{key:"componentWillUnmount",value:r(function(){this._debounceResetIsScrollingId&&rn(this._debounceResetIsScrollingId)},"componentWillUnmount")},{key:"render",value:r(function(){var L=this,J=this.props,oe=J.autoHeight,re=J.cellCount,be=J.cellMeasurerCache,Me=J.cellRenderer,De=J.className,Ne=J.height,Be=J.id,Ge=J.keyMapper,Ze=J.overscanByPixels,gt=J.role,_t=J.style,Jt=J.tabIndex,Xt=J.width,fn=J.rowDirection,pn=this.state,wn=pn.isScrolling,Pt=pn.scrollTop,ei=[],Xn=this._getEstimatedTotalHeight(),Ii=this._positionCache.shortestColumnSize,_i=this._positionCache.count,wi=0,bi=void 0;if(this._positionCache.range(Math.max(0,Pt-Ze),Ne+Ze*2,function(ir,ro,Vr){var Tr;typeof bi>"u"?(wi=ir,bi=ir):(wi=Math.min(wi,ir),bi=Math.max(bi,ir)),ei.push(Me({index:ir,isScrolling:wn,key:Ge(ir),parent:L,style:(Tr={height:be.getHeight(ir)},Wi()(Tr,fn==="ltr"?"left":"right",ro),Wi()(Tr,"position","absolute"),Wi()(Tr,"top",Vr),Wi()(Tr,"width",be.getWidth(ir)),Tr)}))}),Ii<Pt+Ne+Ze&&_i<re)for(var Vi=Math.min(re-_i,Math.ceil((Pt+Ne+Ze-Ii)/be.defaultHeight*Xt/be.defaultWidth)),Pi=_i;Pi<_i+Vi;Pi++)bi=Pi,ei.push(Me({index:Pi,isScrolling:wn,key:Ge(Pi),parent:this,style:{width:be.getWidth(Pi)}}));return this._startIndex=wi,this._stopIndex=bi,s.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:P("ReactVirtualized__Masonry",De),id:Be,onScroll:this._onScroll,role:gt,style:l()({boxSizing:"border-box",direction:"ltr",height:oe?"auto":Ne,overflowX:"hidden",overflowY:Xn<Ne?"hidden":"auto",position:"relative",width:Xt,WebkitOverflowScrolling:"touch",willChange:"transform"},_t),tabIndex:Jt},s.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:Xn,maxWidth:"100%",maxHeight:Xn,overflow:"hidden",pointerEvents:wn?"none":"",position:"relative"}},ei))},"render")},{key:"_checkInvalidateOnUpdate",value:r(function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var L=this._invalidateOnUpdateStartIndex,J=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(L,J),this.forceUpdate()}},"_checkInvalidateOnUpdate")},{key:"_debounceResetIsScrolling",value:r(function(){var L=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&rn(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=ge(this._debounceResetIsScrollingCallback,L)},"_debounceResetIsScrolling")},{key:"_getEstimatedTotalHeight",value:r(function(){var L=this.props,J=L.cellCount,oe=L.cellMeasurerCache,re=L.width,be=Math.max(1,Math.floor(re/oe.defaultWidth));return this._positionCache.estimateTotalHeight(J,be,oe.defaultHeight)},"_getEstimatedTotalHeight")},{key:"_invokeOnScrollCallback",value:r(function(){var L=this.props,J=L.height,oe=L.onScroll,re=this.state.scrollTop;this._onScrollMemoized!==re&&(oe({clientHeight:J,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:re}),this._onScrollMemoized=re)},"_invokeOnScrollCallback")},{key:"_invokeOnCellsRenderedCallback",value:r(function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var L=this.props.onCellsRendered;L({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}},"_invokeOnCellsRenderedCallback")},{key:"_populatePositionCache",value:r(function(L,J){for(var oe=this.props,re=oe.cellMeasurerCache,be=oe.cellPositioner,Me=L;Me<=J;Me++){var De=be(Me),Ne=De.left,Be=De.top;this._positionCache.setPosition(Me,Ne,Be,re.getHeight(Me))}},"_populatePositionCache")}],[{key:"getDerivedStateFromProps",value:r(function(L,J){return L.scrollTop!==void 0&&J.scrollTop!==L.scrollTop?{isScrolling:!0,scrollTop:L.scrollTop}:null},"getDerivedStateFromProps")}]),ie}(s.PureComponent);jr.defaultProps={autoHeight:!1,keyMapper:Oo,onCellsRendered:jo,onScroll:jo,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Fr,style:wo,tabIndex:0,rowDirection:"ltr"},jr.propTypes=null;function Oo(ue){return ue}r(Oo,"identity");function jo(){}r(jo,"noop");var Js=null;Object(p.polyfill)(jr);var Ur=jr,rs=null;function Gr(ue){var ie=ue.cellMeasurerCache,q=ue.columnCount,L=ue.columnWidth,J=ue.spacer,oe=J===void 0?0:J,re=void 0;Me();function be(Ne){for(var Be=0,Ge=1;Ge<re.length;Ge++)re[Ge]<re[Be]&&(Be=Ge);var Ze=Be*(L+oe),gt=re[Be]||0;return re[Be]=gt+ie.getHeight(Ne)+oe,{left:Ze,top:gt}}r(be,"cellPositioner");function Me(){re=[];for(var Ne=0;Ne<q;Ne++)re[Ne]=0}r(Me,"initOrResetDerivedValues");function De(Ne){q=Ne.columnCount,L=Ne.columnWidth,oe=Ne.spacer,Me()}return r(De,"reset"),be.reset=De,be}r(Gr,"createCellPositioner");var Os=Ur,Ms=function(){function ue(){var ie=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m()(this,ue),this.columnWidth=function(Me){var De=Me.index;ie._cellMeasurerCache.columnWidth({index:De+ie._columnIndexOffset})},this.rowHeight=function(Me){var De=Me.index;ie._cellMeasurerCache.rowHeight({index:De+ie._rowIndexOffset})};var L=q.cellMeasurerCache,J=q.columnIndexOffset,oe=J===void 0?0:J,re=q.rowIndexOffset,be=re===void 0?0:re;this._cellMeasurerCache=L,this._columnIndexOffset=oe,this._rowIndexOffset=be}return r(ue,"CellMeasurerCacheDecorator"),o()(ue,[{key:"clear",value:r(function(q,L){this._cellMeasurerCache.clear(q+this._rowIndexOffset,L+this._columnIndexOffset)},"clear")},{key:"clearAll",value:r(function(){this._cellMeasurerCache.clearAll()},"clearAll")},{key:"hasFixedHeight",value:r(function(){return this._cellMeasurerCache.hasFixedHeight()},"hasFixedHeight")},{key:"hasFixedWidth",value:r(function(){return this._cellMeasurerCache.hasFixedWidth()},"hasFixedWidth")},{key:"getHeight",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(q+this._rowIndexOffset,L+this._columnIndexOffset)},"getHeight")},{key:"getWidth",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(q+this._rowIndexOffset,L+this._columnIndexOffset)},"getWidth")},{key:"has",value:r(function(q){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(q+this._rowIndexOffset,L+this._columnIndexOffset)},"has")},{key:"set",value:r(function(q,L,J,oe){this._cellMeasurerCache.set(q+this._rowIndexOffset,L+this._columnIndexOffset,J,oe)},"set")},{key:"defaultHeight",get:r(function(){return this._cellMeasurerCache.defaultHeight},"get")},{key:"defaultWidth",get:r(function(){return this._cellMeasurerCache.defaultWidth},"get")}]),ue}(),hr=Ms,Qr=20,Zr=function(ue){n()(ie,ue);function ie(q,L){m()(this,ie);var J=e()(this,(ie.__proto__||f()(ie)).call(this,q,L));os.call(J);var oe=q.deferredMeasurementCache,re=q.fixedColumnCount,be=q.fixedRowCount;return J._maybeCalculateCachedStyles(!0),oe&&(J._deferredMeasurementCacheBottomLeftGrid=be>0?new hr({cellMeasurerCache:oe,columnIndexOffset:0,rowIndexOffset:be}):oe,J._deferredMeasurementCacheBottomRightGrid=re>0||be>0?new hr({cellMeasurerCache:oe,columnIndexOffset:re,rowIndexOffset:be}):oe,J._deferredMeasurementCacheTopRightGrid=re>0?new hr({cellMeasurerCache:oe,columnIndexOffset:re,rowIndexOffset:0}):oe),J}return r(ie,"MultiGrid"),o()(ie,[{key:"forceUpdateGrids",value:r(function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()},"forceUpdateGrids")},{key:"invalidateCellSizeAfterRender",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=L.columnIndex,oe=J===void 0?0:J,re=L.rowIndex,be=re===void 0?0:re;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,oe):oe,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,be):be},"invalidateCellSizeAfterRender")},{key:"measureAllCells",value:r(function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()},"measureAllCells")},{key:"recomputeGridSize",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=L.columnIndex,oe=J===void 0?0:J,re=L.rowIndex,be=re===void 0?0:re,Me=this.props,De=Me.fixedColumnCount,Ne=Me.fixedRowCount,Be=Math.max(0,oe-De),Ge=Math.max(0,be-Ne);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:oe,rowIndex:Ge}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:Be,rowIndex:Ge}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:oe,rowIndex:be}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:Be,rowIndex:be}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)},"recomputeGridSize")},{key:"componentDidMount",value:r(function(){var L=this.props,J=L.scrollLeft,oe=L.scrollTop;if(J>0||oe>0){var re={};J>0&&(re.scrollLeft=J),oe>0&&(re.scrollTop=oe),this.setState(re)}this._handleInvalidatedGridSize()},"componentDidMount")},{key:"componentDidUpdate",value:r(function(){this._handleInvalidatedGridSize()},"componentDidUpdate")},{key:"render",value:r(function(){var L=this.props,J=L.onScroll,oe=L.onSectionRendered,re=L.onScrollbarPresenceChange,be=L.scrollLeft,Me=L.scrollToColumn,De=L.scrollTop,Ne=L.scrollToRow,Be=B()(L,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var Ge=this.state,Ze=Ge.scrollLeft,gt=Ge.scrollTop;return s.createElement("div",{style:this._containerOuterStyle},s.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(Be),this._renderTopRightGrid(l()({},Be,{onScroll:J,scrollLeft:Ze}))),s.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(l()({},Be,{onScroll:J,scrollTop:gt})),this._renderBottomRightGrid(l()({},Be,{onScroll:J,onSectionRendered:oe,scrollLeft:Ze,scrollToColumn:Me,scrollToRow:Ne,scrollTop:gt}))))},"render")},{key:"_getBottomGridHeight",value:r(function(L){var J=L.height,oe=this._getTopGridHeight(L);return J-oe},"_getBottomGridHeight")},{key:"_getLeftGridWidth",value:r(function(L){var J=L.fixedColumnCount,oe=L.columnWidth;if(this._leftGridWidth==null)if(typeof oe=="function"){for(var re=0,be=0;be<J;be++)re+=oe({index:be});this._leftGridWidth=re}else this._leftGridWidth=oe*J;return this._leftGridWidth},"_getLeftGridWidth")},{key:"_getRightGridWidth",value:r(function(L){var J=L.width,oe=this._getLeftGridWidth(L);return J-oe},"_getRightGridWidth")},{key:"_getTopGridHeight",value:r(function(L){var J=L.fixedRowCount,oe=L.rowHeight;if(this._topGridHeight==null)if(typeof oe=="function"){for(var re=0,be=0;be<J;be++)re+=oe({index:be});this._topGridHeight=re}else this._topGridHeight=oe*J;return this._topGridHeight},"_getTopGridHeight")},{key:"_handleInvalidatedGridSize",value:r(function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var L=this._deferredInvalidateColumnIndex,J=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:L,rowIndex:J}),this.forceUpdate()}},"_handleInvalidatedGridSize")},{key:"_maybeCalculateCachedStyles",value:r(function(L){var J=this.props,oe=J.columnWidth,re=J.enableFixedColumnScroll,be=J.enableFixedRowScroll,Me=J.height,De=J.fixedColumnCount,Ne=J.fixedRowCount,Be=J.rowHeight,Ge=J.style,Ze=J.styleBottomLeftGrid,gt=J.styleBottomRightGrid,_t=J.styleTopLeftGrid,Jt=J.styleTopRightGrid,Xt=J.width,fn=L||Me!==this._lastRenderedHeight||Xt!==this._lastRenderedWidth,pn=L||oe!==this._lastRenderedColumnWidth||De!==this._lastRenderedFixedColumnCount,wn=L||Ne!==this._lastRenderedFixedRowCount||Be!==this._lastRenderedRowHeight;(L||fn||Ge!==this._lastRenderedStyle)&&(this._containerOuterStyle=l()({height:Me,overflow:"visible",width:Xt},Ge)),(L||fn||wn)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:Xt},this._containerBottomStyle={height:Me-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:Xt}),(L||Ze!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=l()({left:0,overflowX:"hidden",overflowY:re?"auto":"hidden",position:"absolute"},Ze)),(L||pn||gt!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=l()({left:this._getLeftGridWidth(this.props),position:"absolute"},gt)),(L||_t!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=l()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},_t)),(L||pn||Jt!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=l()({left:this._getLeftGridWidth(this.props),overflowX:be?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},Jt)),this._lastRenderedColumnWidth=oe,this._lastRenderedFixedColumnCount=De,this._lastRenderedFixedRowCount=Ne,this._lastRenderedHeight=Me,this._lastRenderedRowHeight=Be,this._lastRenderedStyle=Ge,this._lastRenderedStyleBottomLeftGrid=Ze,this._lastRenderedStyleBottomRightGrid=gt,this._lastRenderedStyleTopLeftGrid=_t,this._lastRenderedStyleTopRightGrid=Jt,this._lastRenderedWidth=Xt},"_maybeCalculateCachedStyles")},{key:"_prepareForRender",value:r(function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight},"_prepareForRender")},{key:"_renderBottomLeftGrid",value:r(function(L){var J=L.enableFixedColumnScroll,oe=L.fixedColumnCount,re=L.fixedRowCount,be=L.rowCount,Me=L.hideBottomLeftGridScrollbar,De=this.state.showVerticalScrollbar;if(!oe)return null;var Ne=De?1:0,Be=this._getBottomGridHeight(L),Ge=this._getLeftGridWidth(L),Ze=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,gt=Me?Ge+Ze:Ge,_t=s.createElement(it,l()({},L,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:oe,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:Be,onScroll:J?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,be-re)+Ne,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:gt}));return Me?s.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:l()({},this._bottomLeftGridStyle,{height:Be,width:Ge,overflowY:"hidden"})},_t):_t},"_renderBottomLeftGrid")},{key:"_renderBottomRightGrid",value:r(function(L){var J=L.columnCount,oe=L.fixedColumnCount,re=L.fixedRowCount,be=L.rowCount,Me=L.scrollToColumn,De=L.scrollToRow;return s.createElement(it,l()({},L,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,J-oe),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(L),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,be-re),rowHeight:this._rowHeightBottomGrid,scrollToColumn:Me-oe,scrollToRow:De-re,style:this._bottomRightGridStyle,width:this._getRightGridWidth(L)}))},"_renderBottomRightGrid")},{key:"_renderTopLeftGrid",value:r(function(L){var J=L.fixedColumnCount,oe=L.fixedRowCount;return!J||!oe?null:s.createElement(it,l()({},L,{className:this.props.classNameTopLeftGrid,columnCount:J,height:this._getTopGridHeight(L),ref:this._topLeftGridRef,rowCount:oe,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(L)}))},"_renderTopLeftGrid")},{key:"_renderTopRightGrid",value:r(function(L){var J=L.columnCount,oe=L.enableFixedRowScroll,re=L.fixedColumnCount,be=L.fixedRowCount,Me=L.scrollLeft,De=L.hideTopRightGridScrollbar,Ne=this.state,Be=Ne.showHorizontalScrollbar,Ge=Ne.scrollbarSize;if(!be)return null;var Ze=Be?1:0,gt=this._getTopGridHeight(L),_t=this._getRightGridWidth(L),Jt=Be?Ge:0,Xt=gt,fn=this._topRightGridStyle;De&&(Xt=gt+Jt,fn=l()({},this._topRightGridStyle,{left:0}));var pn=s.createElement(it,l()({},L,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,J-re)+Ze,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:Xt,onScroll:oe?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:be,scrollLeft:Me,style:fn,tabIndex:null,width:_t}));return De?s.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:l()({},this._topRightGridStyle,{height:gt,width:_t,overflowX:"hidden"})},pn):pn},"_renderTopRightGrid")}],[{key:"getDerivedStateFromProps",value:r(function(L,J){return L.scrollLeft!==J.scrollLeft||L.scrollTop!==J.scrollTop?{scrollLeft:L.scrollLeft!=null&&L.scrollLeft>=0?L.scrollLeft:J.scrollLeft,scrollTop:L.scrollTop!=null&&L.scrollTop>=0?L.scrollTop:J.scrollTop}:null},"getDerivedStateFromProps")}]),ie}(s.PureComponent);Zr.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var os=r(function(){var ie=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(q){ie._bottomLeftGrid=q},this._bottomRightGridRef=function(q){ie._bottomRightGrid=q},this._cellRendererBottomLeftGrid=function(q){var L=q.rowIndex,J=B()(q,["rowIndex"]),oe=ie.props,re=oe.cellRenderer,be=oe.fixedRowCount,Me=oe.rowCount;return L===Me-be?s.createElement("div",{key:J.key,style:l()({},J.style,{height:Qr})}):re(l()({},J,{parent:ie,rowIndex:L+be}))},this._cellRendererBottomRightGrid=function(q){var L=q.columnIndex,J=q.rowIndex,oe=B()(q,["columnIndex","rowIndex"]),re=ie.props,be=re.cellRenderer,Me=re.fixedColumnCount,De=re.fixedRowCount;return be(l()({},oe,{columnIndex:L+Me,parent:ie,rowIndex:J+De}))},this._cellRendererTopRightGrid=function(q){var L=q.columnIndex,J=B()(q,["columnIndex"]),oe=ie.props,re=oe.cellRenderer,be=oe.columnCount,Me=oe.fixedColumnCount;return L===be-Me?s.createElement("div",{key:J.key,style:l()({},J.style,{width:Qr})}):re(l()({},J,{columnIndex:L+Me,parent:ie}))},this._columnWidthRightGrid=function(q){var L=q.index,J=ie.props,oe=J.columnCount,re=J.fixedColumnCount,be=J.columnWidth,Me=ie.state,De=Me.scrollbarSize,Ne=Me.showHorizontalScrollbar;return Ne&&L===oe-re?De:typeof be=="function"?be({index:L+re}):be},this._onScroll=function(q){var L=q.scrollLeft,J=q.scrollTop;ie.setState({scrollLeft:L,scrollTop:J});var oe=ie.props.onScroll;oe&&oe(q)},this._onScrollbarPresenceChange=function(q){var L=q.horizontal,J=q.size,oe=q.vertical,re=ie.state,be=re.showHorizontalScrollbar,Me=re.showVerticalScrollbar;if(L!==be||oe!==Me){ie.setState({scrollbarSize:J,showHorizontalScrollbar:L,showVerticalScrollbar:oe});var De=ie.props.onScrollbarPresenceChange;typeof De=="function"&&De({horizontal:L,size:J,vertical:oe})}},this._onScrollLeft=function(q){var L=q.scrollLeft;ie._onScroll({scrollLeft:L,scrollTop:ie.state.scrollTop})},this._onScrollTop=function(q){var L=q.scrollTop;ie._onScroll({scrollTop:L,scrollLeft:ie.state.scrollLeft})},this._rowHeightBottomGrid=function(q){var L=q.index,J=ie.props,oe=J.fixedRowCount,re=J.rowCount,be=J.rowHeight,Me=ie.state,De=Me.scrollbarSize,Ne=Me.showVerticalScrollbar;return Ne&&L===re-oe?De:typeof be=="function"?be({index:L+oe}):be},this._topLeftGridRef=function(q){ie._topLeftGrid=q},this._topRightGridRef=function(q){ie._topRightGrid=q}},"_initialiseProps");Zr.propTypes={},Object(p.polyfill)(Zr);var ss=Zr,Ys=ss,Mo=function(ue){n()(ie,ue);function ie(q,L){m()(this,ie);var J=e()(this,(ie.__proto__||f()(ie)).call(this,q,L));return J.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},J._onScroll=J._onScroll.bind(J),J}return r(ie,"ScrollSync"),o()(ie,[{key:"render",value:r(function(){var L=this.props.children,J=this.state,oe=J.clientHeight,re=J.clientWidth,be=J.scrollHeight,Me=J.scrollLeft,De=J.scrollTop,Ne=J.scrollWidth;return L({clientHeight:oe,clientWidth:re,onScroll:this._onScroll,scrollHeight:be,scrollLeft:Me,scrollTop:De,scrollWidth:Ne})},"render")},{key:"_onScroll",value:r(function(L){var J=L.clientHeight,oe=L.clientWidth,re=L.scrollHeight,be=L.scrollLeft,Me=L.scrollTop,De=L.scrollWidth;this.setState({clientHeight:J,clientWidth:oe,scrollHeight:re,scrollLeft:be,scrollTop:Me,scrollWidth:De})},"_onScroll")}]),ie}(s.PureComponent),as=Mo;Mo.propTypes={};var As=as;function ls(ue){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=ie.defaultSortBy,L=ie.defaultSortDirection,J=L===void 0?{}:L;if(!ue)throw Error('Required parameter "sortCallback" not specified');var oe=q||[],re={};oe.forEach(function(Me){re[Me]=J.hasOwnProperty(Me)?J[Me]:"ASC"});function be(Me){var De=Me.defaultSortDirection,Ne=Me.event,Be=Me.sortBy;if(Ne.shiftKey)re.hasOwnProperty(Be)?re[Be]=re[Be]==="ASC"?"DESC":"ASC":(re[Be]=De,oe.push(Be));else if(Ne.ctrlKey||Ne.metaKey){var Ge=oe.indexOf(Be);Ge>=0&&(oe.splice(Ge,1),delete re[Be])}else{oe.length=0,oe.push(Be);var Ze=Sn()(re);Ze.forEach(function(gt){gt!==Be&&delete re[gt]}),re.hasOwnProperty(Be)?re[Be]=re[Be]==="ASC"?"DESC":"ASC":re[Be]=De}ue({sortBy:oe,sortDirection:re})}return r(be,"sort"),{sort:be,sortBy:oe,sortDirection:re}}r(ls,"createMultiSort");var qr=null,Rs=null,Ao=null,nr=null,Ro=null;function Po(ue){var ie=ue.dataKey,q=ue.rowData;return typeof q.get=="function"?q.get(ie):q[ie]}r(Po,"defaultCellDataGetter");function Do(ue){var ie=ue.cellData;return ie==null?"":String(ie)}r(Do,"defaultCellRenderer");function $r(ue){var ie=ue.className,q=ue.columns,L=ue.style;return s.createElement("div",{className:ie,role:"row",style:L},q)}r($r,"defaultHeaderRowRenderer"),$r.propTypes=null;var go={ASC:"ASC",DESC:"DESC"},pr=go;function Go(ue){var ie=ue.sortDirection,q=P("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":ie===pr.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":ie===pr.DESC});return s.createElement("svg",{className:q,width:18,height:18,viewBox:"0 0 24 24"},ie===pr.ASC?s.createElement("path",{d:"M7 14l5-5 5 5z"}):s.createElement("path",{d:"M7 10l5 5 5-5z"}),s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}r(Go,"SortIndicator"),Go.propTypes={};function eo(ue){var ie=ue.dataKey,q=ue.label,L=ue.sortBy,J=ue.sortDirection,oe=L===ie,re=[s.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof q=="string"?q:null},q)];return oe&&re.push(s.createElement(Go,{key:"SortIndicator",sortDirection:J})),re}r(eo,"defaultHeaderRenderer"),eo.propTypes=null;function Ps(ue){var ie=ue.className,q=ue.columns,L=ue.index,J=ue.key,oe=ue.onRowClick,re=ue.onRowDoubleClick,be=ue.onRowMouseOut,Me=ue.onRowMouseOver,De=ue.onRowRightClick,Ne=ue.rowData,Be=ue.style,Ge={"aria-rowindex":L+1};return(oe||re||be||Me||De)&&(Ge["aria-label"]="row",Ge.tabIndex=0,oe&&(Ge.onClick=function(Ze){return oe({event:Ze,index:L,rowData:Ne})}),re&&(Ge.onDoubleClick=function(Ze){return re({event:Ze,index:L,rowData:Ne})}),be&&(Ge.onMouseOut=function(Ze){return be({event:Ze,index:L,rowData:Ne})}),Me&&(Ge.onMouseOver=function(Ze){return Me({event:Ze,index:L,rowData:Ne})}),De&&(Ge.onContextMenu=function(Ze){return De({event:Ze,index:L,rowData:Ne})})),s.createElement("div",l()({},Ge,{className:ie,key:J,role:"row",style:Be}),q)}r(Ps,"defaultRowRenderer"),Ps.propTypes=null;var vo=function(ue){n()(ie,ue);function ie(){return m()(this,ie),e()(this,(ie.__proto__||f()(ie)).apply(this,arguments))}return r(ie,"Column"),ie}(s.Component);vo.defaultProps={cellDataGetter:Po,cellRenderer:Do,defaultSortDirection:pr.ASC,flexGrow:0,flexShrink:1,headerRenderer:eo,style:{}};var to=vo;vo.propTypes={};var Xs=function(ue){n()(ie,ue);function ie(q){m()(this,ie);var L=e()(this,(ie.__proto__||f()(ie)).call(this,q));return L.state={scrollbarWidth:0},L._createColumn=L._createColumn.bind(L),L._createRow=L._createRow.bind(L),L._onScroll=L._onScroll.bind(L),L._onSectionRendered=L._onSectionRendered.bind(L),L._setRef=L._setRef.bind(L),L}return r(ie,"Table"),o()(ie,[{key:"forceUpdateGrid",value:r(function(){this.Grid&&this.Grid.forceUpdate()},"forceUpdateGrid")},{key:"getOffsetForRow",value:r(function(L){var J=L.alignment,oe=L.index;if(this.Grid){var re=this.Grid.getOffsetForCell({alignment:J,rowIndex:oe}),be=re.scrollTop;return be}return 0},"getOffsetForRow")},{key:"invalidateCellSizeAfterRender",value:r(function(L){var J=L.columnIndex,oe=L.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:oe,columnIndex:J})},"invalidateCellSizeAfterRender")},{key:"measureAllRows",value:r(function(){this.Grid&&this.Grid.measureAllCells()},"measureAllRows")},{key:"recomputeGridSize",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=L.columnIndex,oe=J===void 0?0:J,re=L.rowIndex,be=re===void 0?0:re;this.Grid&&this.Grid.recomputeGridSize({rowIndex:be,columnIndex:oe})},"recomputeGridSize")},{key:"recomputeRowHeights",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:L})},"recomputeRowHeights")},{key:"scrollToPosition",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:L})},"scrollToPosition")},{key:"scrollToRow",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:L})},"scrollToRow")},{key:"getScrollbarWidth",value:r(function(){if(this.Grid){var L=Object(si.findDOMNode)(this.Grid),J=L.clientWidth||0,oe=L.offsetWidth||0;return oe-J}return 0},"getScrollbarWidth")},{key:"componentDidMount",value:r(function(){this._setScrollbarWidth()},"componentDidMount")},{key:"componentDidUpdate",value:r(function(){this._setScrollbarWidth()},"componentDidUpdate")},{key:"render",value:r(function(){var L=this,J=this.props,oe=J.children,re=J.className,be=J.disableHeader,Me=J.gridClassName,De=J.gridStyle,Ne=J.headerHeight,Be=J.headerRowRenderer,Ge=J.height,Ze=J.id,gt=J.noRowsRenderer,_t=J.rowClassName,Jt=J.rowStyle,Xt=J.scrollToIndex,fn=J.style,pn=J.width,wn=this.state.scrollbarWidth,Pt=be?Ge:Ge-Ne,ei=typeof _t=="function"?_t({index:-1}):_t,Xn=typeof Jt=="function"?Jt({index:-1}):Jt;return this._cachedColumnStyles=[],s.Children.toArray(oe).forEach(function(Ii,_i){var wi=L._getFlexStyleForColumn(Ii,Ii.props.style);L._cachedColumnStyles[_i]=l()({overflow:"hidden"},wi)}),s.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":s.Children.toArray(oe).length,"aria-rowcount":this.props.rowCount,className:P("ReactVirtualized__Table",re),id:Ze,role:"grid",style:fn},!be&&Be({className:P("ReactVirtualized__Table__headerRow",ei),columns:this._getHeaderColumns(),style:l()({height:Ne,overflow:"hidden",paddingRight:wn,width:pn},Xn)}),s.createElement(it,l()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:P("ReactVirtualized__Table__Grid",Me),cellRenderer:this._createRow,columnWidth:pn,columnCount:1,height:Pt,id:void 0,noContentRenderer:gt,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:wn,scrollToRow:Xt,style:l()({},De,{overflowX:"hidden"})})))},"render")},{key:"_createColumn",value:r(function(L){var J=L.column,oe=L.columnIndex,re=L.isScrolling,be=L.parent,Me=L.rowData,De=L.rowIndex,Ne=this.props.onColumnClick,Be=J.props,Ge=Be.cellDataGetter,Ze=Be.cellRenderer,gt=Be.className,_t=Be.columnData,Jt=Be.dataKey,Xt=Be.id,fn=Ge({columnData:_t,dataKey:Jt,rowData:Me}),pn=Ze({cellData:fn,columnData:_t,columnIndex:oe,dataKey:Jt,isScrolling:re,parent:be,rowData:Me,rowIndex:De}),wn=r(function(Ii){Ne&&Ne({columnData:_t,dataKey:Jt,event:Ii})},"onClick"),Pt=this._cachedColumnStyles[oe],ei=typeof pn=="string"?pn:null;return s.createElement("div",{"aria-colindex":oe+1,"aria-describedby":Xt,className:P("ReactVirtualized__Table__rowColumn",gt),key:"Row"+De+"-Col"+oe,onClick:wn,role:"gridcell",style:Pt,title:ei},pn)},"_createColumn")},{key:"_createHeader",value:r(function(L){var J=L.column,oe=L.index,re=this.props,be=re.headerClassName,Me=re.headerStyle,De=re.onHeaderClick,Ne=re.sort,Be=re.sortBy,Ge=re.sortDirection,Ze=J.props,gt=Ze.columnData,_t=Ze.dataKey,Jt=Ze.defaultSortDirection,Xt=Ze.disableSort,fn=Ze.headerRenderer,pn=Ze.id,wn=Ze.label,Pt=!Xt&&Ne,ei=P("ReactVirtualized__Table__headerColumn",be,J.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:Pt}),Xn=this._getFlexStyleForColumn(J,l()({},Me,J.props.headerStyle)),Ii=fn({columnData:gt,dataKey:_t,disableSort:Xt,label:wn,sortBy:Be,sortDirection:Ge}),_i=void 0,wi=void 0,bi=void 0,Vi=void 0,Pi=void 0;if(Pt||De){var ir=Be!==_t,ro=ir?Jt:Ge===pr.DESC?pr.ASC:pr.DESC,Vr=r(function(co){Pt&&Ne({defaultSortDirection:Jt,event:co,sortBy:_t,sortDirection:ro}),De&&De({columnData:gt,dataKey:_t,event:co})},"onClick"),Tr=r(function(co){(co.key==="Enter"||co.key===" ")&&Vr(co)},"onKeyDown");Pi=J.props["aria-label"]||wn||_t,Vi="none",bi=0,_i=Vr,wi=Tr}return Be===_t&&(Vi=Ge===pr.ASC?"ascending":"descending"),s.createElement("div",{"aria-label":Pi,"aria-sort":Vi,className:ei,id:pn,key:"Header-Col"+oe,onClick:_i,onKeyDown:wi,role:"columnheader",style:Xn,tabIndex:bi},Ii)},"_createHeader")},{key:"_createRow",value:r(function(L){var J=this,oe=L.rowIndex,re=L.isScrolling,be=L.key,Me=L.parent,De=L.style,Ne=this.props,Be=Ne.children,Ge=Ne.onRowClick,Ze=Ne.onRowDoubleClick,gt=Ne.onRowRightClick,_t=Ne.onRowMouseOver,Jt=Ne.onRowMouseOut,Xt=Ne.rowClassName,fn=Ne.rowGetter,pn=Ne.rowRenderer,wn=Ne.rowStyle,Pt=this.state.scrollbarWidth,ei=typeof Xt=="function"?Xt({index:oe}):Xt,Xn=typeof wn=="function"?wn({index:oe}):wn,Ii=fn({index:oe}),_i=s.Children.toArray(Be).map(function(Vi,Pi){return J._createColumn({column:Vi,columnIndex:Pi,isScrolling:re,parent:Me,rowData:Ii,rowIndex:oe,scrollbarWidth:Pt})}),wi=P("ReactVirtualized__Table__row",ei),bi=l()({},De,{height:this._getRowHeight(oe),overflow:"hidden",paddingRight:Pt},Xn);return pn({className:wi,columns:_i,index:oe,isScrolling:re,key:be,onRowClick:Ge,onRowDoubleClick:Ze,onRowRightClick:gt,onRowMouseOver:_t,onRowMouseOut:Jt,rowData:Ii,style:bi})},"_createRow")},{key:"_getFlexStyleForColumn",value:r(function(L){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=L.props.flexGrow+" "+L.props.flexShrink+" "+L.props.width+"px",re=l()({},J,{flex:oe,msFlex:oe,WebkitFlex:oe});return L.props.maxWidth&&(re.maxWidth=L.props.maxWidth),L.props.minWidth&&(re.minWidth=L.props.minWidth),re},"_getFlexStyleForColumn")},{key:"_getHeaderColumns",value:r(function(){var L=this,J=this.props,oe=J.children,re=J.disableHeader,be=re?[]:s.Children.toArray(oe);return be.map(function(Me,De){return L._createHeader({column:Me,index:De})})},"_getHeaderColumns")},{key:"_getRowHeight",value:r(function(L){var J=this.props.rowHeight;return typeof J=="function"?J({index:L}):J},"_getRowHeight")},{key:"_onScroll",value:r(function(L){var J=L.clientHeight,oe=L.scrollHeight,re=L.scrollTop,be=this.props.onScroll;be({clientHeight:J,scrollHeight:oe,scrollTop:re})},"_onScroll")},{key:"_onSectionRendered",value:r(function(L){var J=L.rowOverscanStartIndex,oe=L.rowOverscanStopIndex,re=L.rowStartIndex,be=L.rowStopIndex,Me=this.props.onRowsRendered;Me({overscanStartIndex:J,overscanStopIndex:oe,startIndex:re,stopIndex:be})},"_onSectionRendered")},{key:"_setRef",value:r(function(L){this.Grid=L},"_setRef")},{key:"_setScrollbarWidth",value:r(function(){var L=this.getScrollbarWidth();this.setState({scrollbarWidth:L})},"_setScrollbarWidth")}]),ie}(s.PureComponent);Xs.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:r(function(){return null},"noRowsRenderer"),onRowsRendered:r(function(){return null},"onRowsRendered"),onScroll:r(function(){return null},"onScroll"),overscanIndicesGetter:Mn,overscanRowCount:10,rowRenderer:Ps,headerRowRenderer:$r,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var cs=Xs;Xs.propTypes={};var Pa=cs,no=[],$o=null,Er=null;function mr(){Er&&(Er=null,document.body&&$o!=null&&(document.body.style.pointerEvents=$o),$o=null)}r(mr,"enablePointerEventsIfDisabled");function Da(){mr(),no.forEach(function(ue){return ue.__resetIsScrolling()})}r(Da,"enablePointerEventsAfterDelayCallback");function aa(){Er&&rn(Er);var ue=0;no.forEach(function(ie){ue=Math.max(ue,ie.props.scrollingResetTimeInterval)}),Er=ge(Da,ue)}r(aa,"enablePointerEventsAfterDelay");function xi(ue){ue.currentTarget===window&&$o==null&&document.body&&($o=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),aa(),no.forEach(function(ie){ie.props.scrollElement===ue.currentTarget&&ie.__handleWindowScrollEvent()})}r(xi,"onScrollWindow");function ds(ue,ie){no.some(function(q){return q.props.scrollElement===ie})||ie.addEventListener("scroll",xi),no.push(ue)}r(ds,"registerScrollListener");function So(ue,ie){no=no.filter(function(q){return q!==ue}),no.length||(ie.removeEventListener("scroll",xi),Er&&(rn(Er),mr()))}r(So,"unregisterScrollListener");var io=r(function(ie){return ie===window},"isWindow"),ji=r(function(ie){return ie.getBoundingClientRect()},"getBoundingBox");function Ds(ue,ie){if(ue)if(io(ue)){var q=window,L=q.innerHeight,J=q.innerWidth;return{height:typeof L=="number"?L:0,width:typeof J=="number"?J:0}}else return ji(ue);else return{height:ie.serverHeight,width:ie.serverWidth}}r(Ds,"getDimensions");function ks(ue,ie){if(io(ie)&&document.documentElement){var q=document.documentElement,L=ji(ue),J=ji(q);return{top:L.top-J.top,left:L.left-J.left}}else{var oe=xs(ie),re=ji(ue),be=ji(ie);return{top:re.top+oe.top-be.top,left:re.left+oe.left-be.left}}}r(ks,"getPositionOffset");function xs(ue){return io(ue)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:ue.scrollTop,left:ue.scrollLeft}}r(xs,"getScrollOffset");var us=150,fs=r(function(){return typeof window<"u"?window:void 0},"getWindow"),hs=function(ue){n()(ie,ue);function ie(){var q,L,J,oe;m()(this,ie);for(var re=arguments.length,be=Array(re),Me=0;Me<re;Me++)be[Me]=arguments[Me];return oe=(L=(J=e()(this,(q=ie.__proto__||f()(ie)).call.apply(q,[this].concat(be))),J),J._window=fs(),J._isMounted=!1,J._positionFromTop=0,J._positionFromLeft=0,J.state=l()({},Ds(J.props.scrollElement,J.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),J._registerChild=function(De){De&&!(De instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),J._child=De,J.updatePosition()},J._onChildScroll=function(De){var Ne=De.scrollTop;if(J.state.scrollTop!==Ne){var Be=J.props.scrollElement;Be&&(typeof Be.scrollTo=="function"?Be.scrollTo(0,Ne+J._positionFromTop):Be.scrollTop=Ne+J._positionFromTop)}},J._registerResizeListener=function(De){De===window?window.addEventListener("resize",J._onResize,!1):J._detectElementResize.addResizeListener(De,J._onResize)},J._unregisterResizeListener=function(De){De===window?window.removeEventListener("resize",J._onResize,!1):De&&J._detectElementResize.removeResizeListener(De,J._onResize)},J._onResize=function(){J.updatePosition()},J.__handleWindowScrollEvent=function(){if(J._isMounted){var De=J.props.onScroll,Ne=J.props.scrollElement;if(Ne){var Be=xs(Ne),Ge=Math.max(0,Be.left-J._positionFromLeft),Ze=Math.max(0,Be.top-J._positionFromTop);J.setState({isScrolling:!0,scrollLeft:Ge,scrollTop:Ze}),De({scrollLeft:Ge,scrollTop:Ze})}}},J.__resetIsScrolling=function(){J.setState({isScrolling:!1})},L),e()(J,oe)}return r(ie,"WindowScroller"),o()(ie,[{key:"updatePosition",value:r(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,J=this.props.onResize,oe=this.state,re=oe.height,be=oe.width,Me=this._child||si.findDOMNode(this);if(Me instanceof Element&&L){var De=ks(Me,L);this._positionFromTop=De.top,this._positionFromLeft=De.left}var Ne=Ds(L,this.props);(re!==Ne.height||be!==Ne.width)&&(this.setState({height:Ne.height,width:Ne.width}),J({height:Ne.height,width:Ne.width}))},"updatePosition")},{key:"componentDidMount",value:r(function(){var L=this.props.scrollElement;this._detectElementResize=Object(Ki.a)(),this.updatePosition(L),L&&(ds(this,L),this._registerResizeListener(L)),this._isMounted=!0},"componentDidMount")},{key:"componentDidUpdate",value:r(function(L,J){var oe=this.props.scrollElement,re=L.scrollElement;re!==oe&&re!=null&&oe!=null&&(this.updatePosition(oe),So(this,re),ds(this,oe),this._unregisterResizeListener(re),this._registerResizeListener(oe))},"componentDidUpdate")},{key:"componentWillUnmount",value:r(function(){var L=this.props.scrollElement;L&&(So(this,L),this._unregisterResizeListener(L)),this._isMounted=!1},"componentWillUnmount")},{key:"render",value:r(function(){var L=this.props.children,J=this.state,oe=J.isScrolling,re=J.scrollTop,be=J.scrollLeft,Me=J.height,De=J.width;return L({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:Me,isScrolling:oe,scrollLeft:be,scrollTop:re,width:De})},"render")}]),ie}(s.PureComponent);hs.defaultProps={onResize:r(function(){},"onResize"),onScroll:r(function(){},"onScroll"),scrollingResetTimeInterval:us,scrollElement:fs(),serverHeight:0,serverWidth:0},hs.propTypes=null;var _s=hs,la=_s},cKqT:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{reset(){this.currentRetry=0}nextBackoffAmountMs(){const h=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,h}constructor(h,m,a){this.fixedWaitMs=h,this.shortBackoffMs=m,this.longBackoffMs=a,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}},"FullJitterBackoff");c.default=v},cYl2:function(U,c,d){"use strict";d.r(c),d.d(c,"Deflate",function(){return Na}),d.d(c,"Inflate",function(){return rr}),d.d(c,"constants",function(){return Ha}),d.d(c,"default",function(){return za}),d.d(c,"deflate",function(){return Ba}),d.d(c,"deflateRaw",function(){return Fa}),d.d(c,"gzip",function(){return pl}),d.d(c,"inflate",function(){return ps}),d.d(c,"inflateRaw",function(){return Ua}),d.d(c,"ungzip",function(){return Va});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const v=4,f=0,h=1,m=2;function a(b){let V=b.length;for(;--V>=0;)b[V]=0}r(a,"zero$1");const o=0,i=1,e=2,t=3,n=258,s=29,p=256,g=p+1+s,S=30,u=19,l=2*g+1,E=15,O=16,P=7,x=256,k=16,B=17,R=18,N=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K=512,X=new Array((g+2)*2);a(X);const j=new Array(S*2);a(j);const te=new Array(K);a(te);const me=new Array(n-t+1);a(me);const we=new Array(s);a(we);const pe=new Array(S);a(pe);function Ae(b,V,M,Q,G){this.static_tree=b,this.extra_bits=V,this.extra_base=M,this.elems=Q,this.max_length=G,this.has_stree=b&&b.length}r(Ae,"StaticTreeDesc");let Je,Fe,Ue;function Le(b,V){this.dyn_tree=b,this.max_code=0,this.stat_desc=V}r(Le,"TreeDesc");const at=r(b=>b<256?te[b]:te[256+(b>>>7)],"d_code"),lt=r((b,V)=>{b.pending_buf[b.pending++]=V&255,b.pending_buf[b.pending++]=V>>>8&255},"put_short"),ot=r((b,V,M)=>{b.bi_valid>O-M?(b.bi_buf|=V<<b.bi_valid&65535,lt(b,b.bi_buf),b.bi_buf=V>>O-b.bi_valid,b.bi_valid+=M-O):(b.bi_buf|=V<<b.bi_valid&65535,b.bi_valid+=M)},"send_bits"),pt=r((b,V,M)=>{ot(b,M[V*2],M[V*2+1])},"send_code"),ct=r((b,V)=>{let M=0;do M|=b&1,b>>>=1,M<<=1;while(--V>0);return M>>>1},"bi_reverse"),rt=r(b=>{b.bi_valid===16?(lt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)},"bi_flush"),Tn=r((b,V)=>{const M=V.dyn_tree,Q=V.max_code,G=V.stat_desc.static_tree,se=V.stat_desc.has_stree,Ee=V.stat_desc.extra_bits,Se=V.stat_desc.extra_base,Qe=V.stat_desc.max_length;let he,Te,tn,Ye,_e,Et,zn=0;for(Ye=0;Ye<=E;Ye++)b.bl_count[Ye]=0;for(M[b.heap[b.heap_max]*2+1]=0,he=b.heap_max+1;he<l;he++)Te=b.heap[he],Ye=M[M[Te*2+1]*2+1]+1,Ye>Qe&&(Ye=Qe,zn++),M[Te*2+1]=Ye,!(Te>Q)&&(b.bl_count[Ye]++,_e=0,Te>=Se&&(_e=Ee[Te-Se]),Et=M[Te*2],b.opt_len+=Et*(Ye+_e),se&&(b.static_len+=Et*(G[Te*2+1]+_e)));if(zn!==0){do{for(Ye=Qe-1;b.bl_count[Ye]===0;)Ye--;b.bl_count[Ye]--,b.bl_count[Ye+1]+=2,b.bl_count[Qe]--,zn-=2}while(zn>0);for(Ye=Qe;Ye!==0;Ye--)for(Te=b.bl_count[Ye];Te!==0;)tn=b.heap[--he],!(tn>Q)&&(M[tn*2+1]!==Ye&&(b.opt_len+=(Ye-M[tn*2+1])*M[tn*2],M[tn*2+1]=Ye),Te--)}},"gen_bitlen"),Qt=r((b,V,M)=>{const Q=new Array(E+1);let G=0,se,Ee;for(se=1;se<=E;se++)Q[se]=G=G+M[se-1]<<1;for(Ee=0;Ee<=V;Ee++){let Se=b[Ee*2+1];Se!==0&&(b[Ee*2]=ct(Q[Se]++,Se))}},"gen_codes"),Ft=r(()=>{let b,V,M,Q,G;const se=new Array(E+1);for(M=0,Q=0;Q<s-1;Q++)for(we[Q]=M,b=0;b<1<<N[Q];b++)me[M++]=Q;for(me[M-1]=Q,G=0,Q=0;Q<16;Q++)for(pe[Q]=G,b=0;b<1<<w[Q];b++)te[G++]=Q;for(G>>=7;Q<S;Q++)for(pe[Q]=G<<7,b=0;b<1<<w[Q]-7;b++)te[256+G++]=Q;for(V=0;V<=E;V++)se[V]=0;for(b=0;b<=143;)X[b*2+1]=8,b++,se[8]++;for(;b<=255;)X[b*2+1]=9,b++,se[9]++;for(;b<=279;)X[b*2+1]=7,b++,se[7]++;for(;b<=287;)X[b*2+1]=8,b++,se[8]++;for(Qt(X,g+1,se),b=0;b<S;b++)j[b*2+1]=5,j[b*2]=ct(b,5);Je=new Ae(X,N,p+1,g,E),Fe=new Ae(j,w,0,S,E),Ue=new Ae(new Array(0),A,0,u,P)},"tr_static_init"),Rn=r(b=>{let V;for(V=0;V<g;V++)b.dyn_ltree[V*2]=0;for(V=0;V<S;V++)b.dyn_dtree[V*2]=0;for(V=0;V<u;V++)b.bl_tree[V*2]=0;b.dyn_ltree[x*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0},"init_block"),Pn=r(b=>{b.bi_valid>8?lt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0},"bi_windup"),ti=r((b,V,M,Q)=>{Pn(b),Q&&(lt(b,M),lt(b,~M)),b.pending_buf.set(b.window.subarray(V,V+M),b.pending),b.pending+=M},"copy_block"),Sn=r((b,V,M,Q)=>{const G=V*2,se=M*2;return b[G]<b[se]||b[G]===b[se]&&Q[V]<=Q[M]},"smaller"),oi=r((b,V,M)=>{const Q=b.heap[M];let G=M<<1;for(;G<=b.heap_len&&(G<b.heap_len&&Sn(V,b.heap[G+1],b.heap[G],b.depth)&&G++,!Sn(V,Q,b.heap[G],b.depth));)b.heap[M]=b.heap[G],M=G,G<<=1;b.heap[M]=Q},"pqdownheap"),vi=r((b,V,M)=>{let Q,G,se=0,Ee,Se;if(b.last_lit!==0)do Q=b.pending_buf[b.d_buf+se*2]<<8|b.pending_buf[b.d_buf+se*2+1],G=b.pending_buf[b.l_buf+se],se++,Q===0?pt(b,G,V):(Ee=me[G],pt(b,Ee+p+1,V),Se=N[Ee],Se!==0&&(G-=we[Ee],ot(b,G,Se)),Q--,Ee=at(Q),pt(b,Ee,M),Se=w[Ee],Se!==0&&(Q-=pe[Ee],ot(b,Q,Se)));while(se<b.last_lit);pt(b,x,V)},"compress_block"),Hn=r((b,V)=>{const M=V.dyn_tree,Q=V.stat_desc.static_tree,G=V.stat_desc.has_stree,se=V.stat_desc.elems;let Ee,Se,Qe=-1,he;for(b.heap_len=0,b.heap_max=l,Ee=0;Ee<se;Ee++)M[Ee*2]!==0?(b.heap[++b.heap_len]=Qe=Ee,b.depth[Ee]=0):M[Ee*2+1]=0;for(;b.heap_len<2;)he=b.heap[++b.heap_len]=Qe<2?++Qe:0,M[he*2]=1,b.depth[he]=0,b.opt_len--,G&&(b.static_len-=Q[he*2+1]);for(V.max_code=Qe,Ee=b.heap_len>>1;Ee>=1;Ee--)oi(b,M,Ee);he=se;do Ee=b.heap[1],b.heap[1]=b.heap[b.heap_len--],oi(b,M,1),Se=b.heap[1],b.heap[--b.heap_max]=Ee,b.heap[--b.heap_max]=Se,M[he*2]=M[Ee*2]+M[Se*2],b.depth[he]=(b.depth[Ee]>=b.depth[Se]?b.depth[Ee]:b.depth[Se])+1,M[Ee*2+1]=M[Se*2+1]=he,b.heap[1]=he++,oi(b,M,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Tn(b,V),Qt(M,Qe,b.bl_count)},"build_tree"),Di=r((b,V,M)=>{let Q,G=-1,se,Ee=V[0*2+1],Se=0,Qe=7,he=4;for(Ee===0&&(Qe=138,he=3),V[(M+1)*2+1]=65535,Q=0;Q<=M;Q++)se=Ee,Ee=V[(Q+1)*2+1],!(++Se<Qe&&se===Ee)&&(Se<he?b.bl_tree[se*2]+=Se:se!==0?(se!==G&&b.bl_tree[se*2]++,b.bl_tree[k*2]++):Se<=10?b.bl_tree[B*2]++:b.bl_tree[R*2]++,Se=0,G=se,Ee===0?(Qe=138,he=3):se===Ee?(Qe=6,he=3):(Qe=7,he=4))},"scan_tree"),Bi=r((b,V,M)=>{let Q,G=-1,se,Ee=V[0*2+1],Se=0,Qe=7,he=4;for(Ee===0&&(Qe=138,he=3),Q=0;Q<=M;Q++)if(se=Ee,Ee=V[(Q+1)*2+1],!(++Se<Qe&&se===Ee)){if(Se<he)do pt(b,se,b.bl_tree);while(--Se!==0);else se!==0?(se!==G&&(pt(b,se,b.bl_tree),Se--),pt(b,k,b.bl_tree),ot(b,Se-3,2)):Se<=10?(pt(b,B,b.bl_tree),ot(b,Se-3,3)):(pt(b,R,b.bl_tree),ot(b,Se-11,7));Se=0,G=se,Ee===0?(Qe=138,he=3):se===Ee?(Qe=6,he=3):(Qe=7,he=4)}},"send_tree"),Gt=r(b=>{let V;for(Di(b,b.dyn_ltree,b.l_desc.max_code),Di(b,b.dyn_dtree,b.d_desc.max_code),Hn(b,b.bl_desc),V=u-1;V>=3&&b.bl_tree[D[V]*2+1]===0;V--);return b.opt_len+=3*(V+1)+5+5+4,V},"build_bl_tree"),Dn=r((b,V,M,Q)=>{let G;for(ot(b,V-257,5),ot(b,M-1,5),ot(b,Q-4,4),G=0;G<Q;G++)ot(b,b.bl_tree[D[G]*2+1],3);Bi(b,b.dyn_ltree,V-1),Bi(b,b.dyn_dtree,M-1)},"send_all_trees"),Dt=r(b=>{let V=4093624447,M;for(M=0;M<=31;M++,V>>>=1)if(V&1&&b.dyn_ltree[M*2]!==0)return f;if(b.dyn_ltree[9*2]!==0||b.dyn_ltree[10*2]!==0||b.dyn_ltree[13*2]!==0)return h;for(M=32;M<p;M++)if(b.dyn_ltree[M*2]!==0)return h;return f},"detect_data_type");let je=!1;const yt=r(b=>{je||(Ft(),je=!0),b.l_desc=new Le(b.dyn_ltree,Je),b.d_desc=new Le(b.dyn_dtree,Fe),b.bl_desc=new Le(b.bl_tree,Ue),b.bi_buf=0,b.bi_valid=0,Rn(b)},"_tr_init$1"),dt=r((b,V,M,Q)=>{ot(b,(o<<1)+(Q?1:0),3),ti(b,V,M,!0)},"_tr_stored_block$1"),cn=r(b=>{ot(b,i<<1,3),pt(b,x,X),rt(b)},"_tr_align$1"),li=r((b,V,M,Q)=>{let G,se,Ee=0;b.level>0?(b.strm.data_type===m&&(b.strm.data_type=Dt(b)),Hn(b,b.l_desc),Hn(b,b.d_desc),Ee=Gt(b),G=b.opt_len+3+7>>>3,se=b.static_len+3+7>>>3,se<=G&&(G=se)):G=se=M+5,M+4<=G&&V!==-1?dt(b,V,M,Q):b.strategy===v||se===G?(ot(b,(i<<1)+(Q?1:0),3),vi(b,X,j)):(ot(b,(e<<1)+(Q?1:0),3),Dn(b,b.l_desc.max_code+1,b.d_desc.max_code+1,Ee+1),vi(b,b.dyn_ltree,b.dyn_dtree)),Rn(b),Q&&Pn(b)},"_tr_flush_block$1"),ci=r((b,V,M)=>(b.pending_buf[b.d_buf+b.last_lit*2]=V>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=V&255,b.pending_buf[b.l_buf+b.last_lit]=M&255,b.last_lit++,V===0?b.dyn_ltree[M*2]++:(b.matches++,V--,b.dyn_ltree[(me[M]+p+1)*2]++,b.dyn_dtree[at(V)*2]++),b.last_lit===b.lit_bufsize-1),"_tr_tally$1");var Jn=yt,di=dt,Mi=li,Sr=ci,Ai=cn,Hi={_tr_init:Jn,_tr_stored_block:di,_tr_flush_block:Mi,_tr_tally:Sr,_tr_align:Ai},ge=r((b,V,M,Q)=>{let G=b&65535|0,se=b>>>16&65535|0,Ee=0;for(;M!==0;){Ee=M>2e3?2e3:M,M-=Ee;do G=G+V[Q++]|0,se=se+G|0;while(--Ee);G%=65521,se%=65521}return G|se<<16|0},"adler32");const Re=r(()=>{let b,V=[];for(var M=0;M<256;M++){b=M;for(var Q=0;Q<8;Q++)b=b&1?3988292384^b>>>1:b>>>1;V[M]=b}return V},"makeTable"),Ve=new Uint32Array(Re());var tt=r((b,V,M,Q)=>{const G=Ve,se=Q+M;b^=-1;for(let Ee=Q;Ee<se;Ee++)b=b>>>8^G[(b^V[Ee])&255];return b^-1},"crc32"),it={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:an,_tr_stored_block:un,_tr_flush_block:en,_tr_tally:Mn,_tr_align:qi}=Hi,{Z_NO_FLUSH:pi,Z_PARTIAL_FLUSH:dr,Z_FULL_FLUSH:Ki,Z_FINISH:mi,Z_BLOCK:Pr,Z_OK:si,Z_STREAM_END:or,Z_STREAM_ERROR:$n,Z_DATA_ERROR:ur,Z_BUF_ERROR:Ji,Z_DEFAULT_COMPRESSION:xr,Z_FILTERED:Dr,Z_HUFFMAN_ONLY:Xi,Z_RLE:_r,Z_FIXED:vt,Z_DEFAULT_STRATEGY:z,Z_UNKNOWN:de,Z_DEFLATED:Ie}=bt,xe=9,$e=15,ut=8,mt=29,It=256+1+mt,Rt=30,Zt=19,Wt=2*It+1,on=15,Tt=3,Yn=258,kn=Yn+Tt+1,Si=32,ui=42,fi=69,gi=73,yi=91,Fi=103,ni=113,Ci=666,In=1,Qn=2,ii=3,Zn=4,yr=3,Ui=r((b,V)=>(b.msg=it[V],V),"err"),sr=r(b=>(b<<1)-(b>4?9:0),"rank"),Ri=r(b=>{let V=b.length;for(;--V>=0;)b[V]=0},"zero");let er=r((b,V,M)=>(V<<b.hash_shift^M)&b.hash_mask,"HASH_ZLIB");const Qi=r(b=>{const V=b.state;let M=V.pending;M>b.avail_out&&(M=b.avail_out),M!==0&&(b.output.set(V.pending_buf.subarray(V.pending_out,V.pending_out+M),b.next_out),b.next_out+=M,V.pending_out+=M,b.total_out+=M,b.avail_out-=M,V.pending-=M,V.pending===0&&(V.pending_out=0))},"flush_pending"),qn=r((b,V)=>{en(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,V),b.block_start=b.strstart,Qi(b.strm)},"flush_block_only"),Yt=r((b,V)=>{b.pending_buf[b.pending++]=V},"put_byte"),fr=r((b,V)=>{b.pending_buf[b.pending++]=V>>>8&255,b.pending_buf[b.pending++]=V&255},"putShortMSB"),Zo=r((b,V,M,Q)=>{let G=b.avail_in;return G>Q&&(G=Q),G===0?0:(b.avail_in-=G,V.set(b.input.subarray(b.next_in,b.next_in+G),M),b.state.wrap===1?b.adler=ge(b.adler,V,G,M):b.state.wrap===2&&(b.adler=tt(b.adler,V,G,M)),b.next_in+=G,b.total_in+=G,G)},"read_buf"),so=r((b,V)=>{let M=b.max_chain_length,Q=b.strstart,G,se,Ee=b.prev_length,Se=b.nice_match;const Qe=b.strstart>b.w_size-kn?b.strstart-(b.w_size-kn):0,he=b.window,Te=b.w_mask,tn=b.prev,Ye=b.strstart+Yn;let _e=he[Q+Ee-1],Et=he[Q+Ee];b.prev_length>=b.good_match&&(M>>=2),Se>b.lookahead&&(Se=b.lookahead);do if(G=V,!(he[G+Ee]!==Et||he[G+Ee-1]!==_e||he[G]!==he[Q]||he[++G]!==he[Q+1])){Q+=2,G++;do;while(he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&Q<Ye);if(se=Yn-(Ye-Q),Q=Ye-Yn,se>Ee){if(b.match_start=V,Ee=se,se>=Se)break;_e=he[Q+Ee-1],Et=he[Q+Ee]}}while((V=tn[V&Te])>Qe&&--M!==0);return Ee<=b.lookahead?Ee:b.lookahead},"longest_match"),Wi=r(b=>{const V=b.w_size;let M,Q,G,se,Ee;do{if(se=b.window_size-b.lookahead-b.strstart,b.strstart>=V+(V-kn)){b.window.set(b.window.subarray(V,V+V),0),b.match_start-=V,b.strstart-=V,b.block_start-=V,Q=b.hash_size,M=Q;do G=b.head[--M],b.head[M]=G>=V?G-V:0;while(--Q);Q=V,M=Q;do G=b.prev[--M],b.prev[M]=G>=V?G-V:0;while(--Q);se+=V}if(b.strm.avail_in===0)break;if(Q=Zo(b.strm,b.window,b.strstart+b.lookahead,se),b.lookahead+=Q,b.lookahead+b.insert>=Tt)for(Ee=b.strstart-b.insert,b.ins_h=b.window[Ee],b.ins_h=er(b,b.ins_h,b.window[Ee+1]);b.insert&&(b.ins_h=er(b,b.ins_h,b.window[Ee+Tt-1]),b.prev[Ee&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=Ee,Ee++,b.insert--,!(b.lookahead+b.insert<Tt)););}while(b.lookahead<kn&&b.strm.avail_in!==0)},"fill_window"),Jr=r((b,V)=>{let M=65535;for(M>b.pending_buf_size-5&&(M=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Wi(b),b.lookahead===0&&V===pi)return In;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;const Q=b.block_start+M;if((b.strstart===0||b.strstart>=Q)&&(b.lookahead=b.strstart-Q,b.strstart=Q,qn(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-kn&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=0,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):(b.strstart>b.block_start&&(qn(b,!1),b.strm.avail_out===0),In)},"deflate_stored"),Hr=r((b,V)=>{let M,Q;for(;;){if(b.lookahead<kn){if(Wi(b),b.lookahead<kn&&V===pi)return In;if(b.lookahead===0)break}if(M=0,b.lookahead>=Tt&&(b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),M!==0&&b.strstart-M<=b.w_size-kn&&(b.match_length=so(b,M)),b.match_length>=Tt)if(Q=Mn(b,b.strstart-b.match_start,b.match_length-Tt),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=Tt){b.match_length--;do b.strstart++,b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!==0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=er(b,b.ins_h,b.window[b.strstart+1]);else Q=Mn(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(Q&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=b.strstart<Tt-1?b.strstart:Tt-1,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_fast"),tr=r((b,V)=>{let M,Q,G;for(;;){if(b.lookahead<kn){if(Wi(b),b.lookahead<kn&&V===pi)return In;if(b.lookahead===0)break}if(M=0,b.lookahead>=Tt&&(b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=Tt-1,M!==0&&b.prev_length<b.max_lazy_match&&b.strstart-M<=b.w_size-kn&&(b.match_length=so(b,M),b.match_length<=5&&(b.strategy===Dr||b.match_length===Tt&&b.strstart-b.match_start>4096)&&(b.match_length=Tt-1)),b.prev_length>=Tt&&b.match_length<=b.prev_length){G=b.strstart+b.lookahead-Tt,Q=Mn(b,b.strstart-1-b.prev_match,b.prev_length-Tt),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=G&&(b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!==0);if(b.match_available=0,b.match_length=Tt-1,b.strstart++,Q&&(qn(b,!1),b.strm.avail_out===0))return In}else if(b.match_available){if(Q=Mn(b,0,b.window[b.strstart-1]),Q&&qn(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return In}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(Q=Mn(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<Tt-1?b.strstart:Tt-1,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_slow"),Ts=r((b,V)=>{let M,Q,G,se;const Ee=b.window;for(;;){if(b.lookahead<=Yn){if(Wi(b),b.lookahead<=Yn&&V===pi)return In;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=Tt&&b.strstart>0&&(G=b.strstart-1,Q=Ee[G],Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G])){se=b.strstart+Yn;do;while(Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&G<se);b.match_length=Yn-(se-G),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=Tt?(M=Mn(b,1,b.match_length-Tt),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(M=Mn(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),M&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=0,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_rle"),Is=r((b,V)=>{let M;for(;;){if(b.lookahead===0&&(Wi(b),b.lookahead===0)){if(V===pi)return In;break}if(b.match_length=0,M=Mn(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,M&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=0,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_huff");function ki(b,V,M,Q,G){this.good_length=b,this.max_lazy=V,this.nice_length=M,this.max_chain=Q,this.func=G}r(ki,"Config");const Cr=[new ki(0,0,0,0,Jr),new ki(4,4,8,4,Hr),new ki(4,5,16,8,Hr),new ki(4,6,32,32,Hr),new ki(4,4,16,16,tr),new ki(8,16,32,32,tr),new ki(8,16,128,128,tr),new ki(8,32,128,256,tr),new ki(32,128,258,1024,tr),new ki(32,258,258,4096,tr)],Eo=r(b=>{b.window_size=2*b.w_size,Ri(b.head),b.max_lazy_match=Cr[b.level].max_lazy,b.good_match=Cr[b.level].good_length,b.nice_match=Cr[b.level].nice_length,b.max_chain_length=Cr[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=Tt-1,b.match_available=0,b.ins_h=0},"lm_init");function ws(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ie,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Wt*2),this.dyn_dtree=new Uint16Array((2*Rt+1)*2),this.bl_tree=new Uint16Array((2*Zt+1)*2),Ri(this.dyn_ltree),Ri(this.dyn_dtree),Ri(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(on+1),this.heap=new Uint16Array(2*It+1),Ri(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*It+1),Ri(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}r(ws,"DeflateState");const Lr=r(b=>{if(!b||!b.state)return Ui(b,$n);b.total_in=b.total_out=0,b.data_type=de;const V=b.state;return V.pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?ui:ni,b.adler=V.wrap===2?0:1,V.last_flush=pi,an(V),si},"deflateResetKeep"),fo=r(b=>{const V=Lr(b);return V===si&&Eo(b.state),V},"deflateReset"),ao=r((b,V)=>!b||!b.state||b.state.wrap!==2?$n:(b.state.gzhead=V,si),"deflateSetHeader"),To=r((b,V,M,Q,G,se)=>{if(!b)return $n;let Ee=1;if(V===xr&&(V=6),Q<0?(Ee=0,Q=-Q):Q>15&&(Ee=2,Q-=16),G<1||G>xe||M!==Ie||Q<8||Q>15||V<0||V>9||se<0||se>vt)return Ui(b,$n);Q===8&&(Q=9);const Se=new ws;return b.state=Se,Se.strm=b,Se.wrap=Ee,Se.gzhead=null,Se.w_bits=Q,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=G+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+Tt-1)/Tt),Se.window=new Uint8Array(Se.w_size*2),Se.head=new Uint16Array(Se.hash_size),Se.prev=new Uint16Array(Se.w_size),Se.lit_bufsize=1<<G+6,Se.pending_buf_size=Se.lit_bufsize*4,Se.pending_buf=new Uint8Array(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=(1+2)*Se.lit_bufsize,Se.level=V,Se.strategy=se,Se.method=M,fo(b)},"deflateInit2"),qo=r((b,V)=>To(b,V,Ie,$e,ut,z),"deflateInit"),es=r((b,V)=>{let M,Q;if(!b||!b.state||V>Pr||V<0)return b?Ui(b,$n):$n;const G=b.state;if(!b.output||!b.input&&b.avail_in!==0||G.status===Ci&&V!==mi)return Ui(b,b.avail_out===0?Ji:$n);G.strm=b;const se=G.last_flush;if(G.last_flush=V,G.status===ui)if(G.wrap===2)b.adler=0,Yt(G,31),Yt(G,139),Yt(G,8),G.gzhead?(Yt(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),Yt(G,G.gzhead.time&255),Yt(G,G.gzhead.time>>8&255),Yt(G,G.gzhead.time>>16&255),Yt(G,G.gzhead.time>>24&255),Yt(G,G.level===9?2:G.strategy>=Xi||G.level<2?4:0),Yt(G,G.gzhead.os&255),G.gzhead.extra&&G.gzhead.extra.length&&(Yt(G,G.gzhead.extra.length&255),Yt(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(b.adler=tt(b.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=fi):(Yt(G,0),Yt(G,0),Yt(G,0),Yt(G,0),Yt(G,0),Yt(G,G.level===9?2:G.strategy>=Xi||G.level<2?4:0),Yt(G,yr),G.status=ni);else{let Ee=Ie+(G.w_bits-8<<4)<<8,Se=-1;G.strategy>=Xi||G.level<2?Se=0:G.level<6?Se=1:G.level===6?Se=2:Se=3,Ee|=Se<<6,G.strstart!==0&&(Ee|=Si),Ee+=31-Ee%31,G.status=ni,fr(G,Ee),G.strstart!==0&&(fr(G,b.adler>>>16),fr(G,b.adler&65535)),b.adler=1}if(G.status===fi)if(G.gzhead.extra){for(M=G.pending;G.gzindex<(G.gzhead.extra.length&65535)&&!(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Qi(b),M=G.pending,G.pending===G.pending_buf_size));)Yt(G,G.gzhead.extra[G.gzindex]&255),G.gzindex++;G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=gi)}else G.status=gi;if(G.status===gi)if(G.gzhead.name){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Qi(b),M=G.pending,G.pending===G.pending_buf_size)){Q=1;break}G.gzindex<G.gzhead.name.length?Q=G.gzhead.name.charCodeAt(G.gzindex++)&255:Q=0,Yt(G,Q)}while(Q!==0);G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Q===0&&(G.gzindex=0,G.status=yi)}else G.status=yi;if(G.status===yi)if(G.gzhead.comment){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Qi(b),M=G.pending,G.pending===G.pending_buf_size)){Q=1;break}G.gzindex<G.gzhead.comment.length?Q=G.gzhead.comment.charCodeAt(G.gzindex++)&255:Q=0,Yt(G,Q)}while(Q!==0);G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Q===0&&(G.status=Fi)}else G.status=Fi;if(G.status===Fi&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&Qi(b),G.pending+2<=G.pending_buf_size&&(Yt(G,b.adler&255),Yt(G,b.adler>>8&255),b.adler=0,G.status=ni)):G.status=ni),G.pending!==0){if(Qi(b),b.avail_out===0)return G.last_flush=-1,si}else if(b.avail_in===0&&sr(V)<=sr(se)&&V!==mi)return Ui(b,Ji);if(G.status===Ci&&b.avail_in!==0)return Ui(b,Ji);if(b.avail_in!==0||G.lookahead!==0||V!==pi&&G.status!==Ci){let Ee=G.strategy===Xi?Is(G,V):G.strategy===_r?Ts(G,V):Cr[G.level].func(G,V);if((Ee===ii||Ee===Zn)&&(G.status=Ci),Ee===In||Ee===ii)return b.avail_out===0&&(G.last_flush=-1),si;if(Ee===Qn&&(V===dr?qi(G):V!==Pr&&(un(G,0,0,!1),V===Ki&&(Ri(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),Qi(b),b.avail_out===0))return G.last_flush=-1,si}return V!==mi?si:G.wrap<=0?or:(G.wrap===2?(Yt(G,b.adler&255),Yt(G,b.adler>>8&255),Yt(G,b.adler>>16&255),Yt(G,b.adler>>24&255),Yt(G,b.total_in&255),Yt(G,b.total_in>>8&255),Yt(G,b.total_in>>16&255),Yt(G,b.total_in>>24&255)):(fr(G,b.adler>>>16),fr(G,b.adler&65535)),Qi(b),G.wrap>0&&(G.wrap=-G.wrap),G.pending!==0?si:or)},"deflate$2"),Bo=r(b=>{if(!b||!b.state)return $n;const V=b.state.status;return V!==ui&&V!==fi&&V!==gi&&V!==yi&&V!==Fi&&V!==ni&&V!==Ci?Ui(b,$n):(b.state=null,V===ni?Ui(b,ur):si)},"deflateEnd"),ts=r((b,V)=>{let M=V.length;if(!b||!b.state)return $n;const Q=b.state,G=Q.wrap;if(G===2||G===1&&Q.status!==ui||Q.lookahead)return $n;if(G===1&&(b.adler=ge(b.adler,V,M,0)),Q.wrap=0,M>=Q.w_size){G===0&&(Ri(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0);let Qe=new Uint8Array(Q.w_size);Qe.set(V.subarray(M-Q.w_size,M),0),V=Qe,M=Q.w_size}const se=b.avail_in,Ee=b.next_in,Se=b.input;for(b.avail_in=M,b.next_in=0,b.input=V,Wi(Q);Q.lookahead>=Tt;){let Qe=Q.strstart,he=Q.lookahead-(Tt-1);do Q.ins_h=er(Q,Q.ins_h,Q.window[Qe+Tt-1]),Q.prev[Qe&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Qe,Qe++;while(--he);Q.strstart=Qe,Q.lookahead=Tt-1,Wi(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=Tt-1,Q.match_available=0,b.next_in=Ee,b.input=Se,b.avail_in=se,Q.wrap=G,si},"deflateSetDictionary");var ho=qo,zr=To,Nr=fo,Io=Lr,po=ao,Yr=es,Fo=Bo,Uo=ts,Vo="pako deflate (from Nodeca project)",ar={deflateInit:ho,deflateInit2:zr,deflateReset:Nr,deflateResetKeep:Io,deflateSetHeader:po,deflate:Yr,deflateEnd:Fo,deflateSetDictionary:Uo,deflateInfo:Vo};const Ho=r((b,V)=>Object.prototype.hasOwnProperty.call(b,V),"_has");var ns=r(function(b){const V=Array.prototype.slice.call(arguments,1);for(;V.length;){const M=V.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(const Q in M)Ho(M,Q)&&(b[Q]=M[Q])}}return b},"assign"),zo=r(b=>{let V=0;for(let Q=0,G=b.length;Q<G;Q++)V+=b[Q].length;const M=new Uint8Array(V);for(let Q=0,G=0,se=b.length;Q<se;Q++){let Ee=b[Q];M.set(Ee,G),G+=Ee.length}return M},"flattenChunks"),Wr={assign:ns,flattenChunks:zo};let lo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lo=!1}const br=new Uint8Array(256);for(let b=0;b<256;b++)br[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;br[254]=br[254]=1;var Br=r(b=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);let V,M,Q,G,se,Ee=b.length,Se=0;for(G=0;G<Ee;G++)M=b.charCodeAt(G),(M&64512)===55296&&G+1<Ee&&(Q=b.charCodeAt(G+1),(Q&64512)===56320&&(M=65536+(M-55296<<10)+(Q-56320),G++)),Se+=M<128?1:M<2048?2:M<65536?3:4;for(V=new Uint8Array(Se),se=0,G=0;se<Se;G++)M=b.charCodeAt(G),(M&64512)===55296&&G+1<Ee&&(Q=b.charCodeAt(G+1),(Q&64512)===56320&&(M=65536+(M-55296<<10)+(Q-56320),G++)),M<128?V[se++]=M:M<2048?(V[se++]=192|M>>>6,V[se++]=128|M&63):M<65536?(V[se++]=224|M>>>12,V[se++]=128|M>>>6&63,V[se++]=128|M&63):(V[se++]=240|M>>>18,V[se++]=128|M>>>12&63,V[se++]=128|M>>>6&63,V[se++]=128|M&63);return V},"string2buf");const Wo=r((b,V)=>{if(V<65534&&b.subarray&&lo)return String.fromCharCode.apply(null,b.length===V?b:b.subarray(0,V));let M="";for(let Q=0;Q<V;Q++)M+=String.fromCharCode(b[Q]);return M},"buf2binstring");var Xr=r((b,V)=>{const M=V||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,V));let Q,G;const se=new Array(M*2);for(G=0,Q=0;Q<M;){let Ee=b[Q++];if(Ee<128){se[G++]=Ee;continue}let Se=br[Ee];if(Se>4){se[G++]=65533,Q+=Se-1;continue}for(Ee&=Se===2?31:Se===3?15:7;Se>1&&Q<M;)Ee=Ee<<6|b[Q++]&63,Se--;if(Se>1){se[G++]=65533;continue}Ee<65536?se[G++]=Ee:(Ee-=65536,se[G++]=55296|Ee>>10&1023,se[G++]=56320|Ee&1023)}return Wo(se,G)},"buf2string"),is=r((b,V)=>{V=V||b.length,V>b.length&&(V=b.length);let M=V-1;for(;M>=0&&(b[M]&192)===128;)M--;return M<0||M===0?V:M+br[b[M]]>V?M:V},"utf8border"),kr={string2buf:Br,buf2string:Xr,utf8border:is};function mo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r(mo,"ZStream");var wo=mo;const Fr=Object.prototype.toString,{Z_NO_FLUSH:jr,Z_SYNC_FLUSH:Oo,Z_FULL_FLUSH:jo,Z_FINISH:Js,Z_OK:Ur,Z_STREAM_END:rs,Z_DEFAULT_COMPRESSION:Gr,Z_DEFAULT_STRATEGY:Os,Z_DEFLATED:Ms}=bt;function hr(b){this.options=Wr.assign({level:Gr,method:Ms,chunkSize:16384,windowBits:15,memLevel:8,strategy:Os},b||{});let V=this.options;V.raw&&V.windowBits>0?V.windowBits=-V.windowBits:V.gzip&&V.windowBits>0&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wo,this.strm.avail_out=0;let M=ar.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(M!==Ur)throw new Error(it[M]);if(V.header&&ar.deflateSetHeader(this.strm,V.header),V.dictionary){let Q;if(typeof V.dictionary=="string"?Q=kr.string2buf(V.dictionary):Fr.call(V.dictionary)==="[object ArrayBuffer]"?Q=new Uint8Array(V.dictionary):Q=V.dictionary,M=ar.deflateSetDictionary(this.strm,Q),M!==Ur)throw new Error(it[M]);this._dict_set=!0}}r(hr,"Deflate$1"),hr.prototype.push=function(b,V){const M=this.strm,Q=this.options.chunkSize;let G,se;if(this.ended)return!1;for(V===~~V?se=V:se=V===!0?Js:jr,typeof b=="string"?M.input=kr.string2buf(b):Fr.call(b)==="[object ArrayBuffer]"?M.input=new Uint8Array(b):M.input=b,M.next_in=0,M.avail_in=M.input.length;;){if(M.avail_out===0&&(M.output=new Uint8Array(Q),M.next_out=0,M.avail_out=Q),(se===Oo||se===jo)&&M.avail_out<=6){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(G=ar.deflate(M,se),G===rs)return M.next_out>0&&this.onData(M.output.subarray(0,M.next_out)),G=ar.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===Ur;if(M.avail_out===0){this.onData(M.output);continue}if(se>0&&M.next_out>0){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(M.avail_in===0)break}return!0},hr.prototype.onData=function(b){this.chunks.push(b)},hr.prototype.onEnd=function(b){b===Ur&&(this.result=Wr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function Qr(b,V){const M=new hr(V);if(M.push(b,!0),M.err)throw M.msg||it[M.err];return M.result}r(Qr,"deflate$1");function Zr(b,V){return V=V||{},V.raw=!0,Qr(b,V)}r(Zr,"deflateRaw$1");function os(b,V){return V=V||{},V.gzip=!0,Qr(b,V)}r(os,"gzip$1");var ss=hr,Ys=Qr,Mo=Zr,as=os,As=bt,ls={Deflate:ss,deflate:Ys,deflateRaw:Mo,gzip:as,constants:As};const qr=30,Rs=12;var Ao=r(function(V,M){let Q,G,se,Ee,Se,Qe,he,Te,tn,Ye,_e,Et,zn,qt,Ut,gn,$t,Ke,nn,We,wt,qe,yn,Vt;const jt=V.state;Q=V.next_in,yn=V.input,G=Q+(V.avail_in-5),se=V.next_out,Vt=V.output,Ee=se-(M-V.avail_out),Se=se+(V.avail_out-257),Qe=jt.dmax,he=jt.wsize,Te=jt.whave,tn=jt.wnext,Ye=jt.window,_e=jt.hold,Et=jt.bits,zn=jt.lencode,qt=jt.distcode,Ut=(1<<jt.lenbits)-1,gn=(1<<jt.distbits)-1;e:do{Et<15&&(_e+=yn[Q++]<<Et,Et+=8,_e+=yn[Q++]<<Et,Et+=8),$t=zn[_e&Ut];t:for(;;){if(Ke=$t>>>24,_e>>>=Ke,Et-=Ke,Ke=$t>>>16&255,Ke===0)Vt[se++]=$t&65535;else if(Ke&16){nn=$t&65535,Ke&=15,Ke&&(Et<Ke&&(_e+=yn[Q++]<<Et,Et+=8),nn+=_e&(1<<Ke)-1,_e>>>=Ke,Et-=Ke),Et<15&&(_e+=yn[Q++]<<Et,Et+=8,_e+=yn[Q++]<<Et,Et+=8),$t=qt[_e&gn];n:for(;;){if(Ke=$t>>>24,_e>>>=Ke,Et-=Ke,Ke=$t>>>16&255,Ke&16){if(We=$t&65535,Ke&=15,Et<Ke&&(_e+=yn[Q++]<<Et,Et+=8,Et<Ke&&(_e+=yn[Q++]<<Et,Et+=8)),We+=_e&(1<<Ke)-1,We>Qe){V.msg="invalid distance too far back",jt.mode=qr;break e}if(_e>>>=Ke,Et-=Ke,Ke=se-Ee,We>Ke){if(Ke=We-Ke,Ke>Te&&jt.sane){V.msg="invalid distance too far back",jt.mode=qr;break e}if(wt=0,qe=Ye,tn===0){if(wt+=he-Ke,Ke<nn){nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);wt=se-We,qe=Vt}}else if(tn<Ke){if(wt+=he+tn-Ke,Ke-=tn,Ke<nn){nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);if(wt=0,tn<nn){Ke=tn,nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);wt=se-We,qe=Vt}}}else if(wt+=tn-Ke,Ke<nn){nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);wt=se-We,qe=Vt}for(;nn>2;)Vt[se++]=qe[wt++],Vt[se++]=qe[wt++],Vt[se++]=qe[wt++],nn-=3;nn&&(Vt[se++]=qe[wt++],nn>1&&(Vt[se++]=qe[wt++]))}else{wt=se-We;do Vt[se++]=Vt[wt++],Vt[se++]=Vt[wt++],Vt[se++]=Vt[wt++],nn-=3;while(nn>2);nn&&(Vt[se++]=Vt[wt++],nn>1&&(Vt[se++]=Vt[wt++]))}}else if(Ke&64){V.msg="invalid distance code",jt.mode=qr;break e}else{$t=qt[($t&65535)+(_e&(1<<Ke)-1)];continue n}break}}else if(Ke&64)if(Ke&32){jt.mode=Rs;break e}else{V.msg="invalid literal/length code",jt.mode=qr;break e}else{$t=zn[($t&65535)+(_e&(1<<Ke)-1)];continue t}break}}while(Q<G&&se<Se);nn=Et>>3,Q-=nn,Et-=nn<<3,_e&=(1<<Et)-1,V.next_in=Q,V.next_out=se,V.avail_in=Q<G?5+(G-Q):5-(Q-G),V.avail_out=se<Se?257+(Se-se):257-(se-Se),jt.hold=_e,jt.bits=Et},"inflate_fast");const nr=15,Ro=852,Po=592,Do=0,$r=1,go=2,pr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Go=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ps=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var to=r((b,V,M,Q,G,se,Ee,Se)=>{const Qe=Se.bits;let he=0,Te=0,tn=0,Ye=0,_e=0,Et=0,zn=0,qt=0,Ut=0,gn=0,$t,Ke,nn,We,wt,qe=null,yn=0,Vt;const jt=new Uint16Array(nr+1),Kr=new Uint16Array(nr+1);let mn=null,ml=0,hn,Bs,ms;for(he=0;he<=nr;he++)jt[he]=0;for(Te=0;Te<Q;Te++)jt[V[M+Te]]++;for(_e=Qe,Ye=nr;Ye>=1&&jt[Ye]===0;Ye--);if(_e>Ye&&(_e=Ye),Ye===0)return G[se++]=1<<24|64<<16|0,G[se++]=1<<24|64<<16|0,Se.bits=1,0;for(tn=1;tn<Ye&&jt[tn]===0;tn++);for(_e<tn&&(_e=tn),qt=1,he=1;he<=nr;he++)if(qt<<=1,qt-=jt[he],qt<0)return-1;if(qt>0&&(b===Do||Ye!==1))return-1;for(Kr[1]=0,he=1;he<nr;he++)Kr[he+1]=Kr[he]+jt[he];for(Te=0;Te<Q;Te++)V[M+Te]!==0&&(Ee[Kr[V[M+Te]]++]=Te);if(b===Do?(qe=mn=Ee,Vt=19):b===$r?(qe=pr,yn-=257,mn=Go,ml-=257,Vt=256):(qe=eo,mn=Ps,Vt=-1),gn=0,Te=0,he=tn,wt=se,Et=_e,zn=0,nn=-1,Ut=1<<_e,We=Ut-1,b===$r&&Ut>Ro||b===go&&Ut>Po)return 1;for(;;){hn=he-zn,Ee[Te]<Vt?(Bs=0,ms=Ee[Te]):Ee[Te]>Vt?(Bs=mn[ml+Ee[Te]],ms=qe[yn+Ee[Te]]):(Bs=32+64,ms=0),$t=1<<he-zn,Ke=1<<Et,tn=Ke;do Ke-=$t,G[wt+(gn>>zn)+Ke]=hn<<24|Bs<<16|ms|0;while(Ke!==0);for($t=1<<he-1;gn&$t;)$t>>=1;if($t!==0?(gn&=$t-1,gn+=$t):gn=0,Te++,--jt[he]===0){if(he===Ye)break;he=V[M+Ee[Te]]}if(he>_e&&(gn&We)!==nn){for(zn===0&&(zn=_e),wt+=tn,Et=he-zn,qt=1<<Et;Et+zn<Ye&&(qt-=jt[Et+zn],!(qt<=0));)Et++,qt<<=1;if(Ut+=1<<Et,b===$r&&Ut>Ro||b===go&&Ut>Po)return 1;nn=gn&We,G[nn]=_e<<24|Et<<16|wt-se|0}}return gn!==0&&(G[wt+gn]=he-zn<<24|64<<16|0),Se.bits=_e,0},"inflate_table");const Xs=0,cs=1,Pa=2,{Z_FINISH:no,Z_BLOCK:$o,Z_TREES:Er,Z_OK:mr,Z_STREAM_END:Da,Z_NEED_DICT:aa,Z_STREAM_ERROR:xi,Z_DATA_ERROR:ds,Z_MEM_ERROR:So,Z_BUF_ERROR:io,Z_DEFLATED:ji}=bt,Ds=1,ks=2,xs=3,us=4,fs=5,hs=6,_s=7,la=8,ue=9,ie=10,q=11,L=12,J=13,oe=14,re=15,be=16,Me=17,De=18,Ne=19,Be=20,Ge=21,Ze=22,gt=23,_t=24,Jt=25,Xt=26,fn=27,pn=28,wn=29,Pt=30,ei=31,Xn=32,Ii=852,_i=592,bi=15,Vi=r(b=>(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24),"zswap32");function Pi(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}r(Pi,"InflateState");const ir=r(b=>{if(!b||!b.state)return xi;const V=b.state;return b.total_in=b.total_out=V.total=0,b.msg="",V.wrap&&(b.adler=V.wrap&1),V.mode=Ds,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new Int32Array(Ii),V.distcode=V.distdyn=new Int32Array(_i),V.sane=1,V.back=-1,mr},"inflateResetKeep"),ro=r(b=>{if(!b||!b.state)return xi;const V=b.state;return V.wsize=0,V.whave=0,V.wnext=0,ir(b)},"inflateReset"),Vr=r((b,V)=>{let M;if(!b||!b.state)return xi;const Q=b.state;return V<0?(M=0,V=-V):(M=(V>>4)+1,V<48&&(V&=15)),V&&(V<8||V>15)?xi:(Q.window!==null&&Q.wbits!==V&&(Q.window=null),Q.wrap=M,Q.wbits=V,ro(b))},"inflateReset2"),Tr=r((b,V)=>{if(!b)return xi;const M=new Pi;b.state=M,M.window=null;const Q=Vr(b,V);return Q!==mr&&(b.state=null),Q},"inflateInit2"),ka=r(b=>Tr(b,bi),"inflateInit");let co=!0,Ko,Ls;const al=r(b=>{if(co){Ko=new Int32Array(512),Ls=new Int32Array(32);let V=0;for(;V<144;)b.lens[V++]=8;for(;V<256;)b.lens[V++]=9;for(;V<280;)b.lens[V++]=7;for(;V<288;)b.lens[V++]=8;for(to(cs,b.lens,0,288,Ko,0,b.work,{bits:9}),V=0;V<32;)b.lens[V++]=5;to(Pa,b.lens,0,32,Ls,0,b.work,{bits:5}),co=!1}b.lencode=Ko,b.lenbits=9,b.distcode=Ls,b.distbits=5},"fixedtables"),Qs=r((b,V,M,Q)=>{let G;const se=b.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new Uint8Array(se.wsize)),Q>=se.wsize?(se.window.set(V.subarray(M-se.wsize,M),0),se.wnext=0,se.whave=se.wsize):(G=se.wsize-se.wnext,G>Q&&(G=Q),se.window.set(V.subarray(M-Q,M-Q+G),se.wnext),Q-=G,Q?(se.window.set(V.subarray(M-Q,M),0),se.wnext=Q,se.whave=se.wsize):(se.wnext+=G,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=G))),0},"updatewindow"),On=r((b,V)=>{let M,Q,G,se,Ee,Se,Qe,he,Te,tn,Ye,_e,Et,zn,qt=0,Ut,gn,$t,Ke,nn,We,wt,qe;const yn=new Uint8Array(4);let Vt,jt;const Kr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return xi;M=b.state,M.mode===L&&(M.mode=J),Ee=b.next_out,G=b.output,Qe=b.avail_out,se=b.next_in,Q=b.input,Se=b.avail_in,he=M.hold,Te=M.bits,tn=Se,Ye=Qe,qe=mr;e:for(;;)switch(M.mode){case Ds:if(M.wrap===0){M.mode=J;break}for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(M.wrap&2&&he===35615){M.check=0,yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0),he=0,Te=0,M.mode=ks;break}if(M.flags=0,M.head&&(M.head.done=!1),!(M.wrap&1)||(((he&255)<<8)+(he>>8))%31){b.msg="incorrect header check",M.mode=Pt;break}if((he&15)!==ji){b.msg="unknown compression method",M.mode=Pt;break}if(he>>>=4,Te-=4,wt=(he&15)+8,M.wbits===0)M.wbits=wt;else if(wt>M.wbits){b.msg="invalid window size",M.mode=Pt;break}M.dmax=1<<M.wbits,b.adler=M.check=1,M.mode=he&512?ie:L,he=0,Te=0;break;case ks:for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(M.flags=he,(M.flags&255)!==ji){b.msg="unknown compression method",M.mode=Pt;break}if(M.flags&57344){b.msg="unknown header flags set",M.mode=Pt;break}M.head&&(M.head.text=he>>8&1),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0)),he=0,Te=0,M.mode=xs;case xs:for(;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.head&&(M.head.time=he),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,yn[2]=he>>>16&255,yn[3]=he>>>24&255,M.check=tt(M.check,yn,4,0)),he=0,Te=0,M.mode=us;case us:for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.head&&(M.head.xflags=he&255,M.head.os=he>>8),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0)),he=0,Te=0,M.mode=fs;case fs:if(M.flags&1024){for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.length=he,M.head&&(M.head.extra_len=he),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0)),he=0,Te=0}else M.head&&(M.head.extra=null);M.mode=hs;case hs:if(M.flags&1024&&(_e=M.length,_e>Se&&(_e=Se),_e&&(M.head&&(wt=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Uint8Array(M.head.extra_len)),M.head.extra.set(Q.subarray(se,se+_e),wt)),M.flags&512&&(M.check=tt(M.check,Q,_e,se)),Se-=_e,se+=_e,M.length-=_e),M.length))break e;M.length=0,M.mode=_s;case _s:if(M.flags&2048){if(Se===0)break e;_e=0;do wt=Q[se+_e++],M.head&&wt&&M.length<65536&&(M.head.name+=String.fromCharCode(wt));while(wt&&_e<Se);if(M.flags&512&&(M.check=tt(M.check,Q,_e,se)),Se-=_e,se+=_e,wt)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=la;case la:if(M.flags&4096){if(Se===0)break e;_e=0;do wt=Q[se+_e++],M.head&&wt&&M.length<65536&&(M.head.comment+=String.fromCharCode(wt));while(wt&&_e<Se);if(M.flags&512&&(M.check=tt(M.check,Q,_e,se)),Se-=_e,se+=_e,wt)break e}else M.head&&(M.head.comment=null);M.mode=ue;case ue:if(M.flags&512){for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(he!==(M.check&65535)){b.msg="header crc mismatch",M.mode=Pt;break}he=0,Te=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),b.adler=M.check=0,M.mode=L;break;case ie:for(;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}b.adler=M.check=Vi(he),he=0,Te=0,M.mode=q;case q:if(M.havedict===0)return b.next_out=Ee,b.avail_out=Qe,b.next_in=se,b.avail_in=Se,M.hold=he,M.bits=Te,aa;b.adler=M.check=1,M.mode=L;case L:if(V===$o||V===Er)break e;case J:if(M.last){he>>>=Te&7,Te-=Te&7,M.mode=fn;break}for(;Te<3;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}switch(M.last=he&1,he>>>=1,Te-=1,he&3){case 0:M.mode=oe;break;case 1:if(al(M),M.mode=Be,V===Er){he>>>=2,Te-=2;break e}break;case 2:M.mode=Me;break;case 3:b.msg="invalid block type",M.mode=Pt}he>>>=2,Te-=2;break;case oe:for(he>>>=Te&7,Te-=Te&7;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if((he&65535)!==(he>>>16^65535)){b.msg="invalid stored block lengths",M.mode=Pt;break}if(M.length=he&65535,he=0,Te=0,M.mode=re,V===Er)break e;case re:M.mode=be;case be:if(_e=M.length,_e){if(_e>Se&&(_e=Se),_e>Qe&&(_e=Qe),_e===0)break e;G.set(Q.subarray(se,se+_e),Ee),Se-=_e,se+=_e,Qe-=_e,Ee+=_e,M.length-=_e;break}M.mode=L;break;case Me:for(;Te<14;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(M.nlen=(he&31)+257,he>>>=5,Te-=5,M.ndist=(he&31)+1,he>>>=5,Te-=5,M.ncode=(he&15)+4,he>>>=4,Te-=4,M.nlen>286||M.ndist>30){b.msg="too many length or distance symbols",M.mode=Pt;break}M.have=0,M.mode=De;case De:for(;M.have<M.ncode;){for(;Te<3;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.lens[Kr[M.have++]]=he&7,he>>>=3,Te-=3}for(;M.have<19;)M.lens[Kr[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,Vt={bits:M.lenbits},qe=to(Xs,M.lens,0,19,M.lencode,0,M.work,Vt),M.lenbits=Vt.bits,qe){b.msg="invalid code lengths set",M.mode=Pt;break}M.have=0,M.mode=Ne;case Ne:for(;M.have<M.nlen+M.ndist;){for(;qt=M.lencode[he&(1<<M.lenbits)-1],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if($t<16)he>>>=Ut,Te-=Ut,M.lens[M.have++]=$t;else{if($t===16){for(jt=Ut+2;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(he>>>=Ut,Te-=Ut,M.have===0){b.msg="invalid bit length repeat",M.mode=Pt;break}wt=M.lens[M.have-1],_e=3+(he&3),he>>>=2,Te-=2}else if($t===17){for(jt=Ut+3;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ut,Te-=Ut,wt=0,_e=3+(he&7),he>>>=3,Te-=3}else{for(jt=Ut+7;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ut,Te-=Ut,wt=0,_e=11+(he&127),he>>>=7,Te-=7}if(M.have+_e>M.nlen+M.ndist){b.msg="invalid bit length repeat",M.mode=Pt;break}for(;_e--;)M.lens[M.have++]=wt}}if(M.mode===Pt)break;if(M.lens[256]===0){b.msg="invalid code -- missing end-of-block",M.mode=Pt;break}if(M.lenbits=9,Vt={bits:M.lenbits},qe=to(cs,M.lens,0,M.nlen,M.lencode,0,M.work,Vt),M.lenbits=Vt.bits,qe){b.msg="invalid literal/lengths set",M.mode=Pt;break}if(M.distbits=6,M.distcode=M.distdyn,Vt={bits:M.distbits},qe=to(Pa,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,Vt),M.distbits=Vt.bits,qe){b.msg="invalid distances set",M.mode=Pt;break}if(M.mode=Be,V===Er)break e;case Be:M.mode=Ge;case Ge:if(Se>=6&&Qe>=258){b.next_out=Ee,b.avail_out=Qe,b.next_in=se,b.avail_in=Se,M.hold=he,M.bits=Te,Ao(b,Ye),Ee=b.next_out,G=b.output,Qe=b.avail_out,se=b.next_in,Q=b.input,Se=b.avail_in,he=M.hold,Te=M.bits,M.mode===L&&(M.back=-1);break}for(M.back=0;qt=M.lencode[he&(1<<M.lenbits)-1],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(gn&&!(gn&240)){for(Ke=Ut,nn=gn,We=$t;qt=M.lencode[We+((he&(1<<Ke+nn)-1)>>Ke)],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ke+Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ke,Te-=Ke,M.back+=Ke}if(he>>>=Ut,Te-=Ut,M.back+=Ut,M.length=$t,gn===0){M.mode=Xt;break}if(gn&32){M.back=-1,M.mode=L;break}if(gn&64){b.msg="invalid literal/length code",M.mode=Pt;break}M.extra=gn&15,M.mode=Ze;case Ze:if(M.extra){for(jt=M.extra;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.length+=he&(1<<M.extra)-1,he>>>=M.extra,Te-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=gt;case gt:for(;qt=M.distcode[he&(1<<M.distbits)-1],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(!(gn&240)){for(Ke=Ut,nn=gn,We=$t;qt=M.distcode[We+((he&(1<<Ke+nn)-1)>>Ke)],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ke+Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ke,Te-=Ke,M.back+=Ke}if(he>>>=Ut,Te-=Ut,M.back+=Ut,gn&64){b.msg="invalid distance code",M.mode=Pt;break}M.offset=$t,M.extra=gn&15,M.mode=_t;case _t:if(M.extra){for(jt=M.extra;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.offset+=he&(1<<M.extra)-1,he>>>=M.extra,Te-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){b.msg="invalid distance too far back",M.mode=Pt;break}M.mode=Jt;case Jt:if(Qe===0)break e;if(_e=Ye-Qe,M.offset>_e){if(_e=M.offset-_e,_e>M.whave&&M.sane){b.msg="invalid distance too far back",M.mode=Pt;break}_e>M.wnext?(_e-=M.wnext,Et=M.wsize-_e):Et=M.wnext-_e,_e>M.length&&(_e=M.length),zn=M.window}else zn=G,Et=Ee-M.offset,_e=M.length;_e>Qe&&(_e=Qe),Qe-=_e,M.length-=_e;do G[Ee++]=zn[Et++];while(--_e);M.length===0&&(M.mode=Ge);break;case Xt:if(Qe===0)break e;G[Ee++]=M.length,Qe--,M.mode=Ge;break;case fn:if(M.wrap){for(;Te<32;){if(Se===0)break e;Se--,he|=Q[se++]<<Te,Te+=8}if(Ye-=Qe,b.total_out+=Ye,M.total+=Ye,Ye&&(b.adler=M.check=M.flags?tt(M.check,G,Ye,Ee-Ye):ge(M.check,G,Ye,Ee-Ye)),Ye=Qe,(M.flags?he:Vi(he))!==M.check){b.msg="incorrect data check",M.mode=Pt;break}he=0,Te=0}M.mode=pn;case pn:if(M.wrap&&M.flags){for(;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(he!==(M.total&4294967295)){b.msg="incorrect length check",M.mode=Pt;break}he=0,Te=0}M.mode=wn;case wn:qe=Da;break e;case Pt:qe=ds;break e;case ei:return So;case Xn:default:return xi}return b.next_out=Ee,b.avail_out=Qe,b.next_in=se,b.avail_in=Se,M.hold=he,M.bits=Te,(M.wsize||Ye!==b.avail_out&&M.mode<Pt&&(M.mode<fn||V!==no))&&Qs(b,b.output,b.next_out,Ye-b.avail_out),tn-=b.avail_in,Ye-=b.avail_out,b.total_in+=tn,b.total_out+=Ye,M.total+=Ye,M.wrap&&Ye&&(b.adler=M.check=M.flags?tt(M.check,G,Ye,b.next_out-Ye):ge(M.check,G,Ye,b.next_out-Ye)),b.data_type=M.bits+(M.last?64:0)+(M.mode===L?128:0)+(M.mode===Be||M.mode===re?256:0),(tn===0&&Ye===0||V===no)&&qe===mr&&(qe=io),qe},"inflate$2"),sn=r(b=>{if(!b||!b.state)return xi;let V=b.state;return V.window&&(V.window=null),b.state=null,mr},"inflateEnd"),Ul=r((b,V)=>{if(!b||!b.state)return xi;const M=b.state;return M.wrap&2?(M.head=V,V.done=!1,mr):xi},"inflateGetHeader"),Mc=r((b,V)=>{const M=V.length;let Q,G,se;return!b||!b.state||(Q=b.state,Q.wrap!==0&&Q.mode!==q)?xi:Q.mode===q&&(G=1,G=ge(G,V,M,0),G!==Q.check)?ds:(se=Qs(b,V,M,M),se?(Q.mode=ei,So):(Q.havedict=1,mr))},"inflateSetDictionary");var ll=ro,Yi=Vr,Vl=ir,xa=ka,ca=Tr,Ac=On,cl=sn,dl=Ul,ul=Mc,_a="pako inflate (from Nodeca project)",gr={inflateReset:ll,inflateReset2:Yi,inflateResetKeep:Vl,inflateInit:xa,inflateInit2:ca,inflate:Ac,inflateEnd:cl,inflateGetHeader:dl,inflateSetDictionary:ul,inflateInfo:_a};function ln(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r(ln,"GZheader");var Kn=ln;const At=Object.prototype.toString,{Z_NO_FLUSH:Rc,Z_FINISH:fl,Z_OK:Jo,Z_STREAM_END:Zs,Z_NEED_DICT:qs,Z_STREAM_ERROR:Ns,Z_DATA_ERROR:da,Z_MEM_ERROR:Pc}=bt;function Yo(b){this.options=Wr.assign({chunkSize:1024*64,windowBits:15,to:""},b||{});const V=this.options;V.raw&&V.windowBits>=0&&V.windowBits<16&&(V.windowBits=-V.windowBits,V.windowBits===0&&(V.windowBits=-15)),V.windowBits>=0&&V.windowBits<16&&!(b&&b.windowBits)&&(V.windowBits+=32),V.windowBits>15&&V.windowBits<48&&(V.windowBits&15||(V.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wo,this.strm.avail_out=0;let M=gr.inflateInit2(this.strm,V.windowBits);if(M!==Jo)throw new Error(it[M]);if(this.header=new Kn,gr.inflateGetHeader(this.strm,this.header),V.dictionary&&(typeof V.dictionary=="string"?V.dictionary=kr.string2buf(V.dictionary):At.call(V.dictionary)==="[object ArrayBuffer]"&&(V.dictionary=new Uint8Array(V.dictionary)),V.raw&&(M=gr.inflateSetDictionary(this.strm,V.dictionary),M!==Jo)))throw new Error(it[M])}r(Yo,"Inflate$1"),Yo.prototype.push=function(b,V){const M=this.strm,Q=this.options.chunkSize,G=this.options.dictionary;let se,Ee,Se;if(this.ended)return!1;for(V===~~V?Ee=V:Ee=V===!0?fl:Rc,At.call(b)==="[object ArrayBuffer]"?M.input=new Uint8Array(b):M.input=b,M.next_in=0,M.avail_in=M.input.length;;){for(M.avail_out===0&&(M.output=new Uint8Array(Q),M.next_out=0,M.avail_out=Q),se=gr.inflate(M,Ee),se===qs&&G&&(se=gr.inflateSetDictionary(M,G),se===Jo?se=gr.inflate(M,Ee):se===da&&(se=qs));M.avail_in>0&&se===Zs&&M.state.wrap>0&&b[M.next_in]!==0;)gr.inflateReset(M),se=gr.inflate(M,Ee);switch(se){case Ns:case da:case qs:case Pc:return this.onEnd(se),this.ended=!0,!1}if(Se=M.avail_out,M.next_out&&(M.avail_out===0||se===Zs))if(this.options.to==="string"){let Qe=kr.utf8border(M.output,M.next_out),he=M.next_out-Qe,Te=kr.buf2string(M.output,Qe);M.next_out=he,M.avail_out=Q-he,he&&M.output.set(M.output.subarray(Qe,Qe+he),0),this.onData(Te)}else this.onData(M.output.length===M.next_out?M.output:M.output.subarray(0,M.next_out));if(!(se===Jo&&Se===0)){if(se===Zs)return se=gr.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,!0;if(M.avail_in===0)break}}return!0},Yo.prototype.onData=function(b){this.chunks.push(b)},Yo.prototype.onEnd=function(b){b===Jo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function ua(b,V){const M=new Yo(V);if(M.push(b),M.err)throw M.msg||it[M.err];return M.result}r(ua,"inflate$1");function hl(b,V){return V=V||{},V.raw=!0,ua(b,V)}r(hl,"inflateRaw$1");var Dc=Yo,kc=ua,xc=hl,ea=ua,Hl=bt,fa={Inflate:Dc,inflate:kc,inflateRaw:xc,ungzip:ea,constants:Hl};const{Deflate:ha,deflate:zl,deflateRaw:La,gzip:_c}=ls,{Inflate:Wl,inflate:Lc,inflateRaw:jl,ungzip:Nc}=fa;var Na=ha,Ba=zl,Fa=La,pl=_c,rr=Wl,ps=Lc,Ua=jl,Va=Nc,Ha=bt,za={Deflate:Na,deflate:Ba,deflateRaw:Fa,gzip:pl,Inflate:rr,inflate:ps,inflateRaw:Ua,ungzip:Va,constants:Ha}},cZ61:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RawSha256=void 0;var v=d("vdHl"),f=function(){function h(){this.state=Int32Array.from(v.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r(h,"RawSha256"),h.prototype.update=function(m){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,o=m.byteLength;if(this.bytesHashed+=o,this.bytesHashed*8>v.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;o>0;)this.buffer[this.bufferLength++]=m[a++],o--,this.bufferLength===v.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},h.prototype.digest=function(){if(!this.finished){var m=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),o=this.bufferLength;if(a.setUint8(this.bufferLength++,128),o%v.BLOCK_SIZE>=v.BLOCK_SIZE-8){for(var i=this.bufferLength;i<v.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<v.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(v.BLOCK_SIZE-8,Math.floor(m/4294967296),!0),a.setUint32(v.BLOCK_SIZE-4,m),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(v.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},h.prototype.hashBuffer=function(){for(var m=this,a=m.buffer,o=m.state,i=o[0],e=o[1],t=o[2],n=o[3],s=o[4],p=o[5],g=o[6],S=o[7],u=0;u<v.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var l=this.temp[u-2],E=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10;l=this.temp[u-15];var O=(l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[u]=(E+this.temp[u-7]|0)+(O+this.temp[u-16]|0)}var P=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&p^~s&g)|0)+(S+(v.KEY[u]+this.temp[u]|0)|0)|0,x=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;S=g,g=p,p=s,s=n+P|0,n=t,t=e,e=i,i=P+x|0}o[0]+=i,o[1]+=e,o[2]+=t,o[3]+=n,o[4]+=s,o[5]+=p,o[6]+=g,o[7]+=S},h}();c.RawSha256=f},cizm:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(t,n,s,p){function g(S){return S instanceof s?S:new s(function(u){u(S)})}return r(g,"adopt"),new(s||(s=Promise))(function(S,u){function l(P){try{O(p.next(P))}catch(x){u(x)}}r(l,"fulfilled");function E(P){try{O(p.throw(P))}catch(x){u(x)}}r(E,"rejected");function O(P){P.done?S(P.value):g(P.value).then(l,E)}r(O,"step"),O((p=p.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("lUhs")),m=f(d("V5IF")),a=f(d("bTau")),o=f(d("59sL")),i=f(d("aVV0"));let e=r(class extends i.default{cancel(){if(this.cancelPromise){const n=new Error(`canceling ${this.name()}`);this.cancelPromise(n),delete this.cancelPromise}}run(){return v(this,void 0,void 0,function*(){if(this.context.turnCredentials){this.context.logger.info("TURN credentials available, skipping credentials fetch");return}if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url){this.context.logger.info("TURN control url not supplied, skipping credentials fetch");return}const n={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new a.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const s=yield new Promise((p,g)=>v(this,void 0,void 0,function*(){this.cancelPromise=S=>{g(S)};try{const S=yield fetch(o.default.urlWithVersion(this.url),n);if(this.context.logger.info("received TURN credentials"),S.status&&S.status===403){g(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.TURNCredentialsForbidden}`));return}if(S.status&&S.status===404){g(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.MeetingEnded}`));return}p(yield S.json())}catch(S){g(S)}finally{delete this.cancelPromise}}));this.context.turnCredentials=new m.default,this.context.turnCredentials.password=s.password,this.context.turnCredentials.ttl=s.ttl,this.context.turnCredentials.uris=s.uris.map(p=>this.context.meetingSessionConfiguration.urls.urlRewriter(p)).filter(p=>!!p),this.context.turnCredentials.username=s.username})}constructor(n){super(n.logger),this.context=n,this.taskName="ReceiveTURNCredentialsTask",this.url=n.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=n.meetingSessionConfiguration.meetingId,this.joinToken=n.meetingSessionConfiguration.credentials.joinToken}},"ReceiveTURNCredentialsTask");c.default=e},cm7I:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},t=Object(a.a)("rooms.startTranscription generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"rooms.startTranscription",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to rooms.startTranscription
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsStartTranscriptionFetcher",description:"rooms.startTranscription generated fetcher"}},crgu:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDestroyable=void 0;function v(f){return f&&"destroy"in f}r(v,"isDestroyable"),c.isDestroyable=v},curu:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("hEYi")),m=d("f2XL"),a=f(d("aVV0"));let o=r(class extends a.default{run(){return v(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===h.default.ReceivedSignalFrame){if(e.message.type===m.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===m.SdkSignalFrame.Type.AUDIO_METADATA){const t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=t=>{this.context.signalingClient.mute(t)}}},"ListenForVolumeIndicatorsTask");c.default=o},czaS:function(U,c,d){var v=d("USwo"),f=d("VSTI"),h=d("S4vA");U.exports=function(m,a){var o=(f.Object||{})[m]||Object[m],i={};i[m]=a(o),v(v.S+v.F*h(function(){o(1)}),"Object",i)}},"d+lc":function(U,c,d){var v=d("ekG2");U.exports=function(f){if(!v(f))throw TypeError(f+" is not an object!");return f}},"d/Q8":function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={TeamIneligible:"team_ineligible",TeamOnPaidPlan:"team_on_paid_plan",InvalidCampaign:"invalid_campaign",InsufficientPermissions:"insufficient_permissions",CodeTypeRedeemed:"code_type_redeemed",CodeSubtypeRedeemed:"code_subtype_redeemed",NotInExperiment:"not_in_experiment",TeamDoesntSatisfyDaysAfterReachedMessageLimitCriteria:"team_doesnt_satisfy_days_after_reached_message_limit_criteria"},t=Object(a.a)("promo.campaigns.redeem generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"promo.campaigns.redeem",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to promo.campaigns.redeem
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherpromoCampaignsRedeemFetcher",description:"promo.campaigns.redeem generated fetcher"}},dFEU:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var v=d("kQNw"),f=d("p72H"),h=d("f/KM"),m=d("Yugg"),a=function(){function e(t){this.secret=t,this.reset()}return r(e,"Sha256"),e.prototype.update=function(t){var n=this;(0,v.isEmptyData)(t)||(this.operation=this.operation.then(function(s){return s.onerror=function(){n.operation=Promise.reject(new Error("Error encountered updating hash"))},s.process(i(t)),s}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(n,s){t.onerror=function(){s(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&n(new Uint8Array(t.result)),s(new Error("Error encountered finalizing hash"))},t.finish()})})},e.prototype.reset=function(){this.secret?(this.operation=o(this.secret).then(function(t){return(0,m.locateWindow)().msCrypto.subtle.sign(f.SHA_256_HMAC_ALGO,t)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,m.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();c.Sha256=a;function o(e){return new Promise(function(t,n){var s=(0,m.locateWindow)().msCrypto.subtle.importKey("raw",i(e),f.SHA_256_HMAC_ALGO,!1,["sign"]);s.oncomplete=function(){s.result&&t(s.result),n(new Error("ImportKey completed without importing key."))},s.onerror=function(){n(new Error("ImportKey failed to import key."))}})}r(o,"getKeyPromise");function i(e){return typeof e=="string"?(0,h.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}r(i,"toArrayBufferView")},dJwD:function(U,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return f}),d.d(c,"__assign",function(){return h}),d.d(c,"__rest",function(){return m}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return o}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return n}),d.d(c,"__exportStar",function(){return s}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return g}),d.d(c,"__spread",function(){return S}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return l}),d.d(c,"__asyncGenerator",function(){return E}),d.d(c,"__asyncDelegator",function(){return O}),d.d(c,"__asyncValues",function(){return P}),d.d(c,"__makeTemplateObject",function(){return x}),d.d(c,"__importStar",function(){return k}),d.d(c,"__importDefault",function(){return B}),d.d(c,"__classPrivateFieldGet",function(){return R}),d.d(c,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=r(function(w,A){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var X in K)K.hasOwnProperty(X)&&(D[X]=K[X])},v(w,A)},"extendStatics");function f(w,A){v(w,A);function D(){this.constructor=w}r(D,"__"),w.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}r(f,"__extends");var h=r(function(){return h=Object.assign||r(function(A){for(var D,K=1,X=arguments.length;K<X;K++){D=arguments[K];for(var j in D)Object.prototype.hasOwnProperty.call(D,j)&&(A[j]=D[j])}return A},"__assign"),h.apply(this,arguments)},"__assign");function m(w,A){var D={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&A.indexOf(K)<0&&(D[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,K=Object.getOwnPropertySymbols(w);X<K.length;X++)A.indexOf(K[X])<0&&Object.prototype.propertyIsEnumerable.call(w,K[X])&&(D[K[X]]=w[K[X]]);return D}r(m,"__rest");function a(w,A,D,K){var X=arguments.length,j=X<3?A:K===null?K=Object.getOwnPropertyDescriptor(A,D):K,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,A,D,K);else for(var me=w.length-1;me>=0;me--)(te=w[me])&&(j=(X<3?te(j):X>3?te(A,D,j):te(A,D))||j);return X>3&&j&&Object.defineProperty(A,D,j),j}r(a,"__decorate");function o(w,A){return function(D,K){A(D,K,w)}}r(o,"__param");function i(w,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,A)}r(i,"__metadata");function e(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})}r(e,"__awaiter");function t(w,A){var D={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},K,X,j,te;return te={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function me(pe){return function(Ae){return we([pe,Ae])}}function we(pe){if(K)throw new TypeError("Generator is already executing.");for(;D;)try{if(K=1,X&&(j=pe[0]&2?X.return:pe[0]?X.throw||((j=X.return)&&j.call(X),0):X.next)&&!(j=j.call(X,pe[1])).done)return j;switch(X=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return D.label++,{value:pe[1],done:!1};case 5:D.label++,X=pe[1],pe=[0];continue;case 7:pe=D.ops.pop(),D.trys.pop();continue;default:if(j=D.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){D=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){D.label=pe[1];break}if(pe[0]===6&&D.label<j[1]){D.label=j[1],j=pe;break}if(j&&D.label<j[2]){D.label=j[2],D.ops.push(pe);break}j[2]&&D.ops.pop(),D.trys.pop();continue}pe=A.call(w,D)}catch(Ae){pe=[6,Ae],X=0}finally{K=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}r(t,"__generator");function n(w,A,D,K){K===void 0&&(K=D),w[K]=A[D]}r(n,"__createBinding");function s(w,A){for(var D in w)D!=="default"&&!A.hasOwnProperty(D)&&(A[D]=w[D])}r(s,"__exportStar");function p(w){var A=typeof Symbol=="function"&&Symbol.iterator,D=A&&w[A],K=0;if(D)return D.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}r(p,"__values");function g(w,A){var D=typeof Symbol=="function"&&w[Symbol.iterator];if(!D)return w;var K=D.call(w),X,j=[],te;try{for(;(A===void 0||A-- >0)&&!(X=K.next()).done;)j.push(X.value)}catch(me){te={error:me}}finally{try{X&&!X.done&&(D=K.return)&&D.call(K)}finally{if(te)throw te.error}}return j}r(g,"__read");function S(){for(var w=[],A=0;A<arguments.length;A++)w=w.concat(g(arguments[A]));return w}r(S,"__spread");function u(){for(var w=0,A=0,D=arguments.length;A<D;A++)w+=arguments[A].length;for(var K=Array(w),X=0,A=0;A<D;A++)for(var j=arguments[A],te=0,me=j.length;te<me;te++,X++)K[X]=j[te];return K}r(u,"__spreadArrays");function l(w){return this instanceof l?(this.v=w,this):new l(w)}r(l,"__await");function E(w,A,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=D.apply(w,A||[]),X,j=[];return X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X;function te(Fe){K[Fe]&&(X[Fe]=function(Ue){return new Promise(function(Le,at){j.push([Fe,Ue,Le,at])>1||me(Fe,Ue)})})}function me(Fe,Ue){try{we(K[Fe](Ue))}catch(Le){Je(j[0][3],Le)}}function we(Fe){Fe.value instanceof l?Promise.resolve(Fe.value.v).then(pe,Ae):Je(j[0][2],Fe)}function pe(Fe){me("next",Fe)}function Ae(Fe){me("throw",Fe)}function Je(Fe,Ue){Fe(Ue),j.shift(),j.length&&me(j[0][0],j[0][1])}}r(E,"__asyncGenerator");function O(w){var A,D;return A={},K("next"),K("throw",function(X){throw X}),K("return"),A[Symbol.iterator]=function(){return this},A;function K(X,j){A[X]=w[X]?function(te){return(D=!D)?{value:l(w[X](te)),done:X==="return"}:j?j(te):te}:j}}r(O,"__asyncDelegator");function P(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=w[Symbol.asyncIterator],D;return A?A.call(w):(w=typeof p=="function"?p(w):w[Symbol.iterator](),D={},K("next"),K("throw"),K("return"),D[Symbol.asyncIterator]=function(){return this},D);function K(j){D[j]=w[j]&&function(te){return new Promise(function(me,we){te=w[j](te),X(me,we,te.done,te.value)})}}function X(j,te,me,we){Promise.resolve(we).then(function(pe){j({value:pe,done:me})},te)}}r(P,"__asyncValues");function x(w,A){return Object.defineProperty?Object.defineProperty(w,"raw",{value:A}):w.raw=A,w}r(x,"__makeTemplateObject");function k(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var D in w)Object.hasOwnProperty.call(w,D)&&(A[D]=w[D]);return A.default=w,A}r(k,"__importStar");function B(w){return w&&w.__esModule?w:{default:w}}r(B,"__importDefault");function R(w,A){if(!A.has(w))throw new TypeError("attempted to get private field on non-instance");return A.get(w)}r(R,"__classPrivateFieldGet");function N(w,A,D){if(!A.has(w))throw new TypeError("attempted to set private field on non-instance");return A.set(w,D),D}r(N,"__classPrivateFieldSet")},dPBs:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEventCondition=void 0;var v;(function(f){f[f.ConnectingNew=0]="ConnectingNew",f[f.ReconnectingExisting=1]="ReconnectingExisting",f[f.StartedNew=2]="StartedNew",f[f.StartedExisting=3]="StartedExisting",f[f.StartedAfterReconnect=4]="StartedAfterReconnect",f[f.StoppedCleanly=5]="StoppedCleanly",f[f.StoppedWithFailure=6]="StoppedWithFailure"})(v=c.MeetingSessionLifecycleEventCondition||(c.MeetingSessionLifecycleEventCondition={})),c.default=v},dPyZ:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("E6e8"),m=d("EM4D"),a=f(d("ac3q"));let o=r(class{makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){const n=new h.Sha256(t);return n.update(e),n.digest()}getDateTimeString(){const e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,n,s){return v(this,void 0,void 0,function*(){const p=yield this.hmac(t,"AWS4"+e),g=yield this.hmac(n,p),S=yield this.hmac(s,g);return yield this.hmac("aws4_request",S)})}signURL(e,t,n,s,p,g,S){return v(this,void 0,void 0,function*(){const u=this.getDateTimeString(),l=this.getDateString(u),E="AWS4-HMAC-SHA256";let O="";this.chimeClient.config.region instanceof Function?O=yield this.chimeClient.config.region():O=this.chimeClient.config.region;const P="host",x="host:"+s.toLowerCase()+`
`,k=l+"/"+O+"/"+n+"/aws4_request";let B;this.chimeClient.config.credentials instanceof Function?B=yield this.chimeClient.config.credentials():B=this.chimeClient.config.credentials;let R=new Map;R.set("X-Amz-Algorithm",[E]),R.set("X-Amz-Credential",[encodeURIComponent(B.accessKeyId+"/"+k)]),R.set("X-Amz-Date",[u]),R.set("X-Amz-Expires",["10"]),R.set("X-Amz-SignedHeaders",["host"]),B.sessionToken&&R.set("X-Amz-Security-Token",[encodeURIComponent(B.sessionToken)]),R.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),R.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),S==null||S.forEach((te,me)=>{const we=encodeURIComponent(me);te.sort().forEach(pe=>{R.has(we)||R.set(we,[]),R.get(we).push(encodeURIComponent(pe))})});let N="";R=new Map([...R.entries()].sort()),R.forEach((te,me)=>{te.forEach(we=>{N.length&&(N+="&"),N+=me+"="+we})});const w=e+`
`+p+`
`+N+`
`+x+`
`+P+`
`+m.toHex(yield this.hmac(g)),A=m.toHex(yield this.hmac(w)),D=`AWS4-HMAC-SHA256
`+u+`
`+l+"/"+O+"/"+n+`/aws4_request
`+A,K=yield this.getSignatureKey(B.secretAccessKey,l,O,n),X=m.toHex(yield this.hmac(D,K)),j=N+"&X-Amz-Signature="+X;return t+"://"+s+p+"?"+j})}constructor(e){this.chimeClient=e}},"DefaultSigV4");c.default=o},dRu9:function(U,c,d){"use strict";d.d(c,"b",function(){return p}),d.d(c,"a",function(){return g}),d.d(c,"c",function(){return S});var v=d("JwAW"),f=d("RPF1"),h=d("n3tL"),m=d("q1tI"),a=d.n(m),o=d("wSSu"),i=d.n(o),e={disabled:!1},t=d("0PSK"),n="unmounted",s="exited",p="entering",g="entered",S="exiting",u=function(O){Object(f.a)(P,O);function P(k,B){var R;R=O.call(this,k,B)||this;var N=B,w=N&&!N.isMounting?k.enter:k.appear,A;return R.appearStatus=null,k.in?w?(A=s,R.appearStatus=p):A=g:k.unmountOnExit||k.mountOnEnter?A=n:A=s,R.state={status:A},R.nextCallback=null,R}r(P,"Transition"),P.getDerivedStateFromProps=r(function(B,R){var N=B.in;return N&&R.status===n?{status:s}:null},"getDerivedStateFromProps");var x=P.prototype;return x.componentDidMount=r(function(){this.updateStatus(!0,this.appearStatus)},"componentDidMount"),x.componentDidUpdate=r(function(B){var R=null;if(B!==this.props){var N=this.state.status;this.props.in?N!==p&&N!==g&&(R=p):(N===p||N===g)&&(R=S)}this.updateStatus(!1,R)},"componentDidUpdate"),x.componentWillUnmount=r(function(){this.cancelNextCallback()},"componentWillUnmount"),x.getTimeouts=r(function(){var B=this.props.timeout,R,N,w;return R=N=w=B,B!=null&&typeof B!="number"&&(R=B.exit,N=B.enter,w=B.appear!==void 0?B.appear:N),{exit:R,enter:N,appear:w}},"getTimeouts"),x.updateStatus=r(function(B,R){if(B===void 0&&(B=!1),R!==null){this.cancelNextCallback();var N=i.a.findDOMNode(this);R===p?this.performEnter(N,B):this.performExit(N)}else this.props.unmountOnExit&&this.state.status===s&&this.setState({status:n})},"updateStatus"),x.performEnter=r(function(B,R){var N=this,w=this.props.enter,A=this.context?this.context.isMounting:R,D=this.getTimeouts(),K=A?D.appear:D.enter;if(!R&&!w||e.disabled){this.safeSetState({status:g},function(){N.props.onEntered(B)});return}this.props.onEnter(B,A),this.safeSetState({status:p},function(){N.props.onEntering(B,A),N.onTransitionEnd(B,K,function(){N.safeSetState({status:g},function(){N.props.onEntered(B,A)})})})},"performEnter"),x.performExit=r(function(B){var R=this,N=this.props.exit,w=this.getTimeouts();if(!N||e.disabled){this.safeSetState({status:s},function(){R.props.onExited(B)});return}this.props.onExit(B),this.safeSetState({status:S},function(){R.props.onExiting(B),R.onTransitionEnd(B,w.exit,function(){R.safeSetState({status:s},function(){R.props.onExited(B)})})})},"performExit"),x.cancelNextCallback=r(function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},"cancelNextCallback"),x.safeSetState=r(function(B,R){R=this.setNextCallback(R),this.setState(B,R)},"safeSetState"),x.setNextCallback=r(function(B){var R=this,N=!0;return this.nextCallback=function(w){N&&(N=!1,R.nextCallback=null,B(w))},this.nextCallback.cancel=function(){N=!1},this.nextCallback},"setNextCallback"),x.onTransitionEnd=r(function(B,R,N){this.setNextCallback(N);var w=R==null&&!this.props.addEndListener;if(!B||w){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(B,this.nextCallback),R!=null&&setTimeout(this.nextCallback,R)},"onTransitionEnd"),x.render=r(function(){var B=this.state.status;if(B===n)return null;var R=this.props,N=R.children,w=Object(v.a)(R,["children"]);if(delete w.in,delete w.mountOnEnter,delete w.unmountOnExit,delete w.appear,delete w.enter,delete w.exit,delete w.timeout,delete w.addEndListener,delete w.onEnter,delete w.onEntering,delete w.onEntered,delete w.onExit,delete w.onExiting,delete w.onExited,typeof N=="function")return a.a.createElement(t.a.Provider,{value:null},N(B,w));var A=a.a.Children.only(N);return a.a.createElement(t.a.Provider,{value:null},a.a.cloneElement(A,w))},"render"),P}(a.a.Component);u.contextType=t.a,u.propTypes={};function l(){}r(l,"noop"),u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var E=c.d=u},"dWP+":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isVideoTransformDevice=void 0;function v(f){return!!f&&typeof f=="object"&&"transformStream"in f&&"stop"in f&&"intrinsicDevice"in f}r(v,"isVideoTransformDevice"),c.isVideoTransformDevice=v},dWQL:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a){this.videoWidth=h,this.videoHeight=m,this.videoFrameRate=a}},"VideoQualitySettings");c.default=v},da6e:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("Aplu");let f=r(class{start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(m){m===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):m<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(m,a,o){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",a),this.statsCollector.logLatency("ping_pong_clock_skew",o),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(m){let a=0,o=0;const i=m.getObservableMetrics(),e=i.audioPacketsReceived,t=i.audioPacketsReceivedFractionLoss,n=i.audioSpeakerDelayMs;if(typeof n=="number"&&!isNaN(n)&&this.connectionHealthData.setAudioSpeakerDelayMs(n),typeof e=="number"&&typeof t=="number"){if(a=e,o=t,a<0||o<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,a),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,o),a>0?(this.hasSeenValidPacketMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidPacketMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(a===0||o>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof i.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(i.audioPacketsSent),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(m){m>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}addToMinuteWindow(m,a){m.unshift(a),m.length>60&&m.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(m=>{v.Maybe.of(m.connectionHealthDidChange).map(a=>a.bind(m)(this.connectionHealthData.clone()))})}constructor(m,a,o,i,e){this.audioVideoController=m,this.realtimeController=a,this.connectionHealthData=o,this.pingPong=i,this.statsCollector=e,this.isActive=!1,this.hasSeenValidPacketMetricsBefore=!1,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(t=>{this.isActive&&this.receiveSignalStrengthChange(t)})}},"SignalingAndMetricsConnectionMonitor");c.default=f},dazq:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}},"MeetingReadinessCheckerConfiguration");c.default=v},dhcM:function(U,c,d){"use strict";var v=d("FLqD"),f=d("kt0j"),h=Object(f.a)(function(m,a,o,i){Object(v.a)(m,a,o,i)});c.a=h},dmnA:function(U,c,d){"use strict";U.exports=d("fCza")},"du/1":function(U,c,d){var v=d("USwo");v(v.S,"Object",{create:d("b08l")})},duQQ:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isMsWindow=void 0;var v=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function f(m){return"MSInputMethodContext"in m&&"msCrypto"in m}r(f,"quacksLikeAnMsWindow");function h(m){if(f(m)&&m.msCrypto.subtle!==void 0){var a=m.msCrypto,o=a.getRandomValues,i=a.subtle;return v.map(function(e){return i[e]}).concat(o).every(function(e){return typeof e=="function"})}return!1}r(h,"isMsWindow"),c.isMsWindow=h},"e/M0":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("j+uH"));let h=r(class extends f.default{run(){return this.fn().then(()=>{})}constructor(a,o,i="RunnableTask"){super(a),this.fn=o,this.taskName=i}},"RunnableTask");c.default=h},"e/ca":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("uctb"));let h=r(class{info(a){this.log(f.default.INFO,a)}warn(a){this.log(f.default.WARN,a)}error(a){this.log(f.default.ERROR,a)}debug(a){f.default.DEBUG<this.level||(typeof a=="string"?this.log(f.default.DEBUG,a):a?this.log(f.default.DEBUG,a()):this.log(f.default.DEBUG,""+a))}setLogLevel(a){this.level=a}getLogLevel(){return this.level}log(a,o){if(a<this.level)return;const e=`${new Date().toISOString()} [${f.default[a]}] ${this.name} - ${o}`;switch(a){case f.default.ERROR:console.error(e);break;case f.default.WARN:console.warn(e);break;case f.default.DEBUG:console.debug(e.replace(/\\r\\n/g,`
`));break;case f.default.INFO:console.info(e);break}}constructor(a,o=f.default.WARN){this.name=a,this.level=o}},"ConsoleLogger");c.default=h},"e/nb":function(U,c,d){"use strict";d.r(c),d.d(c,"__extends",function(){return f}),d.d(c,"__assign",function(){return h}),d.d(c,"__rest",function(){return m}),d.d(c,"__decorate",function(){return a}),d.d(c,"__param",function(){return o}),d.d(c,"__metadata",function(){return i}),d.d(c,"__awaiter",function(){return e}),d.d(c,"__generator",function(){return t}),d.d(c,"__createBinding",function(){return n}),d.d(c,"__exportStar",function(){return s}),d.d(c,"__values",function(){return p}),d.d(c,"__read",function(){return g}),d.d(c,"__spread",function(){return S}),d.d(c,"__spreadArrays",function(){return u}),d.d(c,"__await",function(){return l}),d.d(c,"__asyncGenerator",function(){return E}),d.d(c,"__asyncDelegator",function(){return O}),d.d(c,"__asyncValues",function(){return P}),d.d(c,"__makeTemplateObject",function(){return x}),d.d(c,"__importStar",function(){return k}),d.d(c,"__importDefault",function(){return B}),d.d(c,"__classPrivateFieldGet",function(){return R}),d.d(c,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v=r(function(w,A){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var X in K)K.hasOwnProperty(X)&&(D[X]=K[X])},v(w,A)},"extendStatics");function f(w,A){v(w,A);function D(){this.constructor=w}r(D,"__"),w.prototype=A===null?Object.create(A):(D.prototype=A.prototype,new D)}r(f,"__extends");var h=r(function(){return h=Object.assign||r(function(A){for(var D,K=1,X=arguments.length;K<X;K++){D=arguments[K];for(var j in D)Object.prototype.hasOwnProperty.call(D,j)&&(A[j]=D[j])}return A},"__assign"),h.apply(this,arguments)},"__assign");function m(w,A){var D={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&A.indexOf(K)<0&&(D[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,K=Object.getOwnPropertySymbols(w);X<K.length;X++)A.indexOf(K[X])<0&&Object.prototype.propertyIsEnumerable.call(w,K[X])&&(D[K[X]]=w[K[X]]);return D}r(m,"__rest");function a(w,A,D,K){var X=arguments.length,j=X<3?A:K===null?K=Object.getOwnPropertyDescriptor(A,D):K,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,A,D,K);else for(var me=w.length-1;me>=0;me--)(te=w[me])&&(j=(X<3?te(j):X>3?te(A,D,j):te(A,D))||j);return X>3&&j&&Object.defineProperty(A,D,j),j}r(a,"__decorate");function o(w,A){return function(D,K){A(D,K,w)}}r(o,"__param");function i(w,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,A)}r(i,"__metadata");function e(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})}r(e,"__awaiter");function t(w,A){var D={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},K,X,j,te;return te={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function me(pe){return function(Ae){return we([pe,Ae])}}function we(pe){if(K)throw new TypeError("Generator is already executing.");for(;D;)try{if(K=1,X&&(j=pe[0]&2?X.return:pe[0]?X.throw||((j=X.return)&&j.call(X),0):X.next)&&!(j=j.call(X,pe[1])).done)return j;switch(X=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return D.label++,{value:pe[1],done:!1};case 5:D.label++,X=pe[1],pe=[0];continue;case 7:pe=D.ops.pop(),D.trys.pop();continue;default:if(j=D.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){D=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){D.label=pe[1];break}if(pe[0]===6&&D.label<j[1]){D.label=j[1],j=pe;break}if(j&&D.label<j[2]){D.label=j[2],D.ops.push(pe);break}j[2]&&D.ops.pop(),D.trys.pop();continue}pe=A.call(w,D)}catch(Ae){pe=[6,Ae],X=0}finally{K=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}r(t,"__generator");function n(w,A,D,K){K===void 0&&(K=D),w[K]=A[D]}r(n,"__createBinding");function s(w,A){for(var D in w)D!=="default"&&!A.hasOwnProperty(D)&&(A[D]=w[D])}r(s,"__exportStar");function p(w){var A=typeof Symbol=="function"&&Symbol.iterator,D=A&&w[A],K=0;if(D)return D.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}r(p,"__values");function g(w,A){var D=typeof Symbol=="function"&&w[Symbol.iterator];if(!D)return w;var K=D.call(w),X,j=[],te;try{for(;(A===void 0||A-- >0)&&!(X=K.next()).done;)j.push(X.value)}catch(me){te={error:me}}finally{try{X&&!X.done&&(D=K.return)&&D.call(K)}finally{if(te)throw te.error}}return j}r(g,"__read");function S(){for(var w=[],A=0;A<arguments.length;A++)w=w.concat(g(arguments[A]));return w}r(S,"__spread");function u(){for(var w=0,A=0,D=arguments.length;A<D;A++)w+=arguments[A].length;for(var K=Array(w),X=0,A=0;A<D;A++)for(var j=arguments[A],te=0,me=j.length;te<me;te++,X++)K[X]=j[te];return K}r(u,"__spreadArrays");function l(w){return this instanceof l?(this.v=w,this):new l(w)}r(l,"__await");function E(w,A,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=D.apply(w,A||[]),X,j=[];return X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X;function te(Fe){K[Fe]&&(X[Fe]=function(Ue){return new Promise(function(Le,at){j.push([Fe,Ue,Le,at])>1||me(Fe,Ue)})})}function me(Fe,Ue){try{we(K[Fe](Ue))}catch(Le){Je(j[0][3],Le)}}function we(Fe){Fe.value instanceof l?Promise.resolve(Fe.value.v).then(pe,Ae):Je(j[0][2],Fe)}function pe(Fe){me("next",Fe)}function Ae(Fe){me("throw",Fe)}function Je(Fe,Ue){Fe(Ue),j.shift(),j.length&&me(j[0][0],j[0][1])}}r(E,"__asyncGenerator");function O(w){var A,D;return A={},K("next"),K("throw",function(X){throw X}),K("return"),A[Symbol.iterator]=function(){return this},A;function K(X,j){A[X]=w[X]?function(te){return(D=!D)?{value:l(w[X](te)),done:X==="return"}:j?j(te):te}:j}}r(O,"__asyncDelegator");function P(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=w[Symbol.asyncIterator],D;return A?A.call(w):(w=typeof p=="function"?p(w):w[Symbol.iterator](),D={},K("next"),K("throw"),K("return"),D[Symbol.asyncIterator]=function(){return this},D);function K(j){D[j]=w[j]&&function(te){return new Promise(function(me,we){te=w[j](te),X(me,we,te.done,te.value)})}}function X(j,te,me,we){Promise.resolve(we).then(function(pe){j({value:pe,done:me})},te)}}r(P,"__asyncValues");function x(w,A){return Object.defineProperty?Object.defineProperty(w,"raw",{value:A}):w.raw=A,w}r(x,"__makeTemplateObject");function k(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var D in w)Object.hasOwnProperty.call(w,D)&&(A[D]=w[D]);return A.default=w,A}r(k,"__importStar");function B(w){return w&&w.__esModule?w:{default:w}}r(B,"__importDefault");function R(w,A){if(!A.has(w))throw new TypeError("attempted to get private field on non-instance");return A.get(w)}r(R,"__classPrivateFieldGet");function N(w,A,D){if(!A.has(w))throw new TypeError("attempted to set private field on non-instance");return A.set(w,D),D}r(N,"__classPrivateFieldSet")},e0ae:function(U,c,d){"use strict";d.r(c),function(v){d.d(c,"BrowserInfo",function(){return h}),d.d(c,"NodeInfo",function(){return m}),d.d(c,"SearchBotDeviceInfo",function(){return a}),d.d(c,"BotInfo",function(){return o}),d.d(c,"ReactNativeInfo",function(){return i}),d.d(c,"detect",function(){return g}),d.d(c,"browserName",function(){return u}),d.d(c,"parseUserAgent",function(){return l}),d.d(c,"detectOS",function(){return E}),d.d(c,"getNodeVersion",function(){return O});var f=function(x,k,B){if(B||arguments.length===2)for(var R=0,N=k.length,w;R<N;R++)(w||!(R in k))&&(w||(w=Array.prototype.slice.call(k,0,R)),w[R]=k[R]);return x.concat(w||Array.prototype.slice.call(k))},h=function(){function x(k,B,R){this.name=k,this.version=B,this.os=R,this.type="browser"}return r(x,"BrowserInfo"),x}(),m=function(){function x(k){this.version=k,this.type="node",this.name="node",this.os=v.platform}return r(x,"NodeInfo"),x}(),a=function(){function x(k,B,R,N){this.name=k,this.version=B,this.os=R,this.bot=N,this.type="bot-device"}return r(x,"SearchBotDeviceInfo"),x}(),o=function(){function x(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r(x,"BotInfo"),x}(),i=function(){function x(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r(x,"ReactNativeInfo"),x}(),e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,t=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,n=3,s=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function g(x){return x?l(x):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new i:typeof navigator<"u"?l(navigator.userAgent):O()}r(g,"detect");function S(x){return x!==""&&s.reduce(function(k,B){var R=B[0],N=B[1];if(k)return k;var w=N.exec(x);return!!w&&[R,w]},!1)}r(S,"matchUserAgent");function u(x){var k=S(x);return k?k[0]:null}r(u,"browserName");function l(x){var k=S(x);if(!k)return null;var B=k[0],R=k[1];if(B==="searchbot")return new o;var N=R[1]&&R[1].split(".").join("_").split("_").slice(0,3);N?N.length<n&&(N=f(f([],N,!0),P(n-N.length),!0)):N=[];var w=N.join("."),A=E(x),D=t.exec(x);return D&&D[1]?new a(B,w,A,D[1]):new h(B,w,A)}r(l,"parseUserAgent");function E(x){for(var k=0,B=p.length;k<B;k++){var R=p[k],N=R[0],w=R[1],A=w.exec(x);if(A)return N}return null}r(E,"detectOS");function O(){var x=typeof v<"u"&&v.version;return x?new m(v.version.slice(1)):null}r(O,"getNodeVersion");function P(x){for(var k=[],B=0;B<x;B++)k.push("0");return k}r(P,"createVersionParts")}.call(this,d("8oxB"))},e2MG:function(U,c,d){"use strict";(function(v){var f=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const m=h(d("8wPz")),a=h(d("91j7")),o=h(d("uctb"));let i=r(class Hf{addEventListener(){!this.eventListener||!("window"in v)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in v)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(t){o.default.DEBUG<this.logLevel||(typeof t=="string"?this.log(o.default.DEBUG,t):t?this.log(o.default.DEBUG,t()):this.log(o.default.DEBUG,""+t))}info(t){this.log(o.default.INFO,t)}warn(t){this.log(o.default.WARN,t)}error(t){this.log(o.default.ERROR,t)}setLogLevel(t){this.logLevel=t}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new m.default(this.intervalMs),this.intervalScheduler.start(()=>f(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const t=this.logCapture.slice(0,this.batchSize),n=this.makeRequestBody(t);try{(yield fetch(this.url,Object.assign({method:"POST",body:n},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(t.length))}catch(s){console.warn("[POSTLogger] "+s.message)}finally{this.lock=!1}}))}stop(){var t;(t=this.intervalScheduler)===null||t===void 0||t.stop(),this.intervalScheduler=void 0,this.removeEventListener();const n=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,n)}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(t){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:t}))}log(t,n){if(t<this.logLevel)return;const s=Date.now();this.logCapture.push(new a.default(this.sequenceNumber,n,s,o.default[t])),this.sequenceNumber+=1}constructor(t){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:n,batchSize:s=Hf.BATCH_SIZE,intervalMs:p=Hf.INTERVAL_MS,logLevel:g=o.default.WARN,metadata:S,headers:u}=t;this.url=n,this.batchSize=s,this.intervalMs=p,this.logLevel=g,this.metadata=S,this.headers=u,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");c.default=i,i.BATCH_SIZE=85,i.INTERVAL_MS=2e3}).call(this,d("yLpj"))},e56k:function(U,c,d){d("ZY/g"),d("C5kU"),U.exports=d("iqsF")},eFki:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Xv43")),m=15;let a=r(class{destroy(){if(this.stop(),this.stages)for(const i of this.stages)i.destroy()}get framerate(){return this.fr}set framerate(i){this.fr=i<0?m:i}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const i of this.outputMediaStream.getVideoTracks())i.stop();this.lastTimeOut&&(clearTimeout(this.lastTimeOut),this.lastTimeOut=void 0),this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(i=>{i.processingDidStop&&i.processingDidStop()}))}addObserver(i){this.observers.add(i)}removeObserver(i){this.observers.delete(i)}getInputMediaStream(){return v(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(i){return v(this,void 0,void 0,function*(){if(!i){this.stop();return}if(i.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=i;const e=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(e)}`),this.canvasOutput.width=e.width,this.canvasOutput.height=e.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const t=new h.default(this.canvasInput);this.sourceBuffers.push(t),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const i of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${i.id} from output stream`),this.outputMediaStream.removeTrack(i);for(const i of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${i.id} to output stream`),this.outputMediaStream.addTrack(i)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(i){this.stages=i}get processors(){return this.stages}forEachObserver(i){for(const e of this.observers)setTimeout(()=>{i(e)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const i of this.inputVideoStream.getTracks())i.stop();this.inputVideoStream=null;for(const i of this.sourceBuffers)i.destroy();this.sourceBuffers=[]}constructor(i,e){this.logger=i,this.stages=e,this.fr=m,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=t=>v(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const n=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let s=[];s.push(this.sourceBuffers[0]);try{for(const O of this.processors)s=yield O.process(s)}catch{this.forEachObserver(P=>{P.processingDidFailToStart&&P.processingDidFailToStart()});return}this.destBuffers=s;let p;try{p=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(P=>{P.processingDidFailToStart&&P.processingDidFailToStart()}));return}const g=p.width,S=p.height;g!==0&&S!==0&&(this.canvasOutput.width!==g&&this.canvasOutput.height!==S&&(this.canvasOutput.width=g,this.canvasOutput.height=S),this.outputCtx.drawImage(p,0,0,g,S,0,0,g,S),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(O=>{O.processingDidStart&&O.processingDidStart()})));const u=performance.now()-n,l=1e3*2/this.framerate-u,E=Math.max(0,1e3/this.framerate-u);l<=0&&this.forEachObserver(O=>{O.processingLatencyTooHigh&&O.processingLatencyTooHigh(u)}),this.lastTimeOut=setTimeout(this.process,E)})}},"DefaultVideoFrameProcessorPipeline");c.default=a},eP7z:function(U,c,d){"use strict";function v(f,h){return f<h}r(v,"baseLt"),c.a=v},eWGP:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(n,s,p,g){function S(u){return u instanceof p?u:new p(function(l){l(u)})}return r(S,"adopt"),new(p||(p=Promise))(function(u,l){function E(x){try{P(g.next(x))}catch(k){l(k)}}r(E,"fulfilled");function O(x){try{P(g.throw(x))}catch(k){l(k)}}r(O,"rejected");function P(x){x.done?u(x.value):S(x.value).then(E,O)}r(P,"step"),P((g=g.apply(n,s||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusDeviceTransformer=void 0;const h=d("sudc"),m=d("VCUZ"),a=f(d("ac3q")),o=f(d("725M")),i=f(d("aMTh")),e=f(d("1ZHK"));let t=r(class Aa{static isSupported(s,p){var g,S;const u=Aa.defaultFetchBehavior(),l=p!=null&&p.logger?new o.default(p.logger):void 0,E={fetchBehavior:u,logger:l};if(m.isIFramed()){if((p==null?void 0:p.allowIFrame)===!1)return(g=p==null?void 0:p.logger)===null||g===void 0||g.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(S=p==null?void 0:p.logger)===null||S===void 0||S.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return h.VoiceFocus.isSupported(Aa.augmentSpec(s),E)}static create(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2?arguments[2]:void 0,S=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;var l,E,O;return v(this,void 0,void 0,function*(){S&&S.Meeting.Meeting&&(S=S.Meeting);const P=((O=(E=(l=S==null?void 0:S.Meeting)===null||l===void 0?void 0:l.MeetingFeatures)===null||E===void 0?void 0:E.Audio)===null||O===void 0?void 0:O.EchoReduction)==="AVAILABLE",x=g&&g.supported===!0&&g.model.name==="ns_es"&&!P,k=s.name==="ns_es"&&!P;if(x||k)throw new Error("Echo Reduction requested but not enabled.");const B=new Aa(s,p,g);return yield B.init(),B})}static configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return v(this,void 0,void 0,function*(){return new Aa(s,p,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(s,p){return v(this,void 0,void 0,function*(){if(this.supported)try{const[S,u]=yield this.allocateVoiceFocus(!0),l=Object.assign(Object.assign({},p),{es:this.spec.name==="ns_es"});return new i.default(s,S,u,l)}catch{return}})}static destroyVoiceFocus(s){var p;return v(this,void 0,void 0,function*(){(p=s==null?void 0:s.vf)===null||p===void 0||p.destroy()})}static augmentSpec(s){return!s||!s.assetGroup&&!s.revisionID?Object.assign(Object.assign({},s),{assetGroup:Aa.currentSDKAssetGroup()}):s}configure(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return v(this,void 0,void 0,function*(){const p={fetchBehavior:this.fetchBehavior,preResolve:s,logger:this.vfLogger};return h.VoiceFocus.configure(this.spec,p)})}init(){var s;return v(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const p=yield this.configuration;if(!p.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(p,this.preload);try{yield this.pendingVoiceFocus}catch(g){(s=this.logger)===null||s===void 0||s.error(`Unable to initialize Amazon Voice Focus: ${g}`),this.supported=!1}})}createVoiceFocus(s,p){return v(this,void 0,void 0,function*(){const g=new e.default;return this.vf=yield h.VoiceFocus.init(s,{delegate:g,preload:p,logger:this.vfLogger}),[this.vf,g]})}allocateVoiceFocus(s){return v(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const p=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,p}return this.createVoiceFocus(yield this.configuration,s)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const s=this.majorVersion();return s?`sdk-${s}`:"stable-v1"}static defaultFetchBehavior(){const s=Aa.majorMinorVersion()||"unknown",p=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(s)}&ua=${encodeURIComponent(p)}`}}constructor(s,{preload:p=!0,logger:g,fetchBehavior:S=Aa.defaultFetchBehavior()},u){this.spec=s,this.supported=!0,this.logger=g,this.vfLogger=g?new o.default(g):void 0,this.preload=p,this.fetchBehavior=S,this.spec=Aa.augmentSpec(this.spec),u&&(this.configuration=Promise.resolve(u))}},"VoiceFocusDeviceTransformer");c.VoiceFocusDeviceTransformer=t,c.default=t},eeAN:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=void 0;function v(f){if(!Uint32Array.from){for(var h=new Uint32Array(f.length),m=0;m<f.length;)h[m]=f[m],m+=1;return h}return Uint32Array.from(f)}r(v,"uint32ArrayFrom"),c.uint32ArrayFrom=v},eeYi:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("K4CH"),m=d("rwhO"),a=f(d("Y2s1")),o=f(d("MFJ1")),i=f(d("hAj8")),e=f(d("6/h7")),t=f(d("59sL")),n=f(d("7H4U"));let s=r(class Nl{addObserver(g){this.observerSet.add(g)}removeObserver(g){this.observerSet.delete(g)}forEachObserver(g){for(const S of this.observerSet)e.default.nextTick(()=>{this.observerSet.has(S)&&g(S)})}publishEvent(g,S){return v(this,void 0,void 0,function*(){const u=Date.now();this.meetingHistoryStates.push({name:g,timestampMs:u});const l=Object.freeze(Object.assign(this.getAttributes(u),S));this.forEachObserver(E=>{E.eventDidReceive(g,l)}),this.reportEvent(g,u,S)})}reportEvent(g,S,u){var l;return v(this,void 0,void 0,function*(){let E;try{u&&(E=n.default(u)),yield(l=this.eventReporter)===null||l===void 0?void 0:l.reportEvent(S,g,E)}catch(O){this.logger.error(`Error reporting event ${O}`)}})}setupEventReporter(g,S,u){if(u)this._eventReporter=u;else if(g.urls){const l=g.urls.eventIngestionURL;if(l){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:E,credentials:{attendeeId:O,joinToken:P}}=g,x=new i.default(E,O,P),k=new a.default(x,l);this._eventReporter=new o.default(k,S)}}}getAttributes(g){var S,u;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((S=this.parserResult)===null||S===void 0?void 0:S.os.name)||Nl.UNAVAILABLE,osVersion:((u=this.parserResult)===null||u===void 0?void 0:u.os.version)||Nl.UNAVAILABLE,sdkVersion:t.default.sdkVersion,sdkName:t.default.sdkName,timestampMs:g}}get eventReporter(){return this._eventReporter}destroy(){return v(this,void 0,void 0,function*(){m.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}constructor(g,S,u){var l,E,O,P,x,k,B;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=S,this.configuration=g,this.setupEventReporter(g,S,u);try{this.parserResult=navigator&&navigator.userAgent?new h.UAParser(navigator.userAgent).getResult():null}catch(R){this.logger.error(R.message)}this.browserMajorVersion=((O=(E=(l=this.parserResult)===null||l===void 0?void 0:l.browser)===null||E===void 0?void 0:E.version)===null||O===void 0?void 0:O.split(".")[0])||Nl.UNAVAILABLE,this.browserName=((P=this.parserResult)===null||P===void 0?void 0:P.browser.name)||Nl.UNAVAILABLE,this.browserVersion=((x=this.parserResult)===null||x===void 0?void 0:x.browser.version)||Nl.UNAVAILABLE,this.deviceName=[((k=this.parserResult)===null||k===void 0?void 0:k.device.vendor)||"",((B=this.parserResult)===null||B===void 0?void 0:B.device.model)||""].join(" ").trim()||Nl.UNAVAILABLE}},"DefaultEventController");c.default=s,s.UNAVAILABLE="Unavailable"},egzF:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(s,p,g,S){function u(l){return l instanceof g?l:new g(function(E){E(l)})}return r(u,"adopt"),new(g||(g=Promise))(function(l,E){function O(k){try{x(S.next(k))}catch(B){E(B)}}r(O,"fulfilled");function P(k){try{x(S.throw(k))}catch(B){E(B)}}r(P,"rejected");function x(k){k.done?l(k.value):u(k.value).then(O,P)}r(x,"step"),x((S=S.apply(s,p||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("94P3")),m=f(d("/N6y")),a=f(d("ppUg")),o=f(d("F7zz")),i=d("Aplu"),e=f(d("VgUL")),t=f(d("r3TB"));let n=r(class{static createContentShareMeetingSessionConfigure(p){const g=new h.default;return g.meetingId=p.meetingId,g.externalMeetingId=p.externalMeetingId,g.urls=p.urls,g.disablePeriodicKeyframeRequestOnContentSender=p.disablePeriodicKeyframeRequestOnContentSender,g.credentials=new m.default,g.credentials.attendeeId=p.credentials.attendeeId+t.default.Modality,g.credentials.externalUserId=p.credentials.externalUserId,g.credentials.joinToken=p.credentials.joinToken+t.default.Modality,g}setContentAudioProfile(p){this.contentAudioVideo.setAudioProfile(p)}enableSimulcastForContentShare(p,g){p?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new e.default(this.contentAudioVideo.logger,g)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}startContentShare(p){return v(this,void 0,void 0,function*(){if(p){this.mediaStreamBroker.mediaStream=p;for(let g=0;g<this.mediaStreamBroker.mediaStream.getTracks().length;g++)this.mediaStreamBroker.mediaStream.getTracks()[g].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(p,g){return v(this,void 0,void 0,function*(){const S=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(p,g);return yield this.startContentShare(S),S})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(p=>{i.Maybe.of(p.contentShareDidPause).map(g=>g.call(p))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(p=>{i.Maybe.of(p.contentShareDidUnpause).map(g=>g.call(p))})}setContentShareVideoCodecPreferences(p){this.contentAudioVideo.setVideoCodecSendPreferences(p)}destroy(){return v(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(p){this.observerQueue.add(p)}removeContentShareObserver(p){this.observerQueue.delete(p)}forEachContentShareObserver(p){for(const g of this.observerQueue)o.default.nextTick(()=>{this.observerQueue.has(g)&&p(g)})}audioVideoDidStart(){var p;((p=this.mediaStreamBroker.mediaStream)===null||p===void 0?void 0:p.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(p){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(g=>{i.Maybe.of(g.contentShareDidStop).map(S=>S.call(g))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((p,g,S,u)=>{const l=new a.default(p).hasModality(a.default.MODALITY_CONTENT),E=new a.default(p).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!l||!E||!g||this.contentShareTile)return;const O=this.mediaStreamBroker.mediaStream;if(O!=null&&O.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const P=O.getVideoTracks()[0];let x,k;if(P.getSettings){const B=P.getSettings();x=B.width,k=B.height}else{const B=P.getCapabilities();x=B.width,k=B.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,O,x,k,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(P=>{i.Maybe.of(P.contentShareDidStart).map(x=>x.call(P))})})}constructor(p,g,S){this.mediaStreamBroker=p,this.contentAudioVideo=g,this.attendeeAudioVideo=S,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}},"DefaultContentShareController");c.default=n},ekG2:function(U,c){U.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},epkm:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptItem");c.default=v},evlv:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a){this.type=h,this.headers=m,this.payload=a}},"Message");c.default=v},ezoW:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SimulcastLayers=void 0;var v;(function(f){f[f.Low=0]="Low",f[f.LowAndMedium=1]="LowAndMedium",f[f.LowAndHigh=2]="LowAndHigh",f[f.Medium=3]="Medium",f[f.MediumAndHigh=4]="MediumAndHigh",f[f.High=5]="High"})(v=c.SimulcastLayers||(c.SimulcastLayers={})),c.default=v},"f/KM":function(U,c,d){"use strict";d.r(c),d.d(c,"fromUtf8",function(){return a}),d.d(c,"toUtf8",function(){return o});const v=r(i=>{const e=[];for(let t=0,n=i.length;t<n;t++){const s=i.charCodeAt(t);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192,s&63|128);else if(t+1<i.length&&(s&64512)===55296&&(i.charCodeAt(t+1)&64512)===56320){const p=65536+((s&1023)<<10)+(i.charCodeAt(++t)&1023);e.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else e.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(e)},"fromUtf8"),f=r(i=>{let e="";for(let t=0,n=i.length;t<n;t++){const s=i[t];if(s<128)e+=String.fromCharCode(s);else if(192<=s&&s<224){const p=i[++t];e+=String.fromCharCode((s&31)<<6|p&63)}else if(240<=s&&s<365){const g="%"+[s,i[++t],i[++t],i[++t]].map(S=>S.toString(16)).join("%");e+=decodeURIComponent(g)}else e+=String.fromCharCode((s&15)<<12|(i[++t]&63)<<6|i[++t]&63)}return e},"toUtf8");function h(i){return new TextEncoder().encode(i)}r(h,"whatwgEncodingApi_fromUtf8");function m(i){return new TextDecoder("utf-8").decode(i)}r(m,"whatwgEncodingApi_toUtf8");const a=r(i=>typeof TextEncoder=="function"?h(i):v(i),"dist_es_fromUtf8"),o=r(i=>typeof TextDecoder=="function"?m(i):f(i),"dist_es_toUtf8")},f2XL:function(U,c,d){"use strict";var v=d("dmnA"),f=v.Reader,h=v.Writer,m=v.util,a=v.roots.default||(v.roots.default={});a.SdkSignalFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkSignalFrame"),o.prototype.timestampMs=m.Long?m.Long.fromBits(0,0,!0):0,o.prototype.type=1,o.prototype.error=null,o.prototype.join=null,o.prototype.joinack=null,o.prototype.sub=null,o.prototype.suback=null,o.prototype.index=null,o.prototype.pause=null,o.prototype.leave=null,o.prototype.leaveAck=null,o.prototype.bitrates=null,o.prototype.audioControl=null,o.prototype.audioMetadata=null,o.prototype.audioStreamIdInfo=null,o.prototype.pingPong=null,o.prototype.audioStatus=null,o.prototype.clientMetric=null,o.prototype.dataMessage=null,o.prototype.remoteVideoUpdate=null,o.prototype.primaryMeetingJoin=null,o.prototype.primaryMeetingJoinAck=null,o.prototype.primaryMeetingLeave=null,o.prototype.notification=null,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t.uint32(8).uint64(e.timestampMs),t.uint32(16).int32(e.type),e.error!=null&&Object.hasOwnProperty.call(e,"error")&&a.SdkErrorFrame.encode(e.error,t.uint32(26).fork()).ldelim(),e.join!=null&&Object.hasOwnProperty.call(e,"join")&&a.SdkJoinFrame.encode(e.join,t.uint32(34).fork()).ldelim(),e.joinack!=null&&Object.hasOwnProperty.call(e,"joinack")&&a.SdkJoinAckFrame.encode(e.joinack,t.uint32(42).fork()).ldelim(),e.sub!=null&&Object.hasOwnProperty.call(e,"sub")&&a.SdkSubscribeFrame.encode(e.sub,t.uint32(50).fork()).ldelim(),e.suback!=null&&Object.hasOwnProperty.call(e,"suback")&&a.SdkSubscribeAckFrame.encode(e.suback,t.uint32(58).fork()).ldelim(),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&a.SdkIndexFrame.encode(e.index,t.uint32(66).fork()).ldelim(),e.pause!=null&&Object.hasOwnProperty.call(e,"pause")&&a.SdkPauseResumeFrame.encode(e.pause,t.uint32(82).fork()).ldelim(),e.leave!=null&&Object.hasOwnProperty.call(e,"leave")&&a.SdkLeaveFrame.encode(e.leave,t.uint32(90).fork()).ldelim(),e.leaveAck!=null&&Object.hasOwnProperty.call(e,"leaveAck")&&a.SdkLeaveAckFrame.encode(e.leaveAck,t.uint32(98).fork()).ldelim(),e.bitrates!=null&&Object.hasOwnProperty.call(e,"bitrates")&&a.SdkBitrateFrame.encode(e.bitrates,t.uint32(114).fork()).ldelim(),e.audioControl!=null&&Object.hasOwnProperty.call(e,"audioControl")&&a.SdkAudioControlFrame.encode(e.audioControl,t.uint32(138).fork()).ldelim(),e.audioMetadata!=null&&Object.hasOwnProperty.call(e,"audioMetadata")&&a.SdkAudioMetadataFrame.encode(e.audioMetadata,t.uint32(146).fork()).ldelim(),e.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(e,"audioStreamIdInfo")&&a.SdkAudioStreamIdInfoFrame.encode(e.audioStreamIdInfo,t.uint32(154).fork()).ldelim(),e.pingPong!=null&&Object.hasOwnProperty.call(e,"pingPong")&&a.SdkPingPongFrame.encode(e.pingPong,t.uint32(162).fork()).ldelim(),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&a.SdkAudioStatusFrame.encode(e.audioStatus,t.uint32(170).fork()).ldelim(),e.clientMetric!=null&&Object.hasOwnProperty.call(e,"clientMetric")&&a.SdkClientMetricFrame.encode(e.clientMetric,t.uint32(178).fork()).ldelim(),e.dataMessage!=null&&Object.hasOwnProperty.call(e,"dataMessage")&&a.SdkDataMessageFrame.encode(e.dataMessage,t.uint32(186).fork()).ldelim(),e.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(e,"remoteVideoUpdate")&&a.SdkRemoteVideoUpdateFrame.encode(e.remoteVideoUpdate,t.uint32(202).fork()).ldelim(),e.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoin")&&a.SdkPrimaryMeetingJoinFrame.encode(e.primaryMeetingJoin,t.uint32(210).fork()).ldelim(),e.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(e,"primaryMeetingJoinAck")&&a.SdkPrimaryMeetingJoinAckFrame.encode(e.primaryMeetingJoinAck,t.uint32(218).fork()).ldelim(),e.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(e,"primaryMeetingLeave")&&a.SdkPrimaryMeetingLeaveFrame.encode(e.primaryMeetingLeave,t.uint32(226).fork()).ldelim(),e.notification!=null&&Object.hasOwnProperty.call(e,"notification")&&a.SdkNotificationFrame.encode(e.notification,t.uint32(282).fork()).ldelim(),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkSignalFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.timestampMs=e.uint64();break;case 2:s.type=e.int32();break;case 3:s.error=a.SdkErrorFrame.decode(e,e.uint32());break;case 4:s.join=a.SdkJoinFrame.decode(e,e.uint32());break;case 5:s.joinack=a.SdkJoinAckFrame.decode(e,e.uint32());break;case 6:s.sub=a.SdkSubscribeFrame.decode(e,e.uint32());break;case 7:s.suback=a.SdkSubscribeAckFrame.decode(e,e.uint32());break;case 8:s.index=a.SdkIndexFrame.decode(e,e.uint32());break;case 10:s.pause=a.SdkPauseResumeFrame.decode(e,e.uint32());break;case 11:s.leave=a.SdkLeaveFrame.decode(e,e.uint32());break;case 12:s.leaveAck=a.SdkLeaveAckFrame.decode(e,e.uint32());break;case 14:s.bitrates=a.SdkBitrateFrame.decode(e,e.uint32());break;case 17:s.audioControl=a.SdkAudioControlFrame.decode(e,e.uint32());break;case 18:s.audioMetadata=a.SdkAudioMetadataFrame.decode(e,e.uint32());break;case 19:s.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.decode(e,e.uint32());break;case 20:s.pingPong=a.SdkPingPongFrame.decode(e,e.uint32());break;case 21:s.audioStatus=a.SdkAudioStatusFrame.decode(e,e.uint32());break;case 22:s.clientMetric=a.SdkClientMetricFrame.decode(e,e.uint32());break;case 23:s.dataMessage=a.SdkDataMessageFrame.decode(e,e.uint32());break;case 25:s.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.decode(e,e.uint32());break;case 26:s.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.decode(e,e.uint32());break;case 27:s.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.decode(e,e.uint32());break;case 28:s.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.decode(e,e.uint32());break;case 35:s.notification=a.SdkNotificationFrame.decode(e,e.uint32());break;default:e.skipType(p&7);break}}if(!s.hasOwnProperty("timestampMs"))throw m.ProtocolError("missing required 'timestampMs'",{instance:s});if(!s.hasOwnProperty("type"))throw m.ProtocolError("missing required 'type'",{instance:s});return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(!m.isInteger(e.timestampMs)&&!(e.timestampMs&&m.isInteger(e.timestampMs.low)&&m.isInteger(e.timestampMs.high)))return"timestampMs: integer|Long expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(e.error!=null&&e.hasOwnProperty("error")){var t=a.SdkErrorFrame.verify(e.error);if(t)return"error."+t}if(e.join!=null&&e.hasOwnProperty("join")){var t=a.SdkJoinFrame.verify(e.join);if(t)return"join."+t}if(e.joinack!=null&&e.hasOwnProperty("joinack")){var t=a.SdkJoinAckFrame.verify(e.joinack);if(t)return"joinack."+t}if(e.sub!=null&&e.hasOwnProperty("sub")){var t=a.SdkSubscribeFrame.verify(e.sub);if(t)return"sub."+t}if(e.suback!=null&&e.hasOwnProperty("suback")){var t=a.SdkSubscribeAckFrame.verify(e.suback);if(t)return"suback."+t}if(e.index!=null&&e.hasOwnProperty("index")){var t=a.SdkIndexFrame.verify(e.index);if(t)return"index."+t}if(e.pause!=null&&e.hasOwnProperty("pause")){var t=a.SdkPauseResumeFrame.verify(e.pause);if(t)return"pause."+t}if(e.leave!=null&&e.hasOwnProperty("leave")){var t=a.SdkLeaveFrame.verify(e.leave);if(t)return"leave."+t}if(e.leaveAck!=null&&e.hasOwnProperty("leaveAck")){var t=a.SdkLeaveAckFrame.verify(e.leaveAck);if(t)return"leaveAck."+t}if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){var t=a.SdkBitrateFrame.verify(e.bitrates);if(t)return"bitrates."+t}if(e.audioControl!=null&&e.hasOwnProperty("audioControl")){var t=a.SdkAudioControlFrame.verify(e.audioControl);if(t)return"audioControl."+t}if(e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")){var t=a.SdkAudioMetadataFrame.verify(e.audioMetadata);if(t)return"audioMetadata."+t}if(e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")){var t=a.SdkAudioStreamIdInfoFrame.verify(e.audioStreamIdInfo);if(t)return"audioStreamIdInfo."+t}if(e.pingPong!=null&&e.hasOwnProperty("pingPong")){var t=a.SdkPingPongFrame.verify(e.pingPong);if(t)return"pingPong."+t}if(e.audioStatus!=null&&e.hasOwnProperty("audioStatus")){var t=a.SdkAudioStatusFrame.verify(e.audioStatus);if(t)return"audioStatus."+t}if(e.clientMetric!=null&&e.hasOwnProperty("clientMetric")){var t=a.SdkClientMetricFrame.verify(e.clientMetric);if(t)return"clientMetric."+t}if(e.dataMessage!=null&&e.hasOwnProperty("dataMessage")){var t=a.SdkDataMessageFrame.verify(e.dataMessage);if(t)return"dataMessage."+t}if(e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")){var t=a.SdkRemoteVideoUpdateFrame.verify(e.remoteVideoUpdate);if(t)return"remoteVideoUpdate."+t}if(e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")){var t=a.SdkPrimaryMeetingJoinFrame.verify(e.primaryMeetingJoin);if(t)return"primaryMeetingJoin."+t}if(e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")){var t=a.SdkPrimaryMeetingJoinAckFrame.verify(e.primaryMeetingJoinAck);if(t)return"primaryMeetingJoinAck."+t}if(e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")){var t=a.SdkPrimaryMeetingLeaveFrame.verify(e.primaryMeetingLeave);if(t)return"primaryMeetingLeave."+t}if(e.notification!=null&&e.hasOwnProperty("notification")){var t=a.SdkNotificationFrame.verify(e.notification);if(t)return"notification."+t}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkSignalFrame)return e;var t=new a.SdkSignalFrame;switch(e.timestampMs!=null&&(m.Long?(t.timestampMs=m.Long.fromValue(e.timestampMs)).unsigned=!0:typeof e.timestampMs=="string"?t.timestampMs=parseInt(e.timestampMs,10):typeof e.timestampMs=="number"?t.timestampMs=e.timestampMs:typeof e.timestampMs=="object"&&(t.timestampMs=new m.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0))),e.type){case"JOIN":case 1:t.type=1;break;case"JOIN_ACK":case 2:t.type=2;break;case"SUBSCRIBE":case 3:t.type=3;break;case"SUBSCRIBE_ACK":case 4:t.type=4;break;case"INDEX":case 5:t.type=5;break;case"PAUSE":case 7:t.type=7;break;case"RESUME":case 8:t.type=8;break;case"LEAVE":case 9:t.type=9;break;case"LEAVE_ACK":case 10:t.type=10;break;case"BITRATES":case 13:t.type=13;break;case"AUDIO_CONTROL":case 16:t.type=16;break;case"AUDIO_METADATA":case 17:t.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:t.type=18;break;case"PING_PONG":case 19:t.type=19;break;case"AUDIO_STATUS":case 20:t.type=20;break;case"CLIENT_METRIC":case 21:t.type=21;break;case"DATA_MESSAGE":case 22:t.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:t.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:t.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:t.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:t.type=27;break;case"NOTIFICATION":case 34:t.type=34;break}if(e.error!=null){if(typeof e.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");t.error=a.SdkErrorFrame.fromObject(e.error)}if(e.join!=null){if(typeof e.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");t.join=a.SdkJoinFrame.fromObject(e.join)}if(e.joinack!=null){if(typeof e.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");t.joinack=a.SdkJoinAckFrame.fromObject(e.joinack)}if(e.sub!=null){if(typeof e.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");t.sub=a.SdkSubscribeFrame.fromObject(e.sub)}if(e.suback!=null){if(typeof e.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");t.suback=a.SdkSubscribeAckFrame.fromObject(e.suback)}if(e.index!=null){if(typeof e.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");t.index=a.SdkIndexFrame.fromObject(e.index)}if(e.pause!=null){if(typeof e.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");t.pause=a.SdkPauseResumeFrame.fromObject(e.pause)}if(e.leave!=null){if(typeof e.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");t.leave=a.SdkLeaveFrame.fromObject(e.leave)}if(e.leaveAck!=null){if(typeof e.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");t.leaveAck=a.SdkLeaveAckFrame.fromObject(e.leaveAck)}if(e.bitrates!=null){if(typeof e.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");t.bitrates=a.SdkBitrateFrame.fromObject(e.bitrates)}if(e.audioControl!=null){if(typeof e.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");t.audioControl=a.SdkAudioControlFrame.fromObject(e.audioControl)}if(e.audioMetadata!=null){if(typeof e.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");t.audioMetadata=a.SdkAudioMetadataFrame.fromObject(e.audioMetadata)}if(e.audioStreamIdInfo!=null){if(typeof e.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");t.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.fromObject(e.audioStreamIdInfo)}if(e.pingPong!=null){if(typeof e.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");t.pingPong=a.SdkPingPongFrame.fromObject(e.pingPong)}if(e.audioStatus!=null){if(typeof e.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");t.audioStatus=a.SdkAudioStatusFrame.fromObject(e.audioStatus)}if(e.clientMetric!=null){if(typeof e.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");t.clientMetric=a.SdkClientMetricFrame.fromObject(e.clientMetric)}if(e.dataMessage!=null){if(typeof e.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");t.dataMessage=a.SdkDataMessageFrame.fromObject(e.dataMessage)}if(e.remoteVideoUpdate!=null){if(typeof e.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");t.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.fromObject(e.remoteVideoUpdate)}if(e.primaryMeetingJoin!=null){if(typeof e.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");t.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.fromObject(e.primaryMeetingJoin)}if(e.primaryMeetingJoinAck!=null){if(typeof e.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");t.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.fromObject(e.primaryMeetingJoinAck)}if(e.primaryMeetingLeave!=null){if(typeof e.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");t.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.fromObject(e.primaryMeetingLeave)}if(e.notification!=null){if(typeof e.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");t.notification=a.SdkNotificationFrame.fromObject(e.notification)}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(m.Long){var s=new m.Long(0,0,!0);n.timestampMs=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.timestampMs=t.longs===String?"0":0;n.type=t.enums===String?"JOIN":1,n.error=null,n.join=null,n.joinack=null,n.sub=null,n.suback=null,n.index=null,n.pause=null,n.leave=null,n.leaveAck=null,n.bitrates=null,n.audioControl=null,n.audioMetadata=null,n.audioStreamIdInfo=null,n.pingPong=null,n.audioStatus=null,n.clientMetric=null,n.dataMessage=null,n.remoteVideoUpdate=null,n.primaryMeetingJoin=null,n.primaryMeetingJoinAck=null,n.primaryMeetingLeave=null,n.notification=null}return e.timestampMs!=null&&e.hasOwnProperty("timestampMs")&&(typeof e.timestampMs=="number"?n.timestampMs=t.longs===String?String(e.timestampMs):e.timestampMs:n.timestampMs=t.longs===String?m.Long.prototype.toString.call(e.timestampMs):t.longs===Number?new m.LongBits(e.timestampMs.low>>>0,e.timestampMs.high>>>0).toNumber(!0):e.timestampMs),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkSignalFrame.Type[e.type]:e.type),e.error!=null&&e.hasOwnProperty("error")&&(n.error=a.SdkErrorFrame.toObject(e.error,t)),e.join!=null&&e.hasOwnProperty("join")&&(n.join=a.SdkJoinFrame.toObject(e.join,t)),e.joinack!=null&&e.hasOwnProperty("joinack")&&(n.joinack=a.SdkJoinAckFrame.toObject(e.joinack,t)),e.sub!=null&&e.hasOwnProperty("sub")&&(n.sub=a.SdkSubscribeFrame.toObject(e.sub,t)),e.suback!=null&&e.hasOwnProperty("suback")&&(n.suback=a.SdkSubscribeAckFrame.toObject(e.suback,t)),e.index!=null&&e.hasOwnProperty("index")&&(n.index=a.SdkIndexFrame.toObject(e.index,t)),e.pause!=null&&e.hasOwnProperty("pause")&&(n.pause=a.SdkPauseResumeFrame.toObject(e.pause,t)),e.leave!=null&&e.hasOwnProperty("leave")&&(n.leave=a.SdkLeaveFrame.toObject(e.leave,t)),e.leaveAck!=null&&e.hasOwnProperty("leaveAck")&&(n.leaveAck=a.SdkLeaveAckFrame.toObject(e.leaveAck,t)),e.bitrates!=null&&e.hasOwnProperty("bitrates")&&(n.bitrates=a.SdkBitrateFrame.toObject(e.bitrates,t)),e.audioControl!=null&&e.hasOwnProperty("audioControl")&&(n.audioControl=a.SdkAudioControlFrame.toObject(e.audioControl,t)),e.audioMetadata!=null&&e.hasOwnProperty("audioMetadata")&&(n.audioMetadata=a.SdkAudioMetadataFrame.toObject(e.audioMetadata,t)),e.audioStreamIdInfo!=null&&e.hasOwnProperty("audioStreamIdInfo")&&(n.audioStreamIdInfo=a.SdkAudioStreamIdInfoFrame.toObject(e.audioStreamIdInfo,t)),e.pingPong!=null&&e.hasOwnProperty("pingPong")&&(n.pingPong=a.SdkPingPongFrame.toObject(e.pingPong,t)),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=a.SdkAudioStatusFrame.toObject(e.audioStatus,t)),e.clientMetric!=null&&e.hasOwnProperty("clientMetric")&&(n.clientMetric=a.SdkClientMetricFrame.toObject(e.clientMetric,t)),e.dataMessage!=null&&e.hasOwnProperty("dataMessage")&&(n.dataMessage=a.SdkDataMessageFrame.toObject(e.dataMessage,t)),e.remoteVideoUpdate!=null&&e.hasOwnProperty("remoteVideoUpdate")&&(n.remoteVideoUpdate=a.SdkRemoteVideoUpdateFrame.toObject(e.remoteVideoUpdate,t)),e.primaryMeetingJoin!=null&&e.hasOwnProperty("primaryMeetingJoin")&&(n.primaryMeetingJoin=a.SdkPrimaryMeetingJoinFrame.toObject(e.primaryMeetingJoin,t)),e.primaryMeetingJoinAck!=null&&e.hasOwnProperty("primaryMeetingJoinAck")&&(n.primaryMeetingJoinAck=a.SdkPrimaryMeetingJoinAckFrame.toObject(e.primaryMeetingJoinAck,t)),e.primaryMeetingLeave!=null&&e.hasOwnProperty("primaryMeetingLeave")&&(n.primaryMeetingLeave=a.SdkPrimaryMeetingLeaveFrame.toObject(e.primaryMeetingLeave,t)),e.notification!=null&&e.hasOwnProperty("notification")&&(n.notification=a.SdkNotificationFrame.toObject(e.notification,t)),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="JOIN"]=1,e[i[2]="JOIN_ACK"]=2,e[i[3]="SUBSCRIBE"]=3,e[i[4]="SUBSCRIBE_ACK"]=4,e[i[5]="INDEX"]=5,e[i[7]="PAUSE"]=7,e[i[8]="RESUME"]=8,e[i[9]="LEAVE"]=9,e[i[10]="LEAVE_ACK"]=10,e[i[13]="BITRATES"]=13,e[i[16]="AUDIO_CONTROL"]=16,e[i[17]="AUDIO_METADATA"]=17,e[i[18]="AUDIO_STREAM_ID_INFO"]=18,e[i[19]="PING_PONG"]=19,e[i[20]="AUDIO_STATUS"]=20,e[i[21]="CLIENT_METRIC"]=21,e[i[22]="DATA_MESSAGE"]=22,e[i[24]="REMOTE_VIDEO_UPDATE"]=24,e[i[25]="PRIMARY_MEETING_JOIN"]=25,e[i[26]="PRIMARY_MEETING_JOIN_ACK"]=26,e[i[27]="PRIMARY_MEETING_LEAVE"]=27,e[i[34]="NOTIFICATION"]=34,e}(),o}(),a.SdkErrorFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkErrorFrame"),o.prototype.status=0,o.prototype.description="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.status!=null&&Object.hasOwnProperty.call(e,"status")&&t.uint32(8).uint32(e.status),e.description!=null&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkErrorFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.status=e.uint32();break;case 2:s.description=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.status!=null&&e.hasOwnProperty("status")&&!m.isInteger(e.status)?"status: integer expected":e.description!=null&&e.hasOwnProperty("description")&&!m.isString(e.description)?"description: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkErrorFrame)return e;var t=new a.SdkErrorFrame;return e.status!=null&&(t.status=e.status>>>0),e.description!=null&&(t.description=String(e.description)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.description=""),e.status!=null&&e.hasOwnProperty("status")&&(n.status=e.status),e.description!=null&&e.hasOwnProperty("description")&&(n.description=e.description),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkJoinFlags=function(){var o={},i=Object.create(o);return i[o[2]="HAS_STREAM_UPDATE"]=2,i[o[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,i[o[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,i}(),a.SdkClientDetails=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkClientDetails"),o.prototype.appName="",o.prototype.appVersion="",o.prototype.deviceModel="",o.prototype.deviceMake="",o.prototype.platformName="",o.prototype.platformVersion="",o.prototype.clientSource="",o.prototype.chimeSdkVersion="",o.prototype.clientUtcOffset="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.appName!=null&&Object.hasOwnProperty.call(e,"appName")&&t.uint32(10).string(e.appName),e.appVersion!=null&&Object.hasOwnProperty.call(e,"appVersion")&&t.uint32(18).string(e.appVersion),e.deviceModel!=null&&Object.hasOwnProperty.call(e,"deviceModel")&&t.uint32(26).string(e.deviceModel),e.deviceMake!=null&&Object.hasOwnProperty.call(e,"deviceMake")&&t.uint32(34).string(e.deviceMake),e.platformName!=null&&Object.hasOwnProperty.call(e,"platformName")&&t.uint32(42).string(e.platformName),e.platformVersion!=null&&Object.hasOwnProperty.call(e,"platformVersion")&&t.uint32(50).string(e.platformVersion),e.clientSource!=null&&Object.hasOwnProperty.call(e,"clientSource")&&t.uint32(58).string(e.clientSource),e.chimeSdkVersion!=null&&Object.hasOwnProperty.call(e,"chimeSdkVersion")&&t.uint32(66).string(e.chimeSdkVersion),e.clientUtcOffset!=null&&Object.hasOwnProperty.call(e,"clientUtcOffset")&&t.uint32(74).string(e.clientUtcOffset),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkClientDetails;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.appName=e.string();break;case 2:s.appVersion=e.string();break;case 3:s.deviceModel=e.string();break;case 4:s.deviceMake=e.string();break;case 5:s.platformName=e.string();break;case 6:s.platformVersion=e.string();break;case 7:s.clientSource=e.string();break;case 8:s.chimeSdkVersion=e.string();break;case 9:s.clientUtcOffset=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.appName!=null&&e.hasOwnProperty("appName")&&!m.isString(e.appName)?"appName: string expected":e.appVersion!=null&&e.hasOwnProperty("appVersion")&&!m.isString(e.appVersion)?"appVersion: string expected":e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&!m.isString(e.deviceModel)?"deviceModel: string expected":e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&!m.isString(e.deviceMake)?"deviceMake: string expected":e.platformName!=null&&e.hasOwnProperty("platformName")&&!m.isString(e.platformName)?"platformName: string expected":e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&!m.isString(e.platformVersion)?"platformVersion: string expected":e.clientSource!=null&&e.hasOwnProperty("clientSource")&&!m.isString(e.clientSource)?"clientSource: string expected":e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&!m.isString(e.chimeSdkVersion)?"chimeSdkVersion: string expected":e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&!m.isString(e.clientUtcOffset)?"clientUtcOffset: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkClientDetails)return e;var t=new a.SdkClientDetails;return e.appName!=null&&(t.appName=String(e.appName)),e.appVersion!=null&&(t.appVersion=String(e.appVersion)),e.deviceModel!=null&&(t.deviceModel=String(e.deviceModel)),e.deviceMake!=null&&(t.deviceMake=String(e.deviceMake)),e.platformName!=null&&(t.platformName=String(e.platformName)),e.platformVersion!=null&&(t.platformVersion=String(e.platformVersion)),e.clientSource!=null&&(t.clientSource=String(e.clientSource)),e.chimeSdkVersion!=null&&(t.chimeSdkVersion=String(e.chimeSdkVersion)),e.clientUtcOffset!=null&&(t.clientUtcOffset=String(e.clientUtcOffset)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.appName="",n.appVersion="",n.deviceModel="",n.deviceMake="",n.platformName="",n.platformVersion="",n.clientSource="",n.chimeSdkVersion="",n.clientUtcOffset=""),e.appName!=null&&e.hasOwnProperty("appName")&&(n.appName=e.appName),e.appVersion!=null&&e.hasOwnProperty("appVersion")&&(n.appVersion=e.appVersion),e.deviceModel!=null&&e.hasOwnProperty("deviceModel")&&(n.deviceModel=e.deviceModel),e.deviceMake!=null&&e.hasOwnProperty("deviceMake")&&(n.deviceMake=e.deviceMake),e.platformName!=null&&e.hasOwnProperty("platformName")&&(n.platformName=e.platformName),e.platformVersion!=null&&e.hasOwnProperty("platformVersion")&&(n.platformVersion=e.platformVersion),e.clientSource!=null&&e.hasOwnProperty("clientSource")&&(n.clientSource=e.clientSource),e.chimeSdkVersion!=null&&e.hasOwnProperty("chimeSdkVersion")&&(n.chimeSdkVersion=e.chimeSdkVersion),e.clientUtcOffset!=null&&e.hasOwnProperty("clientUtcOffset")&&(n.clientUtcOffset=e.clientUtcOffset),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkServerSideNetworkAdaption=function(){var o={},i=Object.create(o);return i[o[1]="DEFAULT"]=1,i[o[2]="NONE"]=2,i[o[3]="BANDWIDTH_PROBING"]=3,i[o[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,i}(),a.SdkJoinFrame=function(){function o(i){if(this.supportedServerSideNetworkAdaptions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkJoinFrame"),o.prototype.protocolVersion=2,o.prototype.maxNumOfVideos=0,o.prototype.flags=0,o.prototype.clientDetails=null,o.prototype.audioSessionId=m.Long?m.Long.fromBits(0,0,!0):0,o.prototype.wantsCompressedSdp=!1,o.prototype.serverSideNetworkAdaption=1,o.prototype.supportedServerSideNetworkAdaptions=m.emptyArray,o.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.protocolVersion!=null&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(8).uint32(e.protocolVersion),e.maxNumOfVideos!=null&&Object.hasOwnProperty.call(e,"maxNumOfVideos")&&t.uint32(16).uint32(e.maxNumOfVideos),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint32(e.flags),e.clientDetails!=null&&Object.hasOwnProperty.call(e,"clientDetails")&&a.SdkClientDetails.encode(e.clientDetails,t.uint32(34).fork()).ldelim(),e.audioSessionId!=null&&Object.hasOwnProperty.call(e,"audioSessionId")&&t.uint32(48).uint64(e.audioSessionId),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(56).bool(e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"serverSideNetworkAdaption")&&t.uint32(80).int32(e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions!=null&&e.supportedServerSideNetworkAdaptions.length)for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)t.uint32(88).int32(e.supportedServerSideNetworkAdaptions[n]);return e.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(e,"disablePeriodicKeyframeRequestOnContentSender")&&t.uint32(104).bool(e.disablePeriodicKeyframeRequestOnContentSender),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkJoinFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.protocolVersion=e.uint32();break;case 2:s.maxNumOfVideos=e.uint32();break;case 3:s.flags=e.uint32();break;case 4:s.clientDetails=a.SdkClientDetails.decode(e,e.uint32());break;case 6:s.audioSessionId=e.uint64();break;case 7:s.wantsCompressedSdp=e.bool();break;case 10:s.serverSideNetworkAdaption=e.int32();break;case 11:if(s.supportedServerSideNetworkAdaptions&&s.supportedServerSideNetworkAdaptions.length||(s.supportedServerSideNetworkAdaptions=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.supportedServerSideNetworkAdaptions.push(e.int32());else s.supportedServerSideNetworkAdaptions.push(e.int32());break;case 13:s.disablePeriodicKeyframeRequestOnContentSender=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&!m.isInteger(e.protocolVersion))return"protocolVersion: integer expected";if(e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&!m.isInteger(e.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(e.flags!=null&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags))return"flags: integer expected";if(e.clientDetails!=null&&e.hasOwnProperty("clientDetails")){var t=a.SdkClientDetails.verify(e.clientDetails);if(t)return"clientDetails."+t}if(e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&!m.isInteger(e.audioSessionId)&&!(e.audioSessionId&&m.isInteger(e.audioSessionId.low)&&m.isInteger(e.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption"))switch(e.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(e.supportedServerSideNetworkAdaptions!=null&&e.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof e.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkJoinFrame)return e;var t=new a.SdkJoinFrame;if(e.protocolVersion!=null&&(t.protocolVersion=e.protocolVersion>>>0),e.maxNumOfVideos!=null&&(t.maxNumOfVideos=e.maxNumOfVideos>>>0),e.flags!=null&&(t.flags=e.flags>>>0),e.clientDetails!=null){if(typeof e.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");t.clientDetails=a.SdkClientDetails.fromObject(e.clientDetails)}switch(e.audioSessionId!=null&&(m.Long?(t.audioSessionId=m.Long.fromValue(e.audioSessionId)).unsigned=!0:typeof e.audioSessionId=="string"?t.audioSessionId=parseInt(e.audioSessionId,10):typeof e.audioSessionId=="number"?t.audioSessionId=e.audioSessionId:typeof e.audioSessionId=="object"&&(t.audioSessionId=new m.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0))),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.serverSideNetworkAdaption){case"DEFAULT":case 1:t.serverSideNetworkAdaption=1;break;case"NONE":case 2:t.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.serverSideNetworkAdaption=4;break}if(e.supportedServerSideNetworkAdaptions){if(!Array.isArray(e.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");t.supportedServerSideNetworkAdaptions=[];for(var n=0;n<e.supportedServerSideNetworkAdaptions.length;++n)switch(e.supportedServerSideNetworkAdaptions[n]){default:case"DEFAULT":case 1:t.supportedServerSideNetworkAdaptions[n]=1;break;case"NONE":case 2:t.supportedServerSideNetworkAdaptions[n]=2;break;case"BANDWIDTH_PROBING":case 3:t.supportedServerSideNetworkAdaptions[n]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.supportedServerSideNetworkAdaptions[n]=4;break}}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&(t.disablePeriodicKeyframeRequestOnContentSender=Boolean(e.disablePeriodicKeyframeRequestOnContentSender)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.supportedServerSideNetworkAdaptions=[]),t.defaults){if(n.protocolVersion=2,n.maxNumOfVideos=0,n.flags=0,n.clientDetails=null,m.Long){var s=new m.Long(0,0,!0);n.audioSessionId=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.audioSessionId=t.longs===String?"0":0;n.wantsCompressedSdp=!1,n.serverSideNetworkAdaption=t.enums===String?"DEFAULT":1,n.disablePeriodicKeyframeRequestOnContentSender=!1}if(e.protocolVersion!=null&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),e.maxNumOfVideos!=null&&e.hasOwnProperty("maxNumOfVideos")&&(n.maxNumOfVideos=e.maxNumOfVideos),e.flags!=null&&e.hasOwnProperty("flags")&&(n.flags=e.flags),e.clientDetails!=null&&e.hasOwnProperty("clientDetails")&&(n.clientDetails=a.SdkClientDetails.toObject(e.clientDetails,t)),e.audioSessionId!=null&&e.hasOwnProperty("audioSessionId")&&(typeof e.audioSessionId=="number"?n.audioSessionId=t.longs===String?String(e.audioSessionId):e.audioSessionId:n.audioSessionId=t.longs===String?m.Long.prototype.toString.call(e.audioSessionId):t.longs===Number?new m.LongBits(e.audioSessionId.low>>>0,e.audioSessionId.high>>>0).toNumber(!0):e.audioSessionId),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.serverSideNetworkAdaption!=null&&e.hasOwnProperty("serverSideNetworkAdaption")&&(n.serverSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.serverSideNetworkAdaption]:e.serverSideNetworkAdaption),e.supportedServerSideNetworkAdaptions&&e.supportedServerSideNetworkAdaptions.length){n.supportedServerSideNetworkAdaptions=[];for(var p=0;p<e.supportedServerSideNetworkAdaptions.length;++p)n.supportedServerSideNetworkAdaptions[p]=t.enums===String?a.SdkServerSideNetworkAdaption[e.supportedServerSideNetworkAdaptions[p]]:e.supportedServerSideNetworkAdaptions[p]}return e.disablePeriodicKeyframeRequestOnContentSender!=null&&e.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(n.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkJoinAckFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkJoinAckFrame"),o.prototype.turnCredentials=null,o.prototype.videoSubscriptionLimit=0,o.prototype.wantsCompressedSdp=!1,o.prototype.defaultServerSideNetworkAdaption=1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.turnCredentials!=null&&Object.hasOwnProperty.call(e,"turnCredentials")&&a.SdkTurnCredentials.encode(e.turnCredentials,t.uint32(10).fork()).ldelim(),e.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(e,"videoSubscriptionLimit")&&t.uint32(16).uint32(e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(e,"wantsCompressedSdp")&&t.uint32(24).bool(e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(e,"defaultServerSideNetworkAdaption")&&t.uint32(32).int32(e.defaultServerSideNetworkAdaption),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkJoinAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.turnCredentials=a.SdkTurnCredentials.decode(e,e.uint32());break;case 2:s.videoSubscriptionLimit=e.uint32();break;case 3:s.wantsCompressedSdp=e.bool();break;case 4:s.defaultServerSideNetworkAdaption=e.int32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")){var t=a.SdkTurnCredentials.verify(e.turnCredentials);if(t)return"turnCredentials."+t}if(e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&!m.isInteger(e.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&typeof e.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(e.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkJoinAckFrame)return e;var t=new a.SdkJoinAckFrame;if(e.turnCredentials!=null){if(typeof e.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");t.turnCredentials=a.SdkTurnCredentials.fromObject(e.turnCredentials)}switch(e.videoSubscriptionLimit!=null&&(t.videoSubscriptionLimit=e.videoSubscriptionLimit>>>0),e.wantsCompressedSdp!=null&&(t.wantsCompressedSdp=Boolean(e.wantsCompressedSdp)),e.defaultServerSideNetworkAdaption){case"DEFAULT":case 1:t.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:t.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:t.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:t.defaultServerSideNetworkAdaption=4;break}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.turnCredentials=null,n.videoSubscriptionLimit=0,n.wantsCompressedSdp=!1,n.defaultServerSideNetworkAdaption=t.enums===String?"DEFAULT":1),e.turnCredentials!=null&&e.hasOwnProperty("turnCredentials")&&(n.turnCredentials=a.SdkTurnCredentials.toObject(e.turnCredentials,t)),e.videoSubscriptionLimit!=null&&e.hasOwnProperty("videoSubscriptionLimit")&&(n.videoSubscriptionLimit=e.videoSubscriptionLimit),e.wantsCompressedSdp!=null&&e.hasOwnProperty("wantsCompressedSdp")&&(n.wantsCompressedSdp=e.wantsCompressedSdp),e.defaultServerSideNetworkAdaption!=null&&e.hasOwnProperty("defaultServerSideNetworkAdaption")&&(n.defaultServerSideNetworkAdaption=t.enums===String?a.SdkServerSideNetworkAdaption[e.defaultServerSideNetworkAdaption]:e.defaultServerSideNetworkAdaption),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkLeaveFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkLeaveFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkLeaveFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkLeaveFrame?e:new a.SdkLeaveFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkLeaveAckFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkLeaveAckFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkLeaveAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkLeaveAckFrame?e:new a.SdkLeaveAckFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamServiceType=function(){var o={},i=Object.create(o);return i[o[1]="RX"]=1,i[o[2]="TX"]=2,i[o[3]="DUPLEX"]=3,i}(),a.SdkStreamMediaType=function(){var o={},i=Object.create(o);return i[o[1]="AUDIO"]=1,i[o[2]="VIDEO"]=2,i}(),a.SdkSubscribeFrame=function(){function o(i){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkSubscribeFrame"),o.prototype.duplex=1,o.prototype.sendStreams=m.emptyArray,o.prototype.receiveStreamIds=m.emptyArray,o.prototype.sdpOffer="",o.prototype.audioHost="",o.prototype.audioCheckin=!1,o.prototype.audioMuted=!1,o.prototype.compressedSdpOffer=m.newBuffer([]),o.prototype.videoSubscriptionConfiguration=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.sendStreams!=null&&e.sendStreams.length)for(var n=0;n<e.sendStreams.length;++n)a.SdkStreamDescriptor.encode(e.sendStreams[n],t.uint32(18).fork()).ldelim();if(e.receiveStreamIds!=null&&e.receiveStreamIds.length)for(var n=0;n<e.receiveStreamIds.length;++n)t.uint32(24).uint32(e.receiveStreamIds[n]);if(e.sdpOffer!=null&&Object.hasOwnProperty.call(e,"sdpOffer")&&t.uint32(34).string(e.sdpOffer),e.audioHost!=null&&Object.hasOwnProperty.call(e,"audioHost")&&t.uint32(42).string(e.audioHost),e.audioCheckin!=null&&Object.hasOwnProperty.call(e,"audioCheckin")&&t.uint32(48).bool(e.audioCheckin),e.audioMuted!=null&&Object.hasOwnProperty.call(e,"audioMuted")&&t.uint32(56).bool(e.audioMuted),e.compressedSdpOffer!=null&&Object.hasOwnProperty.call(e,"compressedSdpOffer")&&t.uint32(66).bytes(e.compressedSdpOffer),e.videoSubscriptionConfiguration!=null&&e.videoSubscriptionConfiguration.length)for(var n=0;n<e.videoSubscriptionConfiguration.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.videoSubscriptionConfiguration[n],t.uint32(74).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkSubscribeFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.duplex=e.int32();break;case 2:s.sendStreams&&s.sendStreams.length||(s.sendStreams=[]),s.sendStreams.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(s.receiveStreamIds&&s.receiveStreamIds.length||(s.receiveStreamIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.receiveStreamIds.push(e.uint32());else s.receiveStreamIds.push(e.uint32());break;case 4:s.sdpOffer=e.string();break;case 5:s.audioHost=e.string();break;case 6:s.audioCheckin=e.bool();break;case 7:s.audioMuted=e.bool();break;case 8:s.compressedSdpOffer=e.bytes();break;case 9:s.videoSubscriptionConfiguration&&s.videoSubscriptionConfiguration.length||(s.videoSubscriptionConfiguration=[]),s.videoSubscriptionConfiguration.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.sendStreams!=null&&e.hasOwnProperty("sendStreams")){if(!Array.isArray(e.sendStreams))return"sendStreams: array expected";for(var t=0;t<e.sendStreams.length;++t){var n=a.SdkStreamDescriptor.verify(e.sendStreams[t]);if(n)return"sendStreams."+n}}if(e.receiveStreamIds!=null&&e.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(e.receiveStreamIds))return"receiveStreamIds: array expected";for(var t=0;t<e.receiveStreamIds.length;++t)if(!m.isInteger(e.receiveStreamIds[t]))return"receiveStreamIds: integer[] expected"}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&!m.isString(e.sdpOffer))return"sdpOffer: string expected";if(e.audioHost!=null&&e.hasOwnProperty("audioHost")&&!m.isString(e.audioHost))return"audioHost: string expected";if(e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&typeof e.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&typeof e.audioMuted!="boolean")return"audioMuted: boolean expected";if(e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&!(e.compressedSdpOffer&&typeof e.compressedSdpOffer.length=="number"||m.isString(e.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(e.videoSubscriptionConfiguration!=null&&e.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(e.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var t=0;t<e.videoSubscriptionConfiguration.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.videoSubscriptionConfiguration[t]);if(n)return"videoSubscriptionConfiguration."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkSubscribeFrame)return e;var t=new a.SdkSubscribeFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.sendStreams){if(!Array.isArray(e.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");t.sendStreams=[];for(var n=0;n<e.sendStreams.length;++n){if(typeof e.sendStreams[n]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");t.sendStreams[n]=a.SdkStreamDescriptor.fromObject(e.sendStreams[n])}}if(e.receiveStreamIds){if(!Array.isArray(e.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");t.receiveStreamIds=[];for(var n=0;n<e.receiveStreamIds.length;++n)t.receiveStreamIds[n]=e.receiveStreamIds[n]>>>0}if(e.sdpOffer!=null&&(t.sdpOffer=String(e.sdpOffer)),e.audioHost!=null&&(t.audioHost=String(e.audioHost)),e.audioCheckin!=null&&(t.audioCheckin=Boolean(e.audioCheckin)),e.audioMuted!=null&&(t.audioMuted=Boolean(e.audioMuted)),e.compressedSdpOffer!=null&&(typeof e.compressedSdpOffer=="string"?m.base64.decode(e.compressedSdpOffer,t.compressedSdpOffer=m.newBuffer(m.base64.length(e.compressedSdpOffer)),0):e.compressedSdpOffer.length&&(t.compressedSdpOffer=e.compressedSdpOffer)),e.videoSubscriptionConfiguration){if(!Array.isArray(e.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");t.videoSubscriptionConfiguration=[];for(var n=0;n<e.videoSubscriptionConfiguration.length;++n){if(typeof e.videoSubscriptionConfiguration[n]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");t.videoSubscriptionConfiguration[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.videoSubscriptionConfiguration[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sendStreams=[],n.receiveStreamIds=[],n.videoSubscriptionConfiguration=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpOffer="",n.audioHost="",n.audioCheckin=!1,n.audioMuted=!1,t.bytes===String?n.compressedSdpOffer="":(n.compressedSdpOffer=[],t.bytes!==Array&&(n.compressedSdpOffer=m.newBuffer(n.compressedSdpOffer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.sendStreams&&e.sendStreams.length){n.sendStreams=[];for(var s=0;s<e.sendStreams.length;++s)n.sendStreams[s]=a.SdkStreamDescriptor.toObject(e.sendStreams[s],t)}if(e.receiveStreamIds&&e.receiveStreamIds.length){n.receiveStreamIds=[];for(var s=0;s<e.receiveStreamIds.length;++s)n.receiveStreamIds[s]=e.receiveStreamIds[s]}if(e.sdpOffer!=null&&e.hasOwnProperty("sdpOffer")&&(n.sdpOffer=e.sdpOffer),e.audioHost!=null&&e.hasOwnProperty("audioHost")&&(n.audioHost=e.audioHost),e.audioCheckin!=null&&e.hasOwnProperty("audioCheckin")&&(n.audioCheckin=e.audioCheckin),e.audioMuted!=null&&e.hasOwnProperty("audioMuted")&&(n.audioMuted=e.audioMuted),e.compressedSdpOffer!=null&&e.hasOwnProperty("compressedSdpOffer")&&(n.compressedSdpOffer=t.bytes===String?m.base64.encode(e.compressedSdpOffer,0,e.compressedSdpOffer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpOffer):e.compressedSdpOffer),e.videoSubscriptionConfiguration&&e.videoSubscriptionConfiguration.length){n.videoSubscriptionConfiguration=[];for(var s=0;s<e.videoSubscriptionConfiguration.length;++s)n.videoSubscriptionConfiguration[s]=a.SdkVideoSubscriptionConfiguration.toObject(e.videoSubscriptionConfiguration[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkSubscribeAckFrame=function(){function o(i){if(this.allocations=[],this.tracks=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkSubscribeAckFrame"),o.prototype.duplex=1,o.prototype.allocations=m.emptyArray,o.prototype.sdpAnswer="",o.prototype.tracks=m.emptyArray,o.prototype.compressedSdpAnswer=m.newBuffer([]),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.duplex!=null&&Object.hasOwnProperty.call(e,"duplex")&&t.uint32(8).int32(e.duplex),e.allocations!=null&&e.allocations.length)for(var n=0;n<e.allocations.length;++n)a.SdkStreamAllocation.encode(e.allocations[n],t.uint32(18).fork()).ldelim();if(e.sdpAnswer!=null&&Object.hasOwnProperty.call(e,"sdpAnswer")&&t.uint32(26).string(e.sdpAnswer),e.tracks!=null&&e.tracks.length)for(var n=0;n<e.tracks.length;++n)a.SdkTrackMapping.encode(e.tracks[n],t.uint32(34).fork()).ldelim();return e.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(e,"compressedSdpAnswer")&&t.uint32(42).bytes(e.compressedSdpAnswer),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkSubscribeAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.duplex=e.int32();break;case 2:s.allocations&&s.allocations.length||(s.allocations=[]),s.allocations.push(a.SdkStreamAllocation.decode(e,e.uint32()));break;case 3:s.sdpAnswer=e.string();break;case 4:s.tracks&&s.tracks.length||(s.tracks=[]),s.tracks.push(a.SdkTrackMapping.decode(e,e.uint32()));break;case 5:s.compressedSdpAnswer=e.bytes();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.duplex!=null&&e.hasOwnProperty("duplex"))switch(e.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(e.allocations!=null&&e.hasOwnProperty("allocations")){if(!Array.isArray(e.allocations))return"allocations: array expected";for(var t=0;t<e.allocations.length;++t){var n=a.SdkStreamAllocation.verify(e.allocations[t]);if(n)return"allocations."+n}}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&!m.isString(e.sdpAnswer))return"sdpAnswer: string expected";if(e.tracks!=null&&e.hasOwnProperty("tracks")){if(!Array.isArray(e.tracks))return"tracks: array expected";for(var t=0;t<e.tracks.length;++t){var n=a.SdkTrackMapping.verify(e.tracks[t]);if(n)return"tracks."+n}}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&!(e.compressedSdpAnswer&&typeof e.compressedSdpAnswer.length=="number"||m.isString(e.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkSubscribeAckFrame)return e;var t=new a.SdkSubscribeAckFrame;switch(e.duplex){case"RX":case 1:t.duplex=1;break;case"TX":case 2:t.duplex=2;break;case"DUPLEX":case 3:t.duplex=3;break}if(e.allocations){if(!Array.isArray(e.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");t.allocations=[];for(var n=0;n<e.allocations.length;++n){if(typeof e.allocations[n]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");t.allocations[n]=a.SdkStreamAllocation.fromObject(e.allocations[n])}}if(e.sdpAnswer!=null&&(t.sdpAnswer=String(e.sdpAnswer)),e.tracks){if(!Array.isArray(e.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");t.tracks=[];for(var n=0;n<e.tracks.length;++n){if(typeof e.tracks[n]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");t.tracks[n]=a.SdkTrackMapping.fromObject(e.tracks[n])}}return e.compressedSdpAnswer!=null&&(typeof e.compressedSdpAnswer=="string"?m.base64.decode(e.compressedSdpAnswer,t.compressedSdpAnswer=m.newBuffer(m.base64.length(e.compressedSdpAnswer)),0):e.compressedSdpAnswer.length&&(t.compressedSdpAnswer=e.compressedSdpAnswer)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.allocations=[],n.tracks=[]),t.defaults&&(n.duplex=t.enums===String?"RX":1,n.sdpAnswer="",t.bytes===String?n.compressedSdpAnswer="":(n.compressedSdpAnswer=[],t.bytes!==Array&&(n.compressedSdpAnswer=m.newBuffer(n.compressedSdpAnswer)))),e.duplex!=null&&e.hasOwnProperty("duplex")&&(n.duplex=t.enums===String?a.SdkStreamServiceType[e.duplex]:e.duplex),e.allocations&&e.allocations.length){n.allocations=[];for(var s=0;s<e.allocations.length;++s)n.allocations[s]=a.SdkStreamAllocation.toObject(e.allocations[s],t)}if(e.sdpAnswer!=null&&e.hasOwnProperty("sdpAnswer")&&(n.sdpAnswer=e.sdpAnswer),e.tracks&&e.tracks.length){n.tracks=[];for(var s=0;s<e.tracks.length;++s)n.tracks[s]=a.SdkTrackMapping.toObject(e.tracks[s],t)}return e.compressedSdpAnswer!=null&&e.hasOwnProperty("compressedSdpAnswer")&&(n.compressedSdpAnswer=t.bytes===String?m.base64.encode(e.compressedSdpAnswer,0,e.compressedSdpAnswer.length):t.bytes===Array?Array.prototype.slice.call(e.compressedSdpAnswer):e.compressedSdpAnswer),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkIndexFrame=function(){function o(i){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkIndexFrame"),o.prototype.atCapacity=!1,o.prototype.sources=m.emptyArray,o.prototype.pausedAtSourceIds=m.emptyArray,o.prototype.numParticipants=0,o.prototype.supportedReceiveCodecIntersection=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.atCapacity!=null&&Object.hasOwnProperty.call(e,"atCapacity")&&t.uint32(8).bool(e.atCapacity),e.sources!=null&&e.sources.length)for(var n=0;n<e.sources.length;++n)a.SdkStreamDescriptor.encode(e.sources[n],t.uint32(18).fork()).ldelim();if(e.pausedAtSourceIds!=null&&e.pausedAtSourceIds.length)for(var n=0;n<e.pausedAtSourceIds.length;++n)t.uint32(24).uint32(e.pausedAtSourceIds[n]);if(e.numParticipants!=null&&Object.hasOwnProperty.call(e,"numParticipants")&&t.uint32(32).uint32(e.numParticipants),e.supportedReceiveCodecIntersection!=null&&e.supportedReceiveCodecIntersection.length)for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)t.uint32(40).int32(e.supportedReceiveCodecIntersection[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkIndexFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.atCapacity=e.bool();break;case 2:s.sources&&s.sources.length||(s.sources=[]),s.sources.push(a.SdkStreamDescriptor.decode(e,e.uint32()));break;case 3:if(s.pausedAtSourceIds&&s.pausedAtSourceIds.length||(s.pausedAtSourceIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.pausedAtSourceIds.push(e.uint32());else s.pausedAtSourceIds.push(e.uint32());break;case 4:s.numParticipants=e.uint32();break;case 5:if(s.supportedReceiveCodecIntersection&&s.supportedReceiveCodecIntersection.length||(s.supportedReceiveCodecIntersection=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.supportedReceiveCodecIntersection.push(e.int32());else s.supportedReceiveCodecIntersection.push(e.int32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&typeof e.atCapacity!="boolean")return"atCapacity: boolean expected";if(e.sources!=null&&e.hasOwnProperty("sources")){if(!Array.isArray(e.sources))return"sources: array expected";for(var t=0;t<e.sources.length;++t){var n=a.SdkStreamDescriptor.verify(e.sources[t]);if(n)return"sources."+n}}if(e.pausedAtSourceIds!=null&&e.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(e.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var t=0;t<e.pausedAtSourceIds.length;++t)if(!m.isInteger(e.pausedAtSourceIds[t]))return"pausedAtSourceIds: integer[] expected"}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&!m.isInteger(e.numParticipants))return"numParticipants: integer expected";if(e.supportedReceiveCodecIntersection!=null&&e.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(e.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var t=0;t<e.supportedReceiveCodecIntersection.length;++t)switch(e.supportedReceiveCodecIntersection[t]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 3:break}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkIndexFrame)return e;var t=new a.SdkIndexFrame;if(e.atCapacity!=null&&(t.atCapacity=Boolean(e.atCapacity)),e.sources){if(!Array.isArray(e.sources))throw TypeError(".SdkIndexFrame.sources: array expected");t.sources=[];for(var n=0;n<e.sources.length;++n){if(typeof e.sources[n]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");t.sources[n]=a.SdkStreamDescriptor.fromObject(e.sources[n])}}if(e.pausedAtSourceIds){if(!Array.isArray(e.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");t.pausedAtSourceIds=[];for(var n=0;n<e.pausedAtSourceIds.length;++n)t.pausedAtSourceIds[n]=e.pausedAtSourceIds[n]>>>0}if(e.numParticipants!=null&&(t.numParticipants=e.numParticipants>>>0),e.supportedReceiveCodecIntersection){if(!Array.isArray(e.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");t.supportedReceiveCodecIntersection=[];for(var n=0;n<e.supportedReceiveCodecIntersection.length;++n)switch(e.supportedReceiveCodecIntersection[n]){default:case"VP8":case 1:t.supportedReceiveCodecIntersection[n]=1;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:t.supportedReceiveCodecIntersection[n]=3;break}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sources=[],n.pausedAtSourceIds=[],n.supportedReceiveCodecIntersection=[]),t.defaults&&(n.atCapacity=!1,n.numParticipants=0),e.atCapacity!=null&&e.hasOwnProperty("atCapacity")&&(n.atCapacity=e.atCapacity),e.sources&&e.sources.length){n.sources=[];for(var s=0;s<e.sources.length;++s)n.sources[s]=a.SdkStreamDescriptor.toObject(e.sources[s],t)}if(e.pausedAtSourceIds&&e.pausedAtSourceIds.length){n.pausedAtSourceIds=[];for(var s=0;s<e.pausedAtSourceIds.length;++s)n.pausedAtSourceIds[s]=e.pausedAtSourceIds[s]}if(e.numParticipants!=null&&e.hasOwnProperty("numParticipants")&&(n.numParticipants=e.numParticipants),e.supportedReceiveCodecIntersection&&e.supportedReceiveCodecIntersection.length){n.supportedReceiveCodecIntersection=[];for(var s=0;s<e.supportedReceiveCodecIntersection.length;++s)n.supportedReceiveCodecIntersection[s]=t.enums===String?a.SdkVideoCodecCapability[e.supportedReceiveCodecIntersection[s]]:e.supportedReceiveCodecIntersection[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPauseResumeFrame=function(){function o(i){if(this.streamIds=[],this.groupIds=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPauseResumeFrame"),o.prototype.streamIds=m.emptyArray,o.prototype.groupIds=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.streamIds!=null&&e.streamIds.length)for(var n=0;n<e.streamIds.length;++n)t.uint32(8).uint32(e.streamIds[n]);if(e.groupIds!=null&&e.groupIds.length)for(var n=0;n<e.groupIds.length;++n)t.uint32(16).uint32(e.groupIds[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPauseResumeFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:if(s.streamIds&&s.streamIds.length||(s.streamIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.streamIds.push(e.uint32());else s.streamIds.push(e.uint32());break;case 2:if(s.groupIds&&s.groupIds.length||(s.groupIds=[]),(p&7)===2)for(var g=e.uint32()+e.pos;e.pos<g;)s.groupIds.push(e.uint32());else s.groupIds.push(e.uint32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamIds!=null&&e.hasOwnProperty("streamIds")){if(!Array.isArray(e.streamIds))return"streamIds: array expected";for(var t=0;t<e.streamIds.length;++t)if(!m.isInteger(e.streamIds[t]))return"streamIds: integer[] expected"}if(e.groupIds!=null&&e.hasOwnProperty("groupIds")){if(!Array.isArray(e.groupIds))return"groupIds: array expected";for(var t=0;t<e.groupIds.length;++t)if(!m.isInteger(e.groupIds[t]))return"groupIds: integer[] expected"}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkPauseResumeFrame)return e;var t=new a.SdkPauseResumeFrame;if(e.streamIds){if(!Array.isArray(e.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");t.streamIds=[];for(var n=0;n<e.streamIds.length;++n)t.streamIds[n]=e.streamIds[n]>>>0}if(e.groupIds){if(!Array.isArray(e.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");t.groupIds=[];for(var n=0;n<e.groupIds.length;++n)t.groupIds[n]=e.groupIds[n]>>>0}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streamIds=[],n.groupIds=[]),e.streamIds&&e.streamIds.length){n.streamIds=[];for(var s=0;s<e.streamIds.length;++s)n.streamIds[s]=e.streamIds[s]}if(e.groupIds&&e.groupIds.length){n.groupIds=[];for(var s=0;s<e.groupIds.length;++s)n.groupIds[s]=e.groupIds[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkBitrateFrame=function(){function o(i){if(this.bitrates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkBitrateFrame"),o.prototype.bitrates=m.emptyArray,o.prototype.serverAvailableOutgoingBitrate=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.bitrates!=null&&e.bitrates.length)for(var n=0;n<e.bitrates.length;++n)a.SdkBitrate.encode(e.bitrates[n],t.uint32(10).fork()).ldelim();return e.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(e,"serverAvailableOutgoingBitrate")&&t.uint32(16).uint32(e.serverAvailableOutgoingBitrate),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkBitrateFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.bitrates&&s.bitrates.length||(s.bitrates=[]),s.bitrates.push(a.SdkBitrate.decode(e,e.uint32()));break;case 2:s.serverAvailableOutgoingBitrate=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.bitrates!=null&&e.hasOwnProperty("bitrates")){if(!Array.isArray(e.bitrates))return"bitrates: array expected";for(var t=0;t<e.bitrates.length;++t){var n=a.SdkBitrate.verify(e.bitrates[t]);if(n)return"bitrates."+n}}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&!m.isInteger(e.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkBitrateFrame)return e;var t=new a.SdkBitrateFrame;if(e.bitrates){if(!Array.isArray(e.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");t.bitrates=[];for(var n=0;n<e.bitrates.length;++n){if(typeof e.bitrates[n]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");t.bitrates[n]=a.SdkBitrate.fromObject(e.bitrates[n])}}return e.serverAvailableOutgoingBitrate!=null&&(t.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bitrates=[]),t.defaults&&(n.serverAvailableOutgoingBitrate=0),e.bitrates&&e.bitrates.length){n.bitrates=[];for(var s=0;s<e.bitrates.length;++s)n.bitrates[s]=a.SdkBitrate.toObject(e.bitrates[s],t)}return e.serverAvailableOutgoingBitrate!=null&&e.hasOwnProperty("serverAvailableOutgoingBitrate")&&(n.serverAvailableOutgoingBitrate=e.serverAvailableOutgoingBitrate),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamDescriptor=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamDescriptor"),o.prototype.streamId=0,o.prototype.framerate=0,o.prototype.maxBitrateKbps=0,o.prototype.trackLabel="",o.prototype.groupId=0,o.prototype.avgBitrateBps=0,o.prototype.attendeeId="",o.prototype.mediaType=1,o.prototype.externalUserId="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.framerate!=null&&Object.hasOwnProperty.call(e,"framerate")&&t.uint32(16).uint32(e.framerate),e.maxBitrateKbps!=null&&Object.hasOwnProperty.call(e,"maxBitrateKbps")&&t.uint32(24).uint32(e.maxBitrateKbps),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(34).string(e.trackLabel),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(56).uint32(e.avgBitrateBps),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(66).string(e.attendeeId),e.mediaType!=null&&Object.hasOwnProperty.call(e,"mediaType")&&t.uint32(72).int32(e.mediaType),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(82).string(e.externalUserId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamDescriptor;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.streamId=e.uint32();break;case 2:s.framerate=e.uint32();break;case 3:s.maxBitrateKbps=e.uint32();break;case 4:s.trackLabel=e.string();break;case 6:s.groupId=e.uint32();break;case 7:s.avgBitrateBps=e.uint32();break;case 8:s.attendeeId=e.string();break;case 9:s.mediaType=e.int32();break;case 10:s.externalUserId=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId))return"streamId: integer expected";if(e.framerate!=null&&e.hasOwnProperty("framerate")&&!m.isInteger(e.framerate))return"framerate: integer expected";if(e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&!m.isInteger(e.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!m.isString(e.trackLabel))return"trackLabel: string expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId))return"groupId: integer expected";if(e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!m.isInteger(e.avgBitrateBps))return"avgBitrateBps: integer expected";if(e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId))return"attendeeId: string expected";if(e.mediaType!=null&&e.hasOwnProperty("mediaType"))switch(e.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!m.isString(e.externalUserId)?"externalUserId: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamDescriptor)return e;var t=new a.SdkStreamDescriptor;switch(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.framerate!=null&&(t.framerate=e.framerate>>>0),e.maxBitrateKbps!=null&&(t.maxBitrateKbps=e.maxBitrateKbps>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.mediaType){case"AUDIO":case 1:t.mediaType=1;break;case"VIDEO":case 2:t.mediaType=2;break}return e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.framerate=0,n.maxBitrateKbps=0,n.trackLabel="",n.groupId=0,n.avgBitrateBps=0,n.attendeeId="",n.mediaType=t.enums===String?"AUDIO":1,n.externalUserId=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.framerate!=null&&e.hasOwnProperty("framerate")&&(n.framerate=e.framerate),e.maxBitrateKbps!=null&&e.hasOwnProperty("maxBitrateKbps")&&(n.maxBitrateKbps=e.maxBitrateKbps),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.mediaType!=null&&e.hasOwnProperty("mediaType")&&(n.mediaType=t.enums===String?a.SdkStreamMediaType[e.mediaType]:e.mediaType),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamAllocation=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamAllocation"),o.prototype.trackLabel="",o.prototype.streamId=0,o.prototype.groupId=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(10).string(e.trackLabel),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(16).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(24).uint32(e.groupId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamAllocation;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.trackLabel=e.string();break;case 2:s.streamId=e.uint32();break;case 3:s.groupId=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!m.isString(e.trackLabel)?"trackLabel: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId)?"streamId: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId)?"groupId: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamAllocation)return e;var t=new a.SdkStreamAllocation;return e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.trackLabel="",n.streamId=0,n.groupId=0),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTrackMapping=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTrackMapping"),o.prototype.streamId=0,o.prototype.ssrc=0,o.prototype.trackLabel="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(8).uint32(e.streamId),e.ssrc!=null&&Object.hasOwnProperty.call(e,"ssrc")&&t.uint32(16).uint32(e.ssrc),e.trackLabel!=null&&Object.hasOwnProperty.call(e,"trackLabel")&&t.uint32(26).string(e.trackLabel),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTrackMapping;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.streamId=e.uint32();break;case 2:s.ssrc=e.uint32();break;case 3:s.trackLabel=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId)?"streamId: integer expected":e.ssrc!=null&&e.hasOwnProperty("ssrc")&&!m.isInteger(e.ssrc)?"ssrc: integer expected":e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&!m.isString(e.trackLabel)?"trackLabel: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTrackMapping)return e;var t=new a.SdkTrackMapping;return e.streamId!=null&&(t.streamId=e.streamId>>>0),e.ssrc!=null&&(t.ssrc=e.ssrc>>>0),e.trackLabel!=null&&(t.trackLabel=String(e.trackLabel)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.streamId=0,n.ssrc=0,n.trackLabel=""),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.ssrc!=null&&e.hasOwnProperty("ssrc")&&(n.ssrc=e.ssrc),e.trackLabel!=null&&e.hasOwnProperty("trackLabel")&&(n.trackLabel=e.trackLabel),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkBitrate=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkBitrate"),o.prototype.sourceStreamId=0,o.prototype.avgBitrateBps=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.sourceStreamId!=null&&Object.hasOwnProperty.call(e,"sourceStreamId")&&t.uint32(8).uint32(e.sourceStreamId),e.avgBitrateBps!=null&&Object.hasOwnProperty.call(e,"avgBitrateBps")&&t.uint32(16).uint32(e.avgBitrateBps),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkBitrate;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.sourceStreamId=e.uint32();break;case 2:s.avgBitrateBps=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&!m.isInteger(e.sourceStreamId)?"sourceStreamId: integer expected":e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&!m.isInteger(e.avgBitrateBps)?"avgBitrateBps: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkBitrate)return e;var t=new a.SdkBitrate;return e.sourceStreamId!=null&&(t.sourceStreamId=e.sourceStreamId>>>0),e.avgBitrateBps!=null&&(t.avgBitrateBps=e.avgBitrateBps>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.sourceStreamId=0,n.avgBitrateBps=0),e.sourceStreamId!=null&&e.hasOwnProperty("sourceStreamId")&&(n.sourceStreamId=e.sourceStreamId),e.avgBitrateBps!=null&&e.hasOwnProperty("avgBitrateBps")&&(n.avgBitrateBps=e.avgBitrateBps),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioControlFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioControlFrame"),o.prototype.muted=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(8).bool(e.muted),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioControlFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.muted=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioControlFrame)return e;var t=new a.SdkAudioControlFrame;return e.muted!=null&&(t.muted=Boolean(e.muted)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.muted=!1),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioMetadataFrame=function(){function o(i){if(this.attendeeStates=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioMetadataFrame"),o.prototype.attendeeStates=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.attendeeStates!=null&&e.attendeeStates.length)for(var n=0;n<e.attendeeStates.length;++n)a.SdkAudioAttendeeState.encode(e.attendeeStates[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioMetadataFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.attendeeStates&&s.attendeeStates.length||(s.attendeeStates=[]),s.attendeeStates.push(a.SdkAudioAttendeeState.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.attendeeStates!=null&&e.hasOwnProperty("attendeeStates")){if(!Array.isArray(e.attendeeStates))return"attendeeStates: array expected";for(var t=0;t<e.attendeeStates.length;++t){var n=a.SdkAudioAttendeeState.verify(e.attendeeStates[t]);if(n)return"attendeeStates."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioMetadataFrame)return e;var t=new a.SdkAudioMetadataFrame;if(e.attendeeStates){if(!Array.isArray(e.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");t.attendeeStates=[];for(var n=0;n<e.attendeeStates.length;++n){if(typeof e.attendeeStates[n]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");t.attendeeStates[n]=a.SdkAudioAttendeeState.fromObject(e.attendeeStates[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attendeeStates=[]),e.attendeeStates&&e.attendeeStates.length){n.attendeeStates=[];for(var s=0;s<e.attendeeStates.length;++s)n.attendeeStates[s]=a.SdkAudioAttendeeState.toObject(e.attendeeStates[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioAttendeeState=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioAttendeeState"),o.prototype.audioStreamId=0,o.prototype.volume=0,o.prototype.muted=!1,o.prototype.signalStrength=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.volume!=null&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.signalStrength!=null&&Object.hasOwnProperty.call(e,"signalStrength")&&t.uint32(32).uint32(e.signalStrength),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioAttendeeState;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.audioStreamId=e.uint32();break;case 2:s.volume=e.uint32();break;case 3:s.muted=e.bool();break;case 4:s.signalStrength=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!m.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.volume!=null&&e.hasOwnProperty("volume")&&!m.isInteger(e.volume)?"volume: integer expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&!m.isInteger(e.signalStrength)?"signalStrength: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioAttendeeState)return e;var t=new a.SdkAudioAttendeeState;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.volume!=null&&(t.volume=e.volume>>>0),e.muted!=null&&(t.muted=Boolean(e.muted)),e.signalStrength!=null&&(t.signalStrength=e.signalStrength>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.volume=0,n.muted=!1,n.signalStrength=0),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.volume!=null&&e.hasOwnProperty("volume")&&(n.volume=e.volume),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.signalStrength!=null&&e.hasOwnProperty("signalStrength")&&(n.signalStrength=e.signalStrength),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioStreamIdInfoFrame=function(){function o(i){if(this.streams=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioStreamIdInfoFrame"),o.prototype.streams=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.streams!=null&&e.streams.length)for(var n=0;n<e.streams.length;++n)a.SdkAudioStreamIdInfo.encode(e.streams[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioStreamIdInfoFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.streams&&s.streams.length||(s.streams=[]),s.streams.push(a.SdkAudioStreamIdInfo.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streams!=null&&e.hasOwnProperty("streams")){if(!Array.isArray(e.streams))return"streams: array expected";for(var t=0;t<e.streams.length;++t){var n=a.SdkAudioStreamIdInfo.verify(e.streams[t]);if(n)return"streams."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioStreamIdInfoFrame)return e;var t=new a.SdkAudioStreamIdInfoFrame;if(e.streams){if(!Array.isArray(e.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");t.streams=[];for(var n=0;n<e.streams.length;++n){if(typeof e.streams[n]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");t.streams[n]=a.SdkAudioStreamIdInfo.fromObject(e.streams[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.streams=[]),e.streams&&e.streams.length){n.streams=[];for(var s=0;s<e.streams.length;++s)n.streams[s]=a.SdkAudioStreamIdInfo.toObject(e.streams[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioStreamIdInfo=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioStreamIdInfo"),o.prototype.audioStreamId=0,o.prototype.attendeeId="",o.prototype.muted=!1,o.prototype.externalUserId="",o.prototype.dropped=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.audioStreamId!=null&&Object.hasOwnProperty.call(e,"audioStreamId")&&t.uint32(8).uint32(e.audioStreamId),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.muted!=null&&Object.hasOwnProperty.call(e,"muted")&&t.uint32(24).bool(e.muted),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(34).string(e.externalUserId),e.dropped!=null&&Object.hasOwnProperty.call(e,"dropped")&&t.uint32(40).bool(e.dropped),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioStreamIdInfo;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.audioStreamId=e.uint32();break;case 2:s.attendeeId=e.string();break;case 3:s.muted=e.bool();break;case 4:s.externalUserId=e.string();break;case 5:s.dropped=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&!m.isInteger(e.audioStreamId)?"audioStreamId: integer expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId)?"attendeeId: string expected":e.muted!=null&&e.hasOwnProperty("muted")&&typeof e.muted!="boolean"?"muted: boolean expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!m.isString(e.externalUserId)?"externalUserId: string expected":e.dropped!=null&&e.hasOwnProperty("dropped")&&typeof e.dropped!="boolean"?"dropped: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioStreamIdInfo)return e;var t=new a.SdkAudioStreamIdInfo;return e.audioStreamId!=null&&(t.audioStreamId=e.audioStreamId>>>0),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.muted!=null&&(t.muted=Boolean(e.muted)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.dropped!=null&&(t.dropped=Boolean(e.dropped)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStreamId=0,n.attendeeId="",n.muted=!1,n.externalUserId="",n.dropped=!1),e.audioStreamId!=null&&e.hasOwnProperty("audioStreamId")&&(n.audioStreamId=e.audioStreamId),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.muted!=null&&e.hasOwnProperty("muted")&&(n.muted=e.muted),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.dropped!=null&&e.hasOwnProperty("dropped")&&(n.dropped=e.dropped),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPingPongType=function(){var o={},i=Object.create(o);return i[o[1]="PING"]=1,i[o[2]="PONG"]=2,i}(),a.SdkPingPongFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPingPongFrame"),o.prototype.type=1,o.prototype.pingId=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t.uint32(8).int32(e.type),t.uint32(16).uint32(e.pingId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPingPongFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.pingId=e.uint32();break;default:e.skipType(p&7);break}}if(!s.hasOwnProperty("type"))throw m.ProtocolError("missing required 'type'",{instance:s});if(!s.hasOwnProperty("pingId"))throw m.ProtocolError("missing required 'pingId'",{instance:s});return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return m.isInteger(e.pingId)?null:"pingId: integer expected"},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkPingPongFrame)return e;var t=new a.SdkPingPongFrame;switch(e.type){case"PING":case 1:t.type=1;break;case"PONG":case 2:t.type=2;break}return e.pingId!=null&&(t.pingId=e.pingId>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"PING":1,n.pingId=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkPingPongType[e.type]:e.type),e.pingId!=null&&e.hasOwnProperty("pingId")&&(n.pingId=e.pingId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkAudioStatusFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkAudioStatusFrame"),o.prototype.audioStatus=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.audioStatus!=null&&Object.hasOwnProperty.call(e,"audioStatus")&&t.uint32(8).uint32(e.audioStatus),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkAudioStatusFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.audioStatus=e.uint32();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&!m.isInteger(e.audioStatus)?"audioStatus: integer expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkAudioStatusFrame)return e;var t=new a.SdkAudioStatusFrame;return e.audioStatus!=null&&(t.audioStatus=e.audioStatus>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.audioStatus=0),e.audioStatus!=null&&e.hasOwnProperty("audioStatus")&&(n.audioStatus=e.audioStatus),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkMetric=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkMetric"),o.prototype.type=1,o.prototype.value=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkMetric;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.value=e.double();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:break}return e.value!=null&&e.hasOwnProperty("value")&&typeof e.value!="number"?"value: number expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkMetric)return e;var t=new a.SdkMetric;switch(e.type){case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:t.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:t.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:t.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:t.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:t.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:t.type=6;break;case"STUN_RTT_MS":case 7:t.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:t.type=8;break;case"RTC_MIC_JITTER_MS":case 9:t.type=9;break;case"RTC_MIC_PPS":case 10:t.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:t.type=11;break;case"RTC_MIC_BITRATE":case 12:t.type=12;break;case"RTC_MIC_RTT_MS":case 13:t.type=13;break;case"RTC_SPK_PPS":case 14:t.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:t.type=15;break;case"RTC_SPK_JITTER_MS":case 16:t.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:t.type=17;break;case"RTC_SPK_BITRATE":case 18:t.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:t.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:t.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:t.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:t.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:t.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:t.type=24;break;case"VIDEO_ENCODE_MS":case 25:t.type=25;break;case"VIDEO_INPUT_FPS":case 26:t.type=26;break;case"VIDEO_ENCODE_FPS":case 27:t.type=27;break;case"VIDEO_SENT_FPS":case 28:t.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:t.type=29;break;case"VIDEO_SENT_PPS":case 30:t.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:t.type=31;break;case"VIDEO_SENT_BITRATE":case 32:t.type=32;break;case"VIDEO_DROPPED_FPS":case 33:t.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:t.type=34;break;case"VIDEO_DECODE_MS":case 35:t.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:t.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:t.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:t.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:t.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:t.type=40;break;case"VIDEO_DECODE_FPS":case 41:t.type=41;break;case"VIDEO_NACKS_SENT":case 42:t.type=42;break;case"VIDEO_FIRS_SENT":case 43:t.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:t.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:t.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:t.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:t.type=47;break;case"VIDEO_PLIS_SENT":case 48:t.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:t.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:t.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:t.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:t.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:t.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:t.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:t.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:t.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:t.type=89;break;case"VIDEO_FREEZE_DURATION":case 91:t.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:t.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:t.type=93;break;case"VIDEO_QUALITY_REASON":case 94:t.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:t.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:t.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:t.type=97;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"RTC_SPK_TOTAL_LOST":case 98:t.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:t.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:t.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:t.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:t.type=102;break}return e.value!=null&&(t.value=Number(e.value)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,n.value=0),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkMetric.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,e[i[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,e[i[3]="VIDEO_RETRANSMIT_BITRATE"]=3,e[i[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,e[i[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,e[i[6]="VIDEO_BUCKET_DELAY_MS"]=6,e[i[7]="STUN_RTT_MS"]=7,e[i[8]="SOCKET_DISCARDED_PPS"]=8,e[i[9]="RTC_MIC_JITTER_MS"]=9,e[i[10]="RTC_MIC_PPS"]=10,e[i[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,e[i[12]="RTC_MIC_BITRATE"]=12,e[i[13]="RTC_MIC_RTT_MS"]=13,e[i[14]="RTC_SPK_PPS"]=14,e[i[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,e[i[16]="RTC_SPK_JITTER_MS"]=16,e[i[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,e[i[18]="RTC_SPK_BITRATE"]=18,e[i[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,e[i[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,e[i[21]="VIDEO_SENT_RTT_MS"]=21,e[i[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,e[i[23]="VIDEO_NACKS_RECEIVED"]=23,e[i[24]="VIDEO_PLIS_RECEIVED"]=24,e[i[25]="VIDEO_ENCODE_MS"]=25,e[i[26]="VIDEO_INPUT_FPS"]=26,e[i[27]="VIDEO_ENCODE_FPS"]=27,e[i[28]="VIDEO_SENT_FPS"]=28,e[i[29]="VIDEO_FIRS_RECEIVED"]=29,e[i[30]="VIDEO_SENT_PPS"]=30,e[i[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,e[i[32]="VIDEO_SENT_BITRATE"]=32,e[i[33]="VIDEO_DROPPED_FPS"]=33,e[i[34]="VIDEO_TARGET_DELAY_MS"]=34,e[i[35]="VIDEO_DECODE_MS"]=35,e[i[36]="VIDEO_OUTPUT_FPS"]=36,e[i[37]="VIDEO_RECEIVED_PPS"]=37,e[i[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,e[i[39]="VIDEO_RENDER_DELAY_MS"]=39,e[i[40]="VIDEO_RECEIVED_FPS"]=40,e[i[41]="VIDEO_DECODE_FPS"]=41,e[i[42]="VIDEO_NACKS_SENT"]=42,e[i[43]="VIDEO_FIRS_SENT"]=43,e[i[44]="VIDEO_RECEIVED_BITRATE"]=44,e[i[45]="VIDEO_CURRENT_DELAY_MS"]=45,e[i[46]="VIDEO_JITTER_BUFFER_MS"]=46,e[i[47]="VIDEO_DISCARDED_PPS"]=47,e[i[48]="VIDEO_PLIS_SENT"]=48,e[i[49]="VIDEO_RECEIVED_JITTER_MS"]=49,e[i[64]="VIDEO_ENCODE_HEIGHT"]=64,e[i[66]="VIDEO_SENT_QP_SUM"]=66,e[i[69]="VIDEO_DECODE_HEIGHT"]=69,e[i[72]="VIDEO_RECEIVED_QP_SUM"]=72,e[i[86]="VIDEO_ENCODE_WIDTH"]=86,e[i[87]="VIDEO_DECODE_WIDTH"]=87,e[i[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,e[i[89]="VIDEO_DECODER_IS_HARDWARE"]=89,e[i[90]="VIDEO_FREEZE_COUNT"]=90,e[i[91]="VIDEO_FREEZE_DURATION"]=91,e[i[92]="VIDEO_PAUSE_COUNT"]=92,e[i[93]="VIDEO_PAUSE_DURATION"]=93,e[i[94]="VIDEO_QUALITY_REASON"]=94,e[i[95]="VIDEO_PROCESSING_TIME"]=95,e[i[96]="RTC_SPK_AUDIO_LEVEL"]=96,e[i[97]="RTC_MIC_AUDIO_LEVEL"]=97,e[i[98]="RTC_SPK_TOTAL_LOST"]=98,e[i[99]="RTC_SPK_TOTAL_EXPECTED"]=99,e[i[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,e[i[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,e[i[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,e}(),o}(),a.SdkStreamMetricFrame=function(){function o(i){if(this.metrics=[],this.dimensions=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamMetricFrame"),o.prototype.streamId=0,o.prototype.groupId=0,o.prototype.metrics=m.emptyArray,o.prototype.dimensions=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(32).uint32(e.groupId),e.metrics!=null&&e.metrics.length)for(var n=0;n<e.metrics.length;++n)a.SdkMetric.encode(e.metrics[n],t.uint32(42).fork()).ldelim();if(e.dimensions!=null&&e.dimensions.length)for(var n=0;n<e.dimensions.length;++n)a.SdkStreamDimension.encode(e.dimensions[n],t.uint32(50).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamMetricFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 3:s.streamId=e.uint32();break;case 4:s.groupId=e.uint32();break;case 5:s.metrics&&s.metrics.length||(s.metrics=[]),s.metrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 6:s.dimensions&&s.dimensions.length||(s.dimensions=[]),s.dimensions.push(a.SdkStreamDimension.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId))return"streamId: integer expected";if(e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId))return"groupId: integer expected";if(e.metrics!=null&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var n=a.SdkMetric.verify(e.metrics[t]);if(n)return"metrics."+n}}if(e.dimensions!=null&&e.hasOwnProperty("dimensions")){if(!Array.isArray(e.dimensions))return"dimensions: array expected";for(var t=0;t<e.dimensions.length;++t){var n=a.SdkStreamDimension.verify(e.dimensions[t]);if(n)return"dimensions."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamMetricFrame)return e;var t=new a.SdkStreamMetricFrame;if(e.streamId!=null&&(t.streamId=e.streamId>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");t.metrics=[];for(var n=0;n<e.metrics.length;++n){if(typeof e.metrics[n]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");t.metrics[n]=a.SdkMetric.fromObject(e.metrics[n])}}if(e.dimensions){if(!Array.isArray(e.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");t.dimensions=[];for(var n=0;n<e.dimensions.length;++n){if(typeof e.dimensions[n]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");t.dimensions[n]=a.SdkStreamDimension.fromObject(e.dimensions[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metrics=[],n.dimensions=[]),t.defaults&&(n.streamId=0,n.groupId=0),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),e.metrics&&e.metrics.length){n.metrics=[];for(var s=0;s<e.metrics.length;++s)n.metrics[s]=a.SdkMetric.toObject(e.metrics[s],t)}if(e.dimensions&&e.dimensions.length){n.dimensions=[];for(var s=0;s<e.dimensions.length;++s)n.dimensions[s]=a.SdkStreamDimension.toObject(e.dimensions[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkClientMetricFrame=function(){function o(i){if(this.globalMetrics=[],this.streamMetricFrames=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkClientMetricFrame"),o.prototype.globalMetrics=m.emptyArray,o.prototype.streamMetricFrames=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.globalMetrics!=null&&e.globalMetrics.length)for(var n=0;n<e.globalMetrics.length;++n)a.SdkMetric.encode(e.globalMetrics[n],t.uint32(10).fork()).ldelim();if(e.streamMetricFrames!=null&&e.streamMetricFrames.length)for(var n=0;n<e.streamMetricFrames.length;++n)a.SdkStreamMetricFrame.encode(e.streamMetricFrames[n],t.uint32(18).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkClientMetricFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.globalMetrics&&s.globalMetrics.length||(s.globalMetrics=[]),s.globalMetrics.push(a.SdkMetric.decode(e,e.uint32()));break;case 2:s.streamMetricFrames&&s.streamMetricFrames.length||(s.streamMetricFrames=[]),s.streamMetricFrames.push(a.SdkStreamMetricFrame.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.globalMetrics!=null&&e.hasOwnProperty("globalMetrics")){if(!Array.isArray(e.globalMetrics))return"globalMetrics: array expected";for(var t=0;t<e.globalMetrics.length;++t){var n=a.SdkMetric.verify(e.globalMetrics[t]);if(n)return"globalMetrics."+n}}if(e.streamMetricFrames!=null&&e.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(e.streamMetricFrames))return"streamMetricFrames: array expected";for(var t=0;t<e.streamMetricFrames.length;++t){var n=a.SdkStreamMetricFrame.verify(e.streamMetricFrames[t]);if(n)return"streamMetricFrames."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkClientMetricFrame)return e;var t=new a.SdkClientMetricFrame;if(e.globalMetrics){if(!Array.isArray(e.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");t.globalMetrics=[];for(var n=0;n<e.globalMetrics.length;++n){if(typeof e.globalMetrics[n]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");t.globalMetrics[n]=a.SdkMetric.fromObject(e.globalMetrics[n])}}if(e.streamMetricFrames){if(!Array.isArray(e.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");t.streamMetricFrames=[];for(var n=0;n<e.streamMetricFrames.length;++n){if(typeof e.streamMetricFrames[n]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");t.streamMetricFrames[n]=a.SdkStreamMetricFrame.fromObject(e.streamMetricFrames[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.globalMetrics=[],n.streamMetricFrames=[]),e.globalMetrics&&e.globalMetrics.length){n.globalMetrics=[];for(var s=0;s<e.globalMetrics.length;++s)n.globalMetrics[s]=a.SdkMetric.toObject(e.globalMetrics[s],t)}if(e.streamMetricFrames&&e.streamMetricFrames.length){n.streamMetricFrames=[];for(var s=0;s<e.streamMetricFrames.length;++s)n.streamMetricFrames[s]=a.SdkStreamMetricFrame.toObject(e.streamMetricFrames[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkStreamDimension=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkStreamDimension"),o.prototype.type=1,o.prototype.value=null,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&a.SdkDimensionValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkStreamDimension;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.value=a.SdkDimensionValue.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}if(e.value!=null&&e.hasOwnProperty("value")){var t=a.SdkDimensionValue.verify(e.value);if(t)return"value."+t}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkStreamDimension)return e;var t=new a.SdkStreamDimension;switch(e.type){case"VIDEO_ENCODER_NAME":case 1:t.type=1;break;case"VIDEO_DECODER_NAME":case 2:t.type=2;break}if(e.value!=null){if(typeof e.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");t.value=a.SdkDimensionValue.fromObject(e.value)}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"VIDEO_ENCODER_NAME":1,n.value=null),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkStreamDimension.Type[e.type]:e.type),e.value!=null&&e.hasOwnProperty("value")&&(n.value=a.SdkDimensionValue.toObject(e.value,t)),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="VIDEO_ENCODER_NAME"]=1,e[i[2]="VIDEO_DECODER_NAME"]=2,e}(),o}(),a.SdkDimensionValue=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkDimensionValue"),o.prototype.stringValue="",o.prototype.boolValue=!1,o.prototype.uintValue=m.Long?m.Long.fromBits(0,0,!0):0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.stringValue!=null&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),e.boolValue!=null&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),e.uintValue!=null&&Object.hasOwnProperty.call(e,"uintValue")&&t.uint32(24).uint64(e.uintValue),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkDimensionValue;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.stringValue=e.string();break;case 2:s.boolValue=e.bool();break;case 3:s.uintValue=e.uint64();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.stringValue!=null&&e.hasOwnProperty("stringValue")&&!m.isString(e.stringValue)?"stringValue: string expected":e.boolValue!=null&&e.hasOwnProperty("boolValue")&&typeof e.boolValue!="boolean"?"boolValue: boolean expected":e.uintValue!=null&&e.hasOwnProperty("uintValue")&&!m.isInteger(e.uintValue)&&!(e.uintValue&&m.isInteger(e.uintValue.low)&&m.isInteger(e.uintValue.high))?"uintValue: integer|Long expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkDimensionValue)return e;var t=new a.SdkDimensionValue;return e.stringValue!=null&&(t.stringValue=String(e.stringValue)),e.boolValue!=null&&(t.boolValue=Boolean(e.boolValue)),e.uintValue!=null&&(m.Long?(t.uintValue=m.Long.fromValue(e.uintValue)).unsigned=!0:typeof e.uintValue=="string"?t.uintValue=parseInt(e.uintValue,10):typeof e.uintValue=="number"?t.uintValue=e.uintValue:typeof e.uintValue=="object"&&(t.uintValue=new m.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0))),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults)if(n.stringValue="",n.boolValue=!1,m.Long){var s=new m.Long(0,0,!0);n.uintValue=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.uintValue=t.longs===String?"0":0;return e.stringValue!=null&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue),e.boolValue!=null&&e.hasOwnProperty("boolValue")&&(n.boolValue=e.boolValue),e.uintValue!=null&&e.hasOwnProperty("uintValue")&&(typeof e.uintValue=="number"?n.uintValue=t.longs===String?String(e.uintValue):e.uintValue:n.uintValue=t.longs===String?m.Long.prototype.toString.call(e.uintValue):t.longs===Number?new m.LongBits(e.uintValue.low>>>0,e.uintValue.high>>>0).toNumber(!0):e.uintValue),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkDataMessageFrame=function(){function o(i){if(this.messages=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkDataMessageFrame"),o.prototype.messages=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.messages!=null&&e.messages.length)for(var n=0;n<e.messages.length;++n)a.SdkDataMessagePayload.encode(e.messages[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkDataMessageFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.messages&&s.messages.length||(s.messages=[]),s.messages.push(a.SdkDataMessagePayload.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.messages!=null&&e.hasOwnProperty("messages")){if(!Array.isArray(e.messages))return"messages: array expected";for(var t=0;t<e.messages.length;++t){var n=a.SdkDataMessagePayload.verify(e.messages[t]);if(n)return"messages."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkDataMessageFrame)return e;var t=new a.SdkDataMessageFrame;if(e.messages){if(!Array.isArray(e.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");t.messages=[];for(var n=0;n<e.messages.length;++n){if(typeof e.messages[n]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");t.messages[n]=a.SdkDataMessagePayload.fromObject(e.messages[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messages=[]),e.messages&&e.messages.length){n.messages=[];for(var s=0;s<e.messages.length;++s)n.messages[s]=a.SdkDataMessagePayload.toObject(e.messages[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkDataMessagePayload=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkDataMessagePayload"),o.prototype.topic="",o.prototype.data=m.newBuffer([]),o.prototype.lifetimeMs=0,o.prototype.senderAttendeeId="",o.prototype.ingestTimeNs=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.senderExternalUserId="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),e.lifetimeMs!=null&&Object.hasOwnProperty.call(e,"lifetimeMs")&&t.uint32(24).uint32(e.lifetimeMs),e.senderAttendeeId!=null&&Object.hasOwnProperty.call(e,"senderAttendeeId")&&t.uint32(34).string(e.senderAttendeeId),e.ingestTimeNs!=null&&Object.hasOwnProperty.call(e,"ingestTimeNs")&&t.uint32(40).int64(e.ingestTimeNs),e.senderExternalUserId!=null&&Object.hasOwnProperty.call(e,"senderExternalUserId")&&t.uint32(50).string(e.senderExternalUserId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkDataMessagePayload;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.topic=e.string();break;case 2:s.data=e.bytes();break;case 3:s.lifetimeMs=e.uint32();break;case 4:s.senderAttendeeId=e.string();break;case 5:s.ingestTimeNs=e.int64();break;case 6:s.senderExternalUserId=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.topic!=null&&e.hasOwnProperty("topic")&&!m.isString(e.topic)?"topic: string expected":e.data!=null&&e.hasOwnProperty("data")&&!(e.data&&typeof e.data.length=="number"||m.isString(e.data))?"data: buffer expected":e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&!m.isInteger(e.lifetimeMs)?"lifetimeMs: integer expected":e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&!m.isString(e.senderAttendeeId)?"senderAttendeeId: string expected":e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&!m.isInteger(e.ingestTimeNs)&&!(e.ingestTimeNs&&m.isInteger(e.ingestTimeNs.low)&&m.isInteger(e.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&!m.isString(e.senderExternalUserId)?"senderExternalUserId: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkDataMessagePayload)return e;var t=new a.SdkDataMessagePayload;return e.topic!=null&&(t.topic=String(e.topic)),e.data!=null&&(typeof e.data=="string"?m.base64.decode(e.data,t.data=m.newBuffer(m.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.lifetimeMs!=null&&(t.lifetimeMs=e.lifetimeMs>>>0),e.senderAttendeeId!=null&&(t.senderAttendeeId=String(e.senderAttendeeId)),e.ingestTimeNs!=null&&(m.Long?(t.ingestTimeNs=m.Long.fromValue(e.ingestTimeNs)).unsigned=!1:typeof e.ingestTimeNs=="string"?t.ingestTimeNs=parseInt(e.ingestTimeNs,10):typeof e.ingestTimeNs=="number"?t.ingestTimeNs=e.ingestTimeNs:typeof e.ingestTimeNs=="object"&&(t.ingestTimeNs=new m.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber())),e.senderExternalUserId!=null&&(t.senderExternalUserId=String(e.senderExternalUserId)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.topic="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=m.newBuffer(n.data))),n.lifetimeMs=0,n.senderAttendeeId="",m.Long){var s=new m.Long(0,0,!1);n.ingestTimeNs=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.ingestTimeNs=t.longs===String?"0":0;n.senderExternalUserId=""}return e.topic!=null&&e.hasOwnProperty("topic")&&(n.topic=e.topic),e.data!=null&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?m.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.lifetimeMs!=null&&e.hasOwnProperty("lifetimeMs")&&(n.lifetimeMs=e.lifetimeMs),e.senderAttendeeId!=null&&e.hasOwnProperty("senderAttendeeId")&&(n.senderAttendeeId=e.senderAttendeeId),e.ingestTimeNs!=null&&e.hasOwnProperty("ingestTimeNs")&&(typeof e.ingestTimeNs=="number"?n.ingestTimeNs=t.longs===String?String(e.ingestTimeNs):e.ingestTimeNs:n.ingestTimeNs=t.longs===String?m.Long.prototype.toString.call(e.ingestTimeNs):t.longs===Number?new m.LongBits(e.ingestTimeNs.low>>>0,e.ingestTimeNs.high>>>0).toNumber():e.ingestTimeNs),e.senderExternalUserId!=null&&e.hasOwnProperty("senderExternalUserId")&&(n.senderExternalUserId=e.senderExternalUserId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTurnCredentials=function(){function o(i){if(this.uris=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTurnCredentials"),o.prototype.username="",o.prototype.password="",o.prototype.ttl=0,o.prototype.uris=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.username!=null&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),e.password!=null&&Object.hasOwnProperty.call(e,"password")&&t.uint32(18).string(e.password),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint32(e.ttl),e.uris!=null&&e.uris.length)for(var n=0;n<e.uris.length;++n)t.uint32(34).string(e.uris[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTurnCredentials;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.username=e.string();break;case 2:s.password=e.string();break;case 3:s.ttl=e.uint32();break;case 4:s.uris&&s.uris.length||(s.uris=[]),s.uris.push(e.string());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.username!=null&&e.hasOwnProperty("username")&&!m.isString(e.username))return"username: string expected";if(e.password!=null&&e.hasOwnProperty("password")&&!m.isString(e.password))return"password: string expected";if(e.ttl!=null&&e.hasOwnProperty("ttl")&&!m.isInteger(e.ttl))return"ttl: integer expected";if(e.uris!=null&&e.hasOwnProperty("uris")){if(!Array.isArray(e.uris))return"uris: array expected";for(var t=0;t<e.uris.length;++t)if(!m.isString(e.uris[t]))return"uris: string[] expected"}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTurnCredentials)return e;var t=new a.SdkTurnCredentials;if(e.username!=null&&(t.username=String(e.username)),e.password!=null&&(t.password=String(e.password)),e.ttl!=null&&(t.ttl=e.ttl>>>0),e.uris){if(!Array.isArray(e.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");t.uris=[];for(var n=0;n<e.uris.length;++n)t.uris[n]=String(e.uris[n])}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.uris=[]),t.defaults&&(n.username="",n.password="",n.ttl=0),e.username!=null&&e.hasOwnProperty("username")&&(n.username=e.username),e.password!=null&&e.hasOwnProperty("password")&&(n.password=e.password),e.ttl!=null&&e.hasOwnProperty("ttl")&&(n.ttl=e.ttl),e.uris&&e.uris.length){n.uris=[];for(var s=0;s<e.uris.length;++s)n.uris[s]=e.uris[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptItem=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptItem"),o.prototype.content="",o.prototype.endTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.speakerAttendeeId="",o.prototype.speakerExternalUserId="",o.prototype.startTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.type=1,o.prototype.vocabularyFilterMatch=!1,o.prototype.confidence=0,o.prototype.stable=!1,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(10).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),e.speakerAttendeeId!=null&&Object.hasOwnProperty.call(e,"speakerAttendeeId")&&t.uint32(26).string(e.speakerAttendeeId),e.speakerExternalUserId!=null&&Object.hasOwnProperty.call(e,"speakerExternalUserId")&&t.uint32(34).string(e.speakerExternalUserId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(48).int32(e.type),e.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(e,"vocabularyFilterMatch")&&t.uint32(56).bool(e.vocabularyFilterMatch),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(65).double(e.confidence),e.stable!=null&&Object.hasOwnProperty.call(e,"stable")&&t.uint32(72).bool(e.stable),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptItem;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.content=e.string();break;case 2:s.endTime=e.int64();break;case 3:s.speakerAttendeeId=e.string();break;case 4:s.speakerExternalUserId=e.string();break;case 5:s.startTime=e.int64();break;case 6:s.type=e.int32();break;case 7:s.vocabularyFilterMatch=e.bool();break;case 8:s.confidence=e.double();break;case 9:s.stable=e.bool();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.content!=null&&e.hasOwnProperty("content")&&!m.isString(e.content))return"content: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!m.isInteger(e.endTime)&&!(e.endTime&&m.isInteger(e.endTime.low)&&m.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&!m.isString(e.speakerAttendeeId))return"speakerAttendeeId: string expected";if(e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&!m.isString(e.speakerExternalUserId))return"speakerExternalUserId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!m.isInteger(e.startTime)&&!(e.startTime&&m.isInteger(e.startTime.low)&&m.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:break}return e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&typeof e.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.stable!=null&&e.hasOwnProperty("stable")&&typeof e.stable!="boolean"?"stable: boolean expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptItem)return e;var t=new a.SdkTranscriptItem;switch(e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(m.Long?(t.endTime=m.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.speakerAttendeeId!=null&&(t.speakerAttendeeId=String(e.speakerAttendeeId)),e.speakerExternalUserId!=null&&(t.speakerExternalUserId=String(e.speakerExternalUserId)),e.startTime!=null&&(m.Long?(t.startTime=m.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type){case"PRONUNCIATION":case 1:t.type=1;break;case"PUNCTUATION":case 2:t.type=2;break}return e.vocabularyFilterMatch!=null&&(t.vocabularyFilterMatch=Boolean(e.vocabularyFilterMatch)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.stable!=null&&(t.stable=Boolean(e.stable)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.content="",m.Long){var s=new m.Long(0,0,!1);n.endTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.endTime=t.longs===String?"0":0;if(n.speakerAttendeeId="",n.speakerExternalUserId="",m.Long){var s=new m.Long(0,0,!1);n.startTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.startTime=t.longs===String?"0":0;n.type=t.enums===String?"PRONUNCIATION":1,n.vocabularyFilterMatch=!1,n.confidence=0,n.stable=!1}return e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?m.Long.prototype.toString.call(e.endTime):t.longs===Number?new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.speakerAttendeeId!=null&&e.hasOwnProperty("speakerAttendeeId")&&(n.speakerAttendeeId=e.speakerAttendeeId),e.speakerExternalUserId!=null&&e.hasOwnProperty("speakerExternalUserId")&&(n.speakerExternalUserId=e.speakerExternalUserId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?m.Long.prototype.toString.call(e.startTime):t.longs===Number?new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptItem.Type[e.type]:e.type),e.vocabularyFilterMatch!=null&&e.hasOwnProperty("vocabularyFilterMatch")&&(n.vocabularyFilterMatch=e.vocabularyFilterMatch),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.stable!=null&&e.hasOwnProperty("stable")&&(n.stable=e.stable),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="PRONUNCIATION"]=1,e[i[2]="PUNCTUATION"]=2,e}(),o}(),a.SdkTranscriptEntity=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptEntity"),o.prototype.category="",o.prototype.confidence=0,o.prototype.content="",o.prototype.endTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.startTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.type="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.category!=null&&Object.hasOwnProperty.call(e,"category")&&t.uint32(10).string(e.category),e.confidence!=null&&Object.hasOwnProperty.call(e,"confidence")&&t.uint32(17).double(e.confidence),e.content!=null&&Object.hasOwnProperty.call(e,"content")&&t.uint32(26).string(e.content),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(32).int64(e.endTime),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(40).int64(e.startTime),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(50).string(e.type),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptEntity;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.category=e.string();break;case 2:s.confidence=e.double();break;case 3:s.content=e.string();break;case 4:s.endTime=e.int64();break;case 5:s.startTime=e.int64();break;case 6:s.type=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.category!=null&&e.hasOwnProperty("category")&&!m.isString(e.category)?"category: string expected":e.confidence!=null&&e.hasOwnProperty("confidence")&&typeof e.confidence!="number"?"confidence: number expected":e.content!=null&&e.hasOwnProperty("content")&&!m.isString(e.content)?"content: string expected":e.endTime!=null&&e.hasOwnProperty("endTime")&&!m.isInteger(e.endTime)&&!(e.endTime&&m.isInteger(e.endTime.low)&&m.isInteger(e.endTime.high))?"endTime: integer|Long expected":e.startTime!=null&&e.hasOwnProperty("startTime")&&!m.isInteger(e.startTime)&&!(e.startTime&&m.isInteger(e.startTime.low)&&m.isInteger(e.startTime.high))?"startTime: integer|Long expected":e.type!=null&&e.hasOwnProperty("type")&&!m.isString(e.type)?"type: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptEntity)return e;var t=new a.SdkTranscriptEntity;return e.category!=null&&(t.category=String(e.category)),e.confidence!=null&&(t.confidence=Number(e.confidence)),e.content!=null&&(t.content=String(e.content)),e.endTime!=null&&(m.Long?(t.endTime=m.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.startTime!=null&&(m.Long?(t.startTime=m.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.type!=null&&(t.type=String(e.type)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.category="",n.confidence=0,n.content="",m.Long){var s=new m.Long(0,0,!1);n.endTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.endTime=t.longs===String?"0":0;if(m.Long){var s=new m.Long(0,0,!1);n.startTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.startTime=t.longs===String?"0":0;n.type=""}return e.category!=null&&e.hasOwnProperty("category")&&(n.category=e.category),e.confidence!=null&&e.hasOwnProperty("confidence")&&(n.confidence=t.json&&!isFinite(e.confidence)?String(e.confidence):e.confidence),e.content!=null&&e.hasOwnProperty("content")&&(n.content=e.content),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?m.Long.prototype.toString.call(e.endTime):t.longs===Number?new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?m.Long.prototype.toString.call(e.startTime):t.longs===Number?new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.type!=null&&e.hasOwnProperty("type")&&(n.type=e.type),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptAlternative=function(){function o(i){if(this.items=[],this.entities=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptAlternative"),o.prototype.items=m.emptyArray,o.prototype.transcript="",o.prototype.entities=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.items!=null&&e.items.length)for(var n=0;n<e.items.length;++n)a.SdkTranscriptItem.encode(e.items[n],t.uint32(10).fork()).ldelim();if(e.transcript!=null&&Object.hasOwnProperty.call(e,"transcript")&&t.uint32(18).string(e.transcript),e.entities!=null&&e.entities.length)for(var n=0;n<e.entities.length;++n)a.SdkTranscriptEntity.encode(e.entities[n],t.uint32(26).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptAlternative;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.items&&s.items.length||(s.items=[]),s.items.push(a.SdkTranscriptItem.decode(e,e.uint32()));break;case 2:s.transcript=e.string();break;case 3:s.entities&&s.entities.length||(s.entities=[]),s.entities.push(a.SdkTranscriptEntity.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.items!=null&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=a.SdkTranscriptItem.verify(e.items[t]);if(n)return"items."+n}}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&!m.isString(e.transcript))return"transcript: string expected";if(e.entities!=null&&e.hasOwnProperty("entities")){if(!Array.isArray(e.entities))return"entities: array expected";for(var t=0;t<e.entities.length;++t){var n=a.SdkTranscriptEntity.verify(e.entities[t]);if(n)return"entities."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptAlternative)return e;var t=new a.SdkTranscriptAlternative;if(e.items){if(!Array.isArray(e.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if(typeof e.items[n]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");t.items[n]=a.SdkTranscriptItem.fromObject(e.items[n])}}if(e.transcript!=null&&(t.transcript=String(e.transcript)),e.entities){if(!Array.isArray(e.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");t.entities=[];for(var n=0;n<e.entities.length;++n){if(typeof e.entities[n]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");t.entities[n]=a.SdkTranscriptEntity.fromObject(e.entities[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[],n.entities=[]),t.defaults&&(n.transcript=""),e.items&&e.items.length){n.items=[];for(var s=0;s<e.items.length;++s)n.items[s]=a.SdkTranscriptItem.toObject(e.items[s],t)}if(e.transcript!=null&&e.hasOwnProperty("transcript")&&(n.transcript=e.transcript),e.entities&&e.entities.length){n.entities=[];for(var s=0;s<e.entities.length;++s)n.entities[s]=a.SdkTranscriptEntity.toObject(e.entities[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptLanguageWithScore=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptLanguageWithScore"),o.prototype.languageCode="",o.prototype.score=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(10).string(e.languageCode),e.score!=null&&Object.hasOwnProperty.call(e,"score")&&t.uint32(17).double(e.score),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptLanguageWithScore;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.languageCode=e.string();break;case 2:s.score=e.double();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!m.isString(e.languageCode)?"languageCode: string expected":e.score!=null&&e.hasOwnProperty("score")&&typeof e.score!="number"?"score: number expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptLanguageWithScore)return e;var t=new a.SdkTranscriptLanguageWithScore;return e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.score!=null&&(t.score=Number(e.score)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.languageCode="",n.score=0),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.score!=null&&e.hasOwnProperty("score")&&(n.score=t.json&&!isFinite(e.score)?String(e.score):e.score),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptResult=function(){function o(i){if(this.alternatives=[],this.languageIdentification=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptResult"),o.prototype.alternatives=m.emptyArray,o.prototype.channelId="",o.prototype.endTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.isPartial=!1,o.prototype.resultId="",o.prototype.startTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.languageCode="",o.prototype.languageIdentification=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.alternatives!=null&&e.alternatives.length)for(var n=0;n<e.alternatives.length;++n)a.SdkTranscriptAlternative.encode(e.alternatives[n],t.uint32(10).fork()).ldelim();if(e.channelId!=null&&Object.hasOwnProperty.call(e,"channelId")&&t.uint32(18).string(e.channelId),e.endTime!=null&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(24).int64(e.endTime),e.isPartial!=null&&Object.hasOwnProperty.call(e,"isPartial")&&t.uint32(32).bool(e.isPartial),e.resultId!=null&&Object.hasOwnProperty.call(e,"resultId")&&t.uint32(42).string(e.resultId),e.startTime!=null&&Object.hasOwnProperty.call(e,"startTime")&&t.uint32(48).int64(e.startTime),e.languageCode!=null&&Object.hasOwnProperty.call(e,"languageCode")&&t.uint32(58).string(e.languageCode),e.languageIdentification!=null&&e.languageIdentification.length)for(var n=0;n<e.languageIdentification.length;++n)a.SdkTranscriptLanguageWithScore.encode(e.languageIdentification[n],t.uint32(66).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptResult;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.alternatives&&s.alternatives.length||(s.alternatives=[]),s.alternatives.push(a.SdkTranscriptAlternative.decode(e,e.uint32()));break;case 2:s.channelId=e.string();break;case 3:s.endTime=e.int64();break;case 4:s.isPartial=e.bool();break;case 5:s.resultId=e.string();break;case 6:s.startTime=e.int64();break;case 7:s.languageCode=e.string();break;case 8:s.languageIdentification&&s.languageIdentification.length||(s.languageIdentification=[]),s.languageIdentification.push(a.SdkTranscriptLanguageWithScore.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.alternatives!=null&&e.hasOwnProperty("alternatives")){if(!Array.isArray(e.alternatives))return"alternatives: array expected";for(var t=0;t<e.alternatives.length;++t){var n=a.SdkTranscriptAlternative.verify(e.alternatives[t]);if(n)return"alternatives."+n}}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&!m.isString(e.channelId))return"channelId: string expected";if(e.endTime!=null&&e.hasOwnProperty("endTime")&&!m.isInteger(e.endTime)&&!(e.endTime&&m.isInteger(e.endTime.low)&&m.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(e.isPartial!=null&&e.hasOwnProperty("isPartial")&&typeof e.isPartial!="boolean")return"isPartial: boolean expected";if(e.resultId!=null&&e.hasOwnProperty("resultId")&&!m.isString(e.resultId))return"resultId: string expected";if(e.startTime!=null&&e.hasOwnProperty("startTime")&&!m.isInteger(e.startTime)&&!(e.startTime&&m.isInteger(e.startTime.low)&&m.isInteger(e.startTime.high)))return"startTime: integer|Long expected";if(e.languageCode!=null&&e.hasOwnProperty("languageCode")&&!m.isString(e.languageCode))return"languageCode: string expected";if(e.languageIdentification!=null&&e.hasOwnProperty("languageIdentification")){if(!Array.isArray(e.languageIdentification))return"languageIdentification: array expected";for(var t=0;t<e.languageIdentification.length;++t){var n=a.SdkTranscriptLanguageWithScore.verify(e.languageIdentification[t]);if(n)return"languageIdentification."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptResult)return e;var t=new a.SdkTranscriptResult;if(e.alternatives){if(!Array.isArray(e.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");t.alternatives=[];for(var n=0;n<e.alternatives.length;++n){if(typeof e.alternatives[n]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");t.alternatives[n]=a.SdkTranscriptAlternative.fromObject(e.alternatives[n])}}if(e.channelId!=null&&(t.channelId=String(e.channelId)),e.endTime!=null&&(m.Long?(t.endTime=m.Long.fromValue(e.endTime)).unsigned=!1:typeof e.endTime=="string"?t.endTime=parseInt(e.endTime,10):typeof e.endTime=="number"?t.endTime=e.endTime:typeof e.endTime=="object"&&(t.endTime=new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.isPartial!=null&&(t.isPartial=Boolean(e.isPartial)),e.resultId!=null&&(t.resultId=String(e.resultId)),e.startTime!=null&&(m.Long?(t.startTime=m.Long.fromValue(e.startTime)).unsigned=!1:typeof e.startTime=="string"?t.startTime=parseInt(e.startTime,10):typeof e.startTime=="number"?t.startTime=e.startTime:typeof e.startTime=="object"&&(t.startTime=new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),e.languageCode!=null&&(t.languageCode=String(e.languageCode)),e.languageIdentification){if(!Array.isArray(e.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");t.languageIdentification=[];for(var n=0;n<e.languageIdentification.length;++n){if(typeof e.languageIdentification[n]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");t.languageIdentification[n]=a.SdkTranscriptLanguageWithScore.fromObject(e.languageIdentification[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alternatives=[],n.languageIdentification=[]),t.defaults){if(n.channelId="",m.Long){var s=new m.Long(0,0,!1);n.endTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.endTime=t.longs===String?"0":0;if(n.isPartial=!1,n.resultId="",m.Long){var s=new m.Long(0,0,!1);n.startTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.startTime=t.longs===String?"0":0;n.languageCode=""}if(e.alternatives&&e.alternatives.length){n.alternatives=[];for(var p=0;p<e.alternatives.length;++p)n.alternatives[p]=a.SdkTranscriptAlternative.toObject(e.alternatives[p],t)}if(e.channelId!=null&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),e.endTime!=null&&e.hasOwnProperty("endTime")&&(typeof e.endTime=="number"?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?m.Long.prototype.toString.call(e.endTime):t.longs===Number?new m.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.isPartial!=null&&e.hasOwnProperty("isPartial")&&(n.isPartial=e.isPartial),e.resultId!=null&&e.hasOwnProperty("resultId")&&(n.resultId=e.resultId),e.startTime!=null&&e.hasOwnProperty("startTime")&&(typeof e.startTime=="number"?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?m.Long.prototype.toString.call(e.startTime):t.longs===Number?new m.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),e.languageCode!=null&&e.hasOwnProperty("languageCode")&&(n.languageCode=e.languageCode),e.languageIdentification&&e.languageIdentification.length){n.languageIdentification=[];for(var p=0;p<e.languageIdentification.length;++p)n.languageIdentification[p]=a.SdkTranscriptLanguageWithScore.toObject(e.languageIdentification[p],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscript=function(){function o(i){if(this.results=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscript"),o.prototype.results=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.results!=null&&e.results.length)for(var n=0;n<e.results.length;++n)a.SdkTranscriptResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscript;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.results&&s.results.length||(s.results=[]),s.results.push(a.SdkTranscriptResult.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.results!=null&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=a.SdkTranscriptResult.verify(e.results[t]);if(n)return"results."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscript)return e;var t=new a.SdkTranscript;if(e.results){if(!Array.isArray(e.results))throw TypeError(".SdkTranscript.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if(typeof e.results[n]!="object")throw TypeError(".SdkTranscript.results: object expected");t.results[n]=a.SdkTranscriptResult.fromObject(e.results[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var s=0;s<e.results.length;++s)n.results[s]=a.SdkTranscriptResult.toObject(e.results[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptionStatus=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptionStatus"),o.prototype.type=1,o.prototype.eventTime=m.Long?m.Long.fromBits(0,0,!1):0,o.prototype.transcriptionRegion="",o.prototype.transcriptionConfiguration="",o.prototype.message="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),e.eventTime!=null&&Object.hasOwnProperty.call(e,"eventTime")&&t.uint32(16).int64(e.eventTime),e.transcriptionRegion!=null&&Object.hasOwnProperty.call(e,"transcriptionRegion")&&t.uint32(26).string(e.transcriptionRegion),e.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(e,"transcriptionConfiguration")&&t.uint32(34).string(e.transcriptionConfiguration),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptionStatus;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.type=e.int32();break;case 2:s.eventTime=e.int64();break;case 3:s.transcriptionRegion=e.string();break;case 4:s.transcriptionConfiguration=e.string();break;case 5:s.message=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return e.eventTime!=null&&e.hasOwnProperty("eventTime")&&!m.isInteger(e.eventTime)&&!(e.eventTime&&m.isInteger(e.eventTime.low)&&m.isInteger(e.eventTime.high))?"eventTime: integer|Long expected":e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&!m.isString(e.transcriptionRegion)?"transcriptionRegion: string expected":e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&!m.isString(e.transcriptionConfiguration)?"transcriptionConfiguration: string expected":e.message!=null&&e.hasOwnProperty("message")&&!m.isString(e.message)?"message: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptionStatus)return e;var t=new a.SdkTranscriptionStatus;switch(e.type){case"STARTED":case 1:t.type=1;break;case"INTERRUPTED":case 2:t.type=2;break;case"RESUMED":case 3:t.type=3;break;case"STOPPED":case 4:t.type=4;break;case"FAILED":case 5:t.type=5;break}return e.eventTime!=null&&(m.Long?(t.eventTime=m.Long.fromValue(e.eventTime)).unsigned=!1:typeof e.eventTime=="string"?t.eventTime=parseInt(e.eventTime,10):typeof e.eventTime=="number"?t.eventTime=e.eventTime:typeof e.eventTime=="object"&&(t.eventTime=new m.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber())),e.transcriptionRegion!=null&&(t.transcriptionRegion=String(e.transcriptionRegion)),e.transcriptionConfiguration!=null&&(t.transcriptionConfiguration=String(e.transcriptionConfiguration)),e.message!=null&&(t.message=String(e.message)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=t.enums===String?"STARTED":1,m.Long){var s=new m.Long(0,0,!1);n.eventTime=t.longs===String?s.toString():t.longs===Number?s.toNumber():s}else n.eventTime=t.longs===String?"0":0;n.transcriptionRegion="",n.transcriptionConfiguration="",n.message=""}return e.type!=null&&e.hasOwnProperty("type")&&(n.type=t.enums===String?a.SdkTranscriptionStatus.Type[e.type]:e.type),e.eventTime!=null&&e.hasOwnProperty("eventTime")&&(typeof e.eventTime=="number"?n.eventTime=t.longs===String?String(e.eventTime):e.eventTime:n.eventTime=t.longs===String?m.Long.prototype.toString.call(e.eventTime):t.longs===Number?new m.LongBits(e.eventTime.low>>>0,e.eventTime.high>>>0).toNumber():e.eventTime),e.transcriptionRegion!=null&&e.hasOwnProperty("transcriptionRegion")&&(n.transcriptionRegion=e.transcriptionRegion),e.transcriptionConfiguration!=null&&e.hasOwnProperty("transcriptionConfiguration")&&(n.transcriptionConfiguration=e.transcriptionConfiguration),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.Type=function(){var i={},e=Object.create(i);return e[i[1]="STARTED"]=1,e[i[2]="INTERRUPTED"]=2,e[i[3]="RESUMED"]=3,e[i[4]="STOPPED"]=4,e[i[5]="FAILED"]=5,e}(),o}(),a.SdkTranscriptEvent=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}r(o,"SdkTranscriptEvent"),o.prototype.status=null,o.prototype.transcript=null;var i;return Object.defineProperty(o.prototype,"Event",{get:m.oneOfGetter(i=["status","transcript"]),set:m.oneOfSetter(i)}),o.create=r(function(t){return new o(t)},"create"),o.encode=r(function(t,n){return n||(n=h.create()),t.status!=null&&Object.hasOwnProperty.call(t,"status")&&a.SdkTranscriptionStatus.encode(t.status,n.uint32(10).fork()).ldelim(),t.transcript!=null&&Object.hasOwnProperty.call(t,"transcript")&&a.SdkTranscript.encode(t.transcript,n.uint32(18).fork()).ldelim(),n},"encode"),o.encodeDelimited=r(function(t,n){return this.encode(t,n).ldelim()},"encodeDelimited"),o.decode=r(function(t,n){t instanceof f||(t=f.create(t));for(var s=n===void 0?t.len:t.pos+n,p=new a.SdkTranscriptEvent;t.pos<s;){var g=t.uint32();switch(g>>>3){case 1:p.status=a.SdkTranscriptionStatus.decode(t,t.uint32());break;case 2:p.transcript=a.SdkTranscript.decode(t,t.uint32());break;default:t.skipType(g&7);break}}return p},"decode"),o.decodeDelimited=r(function(t){return t instanceof f||(t=new f(t)),this.decode(t,t.uint32())},"decodeDelimited"),o.verify=r(function(t){if(typeof t!="object"||t===null)return"object expected";var n={};if(t.status!=null&&t.hasOwnProperty("status")){n.Event=1;{var s=a.SdkTranscriptionStatus.verify(t.status);if(s)return"status."+s}}if(t.transcript!=null&&t.hasOwnProperty("transcript")){if(n.Event===1)return"Event: multiple values";n.Event=1;{var s=a.SdkTranscript.verify(t.transcript);if(s)return"transcript."+s}}return null},"verify"),o.fromObject=r(function(t){if(t instanceof a.SdkTranscriptEvent)return t;var n=new a.SdkTranscriptEvent;if(t.status!=null){if(typeof t.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");n.status=a.SdkTranscriptionStatus.fromObject(t.status)}if(t.transcript!=null){if(typeof t.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");n.transcript=a.SdkTranscript.fromObject(t.transcript)}return n},"fromObject"),o.toObject=r(function(t,n){n||(n={});var s={};return t.status!=null&&t.hasOwnProperty("status")&&(s.status=a.SdkTranscriptionStatus.toObject(t.status,n),n.oneofs&&(s.Event="status")),t.transcript!=null&&t.hasOwnProperty("transcript")&&(s.transcript=a.SdkTranscript.toObject(t.transcript,n),n.oneofs&&(s.Event="transcript")),s},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkTranscriptFrame=function(){function o(i){if(this.events=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkTranscriptFrame"),o.prototype.events=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.events!=null&&e.events.length)for(var n=0;n<e.events.length;++n)a.SdkTranscriptEvent.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkTranscriptFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.events&&s.events.length||(s.events=[]),s.events.push(a.SdkTranscriptEvent.decode(e,e.uint32()));break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.events!=null&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=a.SdkTranscriptEvent.verify(e.events[t]);if(n)return"events."+n}}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkTranscriptFrame)return e;var t=new a.SdkTranscriptFrame;if(e.events){if(!Array.isArray(e.events))throw TypeError(".SdkTranscriptFrame.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if(typeof e.events[n]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");t.events[n]=a.SdkTranscriptEvent.fromObject(e.events[n])}}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var s=0;s<e.events.length;++s)n.events[s]=a.SdkTranscriptEvent.toObject(e.events[s],t)}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkRemoteVideoUpdateFrame=function(){function o(i){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkRemoteVideoUpdateFrame"),o.prototype.addedOrUpdatedVideoSubscriptions=m.emptyArray,o.prototype.removedVideoSubscriptionMids=m.emptyArray,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){if(t||(t=h.create()),e.addedOrUpdatedVideoSubscriptions!=null&&e.addedOrUpdatedVideoSubscriptions.length)for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n)a.SdkVideoSubscriptionConfiguration.encode(e.addedOrUpdatedVideoSubscriptions[n],t.uint32(10).fork()).ldelim();if(e.removedVideoSubscriptionMids!=null&&e.removedVideoSubscriptionMids.length)for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.uint32(18).string(e.removedVideoSubscriptionMids[n]);return t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkRemoteVideoUpdateFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.addedOrUpdatedVideoSubscriptions&&s.addedOrUpdatedVideoSubscriptions.length||(s.addedOrUpdatedVideoSubscriptions=[]),s.addedOrUpdatedVideoSubscriptions.push(a.SdkVideoSubscriptionConfiguration.decode(e,e.uint32()));break;case 2:s.removedVideoSubscriptionMids&&s.removedVideoSubscriptionMids.length||(s.removedVideoSubscriptionMids=[]),s.removedVideoSubscriptionMids.push(e.string());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.addedOrUpdatedVideoSubscriptions!=null&&e.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var t=0;t<e.addedOrUpdatedVideoSubscriptions.length;++t){var n=a.SdkVideoSubscriptionConfiguration.verify(e.addedOrUpdatedVideoSubscriptions[t]);if(n)return"addedOrUpdatedVideoSubscriptions."+n}}if(e.removedVideoSubscriptionMids!=null&&e.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(e.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var t=0;t<e.removedVideoSubscriptionMids.length;++t)if(!m.isString(e.removedVideoSubscriptionMids[t]))return"removedVideoSubscriptionMids: string[] expected"}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkRemoteVideoUpdateFrame)return e;var t=new a.SdkRemoteVideoUpdateFrame;if(e.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(e.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");t.addedOrUpdatedVideoSubscriptions=[];for(var n=0;n<e.addedOrUpdatedVideoSubscriptions.length;++n){if(typeof e.addedOrUpdatedVideoSubscriptions[n]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");t.addedOrUpdatedVideoSubscriptions[n]=a.SdkVideoSubscriptionConfiguration.fromObject(e.addedOrUpdatedVideoSubscriptions[n])}}if(e.removedVideoSubscriptionMids){if(!Array.isArray(e.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");t.removedVideoSubscriptionMids=[];for(var n=0;n<e.removedVideoSubscriptionMids.length;++n)t.removedVideoSubscriptionMids[n]=String(e.removedVideoSubscriptionMids[n])}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addedOrUpdatedVideoSubscriptions=[],n.removedVideoSubscriptionMids=[]),e.addedOrUpdatedVideoSubscriptions&&e.addedOrUpdatedVideoSubscriptions.length){n.addedOrUpdatedVideoSubscriptions=[];for(var s=0;s<e.addedOrUpdatedVideoSubscriptions.length;++s)n.addedOrUpdatedVideoSubscriptions[s]=a.SdkVideoSubscriptionConfiguration.toObject(e.addedOrUpdatedVideoSubscriptions[s],t)}if(e.removedVideoSubscriptionMids&&e.removedVideoSubscriptionMids.length){n.removedVideoSubscriptionMids=[];for(var s=0;s<e.removedVideoSubscriptionMids.length;++s)n.removedVideoSubscriptionMids[s]=e.removedVideoSubscriptionMids[s]}return n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkVideoSubscriptionConfiguration=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkVideoSubscriptionConfiguration"),o.prototype.mid="",o.prototype.attendeeId="",o.prototype.streamId=0,o.prototype.priority=0,o.prototype.targetBitrateKbps=0,o.prototype.groupId=0,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t.uint32(10).string(e.mid),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(18).string(e.attendeeId),e.streamId!=null&&Object.hasOwnProperty.call(e,"streamId")&&t.uint32(24).uint32(e.streamId),e.priority!=null&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(32).uint32(e.priority),e.targetBitrateKbps!=null&&Object.hasOwnProperty.call(e,"targetBitrateKbps")&&t.uint32(40).uint32(e.targetBitrateKbps),e.groupId!=null&&Object.hasOwnProperty.call(e,"groupId")&&t.uint32(48).uint32(e.groupId),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkVideoSubscriptionConfiguration;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.mid=e.string();break;case 2:s.attendeeId=e.string();break;case 3:s.streamId=e.uint32();break;case 4:s.priority=e.uint32();break;case 5:s.targetBitrateKbps=e.uint32();break;case 6:s.groupId=e.uint32();break;default:e.skipType(p&7);break}}if(!s.hasOwnProperty("mid"))throw m.ProtocolError("missing required 'mid'",{instance:s});return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":m.isString(e.mid)?e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId)?"attendeeId: string expected":e.streamId!=null&&e.hasOwnProperty("streamId")&&!m.isInteger(e.streamId)?"streamId: integer expected":e.priority!=null&&e.hasOwnProperty("priority")&&!m.isInteger(e.priority)?"priority: integer expected":e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&!m.isInteger(e.targetBitrateKbps)?"targetBitrateKbps: integer expected":e.groupId!=null&&e.hasOwnProperty("groupId")&&!m.isInteger(e.groupId)?"groupId: integer expected":null:"mid: string expected"},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkVideoSubscriptionConfiguration)return e;var t=new a.SdkVideoSubscriptionConfiguration;return e.mid!=null&&(t.mid=String(e.mid)),e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.streamId!=null&&(t.streamId=e.streamId>>>0),e.priority!=null&&(t.priority=e.priority>>>0),e.targetBitrateKbps!=null&&(t.targetBitrateKbps=e.targetBitrateKbps>>>0),e.groupId!=null&&(t.groupId=e.groupId>>>0),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.mid="",n.attendeeId="",n.streamId=0,n.priority=0,n.targetBitrateKbps=0,n.groupId=0),e.mid!=null&&e.hasOwnProperty("mid")&&(n.mid=e.mid),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.streamId!=null&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.priority!=null&&e.hasOwnProperty("priority")&&(n.priority=e.priority),e.targetBitrateKbps!=null&&e.hasOwnProperty("targetBitrateKbps")&&(n.targetBitrateKbps=e.targetBitrateKbps),e.groupId!=null&&e.hasOwnProperty("groupId")&&(n.groupId=e.groupId),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkNotificationFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkNotificationFrame"),o.prototype.level=3,o.prototype.message="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.level!=null&&Object.hasOwnProperty.call(e,"level")&&t.uint32(8).int32(e.level),e.message!=null&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkNotificationFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.level=e.int32();break;case 2:s.message=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.level!=null&&e.hasOwnProperty("level"))switch(e.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return e.message!=null&&e.hasOwnProperty("message")&&!m.isString(e.message)?"message: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkNotificationFrame)return e;var t=new a.SdkNotificationFrame;switch(e.level){case"INFO":case 1:t.level=1;break;case"WARNING":case 2:t.level=2;break;case"ERROR":case 3:t.level=3;break}return e.message!=null&&(t.message=String(e.message)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.level=t.enums===String?"ERROR":3,n.message=""),e.level!=null&&e.hasOwnProperty("level")&&(n.level=t.enums===String?a.SdkNotificationFrame.NotificationLevel[e.level]:e.level),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o.NotificationLevel=function(){var i={},e=Object.create(i);return e[i[1]="INFO"]=1,e[i[2]="WARNING"]=2,e[i[3]="ERROR"]=3,e}(),o}(),a.SdkPrimaryMeetingJoinFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPrimaryMeetingJoinFrame"),o.prototype.credentials=null,o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.credentials!=null&&Object.hasOwnProperty.call(e,"credentials")&&a.SdkMeetingSessionCredentials.encode(e.credentials,t.uint32(10).fork()).ldelim(),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPrimaryMeetingJoinFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.credentials=a.SdkMeetingSessionCredentials.decode(e,e.uint32());break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){if(typeof e!="object"||e===null)return"object expected";if(e.credentials!=null&&e.hasOwnProperty("credentials")){var t=a.SdkMeetingSessionCredentials.verify(e.credentials);if(t)return"credentials."+t}return null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkPrimaryMeetingJoinFrame)return e;var t=new a.SdkPrimaryMeetingJoinFrame;if(e.credentials!=null){if(typeof e.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");t.credentials=a.SdkMeetingSessionCredentials.fromObject(e.credentials)}return t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.credentials=null),e.credentials!=null&&e.hasOwnProperty("credentials")&&(n.credentials=a.SdkMeetingSessionCredentials.toObject(e.credentials,t)),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPrimaryMeetingJoinAckFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPrimaryMeetingJoinAckFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPrimaryMeetingJoinAckFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkPrimaryMeetingJoinAckFrame?e:new a.SdkPrimaryMeetingJoinAckFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkPrimaryMeetingLeaveFrame=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkPrimaryMeetingLeaveFrame"),o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkPrimaryMeetingLeaveFrame;e.pos<n;){var p=e.uint32();switch(p>>>3){default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":null},"verify"),o.fromObject=r(function(e){return e instanceof a.SdkPrimaryMeetingLeaveFrame?e:new a.SdkPrimaryMeetingLeaveFrame},"fromObject"),o.toObject=r(function(){return{}},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkMeetingSessionCredentials=function(){function o(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)i[e[t]]!=null&&(this[e[t]]=i[e[t]])}return r(o,"SdkMeetingSessionCredentials"),o.prototype.attendeeId="",o.prototype.externalUserId="",o.prototype.joinToken="",o.create=r(function(e){return new o(e)},"create"),o.encode=r(function(e,t){return t||(t=h.create()),e.attendeeId!=null&&Object.hasOwnProperty.call(e,"attendeeId")&&t.uint32(10).string(e.attendeeId),e.externalUserId!=null&&Object.hasOwnProperty.call(e,"externalUserId")&&t.uint32(18).string(e.externalUserId),e.joinToken!=null&&Object.hasOwnProperty.call(e,"joinToken")&&t.uint32(26).string(e.joinToken),t},"encode"),o.encodeDelimited=r(function(e,t){return this.encode(e,t).ldelim()},"encodeDelimited"),o.decode=r(function(e,t){e instanceof f||(e=f.create(e));for(var n=t===void 0?e.len:e.pos+t,s=new a.SdkMeetingSessionCredentials;e.pos<n;){var p=e.uint32();switch(p>>>3){case 1:s.attendeeId=e.string();break;case 2:s.externalUserId=e.string();break;case 3:s.joinToken=e.string();break;default:e.skipType(p&7);break}}return s},"decode"),o.decodeDelimited=r(function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},"decodeDelimited"),o.verify=r(function(e){return typeof e!="object"||e===null?"object expected":e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&!m.isString(e.attendeeId)?"attendeeId: string expected":e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&!m.isString(e.externalUserId)?"externalUserId: string expected":e.joinToken!=null&&e.hasOwnProperty("joinToken")&&!m.isString(e.joinToken)?"joinToken: string expected":null},"verify"),o.fromObject=r(function(e){if(e instanceof a.SdkMeetingSessionCredentials)return e;var t=new a.SdkMeetingSessionCredentials;return e.attendeeId!=null&&(t.attendeeId=String(e.attendeeId)),e.externalUserId!=null&&(t.externalUserId=String(e.externalUserId)),e.joinToken!=null&&(t.joinToken=String(e.joinToken)),t},"fromObject"),o.toObject=r(function(e,t){t||(t={});var n={};return t.defaults&&(n.attendeeId="",n.externalUserId="",n.joinToken=""),e.attendeeId!=null&&e.hasOwnProperty("attendeeId")&&(n.attendeeId=e.attendeeId),e.externalUserId!=null&&e.hasOwnProperty("externalUserId")&&(n.externalUserId=e.externalUserId),e.joinToken!=null&&e.hasOwnProperty("joinToken")&&(n.joinToken=e.joinToken),n},"toObject"),o.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),o}(),a.SdkVideoCodecCapability=function(){var o={},i=Object.create(o);return i[o[1]="VP8"]=1,i[o[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,i}(),U.exports=a,m.Long=void 0,v.configure()},f3u9:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Wd{static fullbandSpeechMono(){return new Wd(4e4)}static fullbandMusicMono(){return new Wd(64e3)}static fullbandMusicStereo(){return new Wd(128e3)}isStereo(){return this.audioBitrateBps===128e3}constructor(h=null){this.audioBitrateBps=h}},"AudioProfile");c.default=v},fCza:function(U,c,d){"use strict";var v=c;v.build="minimal",v.Writer=d("wDi9"),v.BufferWriter=d("PwtQ"),v.Reader=d("LDIi"),v.BufferReader=d("QhKv"),v.util=d("j4TH"),v.rpc=d("gCnV"),v.roots=d("3E7f"),v.configure=f;function f(){v.util._configure(),v.Writer._configure(v.BufferWriter),v.Reader._configure(v.BufferReader)}r(f,"configure"),f()},fGw7:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("hEYi"));let h=r(class{isConnectionTerminated(){switch(this.type){case f.default.WebSocketFailed:case f.default.WebSocketError:case f.default.WebSocketClosing:case f.default.WebSocketClosed:return!0;default:return!1}}constructor(a,o,i,e,t){this.client=a,this.type=o,this.message=i,this.closeCode=e,this.closeReason=t,this.timestampMs=Date.now()}},"SignalingClientEvent");c.default=h},fUKC:function(U,c,d){d("ZY/g"),d("C5kU"),U.exports=d("sbOA")},fZkv:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("wXa7")),m=f(d("j+uH"));let a=r(class extends m.default{cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){return v(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let e=this.context.sdpAnswer;e=new h.default(e).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(e=new h.default(e).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(e=new h.default(e).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(e=new h.default(e).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp,this.context.currentVideoSendCodec=new h.default(e).highestPriorityVideoSendCodec()),this.logger.info(`processed remote description is >>>${e}<<<`);const t={type:"answer",sdp:e,toJSON:null};try{yield this.createICEConnectionCompletedPromise(t)}catch(n){throw n}})}createICEConnectionCompletedPromise(i){return new Promise((e,t)=>v(this,void 0,void 0,function*(){const n=r(()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",n),e())},"checkConnectionCompleted");this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",n),t(new Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",n);try{yield this.context.peer.setRemoteDescription(i),this.logger.info("set remote description, waiting for ICE connection"),n()}catch(s){t(s)}}))}constructor(i){super(i.logger),this.context=i,this.taskName="SetRemoteDescriptionTask"}},"SetRemoteDescriptionTask");c.default=a},fi20:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEventCondition=void 0;var v;(function(f){f[f.ConnectingNew=0]="ConnectingNew",f[f.ReconnectingExisting=1]="ReconnectingExisting",f[f.StartedNew=2]="StartedNew",f[f.StartedExisting=3]="StartedExisting",f[f.StartedAfterReconnect=4]="StartedAfterReconnect",f[f.StoppedCleanly=5]="StoppedCleanly",f[f.StoppedWithFailure=6]="StoppedWithFailure"})(v=c.MeetingSessionLifecycleEventCondition||(c.MeetingSessionLifecycleEventCondition={})),c.default=v},ftz4:function(U,c,d){"use strict";var v={},f=v,h=Object.prototype,m=h.hasOwnProperty;function a(i){for(var e=i.name+"",t=f[e],n=m.call(f,e)?t.length:0;n--;){var s=t[n],p=s.func;if(p==null||p==i)return s.name}return e}r(a,"getFuncName");var o=c.a=a},fxRI:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("ppUg")),m=d("XCDq"),a=f(d("j+uH"));let o=r(class extends a.default{run(){return v(this,void 0,void 0,function*(){const e=this.context.videoDuplexMode===m.SdkStreamServiceType.RX||this.context.videoDuplexMode===m.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=e?m.SdkStreamServiceType.DUPLEX:m.SdkStreamServiceType.TX:this.context.videoDuplexMode=e?m.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const t=this.context.videoTileController.getLocalVideoTile();let n;try{n=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const s=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(s.values()))}if(this.context.activeVideoInput=n,n){const s=n.getVideoTracks();if(!s||s.length===0)return;const p=this.context.meetingSessionConfiguration.credentials.attendeeId,g=new h.default(p).hasModality(h.default.MODALITY_CONTENT),S=s[0].getSettings();if(g){const l={width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}};this.context.logger.info(`Video track (content = ${g}) with constraint: ${JSON.stringify(l)}, trackSettings: ${JSON.stringify(S)}`);try{yield s[0].applyConstraints(l)}catch{this.context.logger.info("Could not apply constraint for video track (content = ${isContentAttendee})")}}if(this.context.enableSimulcast&&!g){const l=this.context.videoUplinkBandwidthPolicy.chooseMediaTrackConstraints();this.context.logger.info(`simulcast: choose constraint ${JSON.stringify(l)}`);try{yield s[0].applyConstraints(l)}catch{this.context.logger.info("simulcast: pass video without more constraint")}}const u=this.context.audioVideoController.configuration.credentials.externalUserId;t.bindVideoStream(p,!0,n,S.width,S.height,null,u);for(let l=0;l<s.length;l++){const E=s[l];this.logger.info(`using video device label=${E.label} id=${E.id}`),this.context.videoDeviceInformation.current_camera_name=E.label,this.context.videoDeviceInformation.current_camera_id=E.id}}})}constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}},"ReceiveVideoInputTask");c.default=o},"g+gC":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"Attendee");c.default=v},gCnV:function(U,c,d){"use strict";var v=c;v.Service=d("vhAZ")},gLI0:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BlurStrengthMapper=void 0;const v={LOW:7,MEDIUM:15,HIGH:30};let f=r(class{static getBlurAmount(m,a){if(m<=0)throw new Error(`invalid value for blur strength: ${m}`);return Math.round(m*a.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");c.BlurStrengthMapper=f,f.BLUR_STRENGTH_DIVISOR=540,c.default=v},gRli:function(U,c,d){d("aT0f"),d("3+Ww"),d("MBy0"),d("TnF5"),U.exports=d("VSTI").Symbol},gTDO:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("qvnc")),h=v(d("TYXu")),m=v(d("ZIUS"));let a=r(class{realtimeSetLocalAttendeeId(i,e){this.state.localAttendeeId=i,this.state.localExternalUserId=e}realtimeSetAttendeeIdPresence(i,e,t,n,s){try{e&&(this.state.attendeeIdToExternalUserId[i]=t);for(const p of this.state.attendeeIdChangesCallbacks)p(i,e,t,n,s)}catch(p){this.onError(p)}}realtimeSubscribeToAttendeeIdPresence(i){try{this.state.attendeeIdChangesCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(i){try{const e=this.state.attendeeIdChangesCallbacks.indexOf(i);e!==-1&&this.state.attendeeIdChangesCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(i){try{if(this.state.canUnmute===i)return;this.state.canUnmute=i;for(const e of this.state.setCanUnmuteLocalAudioCallbacks)e(i)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(i){try{this.state.setCanUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(i){try{const e=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!0)}catch(i){this.onError(i)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!1);return!0}catch(i){return this.onError(i),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(i){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(i){try{const e=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(i,e){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(i)||(this.state.volumeIndicatorCallbacks[i]=[]),this.state.volumeIndicatorCallbacks[i].push(e),this.sendVolumeIndicatorChange(i,!0,!0,!0,this.state.attendeeIdToExternalUserId[i])}catch(t){this.onError(t)}}realtimeUnsubscribeFromVolumeIndicator(i,e){if(this.state.volumeIndicatorCallbacks[i])if(e){const n=this.state.volumeIndicatorCallbacks[i].indexOf(e);n>=0&&this.state.volumeIndicatorCallbacks[i].splice(n,1)}else delete this.state.volumeIndicatorCallbacks[i]}realtimeUpdateVolumeIndicator(i,e,t,n,s){try{t=this.applyLocalMuteOverride(i,t);const p=this.getVolumeIndicatorState(i);let g=!1,S=!1,u=!1;t!==null&&p.muted!==t&&(p.muted=t,S=!0,p.muted&&p.volume!==0&&(p.volume=0,g=!0)),!p.muted&&e!==null&&(p.volume!==e&&(p.volume=e,g=!0),p.muted===null&&(p.muted=!1,S=!0)),n!==null&&p.signalStrength!==n&&(p.signalStrength=n,u=!0),this.sendVolumeIndicatorChange(i,g,S,u,s)}catch(p){this.onError(p)}}realtimeSubscribeToLocalSignalStrengthChange(i){try{if(this.state.localSignalStrengthChangeCallbacks.push(i),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(i){try{const e=this.state.localSignalStrengthChangeCallbacks.indexOf(i);e!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(i){try{this.state.sendDataMessageCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(i){try{const e=this.state.sendDataMessageCallbacks.indexOf(i);e!==-1&&this.state.sendDataMessageCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(i,e,t){try{for(const n of this.state.sendDataMessageCallbacks)n(i,e,t)}catch(n){this.onError(n)}}realtimeSubscribeToReceiveDataMessage(i,e){try{this.state.receiveDataMessageCallbacks.has(i)?this.state.receiveDataMessageCallbacks.get(i).push(e):this.state.receiveDataMessageCallbacks.set(i,[e])}catch(t){this.onError(t)}}realtimeUnsubscribeFromReceiveDataMessage(i){try{this.state.receiveDataMessageCallbacks.delete(i)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(i){try{if(this.state.receiveDataMessageCallbacks.has(i.topic))for(const e of this.state.receiveDataMessageCallbacks.get(i.topic))e(i)}catch(e){this.onError(e)}}realtimeSubscribeToFatalError(i){try{this.state.fatalErrorCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(i){try{const e=this.state.fatalErrorCallbacks.indexOf(i);e!==-1&&this.state.fatalErrorCallbacks.splice(e,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(i){i?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(i,e){const t=this.state.localAttendeeId,n=this.state.muted;return i!==t||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?e:n}sendVolumeIndicatorChange(i,e,t,n,s){if(this.sendLocalSignalStrengthChange(i,n),!this.state.volumeIndicatorCallbacks.hasOwnProperty(i))return;const p=this.getVolumeIndicatorState(i),g=new m.default;if(e&&(g.volume=p.volume),t&&(g.muted=p.muted),n&&(g.signalStrength=p.signalStrength),!this.stateIsEmpty(g))for(const S of this.state.volumeIndicatorCallbacks[i])S(i,g.volume,g.muted,g.signalStrength,s)}sendLocalSignalStrengthChange(i,e){if(!e||i!==this.state.localAttendeeId)return;const n=this.getVolumeIndicatorState(i).signalStrength;if(n!==null)for(const s of this.state.localSignalStrengthChangeCallbacks)s(n)}getVolumeIndicatorState(i){return this.state.volumeIndicatorState.hasOwnProperty(i)||(this.state.volumeIndicatorState[i]=new m.default),this.state.volumeIndicatorState[i]}stateIsEmpty(i){return i.volume===null&&i.muted===null&&i.signalStrength===null}onError(i){try{for(const e of this.state.fatalErrorCallbacks)e(i)}catch(e){try{console.error(i),console.error(e)}catch{}}}constructor(i,e){this.mediaStreamBroker=i,this.state=new h.default,this._transcriptionController=e||new f.default(this)}},"DefaultRealtimeController");c.default=a},ghxq:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(h){this.currentData=h}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const h=this.health();return h!==this.currentHealth?(this.currentHealth=h,h):null}constructor(h,m,a){this.minHealth=h.minHealth,this.maxHealth=h.maxHealth,this.currentHealth=h.initialHealth,this.currentData=m.clone(),this.name=a}},"BaseConnectionHealthPolicy");c.default=v},h3Hq:function(U,c,d){var v=d("zBWt")("iterator"),f=!1;try{var h=[7][v]();h.return=function(){f=!0},Array.from(h,function(){throw 2})}catch{}U.exports=function(m,a){if(!a&&!f)return!1;var o=!1;try{var i=[7],e=i[v]();e.next=function(){return{done:o=!0}},i[v]=function(){return e},m(i)}catch{}return o}},h4LR:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.STARTED="started",f.INTERRUPTED="interrupted",f.RESUMED="resumed",f.STOPPED="stopped",f.FAILED="failed"})(v||(v={})),c.default=v},h4op:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("uctb"));let h=r(class{info(a){for(const o of this._loggers)o.info(a)}warn(a){for(const o of this._loggers)o.warn(a)}error(a){for(const o of this._loggers)o.error(a)}debug(a){let o,i;typeof a=="string"?i=a:a?i=r(()=>(o||(o=a()),o),"memoized"):i=""+a;for(const e of this._loggers)e.debug(i)}setLogLevel(a){for(const o of this._loggers)o.setLogLevel(a)}getLogLevel(){for(const a of this._loggers)return a.getLogLevel();return f.default.OFF}constructor(...a){this._loggers=a}},"MultiLogger");c.default=h},h96U:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("w1x/"));let h=r(class Ic{partialCompare(a){return this.priority-a.priority}equals(a){return this.attendeeId===a.attendeeId&&this.targetSize===a.targetSize&&this.priority===a.priority}clone(){return new Ic(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(a){switch(a){case f.default.Maximum:return Ic.MAXIMUM_BITRATE_KBPS;case f.default.High:return Ic.HIGH_BITRATE_KBPS;case f.default.Medium:return Ic.MID_BITRATE_KBPS;case f.default.Low:return Ic.LOW_BITRATE_KBPS}}constructor(a,o,i){this.attendeeId=a,this.priority=o,this.targetSize=i!==void 0?i:f.default.High}},"VideoPreference");c.default=h,h.LOW_BITRATE_KBPS=300,h.MID_BITRATE_KBPS=600,h.HIGH_BITRATE_KBPS=1400,h.MAXIMUM_BITRATE_KBPS=1e4},hAj8:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{getAuthenticationToken(){return this.authenticationToken}toJSON(){const h={};return h.type=this.type,h.v=this.v,h.meetingId=this.meetingId,h.attendeeId=this.attendeeId,h}constructor(h,m,a,o=[]){this.type="Meet",this.v=1,this.meetingId=h,this.attendeeId=m,this.eventsToIgnore=o,this.authenticationToken=a}},"MeetingEventsClientConfiguration");c.default=v},hEYi:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SignalingClientEventType=void 0;var v;(function(f){f[f.WebSocketConnecting=0]="WebSocketConnecting",f[f.WebSocketOpen=1]="WebSocketOpen",f[f.WebSocketError=2]="WebSocketError",f[f.WebSocketClosing=3]="WebSocketClosing",f[f.WebSocketClosed=4]="WebSocketClosed",f[f.WebSocketFailed=5]="WebSocketFailed",f[f.WebSocketMessage=6]="WebSocketMessage",f[f.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",f[f.WebSocketSentMessage=8]="WebSocketSentMessage",f[f.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",f[f.ReceivedSignalFrame=10]="ReceivedSignalFrame",f[f.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(v=c.SignalingClientEventType||(c.SignalingClientEventType={})),c.default=v},hGh8:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(vo){return vo&&vo.__esModule?vo:{default:vo}};Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultEventController=c.DefaultDevicePixelRatioMonitor=c.DefaultDeviceController=c.DefaultContentShareController=c.DefaultBrowserBehavior=c.DefaultAudioVideoFacade=c.DefaultAudioVideoController=c.DefaultAudioMixController=c.DefaultActiveSpeakerPolicy=c.DefaultActiveSpeakerDetector=c.DataMessage=c.CreateSDPTask=c.CreatePeerConnectionTask=c.ContentShareMediaStreamBroker=c.ContentShareConstants=c.ConsoleLogger=c.ConnectionHealthPolicyConfiguration=c.ConnectionHealthData=c.ClientVideoStreamReceivingReport=c.ClientMetricReportMediaType=c.ClientMetricReportDirection=c.ClientMetricReport=c.CleanStoppedSessionTask=c.CleanRestartedSessionTask=c.CheckVideoInputFeedback=c.CheckVideoConnectivityFeedback=c.CheckNetworkUDPConnectivityFeedback=c.CheckNetworkTCPConnectivityFeedback=c.CheckContentShareConnectivityFeedback=c.CheckCameraResolutionFeedback=c.CheckAudioOutputFeedback=c.CheckAudioInputFeedback=c.CheckAudioConnectivityFeedback=c.CanvasVideoFrameBuffer=c.CSPMonitor=c.BitrateParameters=c.BaseTask=c.BaseConnectionHealthPolicy=c.BackgroundReplacementVideoFrameProcessor=c.BackgroundFilterVideoFrameProcessor=c.BackgroundBlurVideoFrameProcessor=c.BackgroundBlurStrength=c.AudioVideoControllerState=c.AudioProfile=c.AudioLogEvent=c.Attendee=c.AttachMediaInputTask=c.AsyncScheduler=c.ApplicationMetadata=c.AllHighestVideoBandwidthPolicy=void 0,c.MeetingSessionCredentials=c.MeetingSessionConfiguration=c.MeetingReadinessCheckerConfiguration=c.MeetingEventsClientConfiguration=c.MediaDeviceProxyHandler=c.Maybe=c.LogLevel=c.Log=c.ListenForVolumeIndicatorsTask=c.LeaveAndReceiveLeaveAckTask=c.JoinAndReceiveIndexTask=c.IntervalScheduler=c.InMemoryJSONEventBuffer=c.GlobalMetricReport=c.GetUserMediaError=c.FullJitterLimitedBackoff=c.FullJitterBackoffFactory=c.FullJitterBackoff=c.FinishGatheringICECandidatesTask=c.EventIngestionConfiguration=c.EventBufferConfiguration=c.DeviceSelection=c.DevicePixelRatioWindowSource=c.DefaultWebSocketAdapter=c.DefaultVolumeIndicatorAdapter=c.DefaultVideoTransformDevice=c.DefaultVideoTileFactory=c.DefaultVideoTileController=c.DefaultVideoTile=c.DefaultVideoStreamIndex=c.DefaultVideoStreamIdSet=c.DefaultVideoFrameProcessorPipeline=c.DefaultVideoCaptureAndEncodeParameter=c.DefaultUserAgentParser=c.DefaultTranscriptionController=c.DefaultTransceiverController=c.DefaultSimulcastUplinkPolicyForContentShare=c.DefaultSimulcastUplinkPolicy=c.DefaultSignalingClient=c.DefaultSigV4=c.DefaultSessionStateController=c.DefaultReconnectController=c.DefaultRealtimeController=c.DefaultPingPong=c.DefaultModality=c.DefaultMessagingSession=c.DefaultMeetingSession=c.DefaultMeetingReadinessChecker=c.DefaultMeetingEventReporter=c.DefaultMediaDeviceFactory=void 0,c.RunnableTask=c.RedundantAudioRecoveryMetricReport=c.RedundantAudioEncoder=c.ReconnectionHealthPolicy=c.ReceiveVideoStreamIndexTask=c.ReceiveVideoInputTask=c.ReceiveTURNCredentialsTask=c.ReceiveRemoteVideoPauseResumeTask=c.ReceiveAudioInputTask=c.RealtimeVolumeIndicator=c.RealtimeState=c.RealtimeAttendeePositionInFrame=c.PromoteToPrimaryMeetingTask=c.PromiseQueue=c.PrefetchSortBy=c.PrefetchOn=c.PermissionDeniedError=c.ParallelGroupTask=c.POSTLogger=c.OverconstrainedError=c.OpenSignalingConnectionTask=c.OnceTask=c.NotReadableError=c.NotFoundError=c.None=c.NoVideoUplinkBandwidthPolicy=c.NoVideoDownlinkBandwidthPolicy=c.NoOpVideoFrameProcessor=c.NoOpVideoElementFactory=c.NoOpTask=c.NoOpMediaStreamBroker=c.NoOpLogger=c.NoOpEventReporter=c.NoOpDeviceController=c.NoOpDebugLogger=c.NoOpAudioVideoController=c.NScaleVideoUplinkBandwidthPolicy=c.MutableVideoPreferences=c.MultiLogger=c.MonitorTask=c.ModelSpecBuilder=c.MessagingSessionConfiguration=c.Message=c.MeetingSessionVideoAvailability=c.MeetingSessionURLs=c.MeetingSessionTURNCredentials=c.MeetingSessionStatusCode=c.MeetingSessionStatus=c.MeetingSessionLifecycleEventCondition=c.MeetingSessionLifecycleEvent=void 0,c.VideoPreference=c.VideoOnlyTransceiverController=c.VideoLogEvent=c.VideoFxProcessor=c.VideoCodecCapability=c.VideoAdaptiveProbePolicy=c.Versioning=c.UnusableAudioWarningConnectionHealthPolicy=c.TypeError=c.TranscriptionStatusType=c.TranscriptionStatus=c.TranscriptResult=c.TranscriptLanguageWithScore=c.TranscriptItemType=c.TranscriptItem=c.TranscriptEntity=c.TranscriptAlternative=c.Transcript=c.TimeoutTask=c.TimeoutScheduler=c.TaskStatus=c.TargetDisplaySize=c.SubscribeAndReceiveSubscribeAckTask=c.StreamMetricReport=c.Some=c.SingleNodeAudioTransformDevice=c.SimulcastVideoStreamIndex=c.SimulcastTransceiverController=c.SimulcastLayers=c.SimulcastContentShareTransceiverController=c.SignalingClientVideoSubscriptionConfiguration=c.SignalingClientSubscribe=c.SignalingClientJoin=c.SignalingClientEventType=c.SignalingClientEvent=c.SignalingClientConnectionRequest=c.SignalingAndMetricsConnectionMonitor=c.SetRemoteDescriptionTask=c.SetLocalDescriptionTask=c.SessionStateControllerTransitionResult=c.SessionStateControllerState=c.SessionStateControllerDeferPriority=c.SessionStateControllerAction=c.ServerSideNetworkAdaption=c.SerialGroupTask=c.SendingAudioFailureConnectionHealthPolicy=c.SendAndReceiveDataMessagesTask=c.SDPMediaSection=c.SDPCandidateType=c.SDP=void 0,c.isVideoTransformDevice=c.isDestroyable=c.isAudioTransformDevice=c.ZLIBTextCompressor=c.WebSocketReadyState=c.WaitForAttendeePresenceTask=c.VoiceFocusTransformDevice=c.VoiceFocusDeviceTransformer=c.VideoTileState=c.VideoStreamDescription=c.VideoSource=c.VideoQualitySettings=c.VideoPriorityBasedPolicyConfig=c.VideoPriorityBasedPolicy=c.VideoPreferences=void 0;const f=v(d("nYR4"));c.AllHighestVideoBandwidthPolicy=f.default;const h=v(d("9BEE"));c.ApplicationMetadata=h.default;const m=v(d("6/h7"));c.AsyncScheduler=m.default;const a=v(d("5ViG"));c.AttachMediaInputTask=a.default;const o=v(d("g+gC"));c.Attendee=o.default;const i=v(d("J+fJ"));c.AudioLogEvent=i.default;const e=v(d("SO8M"));c.AudioProfile=e.default;const t=v(d("rEUf"));c.AudioVideoControllerState=t.default;const n=v(d("vjEy"));c.BackgroundBlurStrength=n.default;const s=v(d("YH3u"));c.BackgroundBlurVideoFrameProcessor=s.default;const p=v(d("ywpn"));c.BackgroundFilterVideoFrameProcessor=p.default;const g=v(d("Agw+"));c.BackgroundReplacementVideoFrameProcessor=g.default;const S=v(d("ghxq"));c.BaseConnectionHealthPolicy=S.default;const u=v(d("aVV0"));c.BaseTask=u.default;const l=v(d("GxrV"));c.BitrateParameters=l.default;const E=v(d("Q8+J"));c.CSPMonitor=E.default;const O=v(d("KsuK"));c.CanvasVideoFrameBuffer=O.default;const P=v(d("Yvks"));c.CheckAudioConnectivityFeedback=P.default;const x=v(d("jmx1"));c.CheckAudioInputFeedback=x.default;const k=v(d("zN22"));c.CheckAudioOutputFeedback=k.default;const B=v(d("CPHI"));c.CheckCameraResolutionFeedback=B.default;const R=v(d("2Bsk"));c.CheckContentShareConnectivityFeedback=R.default;const N=v(d("aSsB"));c.CheckNetworkTCPConnectivityFeedback=N.default;const w=v(d("kph0"));c.CheckNetworkUDPConnectivityFeedback=w.default;const A=v(d("SdmA"));c.CheckVideoConnectivityFeedback=A.default;const D=v(d("NFcc"));c.CheckVideoInputFeedback=D.default;const K=v(d("yMiq"));c.CleanRestartedSessionTask=K.default;const X=v(d("teem"));c.CleanStoppedSessionTask=X.default;const j=v(d("uCvS"));c.ClientMetricReport=j.default;const te=v(d("LmyK"));c.ClientMetricReportDirection=te.default;const me=v(d("mpmV"));c.ClientMetricReportMediaType=me.default;const we=v(d("ya0l"));c.ClientVideoStreamReceivingReport=we.default;const pe=v(d("RfPO"));c.ConnectionHealthData=pe.default;const Ae=v(d("wR/T"));c.ConnectionHealthPolicyConfiguration=Ae.default;const Je=v(d("e/ca"));c.ConsoleLogger=Je.default;const Fe=v(d("34ho"));c.ContentShareConstants=Fe.default;const Ue=v(d("Lrln"));c.ContentShareMediaStreamBroker=Ue.default;const Le=v(d("Fyq9"));c.CreatePeerConnectionTask=Le.default;const at=v(d("7W6Z"));c.CreateSDPTask=at.default;const lt=v(d("CtrA"));c.DataMessage=lt.default;const ot=v(d("1Cbm"));c.DefaultActiveSpeakerDetector=ot.default;const pt=v(d("UIXl"));c.DefaultActiveSpeakerPolicy=pt.default;const ct=v(d("WHnE"));c.DefaultAudioMixController=ct.default;const rt=v(d("2nae"));c.DefaultAudioVideoController=rt.default;const Tn=v(d("HLgz"));c.DefaultAudioVideoFacade=Tn.default;const Qt=v(d("Sa54"));c.DefaultBrowserBehavior=Qt.default;const Ft=v(d("0NFC"));c.DefaultContentShareController=Ft.default;const Rn=v(d("RUbL"));c.DefaultDeviceController=Rn.default;const Pn=v(d("t9Fz"));c.DefaultDevicePixelRatioMonitor=Pn.default;const ti=v(d("eeYi"));c.DefaultEventController=ti.default;const Sn=v(d("Y8b2"));c.DefaultMediaDeviceFactory=Sn.default;const oi=v(d("MFJ1"));c.DefaultMeetingEventReporter=oi.default;const vi=v(d("yx2K"));c.DefaultMeetingReadinessChecker=vi.default;const Hn=v(d("yvTz"));c.DefaultMeetingSession=Hn.default;const Di=v(d("JJ3a"));c.DefaultMessagingSession=Di.default;const Bi=v(d("bTau"));c.DefaultModality=Bi.default;const Gt=v(d("ML5K"));c.DefaultPingPong=Gt.default;const Dn=v(d("gTDO"));c.DefaultRealtimeController=Dn.default;const Dt=v(d("ULlC"));c.DefaultReconnectController=Dt.default;const je=v(d("9ETa"));c.DefaultSessionStateController=je.default;const yt=v(d("PsbS"));c.DefaultSigV4=yt.default;const dt=v(d("jP1N"));c.DefaultSignalingClient=dt.default;const cn=v(d("LUct"));c.DefaultSimulcastUplinkPolicy=cn.default;const li=v(d("NWIo"));c.DefaultSimulcastUplinkPolicyForContentShare=li.default;const ci=v(d("IBi3"));c.DefaultTransceiverController=ci.default;const Jn=v(d("qvnc"));c.DefaultTranscriptionController=Jn.default;const di=v(d("X3Fi"));c.DefaultUserAgentParser=di.default;const Mi=v(d("XJrD"));c.DefaultVideoCaptureAndEncodeParameter=Mi.default;const Sr=v(d("3zlU"));c.DefaultVideoFrameProcessorPipeline=Sr.default;const Ai=v(d("Zkgh"));c.DefaultVideoStreamIdSet=Ai.default;const Hi=v(d("ldli"));c.DefaultVideoStreamIndex=Hi.default;const rn=v(d("JTre"));c.DefaultVideoTile=rn.default;const ge=v(d("+D+n"));c.DefaultVideoTileController=ge.default;const Re=v(d("rcF0"));c.DefaultVideoTileFactory=Re.default;const Ve=v(d("FxSh"));c.DefaultVideoTransformDevice=Ve.default;const kt=v(d("P3Bx"));c.DefaultVolumeIndicatorAdapter=kt.default;const tt=v(d("jHTc"));c.DefaultWebSocketAdapter=tt.default;const it=v(d("QzVx"));c.DevicePixelRatioWindowSource=it.default;const bt=v(d("DbLV"));c.DeviceSelection=bt.default;const an=v(d("8FET"));c.EventBufferConfiguration=an.default;const un=v(d("Y2s1"));c.EventIngestionConfiguration=un.default;const en=v(d("N9oo"));c.FinishGatheringICECandidatesTask=en.default;const Mn=v(d("Np2I"));c.FullJitterBackoff=Mn.default;const qi=v(d("mcAb"));c.FullJitterBackoffFactory=qi.default;const pi=v(d("5/Tg"));c.FullJitterLimitedBackoff=pi.default;const dr=v(d("xzjI"));c.GetUserMediaError=dr.default;const Ki=v(d("2oFa"));c.GlobalMetricReport=Ki.default;const mi=v(d("3EKQ"));c.InMemoryJSONEventBuffer=mi.default;const Pr=v(d("8wPz"));c.IntervalScheduler=Pr.default;const si=v(d("xJ9D"));c.JoinAndReceiveIndexTask=si.default;const or=v(d("FCN7"));c.LeaveAndReceiveLeaveAckTask=or.default;const $n=v(d("curu"));c.ListenForVolumeIndicatorsTask=$n.default;const ur=v(d("91j7"));c.Log=ur.default;const Ji=v(d("uctb"));c.LogLevel=Ji.default;const xr=v(d("tK6J"));c.MediaDeviceProxyHandler=xr.default;const Dr=v(d("hAj8"));c.MeetingEventsClientConfiguration=Dr.default;const Xi=v(d("+7ft"));c.MeetingReadinessCheckerConfiguration=Xi.default;const _r=v(d("/U1e"));c.MeetingSessionConfiguration=_r.default;const vt=v(d("a16/"));c.MeetingSessionCredentials=vt.default;const z=v(d("tcc5"));c.MeetingSessionLifecycleEvent=z.default;const de=v(d("dPBs"));c.MeetingSessionLifecycleEventCondition=de.default;const Ie=v(d("6Bxv"));c.MeetingSessionStatus=Ie.default;const xe=v(d("lUhs"));c.MeetingSessionStatusCode=xe.default;const $e=v(d("V5IF"));c.MeetingSessionTURNCredentials=$e.default;const ut=v(d("iNgN"));c.MeetingSessionURLs=ut.default;const mt=v(d("v8aG"));c.MeetingSessionVideoAvailability=mt.default;const St=v(d("evlv"));c.Message=St.default;const It=v(d("i+zQ"));c.MessagingSessionConfiguration=It.default;const Rt=v(d("J93s"));c.ModelSpecBuilder=Rt.default;const Zt=v(d("3Ft5"));c.MonitorTask=Zt.default;const Wt=v(d("h4op"));c.MultiLogger=Wt.default;const on=v(d("hhlX"));c.NScaleVideoUplinkBandwidthPolicy=on.default;const Tt=v(d("Jsna"));c.NoOpAudioVideoController=Tt.default;const Yn=v(d("ir/0"));c.NoOpDebugLogger=Yn.default;const kn=v(d("zNm1"));c.NoOpDeviceController=kn.default;const Si=v(d("Ni8D"));c.NoOpEventReporter=Si.default;const ui=v(d("2y31"));c.NoOpLogger=ui.default;const fi=v(d("r9Lw"));c.NoOpMediaStreamBroker=fi.default;const gi=v(d("Nzn3"));c.NoOpTask=gi.default;const yi=v(d("ukPp"));c.NoOpVideoElementFactory=yi.default;const Fi=v(d("Wjms"));c.NoOpVideoFrameProcessor=Fi.default;const ni=v(d("otBB"));c.NoVideoDownlinkBandwidthPolicy=ni.default;const Ci=v(d("DcUe"));c.NoVideoUplinkBandwidthPolicy=Ci.default;const In=v(d("B7cK"));c.NotFoundError=In.default;const Qn=v(d("UW8m"));c.NotReadableError=Qn.default;const ii=v(d("V3UW"));c.OnceTask=ii.default;const Zn=v(d("mjQB"));c.OpenSignalingConnectionTask=Zn.default;const yr=v(d("XhYu"));c.OverconstrainedError=yr.default;const Ui=v(d("e2MG"));c.POSTLogger=Ui.default;const sr=v(d("mv1L"));c.ParallelGroupTask=sr.default;const Ri=v(d("V4cD"));c.PermissionDeniedError=Ri.default;const No=v(d("p3mT"));c.PrefetchOn=No.default;const er=v(d("Oxpw"));c.PrefetchSortBy=er.default;const Qi=v(d("o13v"));c.PromiseQueue=Qi.default;const qn=v(d("LNXf"));c.PromoteToPrimaryMeetingTask=qn.default;const Yt=v(d("rbNI"));c.RealtimeAttendeePositionInFrame=Yt.default;const fr=v(d("TYXu"));c.RealtimeState=fr.default;const Zo=v(d("ZIUS"));c.RealtimeVolumeIndicator=Zo.default;const so=v(d("LhvI"));c.ReceiveAudioInputTask=so.default;const Wi=v(d("WRer"));c.ReceiveRemoteVideoPauseResumeTask=Wi.default;const Jr=v(d("cizm"));c.ReceiveTURNCredentialsTask=Jr.default;const Hr=v(d("5z6C"));c.ReceiveVideoInputTask=Hr.default;const tr=v(d("1J7j"));c.ReceiveVideoStreamIndexTask=tr.default;const Ts=v(d("kItj"));c.ReconnectionHealthPolicy=Ts.default;const Is=v(d("aNtF"));c.RedundantAudioEncoder=Is.default;const ki=v(d("Xf/8"));c.RedundantAudioRecoveryMetricReport=ki.default;const Cr=v(d("2q7c"));c.RunnableTask=Cr.default;const Eo=v(d("AUdx"));c.SDP=Eo.default;const ws=v(d("0YRd"));c.SDPCandidateType=ws.default;const Lr=v(d("Iwfh"));c.SDPMediaSection=Lr.default;const fo=v(d("0jNb"));c.SendAndReceiveDataMessagesTask=fo.default;const ao=v(d("LuEC"));c.SendingAudioFailureConnectionHealthPolicy=ao.default;const To=v(d("8tla"));c.SerialGroupTask=To.default;const qo=v(d("DUgj"));c.ServerSideNetworkAdaption=qo.default;const es=v(d("JHsX"));c.SessionStateControllerAction=es.default;const Bo=v(d("hWev"));c.SessionStateControllerDeferPriority=Bo.default;const ts=v(d("I0Bj"));c.SessionStateControllerState=ts.default;const ho=v(d("87Nr"));c.SessionStateControllerTransitionResult=ho.default;const zr=v(d("ohOv"));c.SetLocalDescriptionTask=zr.default;const Nr=v(d("CRwe"));c.SetRemoteDescriptionTask=Nr.default;const Io=v(d("8dVZ"));c.SignalingAndMetricsConnectionMonitor=Io.default;const po=v(d("5rM1"));c.SignalingClientConnectionRequest=po.default;const Yr=v(d("fGw7"));c.SignalingClientEvent=Yr.default;const Fo=v(d("hEYi"));c.SignalingClientEventType=Fo.default;const Uo=v(d("COTZ"));c.SignalingClientJoin=Uo.default;const Vo=v(d("iFpF"));c.SignalingClientSubscribe=Vo.default;const ar=v(d("/sFY"));c.SignalingClientVideoSubscriptionConfiguration=ar.default;const Ho=v(d("riOr"));c.SimulcastContentShareTransceiverController=Ho.default;const ns=v(d("H7ma"));c.SimulcastLayers=ns.default;const zo=v(d("OND3"));c.SimulcastTransceiverController=zo.default;const Wr=v(d("nq15"));c.SimulcastVideoStreamIndex=Wr.default;const lo=v(d("0Kz9"));c.SingleNodeAudioTransformDevice=lo.default;const br=v(d("NE7a"));c.StreamMetricReport=br.default;const Br=v(d("ZPwG"));c.SubscribeAndReceiveSubscribeAckTask=Br.default;const Wo=v(d("Lspx"));c.TargetDisplaySize=Wo.default;const Xr=v(d("Sl5A"));c.TaskStatus=Xr.default;const is=v(d("yQ3g"));c.TimeoutScheduler=is.default;const kr=v(d("L+i+"));c.TimeoutTask=kr.default;const mo=v(d("7nob"));c.Transcript=mo.default;const wo=v(d("JMN+"));c.TranscriptAlternative=wo.default;const Fr=v(d("2xSc"));c.TranscriptEntity=Fr.default;const jr=v(d("Ol9i"));c.TranscriptItem=jr.default;const Oo=v(d("VWEK"));c.TranscriptItemType=Oo.default;const jo=v(d("SM5d"));c.TranscriptLanguageWithScore=jo.default;const Js=v(d("5rZr"));c.TranscriptResult=Js.default;const Ur=v(d("VoiG"));c.TranscriptionStatus=Ur.default;const rs=v(d("h4LR"));c.TranscriptionStatusType=rs.default;const Gr=v(d("SgmS"));c.TypeError=Gr.default;const Os=v(d("pCf5"));c.UnusableAudioWarningConnectionHealthPolicy=Os.default;const Ms=v(d("59sL"));c.Versioning=Ms.default;const hr=v(d("5mR7"));c.VideoAdaptiveProbePolicy=hr.default;const Qr=v(d("CLOt"));c.VideoCodecCapability=Qr.default;const Zr=v(d("rLvK"));c.VideoFxProcessor=Zr.default;const os=v(d("DG83"));c.VideoLogEvent=os.default;const ss=v(d("NUAg"));c.VideoOnlyTransceiverController=ss.default;const Ys=v(d("uaNU"));c.VideoPreference=Ys.default;const Mo=v(d("P7D+"));c.VideoPreferences=Mo.default;const as=v(d("knPd"));c.VideoPriorityBasedPolicy=as.default;const As=v(d("J1op"));c.VideoPriorityBasedPolicyConfig=As.default;const ls=v(d("dWQL"));c.VideoQualitySettings=ls.default;const qr=v(d("aqWb"));c.VideoSource=qr.default;const Rs=v(d("MhWp"));c.VideoStreamDescription=Rs.default;const Ao=v(d("5mqp"));c.VideoTileState=Ao.default;const nr=v(d("6JeQ"));c.VoiceFocusDeviceTransformer=nr.default;const Ro=v(d("25+x"));c.VoiceFocusTransformDevice=Ro.default;const Po=v(d("yqyw"));c.WaitForAttendeePresenceTask=Po.default;const Do=v(d("4EN+"));c.WebSocketReadyState=Do.default;const $r=v(d("MelK"));c.ZLIBTextCompressor=$r.default;const go=d("P7D+");Object.defineProperty(c,"MutableVideoPreferences",{enumerable:!0,get:function(){return go.MutableVideoPreferences}});const pr=d("KyYT");Object.defineProperty(c,"Some",{enumerable:!0,get:function(){return pr.Some}}),Object.defineProperty(c,"None",{enumerable:!0,get:function(){return pr.None}}),Object.defineProperty(c,"Maybe",{enumerable:!0,get:function(){return pr.Maybe}});const Go=d("NDMw");Object.defineProperty(c,"isAudioTransformDevice",{enumerable:!0,get:function(){return Go.isAudioTransformDevice}});const eo=d("rwhO");Object.defineProperty(c,"isDestroyable",{enumerable:!0,get:function(){return eo.isDestroyable}});const Ps=d("dWP+");Object.defineProperty(c,"isVideoTransformDevice",{enumerable:!0,get:function(){return Ps.isVideoTransformDevice}})},hWev:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SessionStateControllerDeferPriority=void 0;var v;(function(f){f[f.DoNotDefer=0]="DoNotDefer",f[f.Low=1]="Low",f[f.Medium=2]="Medium",f[f.High=3]="High",f[f.VeryHigh=4]="VeryHigh"})(v=c.SessionStateControllerDeferPriority||(c.SessionStateControllerDeferPriority={})),c.default=v},heda:function(U,c,d){var v=d("GhSp"),f=d("d+lc"),h=d("mHY4");U.exports=d("C61u")?Object.defineProperties:r(function(a,o){f(a);for(var i=h(o),e=i.length,t=0,n;e>t;)v.f(a,n=i[t++],o[n]);return a},"defineProperties")},hhlX:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("XJrD"));let m=r(class od{reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new h.default(0,0,0,0,!1),this.parametersInEffect=new h.default(0,0,0,0,!1),this.encodingParamMap.set(od.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(o){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(o){var i;let e=!0,t=1;this.transceiverController&&(e=this.transceiverController.hasVideoInput());const n=o.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(e?1:0);if(this.numberOfPublishedVideoSources===n){(i=this.logger)===null||i===void 0||i.debug("Skipping update index; Number of participants has not changed");return}if(this.numberOfPublishedVideoSources=n,this.transceiverController){const s=this.getStreamCaptureSetting();s&&(t=this.calculateEncodingParameters(s).scaleResolutionDownBy)}this.optimalParameters=new h.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,t)}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){let o=640;return this.getNumberOfPublishedVideoSources()>4&&(o=320),o}captureHeight(){let o=384;return this.getNumberOfPublishedVideoSources()>4&&(o=192),o}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let o=0;return this.getNumberOfPublishedVideoSources()<=2?o=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?o=this.idealMaxBandwidthKbps*2/3:o=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(o)}setIdealMaxBandwidthKbps(o){this.idealMaxBandwidthKbps=o}setHasBandwidthPriority(o){this.hasBandwidthPriority=o}setTransceiverController(o){this.transceiverController=o}updateTransceiverController(){return v(this,void 0,void 0,function*(){const o=this.getStreamCaptureSetting();if(!o)return;const i=this.calculateEncodingParameters(o);this.shouldUpdateEndcodingParameters(i)&&(this.encodingParamMap.set(od.encodingMapKey,i),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(o){var i,e;const t=(e=(i=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||i===void 0?void 0:i.encodings)===null||e===void 0?void 0:e[0];return o.maxBitrate!==(t==null?void 0:t.maxBitrate)||o.scaleResolutionDownBy!==(t==null?void 0:t.scaleResolutionDownBy)}calculateEncodingParameters(o){var i,e;const t=this.maxBandwidthKbps()*1e3;let n=1;if(o.height!==void 0&&o.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2){let s=od.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),od.targetHeightArray.length-1)];s===480&&(!((i=this.browserBehavior)===null||i===void 0)&&i.disable480pResolutionScaleDown())&&(s=360),n=Math.max(Math.min(o.height,o.width)/s,1),(e=this.logger)===null||e===void 0||e.info(`Resolution scale factor is ${n} for capture resolution ${o.width}x${o.height}. New dimension is ${o.width/n}x${o.height/n}`)}return{scaleResolutionDownBy:n,maxBitrate:t}}getStreamCaptureSetting(){var o,i,e,t;return(t=(e=(i=(o=this.transceiverController)===null||o===void 0?void 0:o.localVideoTransceiver())===null||i===void 0?void 0:i.sender)===null||e===void 0?void 0:e.track)===null||t===void 0?void 0:t.getSettings()}getNumberOfPublishedVideoSources(){var o;return(o=this.numberOfPublishedVideoSources)!==null&&o!==void 0?o:0}constructor(o,i=!0,e=void 0,t=void 0){this.selfAttendeeId=o,this.scaleResolution=i,this.logger=e,this.browserBehavior=t,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.reset()}},"NScaleVideoUplinkBandwidthPolicy");c.default=m,m.encodingMapKey="video",m.targetHeightArray=[0,0,0,540,540,480,480,480,480,360,360,360,360,270,270,270,270,180,180,180,180,180,180,180,180,180]},hl97:function(U,c,d){"use strict";U.exports=t;var v=d("kU+7"),f,h=v.LongBits,m=v.base64,a=v.utf8;function o(E,O,P){this.fn=E,this.len=O,this.next=void 0,this.val=P}r(o,"Op");function i(){}r(i,"noop");function e(E){this.head=E.head,this.tail=E.tail,this.len=E.len,this.next=E.states}r(e,"State");function t(){this.len=0,this.head=new o(i,0,0),this.tail=this.head,this.states=null}r(t,"Writer");var n=r(function(){return v.Buffer?r(function(){return(t.create=r(function(){return new f},"create_buffer"))()},"create_buffer_setup"):r(function(){return new t},"create_array")},"create");t.create=n(),t.alloc=r(function(O){return new v.Array(O)},"alloc"),v.Array!==Array&&(t.alloc=v.pool(t.alloc,v.Array.prototype.subarray)),t.prototype._push=r(function(O,P,x){return this.tail=this.tail.next=new o(O,P,x),this.len+=P,this},"push");function s(E,O,P){O[P]=E&255}r(s,"writeByte");function p(E,O,P){for(;E>127;)O[P++]=E&127|128,E>>>=7;O[P]=E}r(p,"writeVarint32");function g(E,O){this.len=E,this.next=void 0,this.val=O}r(g,"VarintOp"),g.prototype=Object.create(o.prototype),g.prototype.fn=p,t.prototype.uint32=r(function(O){return this.len+=(this.tail=this.tail.next=new g((O=O>>>0)<128?1:O<16384?2:O<2097152?3:O<268435456?4:5,O)).len,this},"write_uint32"),t.prototype.int32=r(function(O){return O<0?this._push(S,10,h.fromNumber(O)):this.uint32(O)},"write_int32"),t.prototype.sint32=r(function(O){return this.uint32((O<<1^O>>31)>>>0)},"write_sint32");function S(E,O,P){for(;E.hi;)O[P++]=E.lo&127|128,E.lo=(E.lo>>>7|E.hi<<25)>>>0,E.hi>>>=7;for(;E.lo>127;)O[P++]=E.lo&127|128,E.lo=E.lo>>>7;O[P++]=E.lo}r(S,"writeVarint64"),t.prototype.uint64=r(function(O){var P=h.from(O);return this._push(S,P.length(),P)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=r(function(O){var P=h.from(O).zzEncode();return this._push(S,P.length(),P)},"write_sint64"),t.prototype.bool=r(function(O){return this._push(s,1,O?1:0)},"write_bool");function u(E,O,P){O[P]=E&255,O[P+1]=E>>>8&255,O[P+2]=E>>>16&255,O[P+3]=E>>>24}r(u,"writeFixed32"),t.prototype.fixed32=r(function(O){return this._push(u,4,O>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=r(function(O){var P=h.from(O);return this._push(u,4,P.lo)._push(u,4,P.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=r(function(O){return this._push(v.float.writeFloatLE,4,O)},"write_float"),t.prototype.double=r(function(O){return this._push(v.float.writeDoubleLE,8,O)},"write_double");var l=v.Array.prototype.set?r(function(O,P,x){P.set(O,x)},"writeBytes_set"):r(function(O,P,x){for(var k=0;k<O.length;++k)P[x+k]=O[k]},"writeBytes_for");t.prototype.bytes=r(function(O){var P=O.length>>>0;if(!P)return this._push(s,1,0);if(v.isString(O)){var x=t.alloc(P=m.length(O));m.decode(O,x,0),O=x}return this.uint32(P)._push(l,P,O)},"write_bytes"),t.prototype.string=r(function(O){var P=a.length(O);return P?this.uint32(P)._push(a.write,P,O):this._push(s,1,0)},"write_string"),t.prototype.fork=r(function(){return this.states=new e(this),this.head=this.tail=new o(i,0,0),this.len=0,this},"fork"),t.prototype.reset=r(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=r(function(){var O=this.head,P=this.tail,x=this.len;return this.reset().uint32(x),x&&(this.tail.next=O.next,this.tail=P,this.len+=x),this},"ldelim"),t.prototype.finish=r(function(){for(var O=this.head.next,P=this.constructor.alloc(this.len),x=0;O;)O.fn(O.val,P,x),x+=O.len,O=O.next;return P},"finish"),t._configure=function(E){f=E,t.create=n(),f._configure()}},hlxM:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.isOldChrome=c.supportsWASMStreaming=c.supportsSharedArrayBuffer=c.supportsWASM=c.supportsAudioWorklet=c.supportsWorker=c.supportsVoiceFocusWorker=c.supportsWASMPostMessage=c.isSafari=void 0;const f=d("GEtQ"),h=r(function(){return!!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/)},"isChrome"),m=r(function(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis).navigator.userAgent,E=l.match(/Safari\//),O=l.match(/Chrom(?:e|ium)\//);return!!(E&&!O)},"isSafari");c.isSafari=m;const a=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;return c.isSafari(u)?!1:h(u)?(g(u)||0)<95:!0},"supportsWASMPostMessage");c.supportsWASMPostMessage=a;const o=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;return v(void 0,void 0,void 0,function*(){if(!c.supportsWorker(u,E))return!1;const O=`${l.paths.workers}worker-v1.js`;try{const P=yield f.loadWorker(O,"VoiceFocusTestWorker",l,E);try{P.terminate()}catch(x){E==null||E.debug("Failed to terminate worker.",x)}return!0}catch(P){return E==null||E.info("Failed to fetch and instantiate test worker",P),!1}})},"supportsVoiceFocusWorker");c.supportsVoiceFocusWorker=o;const i=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;try{return!!u.Worker}catch(E){return l==null||l.info("Does not support Worker",E),!1}},"supportsWorker");c.supportsWorker=i;const e=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;try{return!!u.AudioWorklet&&!!u.AudioWorkletNode}catch(E){return l==null||l.info("Does not support Audio Worklet",E),!1}},"supportsAudioWorklet");c.supportsAudioWorklet=e;const t=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;try{return!!u.WebAssembly&&(!!u.WebAssembly.compile||!!u.WebAssembly.compileStreaming)}catch(E){return l==null||l.info("Does not support WASM",E),!1}},"supportsWASM");c.supportsWASM=t;const n=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:globalThis,E=arguments.length>2?arguments[2]:void 0;try{return!!u.SharedArrayBuffer&&(!!l.chrome||!!u.crossOriginIsolated)}catch{return E==null||E.info("Does not support SharedArrayBuffer."),!1}},"supportsSharedArrayBuffer");c.supportsSharedArrayBuffer=n;const s=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;var E;try{return!!(!((E=u.WebAssembly)===null||E===void 0)&&E.compileStreaming)}catch(O){return l==null||l.info("Does not support WASM streaming compilation",O),!1}},"supportsWASMStreaming");c.supportsWASMStreaming=s;const p=90,g=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis;try{if(!u.chrome)return}catch{}const l=u.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(l)return parseInt(l[1],10)},"chromeVersion"),S=r(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,l=arguments.length>1?arguments[1]:void 0;const E=g(u);return E&&E<p?(l==null||l.debug(`Chrome ${E} has incomplete SIMD support.`),!0):!1},"isOldChrome");c.isOldChrome=S},hrQK:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("jG7n")),m=d("gLI0"),a=f(d("FKpq"));let o=r(class extends h.default{validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);const{canvasCtx:s,targetCanvas:p}=this,{width:g,height:S}=p;s.save(),s.clearRect(0,0,g,S),s.drawImage(this.scaledCanvas,0,0,g,S),s.globalCompositeOperation="source-in",s.drawImage(e,0,0,g,S),s.globalCompositeOperation="destination-over",s.filter=`blur(${this.blurAmount}px)`,s.drawImage(e,0,0,p.width,p.height),s.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=m.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return v(this,void 0,void 0,function*(){const e=document.createElement("canvas"),t=e.getContext("2d").filter!==void 0;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: ${this.stringify(t)}`)}},"BackgroundBlurProcessorProvided");c.default=o},hspq:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("tA0R"),m=f(d("HbHZ")),a=d("XCDq"),o=f(d("j+uH"));let i=r(class extends o.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((t,n)=>{let s=r(class{cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),t()}handleSignalingClientEvent(S){S.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new h.MeetingSessionStatus(h.MeetingSessionStatusCode.SignalingRequestFailed)),t()),S.type===m.default.ReceivedSignalFrame&&S.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(h.MeetingSessionStatus.fromSignalFrame(S.message)),t())}constructor(S,u,l){this.signalingClient=S,this.completionCallback=u,this.logger=l}},"Interceptor");const p=new s(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=p,this.context.signalingClient.registerObserver(p)})}constructor(t,n,s){super(t.logger),this.context=t,this.credentials=n,this.completionCallback=s,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}},"PromoteToPrimaryMeetingTask");c.default=i},hxn6:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(P,x,k,B){function R(N){return N instanceof k?N:new k(function(w){w(N)})}return r(R,"adopt"),new(k||(k=Promise))(function(N,w){function A(X){try{K(B.next(X))}catch(j){w(j)}}r(A,"fulfilled");function D(X){try{K(B.throw(X))}catch(j){w(j)}}r(D,"rejected");function K(X){X.done?N(X.value):R(X.value).then(A,D)}r(K,"step"),K((B=B.apply(P,x||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.decideModel=c.measureAndDecideExecutionApproach=void 0;const f=d("EkyC"),h=d("KvYa"),m=3,a=2.5,o=2.63,i=.6,e=.65,t=.5,n=.7,s={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let p=r(class{roundtrip(x,k,B){return new Promise((R,N)=>{this.worker.then(w=>{let A;A=r(D=>{const{message:K,key:X}=D.data;K===k&&X===B&&(w.removeEventListener("message",A),R(D.data))},"listener"),w.addEventListener("message",A),w.postMessage(x)}).catch(w=>{var A;(A=this.logger)===null||A===void 0||A.error("Failed to load worker.",w),N(w)})})}supportsSIMD(x){const k="simd",B=x||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,R={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:B,key:k};return this.roundtrip(R,"simd-support",k).then(N=>N.supports)}measure(x,k){const B=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,R=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,N=x?R:B,w=`bench:${x}`,A={message:"measure",fetchBehavior:this.fetchBehavior,budget:k,path:N,key:w};return this.roundtrip(A,"measurement",w).then(D=>{if(D.measurement)return D.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(x=>{var k;(k=this.logger)===null||k===void 0||k.debug("Stopping estimator worker."),x.terminate()}).catch(x=>{})}constructor(x,k){this.fetchConfig=x,this.logger=k;const B=`${x.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:x.headers,escapedQueryString:x.escapedQueryString},this.worker=f.loadWorker(B,"VoiceFocusEstimator",this.fetchBehavior,k)}},"Estimator");const g=r((P,x)=>P===1?i:x==="quality"?e*P:t*P,"inlineScoreMultiplier"),S=r(function(P){let{supportsSIMD:x,supportsSAB:k,duration:B,executionPreference:R="auto",simdPreference:N,variantPreference:w="auto",namePreference:A="default",usagePreference:D,executionQuantaPreference:K=m}=P,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,j=arguments.length>2?arguments[2]:void 0;const me=N==="force"||N!=="disable"&&x,we=B!==-1,pe=we?(me?a:o)/B:0,Ae=me?X.simd:X.wasm,Je=we?g(K,D)*pe:0,Fe=we?n*pe:0,Ue=A,Le=r(pt=>({supported:!1,reason:pt}),"unsupported");if(we){if(pe<Ae.noSupport)return Le(`Performance score ${pe} worse than threshold ${Ae.noSupport}.`)}else if(R==="auto"||w==="auto")return Le(`Missing explicit execution (${R}) or variant (${w}) preference, but no scoring performed.`);j==null||j.debug(`Bench duration ${B} yields inline score ${Je} and worker score ${Fe}.`);const at=r((pt,ct,rt)=>({supported:!0,useSIMD:me,processor:pt,executionApproach:ct,variant:rt,executionQuanta:ct==="inline"?K:void 0,name:Ue}),"succeed"),lt=r((pt,ct,rt)=>ct!=="auto"?!we||pt>rt[ct]?ct:"failed":pt>rt.c100?"c100":pt>rt.c50?"c50":pt>rt.c20?"c20":pt>rt.c10?"c10":"failed","resolveVariant"),ot=r(pt=>{switch(pt||"auto"){case"auto":{let ct=ot("inline"),rt=ot("worker");return j==null||j.debug(`Reducing auto preference: ${JSON.stringify(ct)} vs ${JSON.stringify(rt)}`),ct.supported===!1||rt.supported===!1?rt:ct.variant===rt.variant||ct.variant==="c50"?ct:rt}case"worker":return h.supportsSharedArrayBuffer(globalThis,window,j)?ot("worker-sab"):ot("worker-postMessage");case"inline":{const ct=lt(Je,w,Ae.inline);return ct==="failed"?Le(`Performance score ${Je} not sufficient for inline use with variant preference ${w}.`):at("voicefocus-inline-processor","inline",ct)}case"worker-sab":{if(!k){const rt="Requested worker-sab but no SharedArrayBuffer support.";return j==null||j.warn(rt),{supported:!1,reason:rt}}const ct=lt(Fe,w,Ae.worker);return ct==="failed"?Le(`Performance score ${Fe} not sufficient for worker use with variant preference ${w}.`):at("voicefocus-worker-sab-processor","worker-sab",ct)}case"worker-postMessage":{const ct=lt(Fe,w,Ae.worker);if(ct==="failed")return Le(`Performance score ${Fe} not sufficient for worker use.`);if(Ue==="ns_es"){const rt="Requested echo suppression but postMessage executor does not support it.";return j==null||j.warn(rt),{supported:!1,reason:rt}}return at("voicefocus-worker-postMessage-processor","worker-postMessage",ct)}}},"reducePreference");return ot(R)},"decideExecutionApproach"),u=r((P,x,k,B)=>v(void 0,void 0,void 0,function*(){const R={supportsSIMD:P,supportsSAB:h.supportsSharedArrayBuffer(globalThis,window,k),duration:-1};if(P)return k==null||k.info("Supports SIMD: true (force)"),R;const N=!B,w=B||new p(x,k);try{const A=!h.isOldChrome(window,k)&&(yield w.supportsSIMD());return k==null||k.info(`Supports SIMD: ${A} (force: ${P})`),R.supportsSIMD=A,R}finally{N&&w.stop()}}),"featureCheck"),l=r((P,x,k,B)=>v(void 0,void 0,void 0,function*(){const R=new p(x,B);try{const N=yield u(P,x,B,R);if(N.supportsSIMD)try{return N.duration=yield R.measure(!0,k),B==null||B.info("SIMD timing:",N.duration),N}catch{B==null||B.warn("Failed SIMD estimation; falling back to non-SIMD."),N.supportsSIMD=!1}return N.duration=yield R.measure(!1,k),B==null||B.info("No-SIMD timing:",N.duration),N}catch(N){throw B==null||B.error("Could not feature check.",N),N}finally{R.stop()}}),"estimateAndFeatureCheck"),E=r(function(P,x,k){let B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s;return v(void 0,void 0,void 0,function*(){let R=P.executionPreference;const{usagePreference:N,variantPreference:w,namePreference:A,simdPreference:D,estimatorBudget:K,executionQuantaPreference:X}=P;N==="interactivity"&&R!=="inline"&&(k==null||k.debug(`Overriding execution preference ${R} to reflect interactivity preference.`),R="inline");const j=D==="force",te=w!=="auto",me=R!=="auto";let we;try{te&&me?we=yield u(j,x,k):we=yield l(j,x,K,k)}catch(pe){throw k==null||k.error("Could not load estimator.",pe),new Error("Could not load Voice Focus estimator.")}return S(Object.assign(Object.assign({},we),{simdPreference:D,executionPreference:R,variantPreference:w,namePreference:A,usagePreference:N,executionQuantaPreference:X}),B,k)})},"measureAndDecideExecutionApproach");c.measureAndDecideExecutionApproach=E;const O=r(P=>{let{category:x,name:k,variant:B,simd:R,url:N}=P;return`${x}-${k}-${B}-v1${R?"_simd":""}`},"decideModel");c.decideModel=O},"i+zQ":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{generateSessionId(){const h=new Uint32Array(1);return window.crypto.getRandomValues(h)[0].toString()}constructor(h,m,a,o){this.userArn=h,this.messagingSessionId=m,this.endpointUrl=a,this.chimeClient=o,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");c.default=v},iA6Z:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");c.default=v},iAlb:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=r(f=>{const h={};for(const[m,a]of Object.entries(f))if(!(a==null||a===""))if(typeof a=="number"||typeof a=="string")h[m]=a;else throw new TypeError("Unhandled type received while flattening attributes.");return h},"flattenEventAttributes");c.default=v},iCc5:function(U,c,d){"use strict";c.__esModule=!0,c.default=function(v,f){if(!(v instanceof f))throw new TypeError("Cannot call a class as a function")}},iFpF:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a,o,i,e,t,n,s,p){this.attendeeId=h,this.sdpOffer=m,this.audioHost=a,this.audioMuted=o,this.audioCheckin=i,this.receiveStreamIds=e,this.localVideoEnabled=t,this.videoStreamDescriptions=n,this.connectionTypeHasVideo=s,this.compressedSdpOffer=p,this.videoSubscriptionConfiguration=[]}},"SignalingClientSubscribe");c.default=v},iNgN:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(h){this._audioHostURL=h}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(h){this._signalingURL=h}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(h){this._turnControlURL=h}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(h){this._eventIngestionURL=h}constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=h=>h}},"MeetingSessionURLs");c.default=v},iQPr:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("zcg+")),m=f(d("j+uH"));let a=r(class extends m.default{cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return v(this,void 0,void 0,function*(){const i=new h.default(this.timeoutMs);i.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{i.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}constructor(i,e,t){super(i),this.taskToRunBeforeTimeout=e,this.timeoutMs=t,this.taskName=`Timeout${this.timeoutMs}ms`,e.setParent(this)}},"TimeoutTask");c.default=a},iRMv:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("J5JU")),h=v(d("9Bli")),m=v(d("vhVE"));let a=r(class{realtimeSetLocalAttendeeId(i,e){this.state.localAttendeeId=i,this.state.localExternalUserId=e}realtimeSetAttendeeIdPresence(i,e,t,n,s){try{e&&(this.state.attendeeIdToExternalUserId[i]=t);for(const p of this.state.attendeeIdChangesCallbacks)p(i,e,t,n,s)}catch(p){this.onError(p)}}realtimeSubscribeToAttendeeIdPresence(i){try{this.state.attendeeIdChangesCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(i){try{const e=this.state.attendeeIdChangesCallbacks.indexOf(i);e!==-1&&this.state.attendeeIdChangesCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(i){try{if(this.state.canUnmute===i)return;this.state.canUnmute=i;for(const e of this.state.setCanUnmuteLocalAudioCallbacks)e(i)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(i){try{this.state.setCanUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(i){try{const e=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!0)}catch(i){this.onError(i)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const i of this.state.muteAndUnmuteLocalAudioCallbacks)i(!1);return!0}catch(i){return this.onError(i),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(i){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(i){try{const e=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(i);e!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(i,e){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(i)||(this.state.volumeIndicatorCallbacks[i]=[]),this.state.volumeIndicatorCallbacks[i].push(e),this.sendVolumeIndicatorChange(i,!0,!0,!0,this.state.attendeeIdToExternalUserId[i])}catch(t){this.onError(t)}}realtimeUnsubscribeFromVolumeIndicator(i,e){if(this.state.volumeIndicatorCallbacks[i])if(e){const n=this.state.volumeIndicatorCallbacks[i].indexOf(e);n>=0&&this.state.volumeIndicatorCallbacks[i].splice(n,1)}else delete this.state.volumeIndicatorCallbacks[i]}realtimeUpdateVolumeIndicator(i,e,t,n,s){try{t=this.applyLocalMuteOverride(i,t);const p=this.getVolumeIndicatorState(i);let g=!1,S=!1,u=!1;t!==null&&p.muted!==t&&(p.muted=t,S=!0,p.muted&&p.volume!==0&&(p.volume=0,g=!0)),!p.muted&&e!==null&&(p.volume!==e&&(p.volume=e,g=!0),p.muted===null&&(p.muted=!1,S=!0)),n!==null&&p.signalStrength!==n&&(p.signalStrength=n,u=!0),this.sendVolumeIndicatorChange(i,g,S,u,s)}catch(p){this.onError(p)}}realtimeSubscribeToLocalSignalStrengthChange(i){try{if(this.state.localSignalStrengthChangeCallbacks.push(i),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(i){try{const e=this.state.localSignalStrengthChangeCallbacks.indexOf(i);e!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(i){try{this.state.sendDataMessageCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(i){try{const e=this.state.sendDataMessageCallbacks.indexOf(i);e!==-1&&this.state.sendDataMessageCallbacks.splice(e,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(i,e,t){try{for(const n of this.state.sendDataMessageCallbacks)n(i,e,t)}catch(n){this.onError(n)}}realtimeSubscribeToReceiveDataMessage(i,e){try{this.state.receiveDataMessageCallbacks.has(i)?this.state.receiveDataMessageCallbacks.get(i).push(e):this.state.receiveDataMessageCallbacks.set(i,[e])}catch(t){this.onError(t)}}realtimeUnsubscribeFromReceiveDataMessage(i){try{this.state.receiveDataMessageCallbacks.delete(i)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(i){try{if(this.state.receiveDataMessageCallbacks.has(i.topic))for(const e of this.state.receiveDataMessageCallbacks.get(i.topic))e(i)}catch(e){this.onError(e)}}realtimeSubscribeToFatalError(i){try{this.state.fatalErrorCallbacks.push(i)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(i){try{const e=this.state.fatalErrorCallbacks.indexOf(i);e!==-1&&this.state.fatalErrorCallbacks.splice(e,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(i){i?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(i,e){const t=this.state.localAttendeeId,n=this.state.muted;return i!==t||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?e:n}sendVolumeIndicatorChange(i,e,t,n,s){if(this.sendLocalSignalStrengthChange(i,n),!this.state.volumeIndicatorCallbacks.hasOwnProperty(i))return;const p=this.getVolumeIndicatorState(i),g=new m.default;if(e&&(g.volume=p.volume),t&&(g.muted=p.muted),n&&(g.signalStrength=p.signalStrength),!this.stateIsEmpty(g))for(const S of this.state.volumeIndicatorCallbacks[i])S(i,g.volume,g.muted,g.signalStrength,s)}sendLocalSignalStrengthChange(i,e){if(!e||i!==this.state.localAttendeeId)return;const n=this.getVolumeIndicatorState(i).signalStrength;if(n!==null)for(const s of this.state.localSignalStrengthChangeCallbacks)s(n)}getVolumeIndicatorState(i){return this.state.volumeIndicatorState.hasOwnProperty(i)||(this.state.volumeIndicatorState[i]=new m.default),this.state.volumeIndicatorState[i]}stateIsEmpty(i){return i.volume===null&&i.muted===null&&i.signalStrength===null}onError(i){try{for(const e of this.state.fatalErrorCallbacks)e(i)}catch(e){try{console.error(i),console.error(e)}catch{}}}constructor(i,e){this.mediaStreamBroker=i,this.state=new h.default,this._transcriptionController=e||new f.default(this)}},"DefaultRealtimeController");c.default=a},"iZ5/":function(U,c,d){var v=d("BRsN");U.exports=function(f,h,m){for(var a in h)m&&f[a]?f[a]=h[a]:v(f,a,h[a]);return f}},ig3W:function(U,c){U.exports={}},ig3o:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioInputFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(v=c.CheckAudioInputFeedback||(c.CheckAudioInputFeedback={})),c.default=v},igcJ:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("F7zz")),h=v(d("BkFD")),m=v(d("HbHZ")),a=d("XCDq"),o=d("Aplu");let i=r(class{addObserver(t){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(t)}removeObserver(t){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(t)}forEachObserver(t){for(const n of this.observerQueue)f.default.nextTick(()=>{this.observerQueue.has(n)&&t(n)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(n=>{o.Maybe.of(n.didMissPongs).map(s=>s.bind(n)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const t=a.SdkPingPongFrame.create();t.pingId=this.pingId,t.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(t),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(t){const n=a.SdkPingPongFrame.create();n.pingId=t,n.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(n)}handleSignalingClientEvent(t){switch(t.type){case m.default.WebSocketOpen:this.startPingInterval();break;case m.default.WebSocketFailed:case m.default.WebSocketError:this.logger.warn(`stopped pinging (${m.default[t.type]})`),this.stopPingInterval();break;case m.default.WebSocketClosing:case m.default.WebSocketClosed:this.logger.info(`stopped pinging (${m.default[t.type]})`),this.stopPingInterval();break;case m.default.ReceivedSignalFrame:if(t.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(t.message.pingPong.type===a.SdkPingPongType.PONG){const n=t.message.pingPong.pingId;if(n!==this.pingId){this.logger.warn(`unexpected ping id ${n} (expected ${this.pingId})`);break}this.consecutivePongsUnaccountedFor=0;let s;if(typeof t.message.timestampMs=="number")s=t.message.timestampMs;else break;this.logger.debug(()=>`received pong ${n} with timestamp ${s}`);const g=t.timestampMs-this.pingTimestampLocalMs,S=Math.round(s-g/2),u=this.pingTimestampLocalMs-S;this.logger.info(`local clock skew estimate=${u}ms from ping-pong time=${g}ms`),this.forEachObserver(l=>{o.Maybe.of(l.didReceivePong).map(E=>E.bind(l)(n,u,g))})}else this.pong(t.message.pingPong.pingId);break}}constructor(t,n,s){this.signalingClient=t,this.intervalMs=n,this.logger=s,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new h.default(this.intervalMs),this.pingId=0}},"DefaultPingPong");c.default=i},ipyK:function(U,c,d){"use strict";var v=d("jLvU");function f(h,m){return m=typeof m=="function"?m:void 0,h&&h.length?Object(v.a)(h,void 0,m):[]}r(f,"uniqWith"),c.a=f},iqsF:function(U,c,d){var v=d("aqg2"),f=d("zBWt")("iterator"),h=d("ig3W");U.exports=d("VSTI").isIterable=function(m){var a=Object(m);return a[f]!==void 0||"@@iterator"in a||h.hasOwnProperty(v(a))}},"ir/0":function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("uctb")),h=v(d("2y31"));let m=r(class extends h.default{constructor(){super(f.default.DEBUG)}},"NoOpDebugLogger");c.default=m},irli:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var v=d("+br/"),f=d("9IN5"),h=d("vapa"),m=d("v4l7"),a=function(){function i(e){if(this.hash=new h.RawSha256,e){this.outer=new h.RawSha256;var t=o(e),n=new Uint8Array(f.BLOCK_SIZE);n.set(t);for(var s=0;s<f.BLOCK_SIZE;s++)t[s]^=54,n[s]^=92;this.hash.update(t),this.outer.update(n);for(var s=0;s<t.byteLength;s++)t[s]=0}}return r(i,"Sha2561"),i.prototype.update=function(e){if(!((0,m.isEmptyData)(e)||this.error))try{this.hash.update((0,m.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(e){return[2,this.digestSync()]})})},i}();c.Sha256=a;function o(i){var e=(0,m.convertToBuffer)(i);if(e.byteLength>f.BLOCK_SIZE){var t=new h.RawSha256;t.update(e),e=t.digest()}var n=new Uint8Array(f.BLOCK_SIZE);return n.set(e),n}r(o,"bufferFromSecret")},ixoo:function(U,c){var d=0,v=Math.random();U.exports=function(f){return"Symbol(".concat(f===void 0?"":f,")_",(++d+v).toString(36))}},"j+uH":function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("ZnGd")),m=f(d("IGBW"));let a=r(class{once(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return new h.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(i){this.parentTask=i}getStatus(){return this.status}logAndThrow(i){throw this.logger.info(i),new Error(i)}baseRun(i){return v(this,void 0,void 0,function*(){try{const e=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case m.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case m.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case m.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=m.default.RUNNING,yield i.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-e)} ms`)}catch(e){throw e}finally{this.status!==m.default.CANCELED&&(this.status=m.default.FINISHED)}})}baseCancel(i){if(this.status===m.default.CANCELED||this.status===m.default.FINISHED){this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);return}this.logger.info(`canceling task ${this.name()}`),this.status=m.default.CANCELED,i.call(this)}constructor(i){this.logger=i,this.taskName="BaseTask",this.parentTask=null,this.status=m.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}},"BaseTask");c.default=a},j4TH:function(U,c,d){"use strict";(function(v){var f=c;f.asPromise=d("MFts"),f.base64=d("bnU+"),f.EventEmitter=d("aJe0"),f.float=d("KwGI"),f.inquire=d("/TZM"),f.utf8=d("yNTq"),f.pool=d("BEY9"),f.LongBits=d("ko9P"),f.isNode=Boolean(typeof v<"u"&&v&&v.process&&v.process.versions&&v.process.versions.node),f.global=f.isNode&&v||typeof window<"u"&&window||typeof self<"u"&&self||this,f.emptyArray=Object.freeze?Object.freeze([]):[],f.emptyObject=Object.freeze?Object.freeze({}):{},f.isInteger=Number.isInteger||r(function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},"isInteger"),f.isString=r(function(o){return typeof o=="string"||o instanceof String},"isString"),f.isObject=r(function(o){return o&&typeof o=="object"},"isObject"),f.isset=f.isSet=r(function(o,i){var e=o[i];return e!=null&&o.hasOwnProperty(i)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},"isSet"),f.Buffer=function(){try{var a=f.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),f._Buffer_from=null,f._Buffer_allocUnsafe=null,f.newBuffer=r(function(o){return typeof o=="number"?f.Buffer?f._Buffer_allocUnsafe(o):new f.Array(o):f.Buffer?f._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},"newBuffer"),f.Array=typeof Uint8Array<"u"?Uint8Array:Array,f.Long=f.global.dcodeIO&&f.global.dcodeIO.Long||f.global.Long||f.inquire("long"),f.key2Re=/^true|false|0|1$/,f.key32Re=/^-?(?:0|[1-9][0-9]*)$/,f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,f.longToHash=r(function(o){return o?f.LongBits.from(o).toHash():f.LongBits.zeroHash},"longToHash"),f.longFromHash=r(function(o,i){var e=f.LongBits.fromHash(o);return f.Long?f.Long.fromBits(e.lo,e.hi,i):e.toNumber(Boolean(i))},"longFromHash");function h(a,o,i){for(var e=Object.keys(o),t=0;t<e.length;++t)(a[e[t]]===void 0||!i)&&(a[e[t]]=o[e[t]]);return a}r(h,"merge"),f.merge=h,f.lcFirst=r(function(o){return o.charAt(0).toLowerCase()+o.substring(1)},"lcFirst");function m(a){function o(i,e){if(!(this instanceof o))return new o(i,e);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&h(this,e)}return r(o,"CustomError"),o.prototype=Object.create(Error.prototype,{constructor:{value:o,writable:!0,enumerable:!1,configurable:!0},name:{get:r(function(){return a},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:r(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),o}r(m,"newError"),f.newError=m,f.ProtocolError=m("ProtocolError"),f.oneOfGetter=r(function(o){for(var i={},e=0;e<o.length;++e)i[o[e]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(i[t[n]]===1&&this[t[n]]!==void 0&&this[t[n]]!==null)return t[n]}},"getOneOf"),f.oneOfSetter=r(function(o){return function(i){for(var e=0;e<o.length;++e)o[e]!==i&&delete this[o[e]]}},"setOneOf"),f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},f._configure=function(){var a=f.Buffer;if(!a){f._Buffer_from=f._Buffer_allocUnsafe=null;return}f._Buffer_from=a.from!==Uint8Array.from&&a.from||r(function(i,e){return new a(i,e)},"Buffer_from"),f._Buffer_allocUnsafe=a.allocUnsafe||r(function(i){return new a(i)},"Buffer_allocUnsafe")}}).call(this,d("yLpj"))},jG7n:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(t,n,s,p){function g(S){return S instanceof s?S:new s(function(u){u(S)})}return r(g,"adopt"),new(s||(s=Promise))(function(S,u){function l(P){try{O(p.next(P))}catch(x){u(x)}}r(l,"fulfilled");function E(P){try{O(p.throw(P))}catch(x){u(x)}}r(E,"rejected");function O(P){P.done?S(P.value):g(P.value).then(l,E)}r(O,"step"),O((p=p.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundFilterMonitor=void 0;const h=d("EkyC"),m=f(d("Xv43")),a=f(d("ZXtA"));let o=r(class{whenNext(){return this.promise||(this.promise=new Promise(n=>this.resolve=n)),this.promise}next(n){this.value=n,this.resolve(n),delete this.promise}constructor(){this.value=void 0,this.resolve=null}},"DeferredObservable"),i=r(class zf{static createWorkerPromise(){const n={resolve:null,reject:null,promise:null};return n.promise=new Promise((s,p)=>{n.resolve=s,n.reject=p}),n}validateSpec(n){if(!n)throw new Error("processor has null spec");if(!n.model)throw new Error("processor spec has null model");if(!n.paths)throw new Error("processor spec has null paths")}validateOptions(n){if(!n)throw new Error("processor has null options");if(!n.logger)throw new Error("processor has null options - logger");if(!n.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!n.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(n){this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,n.reportingPeriodMillis,n.filterCPUUtilization,this.logger),this.cpuMonitor=new e(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(n){return JSON.stringify(n,null,2)}handleInitialize(n){if(this.logger.info(`received initialize message: ${this.stringify(n)}`),!n.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const s=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:s.path,inputHeight:s.input.height,inputWidth:s.input.width,inputChannels:4,modelRangeMin:s.input.range[0],modelRangeMax:s.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(n){if(this.logger.info(`received load model message: ${this.stringify(n)}`),n.payload!==2){this.logger.error("failed to load model! status: "+n.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+n.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(n){this.mask$.next(n.payload.output)}handleWorkerEvent(n){const s=n.data;switch(s.msg){case"initialize":this.handleInitialize(s);break;case"loadModel":this.handleLoadModel(s);break;case"predict":this.handlePredict(s);break;default:this.logger.info(`unexpected event msg: ${this.stringify(s)}`);break}}loadAssets(){return v(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield h.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",n=>this.handleWorkerEvent(n)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(n){throw new Error(`could not initialize the ${this.filterType} video frame processor due to '${n.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(n){return v(this,void 0,void 0,function*(){if(this.destroyed)return n;this.frameCounter.frameReceived(n[0].framerate),this.cpuMonitor.frameReceived();const s=n[0].asCanvasElement();if(!s)return n;if(!this.modelInitialized)return n[0]=this.canvasVideoFrameBuffer,n;const p=s.width,g=s.height;if(p===0||g===0)return n;this.sourceWidth===0&&(this.sourceWidth=p,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==p||this.sourceHeight!==g)&&(this.sourceWidth=p,this.sourceHeight=g,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let S=this.mask$.value;const u=this.spec.model.input.width/s.width,l=this.spec.model.input.height/s.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const E=this.scaledCanvas.getContext("2d");E.save(),E.scale(u,l),E.drawImage(s,0,0),E.restore();const O=E.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const P=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:O},[O.data.buffer]),S=yield P}this.destroyed||this.drawImageWithMask(s,S)}catch(S){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${S}`),n}finally{this.frameCounter.filterComplete(),this.frameNumber++}return n[0]=this.canvasVideoFrameBuffer,n})}updateVideoFramesPerFilterUpdate(n){n!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=n,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var n,s,p,g;return v(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(n=this.worker)===null||n===void 0||n.postMessage({msg:"destroy"}),(s=this.worker)===null||s===void 0||s.postMessage({msg:"stop"}),(p=this.targetCanvas)===null||p===void 0||p.remove(),this.targetCanvas=void 0,(g=this.scaledCanvas)===null||g===void 0||g.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}constructor(n,s,p,g,S){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new m.default(this.targetCanvas),this.mask$=new o,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=zf.createWorkerPromise(),this.loadModelPromise=zf.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=n,this.validateSpec(s),this.validateOptions(p),this.spec=s,this.logger=p.logger,this.delegate=g,this.initCPUMonitor(p),this.eventController=S}},"BackgroundFilterProcessor");c.default=i;let e=r(class{filterCPUUtilizationHigh(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=n,this.observer.reduceCPUUtilization())}frameReceived(){const n=Date.now();n-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=n,this.observer.increaseCPUUtilization())}constructor(n,s){this.monitoringPeriodMillis=n,this.observer=s,this.lastCPUChangeTimestamp=0}},"BackgroundFilterMonitor");c.BackgroundFilterMonitor=e},jHTc:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("59sL")),h=v(d("4EN+"));let m=r(class{create(o,i,e){this.connection=new WebSocket(e?o:f.default.urlWithVersion(o),i),this.connection.binaryType="arraybuffer"}send(o){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return o instanceof Uint8Array?this.connection.send(o.buffer):this.connection.send(o),!0}catch(i){return this.logger.debug(()=>`send error: ${i.message}, websocket state=${h.default[this.readyState()]}`),!1}}close(o,i){var e;(e=this.connection)===null||e===void 0||e.close(o,i)}destroy(){this.connection=void 0}addEventListener(o,i){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(o,i)}removeEventListener(o,i){var e;(e=this.connection)===null||e===void 0||e.removeEventListener(o,i)}readyState(){if(!this.connection)return h.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return h.default.Connecting;case WebSocket.OPEN:return h.default.Open;case WebSocket.CLOSING:return h.default.Closing;case WebSocket.CLOSED:return h.default.Closed}}constructor(o){this.logger=o}},"DefaultWebSocketAdapter");c.default=m},jP1N:function(U,c,d){"use strict";(function(v){var f=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54")),m=f(d("yQ3g")),a=d("f2XL"),o=d("R4Nl"),i=f(d("59sL")),e=f(d("4EN+")),t=d("DUgj"),n=f(d("fGw7")),s=f(d("hEYi"));let p=r(class sd{registerObserver(S){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(S)}removeObserver(S){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(S)}openConnection(S){this.logger.info("adding connection request to queue: "+S.url()),this.connectionRequestQueue.push(S),this.closeConnection()}pingPong(S){this.logger.debug(()=>"sending ping");const u=a.SdkSignalFrame.create();return u.type=a.SdkSignalFrame.Type.PING_PONG,u.pingPong=S,this.sendMessage(u),u.timestampMs}join(S){this.logger.info("sending join");const u=a.SdkJoinFrame.create();u.protocolVersion=2,u.flags=a.SdkJoinFlags.HAS_STREAM_UPDATE;const l=new h.default,E={platformName:l.name(),platformVersion:l.version(),clientSource:i.default.sdkName,chimeSdkVersion:i.default.sdkVersion,clientUtcOffset:o.getFormattedOffset(new Date().getTimezoneOffset())};if(S.applicationMetadata){const{appName:P,appVersion:x}=S.applicationMetadata;E.appName=P,E.appVersion=x}u.clientDetails=a.SdkClientDetails.create(E),u.audioSessionId=this.audioSessionId,u.wantsCompressedSdp=sd.CLIENT_SUPPORTS_COMPRESSION,u.disablePeriodicKeyframeRequestOnContentSender=S.disablePeriodicKeyframeRequestOnContentSender,u.serverSideNetworkAdaption=t.convertServerSideNetworkAdaptionEnumToSignaled(S.serverSideNetworkAdaption),u.supportedServerSideNetworkAdaptions=S.supportedServerSideNetworkAdaptions.map(t.convertServerSideNetworkAdaptionEnumToSignaled);const O=a.SdkSignalFrame.create();O.type=a.SdkSignalFrame.Type.JOIN,O.join=u,this.sendMessage(O)}subscribe(S){const u=a.SdkSubscribeFrame.create();if(u.sendStreams=[],u.sdpOffer=S.sdpOffer,S.connectionTypeHasVideo&&(u.receiveStreamIds=S.receiveStreamIds),S.audioHost&&(u.audioCheckin=S.audioCheckin,u.audioHost=S.audioHost,u.audioMuted=S.audioMuted,!S.audioCheckin)){const E=a.SdkStreamDescriptor.create();E.mediaType=a.SdkStreamMediaType.AUDIO,E.trackLabel="AmazonChimeExpressAudio",E.attendeeId=S.attendeeId,E.streamId=1,E.groupId=1,E.framerate=15,E.maxBitrateKbps=600,E.avgBitrateBps=4e5,u.sendStreams.push(E)}if(u.compressedSdpOffer=S.compressedSdpOffer,u.duplex=a.SdkStreamServiceType.RX,S.localVideoEnabled){u.duplex=a.SdkStreamServiceType.DUPLEX;for(let E=0;E<S.videoStreamDescriptions.length;E++){const O=S.videoStreamDescriptions[E].clone();O.attendeeId=S.attendeeId,u.sendStreams.push(O.toStreamDescriptor())}}S.videoSubscriptionConfiguration.length>0&&(u.videoSubscriptionConfiguration=S.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const l=a.SdkSignalFrame.create();l.type=a.SdkSignalFrame.Type.SUBSCRIBE,l.sub=u,this.sendMessage(l)}remoteVideoUpdate(S,u){const l=a.SdkRemoteVideoUpdateFrame.create();l.addedOrUpdatedVideoSubscriptions=S.map(this.convertSignalingClientVideoSubscriptionConfiguration),l.removedVideoSubscriptionMids=u;const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,E.remoteVideoUpdate=l,this.sendMessage(E)}convertSignalingClientVideoSubscriptionConfiguration(S){const u=new a.SdkVideoSubscriptionConfiguration;return u.mid=S.mid,u.attendeeId=S.attendeeId,u.streamId=S.streamId,u.groupId=S.groupId,u.priority=S.priority,u.targetBitrateKbps=S.targetBitrateKbps,u}leave(){const S=a.SdkSignalFrame.create();S.type=a.SdkSignalFrame.Type.LEAVE,S.leave=a.SdkLeaveFrame.create(),this.sendMessage(S),this.logger.debug(()=>"sent leave")}sendClientMetrics(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.CLIENT_METRIC,u.clientMetric=S,this.sendMessage(u)}sendDataMessage(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.DATA_MESSAGE,u.dataMessage=S,this.sendMessage(u)}closeConnection(){var S,u;if(this.webSocket.readyState()!==e.default.None&&this.webSocket.readyState()!==e.default.Closed){this.isClosing=!0,this.sendEvent(new n.default(this,s.default.WebSocketClosing,null));const l=new m.default(sd.CLOSE_EVENT_TIMEOUT_MS),E=r(O=>{var P,x;(x=(P=this.webSocket).removeEventListener)===null||x===void 0||x.call(P,"close",E),l.stop(),this.closeEventHandler(O)},"handler");(u=(S=this.webSocket).removeEventListener)===null||u===void 0||u.call(S,"close",this.closeEventHandler),this.webSocket.addEventListener("close",E),l.start(()=>{E(new CloseEvent("close",{wasClean:!1,code:1005,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===e.default.Open&&!this.isClosing&&this.wasOpened}mute(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.AUDIO_CONTROL;const l=a.SdkAudioControlFrame.create();l.muted=S,u.audioControl=l,this.sendMessage(u)}pause(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.PAUSE,u.pause=a.SdkPauseResumeFrame.create(),u.pause.streamIds=S,this.sendMessage(u)}resume(S){const u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.RESUME,u.pause=a.SdkPauseResumeFrame.create(),u.pause.streamIds=S,this.sendMessage(u)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(S){S.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(S)}`);const u=this.prependWithFrameTypeRTC(a.SdkSignalFrame.encode(S).finish());if(this.ready()){if(!this.webSocket.send(u)){this.sendEvent(new n.default(this,s.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new n.default(this,s.default.WebSocketSentMessage,null))}else this.sendEvent(new n.default(this,s.default.WebSocketSkippedMessage,null))}receiveMessage(S){let u;try{u=a.SdkSignalFrame.decode(S)}catch{this.logger.info(`failed to decode: ${S}`),this.sendEvent(new n.default(this,s.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(u)}`),this.webSocket.readyState()===e.default.Open?this.sendEvent(new n.default(this,s.default.ReceivedSignalFrame,u)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(u)}`)}stripFrameTypeRTC(S){const u=S[0];return u!==sd.FRAME_TYPE_RTC&&u!==2&&this.logger.warn(`expected FrameTypeRTC for message but got ${u}`),S.slice(1)}prependWithFrameTypeRTC(S){const u=new Uint8Array(S.length+1);return u[0]=sd.FRAME_TYPE_RTC,u.set(S,1),u}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const S=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${S.url()}`),this.isClosing=!1,this.webSocket.create(S.url(),S.protocols()),this.setUpEventListeners(),this.sendEvent(new n.default(this,s.default.WebSocketConnecting,null))}sendEvent(S){switch(S.type){case s.default.WebSocketMessage:case s.default.ReceivedSignalFrame:case s.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${s.default[S.type]}`);break;case s.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${s.default[S.type]}, websocket state=${e.default[this.webSocket.readyState()]}`);break;case s.default.WebSocketClosed:this.logger.info(`notifying event: ${s.default[S.type]}, 
              code: ${S.closeCode} reason: ${S.closeReason}`);break;default:this.logger.info(`notifying event: ${s.default[S.type]}`);break}for(const u of this.observerQueue)u.handleSignalingClientEvent(S)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new n.default(this,s.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",S=>{this.sendEvent(new n.default(this,s.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(S.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new n.default(this,s.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new n.default(this,s.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const S=v;S.window&&S.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const S=v;S.window&&S.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const S=new Uint32Array(1);return window.crypto.getRandomValues(S)[0]}promoteToPrimaryMeeting(S){const u=a.SdkMeetingSessionCredentials.create();u.attendeeId=S.attendeeId,u.externalUserId=S.externalUserId,u.joinToken=S.joinToken;const l=a.SdkPrimaryMeetingJoinFrame.create();l.credentials=u;const E=a.SdkSignalFrame.create();E.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,E.primaryMeetingJoin=l,this.sendMessage(E)}demoteFromPrimaryMeeting(){const S=a.SdkPrimaryMeetingLeaveFrame.create(),u=a.SdkSignalFrame.create();u.type=a.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,u.primaryMeetingLeave=S,this.sendMessage(u)}constructor(S,u){this.webSocket=S,this.logger=u,this.unloadHandler=null,this.closeEventHandler=l=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new n.default(this,s.default.WebSocketClosed,null,l.code,l.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}},"DefaultSignalingClient");c.default=p,p.FRAME_TYPE_RTC=5,p.CLOSE_EVENT_TIMEOUT_MS=2e3,p.CLIENT_SUPPORTS_COMPRESSION=!0}).call(this,d("yLpj"))},je3o:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Sha256=void 0;var v=d("7JaV"),f=d("vdHl"),h=d("cZ61"),m=d("pU0T"),a=function(){function i(e){this.secret=e,this.hash=new h.RawSha256,this.reset()}return r(i,"Sha256"),i.prototype.update=function(e){if(!((0,m.isEmptyData)(e)||this.error))try{this.hash.update((0,m.convertToBuffer)(e))}catch(t){this.error=t}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(e){return[2,this.digestSync()]})})},i.prototype.reset=function(){if(this.hash=new h.RawSha256,this.secret){this.outer=new h.RawSha256;var e=o(this.secret),t=new Uint8Array(f.BLOCK_SIZE);t.set(e);for(var n=0;n<f.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},i}();c.Sha256=a;function o(i){var e=(0,m.convertToBuffer)(i);if(e.byteLength>f.BLOCK_SIZE){var t=new h.RawSha256;t.update(e),e=t.digest()}var n=new Uint8Array(f.BLOCK_SIZE);return n.set(e),n}r(o,"bufferFromSecret")},jhQD:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0}),c.TranscriptEventConverter=void 0;const f=d("f2XL"),h=v(d("7nob")),m=v(d("VoiG")),a=v(d("h4LR")),o=v(d("VWEK")),i={[f.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[f.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[f.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[f.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[f.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};let e=r(class{static from(n){let s;try{s=f.SdkTranscriptFrame.decode(n.data)}catch(g){throw new Error("Cannot decode transcript data message: "+g)}const p=[];for(const g of s.events)if(g.status){const S=i[g.status.type];if(!S)continue;const u=new m.default;u.type=S,u.eventTimeMs=g.status.eventTime,u.transcriptionRegion=g.status.transcriptionRegion,u.transcriptionConfiguration=g.status.transcriptionConfiguration,g.status.message&&(u.message=g.status.message),p.push(u)}else if(g.transcript){const S=new h.default;S.results=[];for(const u of g.transcript.results){const l={channelId:u.channelId,isPartial:u.isPartial,resultId:u.resultId,startTimeMs:u.startTime,endTimeMs:u.endTime,alternatives:[]};if(u.languageCode&&(l.languageCode=u.languageCode),u.languageIdentification&&u.languageIdentification.length>0){l.languageIdentification=[];for(const E of u.languageIdentification){const O={languageCode:E.languageCode,score:E.score};l.languageIdentification.push(O)}}for(const E of u.alternatives){const O={items:[],transcript:E.transcript};for(const P of E.items){const x={content:P.content,attendee:{attendeeId:P.speakerAttendeeId,externalUserId:P.speakerExternalUserId},startTimeMs:P.startTime,endTimeMs:P.endTime,type:null};switch(P.vocabularyFilterMatch&&(x.vocabularyFilterMatch=P.vocabularyFilterMatch),P.hasOwnProperty("stable")&&(x.stable=P.stable),P.hasOwnProperty("confidence")&&(x.confidence=P.confidence),P.type){case f.SdkTranscriptItem.Type.PRONUNCIATION:x.type=o.default.PRONUNCIATION;break;case f.SdkTranscriptItem.Type.PUNCTUATION:x.type=o.default.PUNCTUATION;break}O.items.push(x)}for(const P of E.entities){O.entities||(O.entities=[]);const x={category:P.category,confidence:P.confidence,content:P.content,startTimeMs:P.startTime,endTimeMs:P.endTime};P.type&&(x.type=P.type),O.entities.push(x)}l.alternatives.push(O)}S.results.push(l)}p.push(S)}return p}},"TranscriptEventConverter");c.TranscriptEventConverter=e},jlxs:function(U,c,d){var v=d("7whZ"),f=v.navigator;U.exports=f&&f.userAgent||""},jmx1:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioInputFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied"})(v=c.CheckAudioInputFeedback||(c.CheckAudioInputFeedback={})),c.default=v},jo6Y:function(U,c,d){"use strict";c.__esModule=!0,c.default=function(v,f){var h={};for(var m in v)f.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(v,m)&&(h[m]=v[m]);return h}},jssz:function(U,c,d){var v=d("7whZ"),f=d("vOBO").set,h=v.MutationObserver||v.WebKitMutationObserver,m=v.process,a=v.Promise,o=d("TYje")(m)=="process";U.exports=function(){var i,e,t,n=r(function(){var S,u;for(o&&(S=m.domain)&&S.exit();i;){u=i.fn,i=i.next;try{u()}catch(l){throw i?t():e=void 0,l}}e=void 0,S&&S.enter()},"flush");if(o)t=r(function(){m.nextTick(n)},"notify");else if(h&&!(v.navigator&&v.navigator.standalone)){var s=!0,p=document.createTextNode("");new h(n).observe(p,{characterData:!0}),t=r(function(){p.data=s=!s},"notify")}else if(a&&a.resolve){var g=a.resolve(void 0);t=r(function(){g.then(n)},"notify")}else t=r(function(){f.call(v,n)},"notify");return function(S){var u={fn:S,next:void 0};e&&(e.next=u),i||(i=u,t()),e=u}}},jtkq:function(U,c,d){var v;(function(f,h,m){if(!f)return;for(var a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},e={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t,n=1;n<20;++n)a[111+n]="f"+n;for(n=0;n<=9;++n)a[n+96]=n.toString();function s(w,A,D){if(w.addEventListener){w.addEventListener(A,D,!1);return}w.attachEvent("on"+A,D)}r(s,"_addEvent");function p(w,A,D){w.removeEventListener&&w.removeEventListener(A,D,!1)}r(p,"_removeEvent");function g(w){if(w.type=="keypress"){var A=String.fromCharCode(w.which);return w.shiftKey||(A=A.toLowerCase()),A}return a[w.which]?a[w.which]:o[w.which]?o[w.which]:String.fromCharCode(w.which).toLowerCase()}r(g,"_characterFromEvent");function S(w,A){return w.sort().join(",")===A.sort().join(",")}r(S,"_modifiersMatch");function u(w){var A=[];return w.shiftKey&&A.push("shift"),w.altKey&&A.push("alt"),w.ctrlKey&&A.push("ctrl"),w.metaKey&&A.push("meta"),A}r(u,"_eventModifiers");function l(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}r(l,"_preventDefault");function E(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}r(E,"_stopPropagation");function O(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}r(O,"_isModifier");function P(){if(!t){t={};for(var w in a)w>95&&w<112||a.hasOwnProperty(w)&&(t[a[w]]=w)}return t}r(P,"_getReverseMap");function x(w,A,D){return D||(D=P()[w]?"keydown":"keypress"),D=="keypress"&&A.length&&(D="keydown"),D}r(x,"_pickBestAction");function k(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}r(k,"_keysFromString");function B(w,A){var D,K,X,j=[];for(D=k(w),X=0;X<D.length;++X)K=D[X],e[K]&&(K=e[K]),A&&A!="keypress"&&i[K]&&(K=i[K],j.push("shift")),O(K)&&j.push(K);return A=x(K,j,A),{key:K,modifiers:j,action:A}}r(B,"_getKeyInfo");function R(w,A){return w===null||w===h?!1:w===A?!0:R(w.parentNode,A)}r(R,"_belongsTo");function N(w){var A=this;if(w=w||h,!(A instanceof N))return new N(w);A.target=w,A._callbacks={},A._directMap={};var D={},K,X=!1,j=!1,te=!1;function me(Le){Le=Le||{};var at=!1,lt;for(lt in D){if(Le[lt]){at=!0;continue}D[lt]=0}at||(te=!1)}r(me,"_resetSequences");function we(Le,at,lt,ot,pt,ct){var rt,Tn,Qt=[],Ft=lt.type;if(!A._callbacks[Le])return[];for(Ft=="keyup"&&O(Le)&&(at=[Le]),rt=0;rt<A._callbacks[Le].length;++rt)if(Tn=A._callbacks[Le][rt],!(!ot&&Tn.seq&&D[Tn.seq]!=Tn.level)&&Ft==Tn.action&&(Ft=="keypress"&&!lt.metaKey&&!lt.ctrlKey||S(at,Tn.modifiers))){var Rn=!ot&&Tn.combo==pt,Pn=ot&&Tn.seq==ot&&Tn.level==ct;(Rn||Pn)&&A._callbacks[Le].splice(rt,1),Qt.push(Tn)}return Qt}r(we,"_getMatches");function pe(Le,at,lt,ot){A.stopCallback(at,at.target||at.srcElement,lt,ot)||Le(at,lt)===!1&&(l(at),E(at))}r(pe,"_fireCallback"),A._handleKey=function(Le,at,lt){var ot=we(Le,at,lt),pt,ct={},rt=0,Tn=!1;for(pt=0;pt<ot.length;++pt)ot[pt].seq&&(rt=Math.max(rt,ot[pt].level));for(pt=0;pt<ot.length;++pt){if(ot[pt].seq){if(ot[pt].level!=rt)continue;Tn=!0,ct[ot[pt].seq]=1,pe(ot[pt].callback,lt,ot[pt].combo,ot[pt].seq);continue}Tn||pe(ot[pt].callback,lt,ot[pt].combo)}var Qt=lt.type=="keypress"&&j;lt.type==te&&!O(Le)&&!Qt&&me(ct),j=Tn&&lt.type=="keydown"};function Ae(Le){typeof Le.which!="number"&&(Le.which=Le.keyCode);var at=g(Le);if(at){if(Le.type=="keyup"&&X===at){X=!1;return}A.handleKey(at,u(Le),Le)}}r(Ae,"_handleKeyEvent");function Je(){clearTimeout(K),K=setTimeout(me,1e3)}r(Je,"_resetSequenceTimer");function Fe(Le,at,lt,ot){D[Le]=0;function pt(Ft){return function(){te=Ft,++D[Le],Je()}}r(pt,"_increaseSequence");function ct(Ft){pe(lt,Ft,Le),ot!=="keyup"&&(X=g(Ft)),setTimeout(me,10)}r(ct,"_callbackAndReset");for(var rt=0;rt<at.length;++rt){var Tn=rt+1===at.length,Qt=Tn?ct:pt(ot||B(at[rt+1]).action);Ue(at[rt],Qt,ot,Le,rt)}}r(Fe,"_bindSequence");function Ue(Le,at,lt,ot,pt){A._directMap[Le+":"+lt]=at,Le=Le.replace(/\s+/g," ");var ct=Le.split(" "),rt;if(ct.length>1){Fe(Le,ct,at,lt);return}rt=B(Le,lt),A._callbacks[rt.key]=A._callbacks[rt.key]||[],we(rt.key,rt.modifiers,{type:rt.action},ot,Le,pt),A._callbacks[rt.key][ot?"unshift":"push"]({callback:at,modifiers:rt.modifiers,action:rt.action,seq:ot,level:pt,combo:Le})}r(Ue,"_bindSingle"),A._bindMultiple=function(Le,at,lt){for(var ot=0;ot<Le.length;++ot)Ue(Le[ot],at,lt)},A.destroy=function(){p(w,"keypress",Ae),p(w,"keydown",Ae),p(w,"keyup",Ae),A.reset()},s(w,"keypress",Ae),s(w,"keydown",Ae),s(w,"keyup",Ae)}r(N,"Mousetrap"),N.prototype.bind=function(w,A,D){var K=this;return w=w instanceof Array?w:[w],K._bindMultiple.call(K,w,A,D),K},N.prototype.unbind=function(w,A){var D=this;return D.bind.call(D,w,function(){},A)},N.prototype.trigger=function(w,A){var D=this;return D._directMap[w+":"+A]&&D._directMap[w+":"+A]({},w),D},N.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},N.prototype.stopCallback=function(w,A){var D=this;return(" "+A.className+" ").indexOf(" mousetrap ")>-1||R(A,D.target)?!1:A.tagName=="INPUT"||A.tagName=="SELECT"||A.tagName=="TEXTAREA"||A.isContentEditable},N.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},N.addKeycodes=function(w){for(var A in w)w.hasOwnProperty(A)&&(a[A]=w[A]);t=null},N.init=function(){var w=N(h);for(var A in w)A.charAt(0)!=="_"&&(N[A]=function(D){return function(){return w[D].apply(w,arguments)}}(A))},N.init(),f.Mousetrap=N,U.exports&&(U.exports=N),v=function(){return N}.call(c,d,c,U),v!==m&&(U.exports=v)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},"k/8l":function(U,c,d){U.exports={default:d("e56k"),__esModule:!0}},k8sa:function(U,c,d){"use strict";U.exports={}},kItj:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("ghxq"));let h=r(class Ks extends f.default{health(){if(this.currentData.isConnectionStartRecent(Ks.CONNECTION_WAIT_TIME_MS))return 1;const o=this.currentData.consecutiveStatsWithNoPackets>=Ks.CONNECTION_UNHEALTHY_THRESHOLD,i=this.currentData.consecutiveMissedPongs>=Ks.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>Ks.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const e=this.audioDelayPointsOverMaximum>Ks.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return e&&(this.audioDelayPointsOverMaximum=0),o||i||e?(this.logger.warn(`reconnection recommended due to: no packets received: ${o}, missed pongs: ${i}, bad audio delay: ${e}`),0):1}constructor(a,o,i){super(o,i,"Reconnection Health"),this.logger=a,this.audioDelayPointsOverMaximum=0,Ks.CONNECTION_UNHEALTHY_THRESHOLD=o.connectionUnhealthyThreshold,Ks.CONNECTION_WAIT_TIME_MS=o.connectionWaitTimeMs,Ks.MISSED_PONGS_THRESHOLD=o.missedPongsUpperThreshold,Ks.MAXIMUM_AUDIO_DELAY_MS=o.maximumAudioDelayMs,Ks.MAXIMUM_AUDIO_DELAY_DATA_POINTS=o.maximumAudioDelayDataPoints}},"ReconnectionHealthPolicy");c.default=h},kQNw:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function v(f){return typeof f=="string"?f.length===0:f.byteLength===0}r(v,"isEmptyData"),c.isEmptyData=v},"kU+7":function(U,c,d){"use strict";(function(v){var f=c;f.asPromise=d("MFts"),f.base64=d("bnU+"),f.EventEmitter=d("aJe0"),f.float=d("KwGI"),f.inquire=d("/TZM"),f.utf8=d("yNTq"),f.pool=d("BEY9"),f.LongBits=d("xGEd"),f.isNode=Boolean(typeof v<"u"&&v&&v.process&&v.process.versions&&v.process.versions.node),f.global=f.isNode&&v||typeof window<"u"&&window||typeof self<"u"&&self||this,f.emptyArray=Object.freeze?Object.freeze([]):[],f.emptyObject=Object.freeze?Object.freeze({}):{},f.isInteger=Number.isInteger||r(function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},"isInteger"),f.isString=r(function(o){return typeof o=="string"||o instanceof String},"isString"),f.isObject=r(function(o){return o&&typeof o=="object"},"isObject"),f.isset=f.isSet=r(function(o,i){var e=o[i];return e!=null&&o.hasOwnProperty(i)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1},"isSet"),f.Buffer=function(){try{var a=f.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),f._Buffer_from=null,f._Buffer_allocUnsafe=null,f.newBuffer=r(function(o){return typeof o=="number"?f.Buffer?f._Buffer_allocUnsafe(o):new f.Array(o):f.Buffer?f._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},"newBuffer"),f.Array=typeof Uint8Array<"u"?Uint8Array:Array,f.Long=f.global.dcodeIO&&f.global.dcodeIO.Long||f.global.Long||f.inquire("long"),f.key2Re=/^true|false|0|1$/,f.key32Re=/^-?(?:0|[1-9][0-9]*)$/,f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,f.longToHash=r(function(o){return o?f.LongBits.from(o).toHash():f.LongBits.zeroHash},"longToHash"),f.longFromHash=r(function(o,i){var e=f.LongBits.fromHash(o);return f.Long?f.Long.fromBits(e.lo,e.hi,i):e.toNumber(Boolean(i))},"longFromHash");function h(a,o,i){for(var e=Object.keys(o),t=0;t<e.length;++t)(a[e[t]]===void 0||!i)&&(a[e[t]]=o[e[t]]);return a}r(h,"merge"),f.merge=h,f.lcFirst=r(function(o){return o.charAt(0).toLowerCase()+o.substring(1)},"lcFirst");function m(a){function o(i,e){if(!(this instanceof o))return new o(i,e);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&h(this,e)}return r(o,"CustomError"),o.prototype=Object.create(Error.prototype,{constructor:{value:o,writable:!0,enumerable:!1,configurable:!0},name:{get:r(function(){return a},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:r(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),o}r(m,"newError"),f.newError=m,f.ProtocolError=m("ProtocolError"),f.oneOfGetter=r(function(o){for(var i={},e=0;e<o.length;++e)i[o[e]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(i[t[n]]===1&&this[t[n]]!==void 0&&this[t[n]]!==null)return t[n]}},"getOneOf"),f.oneOfSetter=r(function(o){return function(i){for(var e=0;e<o.length;++e)o[e]!==i&&delete this[o[e]]}},"setOneOf"),f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},f._configure=function(){var a=f.Buffer;if(!a){f._Buffer_from=f._Buffer_allocUnsafe=null;return}f._Buffer_from=a.from!==Uint8Array.from&&a.from||r(function(i,e){return new a(i,e)},"Buffer_from"),f._Buffer_allocUnsafe=a.allocUnsafe||r(function(i){return new a(i)},"Buffer_allocUnsafe")}}).call(this,d("yLpj"))},kUGv:function(U,c,d){var v=d("7whZ").document;U.exports=v&&v.documentElement},kUL9:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("U9CR")),m=f(d("F7zz"));let a=r(class{bindAudioElement(i){return v(this,void 0,void 0,function*(){if(!i)throw new Error(`Cannot bind audio element: ${i}`);return this.audioElement=i,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(i=>{this.audioStream&&i.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(i){return v(this,void 0,void 0,function*(){if(i){this.audioStream=i;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(i){return v(this,void 0,void 0,function*(){if(i&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=i,this.bindAudioMix()})}forEachObserver(i){for(const e of this.observers)m.default.nextTick(()=>{i(e)})}bindAudioMix(){var i,e;return v(this,void 0,void 0,function*(){if(!this.audioElement)return;const t=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),t!==this.audioStream&&this.forEachObserver(u=>{t&&u.meetingAudioStreamBecameInactive(t),this.audioStream&&u.meetingAudioStreamBecameActive(this.audioStream)});const n=((i=this.audioDevice)===null||i===void 0?void 0:i.deviceId)!==this.audioElement.sinkId;if(n&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const s=this.audioDevice?this.audioDevice.deviceId:"",p=this.audioElement.sinkId;if(s===p)return;const g=this.audioElement,S=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=null),n)try{yield g.setSinkId(s)}catch(u){throw(e=this.logger)===null||e===void 0||e.error(`Failed to set sinkId for audio element: ${u}`),u}this.browserBehavior.hasChromiumWebRTC()&&(g.srcObject=S)})}getCurrentMeetingAudioStream(){return v(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(i){return v(this,void 0,void 0,function*(){this.observers.add(i)})}removeAudioMixObserver(i){return v(this,void 0,void 0,function*(){this.observers.delete(i)})}audioOutputDidChange(i){return v(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(i)})}constructor(i){this.logger=i,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new h.default,this.observers=new Set}},"DefaultAudioMixController");c.default=a},kabN:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class jd{onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(h){let m=0;for(const a of h.streams){const o=!!a.attendeeId,i=!!a.externalUserId,e=a.hasOwnProperty("muted"),t=!!a.dropped;if(o){this.attendeeIdToStreamId[a.attendeeId]&&this.attendeeIdToStreamId[a.attendeeId]<a.audioStreamId&&delete this.attendeeIdToStreamId[a.attendeeId],this.streamIdToAttendeeId[a.audioStreamId]=a.attendeeId;const n=i?a.externalUserId:a.attendeeId;this.streamIdToExternalUserId[a.audioStreamId]=n,this.attendeeIdToStreamId[a.attendeeId]=a.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(a.attendeeId,!0,n,!1,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}if(e){const n=this.streamIdToAttendeeId[a.audioStreamId],s=this.streamIdToExternalUserId[a.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(n,null,a.muted,null,s)}if(!o&&!e){const n=this.streamIdToAttendeeId[a.audioStreamId];if(n){const s=this.streamIdToExternalUserId[a.audioStreamId];delete this.streamIdToAttendeeId[a.audioStreamId],delete this.streamIdToExternalUserId[a.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[a.audioStreamId],this.attendeeIdToStreamId[n]===a.audioStreamId&&delete this.attendeeIdToStreamId[n];let p=!1;for(const g of Object.keys(this.streamIdToAttendeeId)){const S=parseInt(g);if(S>a.audioStreamId&&this.streamIdToAttendeeId[S]===n){p=!0;break}}p||this.realtimeController.realtimeSetAttendeeIdPresence(n,!1,s,t,{attendeeIndex:m++,attendeesInFrame:h.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(h),this.sessionReconnected=!1)}cleanUpState(h){const m=Object.values(this.streamIdToAttendeeId),a=h.streams.map(i=>i.attendeeId),o=m.filter(i=>!a.includes(i));for(const[i,e]of o.entries()){const t=this.attendeeIdToStreamId[e],n=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[e],e===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(e,!1,n,!1,{attendeeIndex:i,attendeesInFrame:e.length})}}sendRealtimeUpdatesForAudioMetadata(h){let m=null,a=null;for(const o of h.attendeeStates){const i=this.attendeeIdForStreamId(o.audioStreamId);o.hasOwnProperty("volume")&&(m===null&&(m={}),i!==null&&(m[i]=this.normalizedVolume(o))),o.hasOwnProperty("signalStrength")&&(a===null&&(a={}),i!==null&&(a[i]=this.normalizedSignalStrength(o)))}this.applyRealtimeUpdatesForAudioMetadata(m,a)}normalizedVolume(h){const a=1-(-h.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(a,0),1)}normalizedSignalStrength(h){const m=h.signalStrength/jd.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(m,0),1)}applyRealtimeUpdatesForAudioMetadata(h,m){for(const a in this.streamIdToAttendeeId){const o=this.streamIdToAttendeeId[a],i=this.streamIdToExternalUserId[a];let e=null,t=null;h!==null&&(h.hasOwnProperty(o)?e=h[o]:e=jd.IMPLICIT_VOLUME),m!==null&&(m.hasOwnProperty(o)?t=m[o]:t=jd.IMPLICIT_SIGNAL_STRENGTH),(e!==null||t!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(o,e,null,t,i)}}attendeeIdForStreamId(h){if(h===0)return null;const m=this.streamIdToAttendeeId[h];return m||(this.warnedAboutMissingStreamIdMapping[h]||(this.warnedAboutMissingStreamIdMapping[h]=!0,this.logger.warn(`volume indicator stream id ${h} seen before being defined`)),null)}constructor(h,m,a,o,i){this.logger=h,this.realtimeController=m,this.minVolumeDecibels=a,this.maxVolumeDecibels=o,this.selfAttendeeId=i,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}},"DefaultVolumeIndicatorAdapter");c.default=v,v.MAX_SIGNAL_STRENGTH_LEVELS=2,v.IMPLICIT_VOLUME=0,v.IMPLICIT_SIGNAL_STRENGTH=1},kcqV:function(U,c,d){var v=d("bKEA"),f=d("TSC6").f;d("czaS")("getOwnPropertyDescriptor",function(){return r(function(m,a){return f(v(m),a)},"getOwnPropertyDescriptor")})},knPd:function(U,c,d){"use strict";var v=this&&this.__createBinding||(Object.create?function(x,k,B,R){R===void 0&&(R=B),Object.defineProperty(x,R,{enumerable:!0,get:function(){return k[B]}})}:function(x,k,B,R){R===void 0&&(R=B),x[R]=k[B]}),f=this&&this.__setModuleDefault||(Object.create?function(x,k){Object.defineProperty(x,"default",{enumerable:!0,value:k})}:function(x,k){x.default=k}),h=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var k={};if(x!=null)for(var B in x)B!=="default"&&Object.prototype.hasOwnProperty.call(x,B)&&v(k,x,B);return f(k,x),k},m=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(c,"__esModule",{value:!0});const a=m(d("g+gC")),o=m(d("LmyK")),i=m(d("mpmV")),e=m(d("34ho")),t=d("uctb"),n=h(d("DUgj")),s=m(d("aqWb")),p=m(d("Zkgh")),g=m(d("nYR4")),S=m(d("Lspx")),u=m(d("uaNU")),l=d("P7D+"),E=m(d("J1op"));let O=r(class{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}},"LinkMediaStats"),P=r(class Rr{reset(){this.allHighestPolicy=new g.default(""),this.optimalReceiveSet=new p.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new p.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new p.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=Rr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=Rr.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new O,this.prevDownlinkStats=new O,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(k){this.tileController=k,this.logger.info("tileController bound")}setWantsResubscribeObserver(k){this.wantsResubscribeObserver=k}chooseRemoteVideoSources(k){var B;if(!(!((B=this.videoPreferences)===null||B===void 0)&&B.equals(k))){if(this.videoPreferences=k==null?void 0:k.clone(),!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const R=new Array;for(const N of this.videoPreferences){const w=new s.default;w.attendee=new a.default,w.attendee.attendeeId=N.attendeeId,R.push(w)}this.allHighestPolicy.chooseRemoteVideoSources(R);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(k)}`)}}updateIndex(k){this.videoIndex=k,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(k),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const k=new Set;for(const w of this.videoIndex.remoteStreamDescriptions())k.add(w.attendeeId);const B=l.VideoPreferences.prepare(),R=k.size;let N=S.default.Maximum;R>8?N=S.default.Low:R>4&&(N=S.default.Medium);for(const w of k)B.add(new u.default(w,1,N));this.defaultVideoPreferences=B.build()}updateMetrics(k){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new O;const B=k.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=B.availableIncomingBitrate/1e3;for(const R in k.streamMetricReports){const N=Number.parseInt(R,10),w=k.streamMetricReports[N];w.direction===o.default.DOWNSTREAM&&w.mediaType===i.default.VIDEO&&(w.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=k.countPerSecond("nackCount",N)),w.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=k.countPerSecond("packetsLost",N)),w.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=k.bitsPerSecond("bytesReceived",N)/1e3))}}wantsResubscribe(){let k=!1;return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(k||(k=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?k||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),k||(k=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),k)}chooseSubscriptions(){return!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===n.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(k){this.observerQueue.add(k)}removeObserver(k){this.observerQueue.delete(k)}forEachObserver(k){for(const B of this.observerQueue)k(B)}setVideoPriorityBasedPolicyConfigs(k){this.videoPriorityBasedPolicyConfig=k}calculateOptimalReceiveStreams(){var k;const B=[],R=this.videoIndex.remoteStreamDescriptions();if(R.length===0||!((k=this.videoPreferences)===null||k===void 0)&&k.isEmpty()){this.optimalReceiveStreams=[];return}const N=this.rateProbeState;this.cleanBwPausedTiles(R),this.handleAppPausedStreams(B,R);const w=this.availStreamsSameAsLast(R),A=!this.startupPeriod&&w;if(A&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;R.sort((Ae,Je)=>Ae.maxBitrateKbps===Je.maxBitrateKbps?Ae.streamId-Je.streamId:Ae.maxBitrateKbps-Je.maxBitrateKbps);for(const Ae of R)(Ae.avgBitrateKbps===0||Ae.avgBitrateKbps>Ae.maxBitrateKbps)&&(Ae.attendeeId.endsWith(e.default.Modality)&&Ae.maxBitrateKbps<100?Ae.maxBitrateKbps=Ae.avgBitrateKbps:Ae.avgBitrateKbps=Ae.maxBitrateKbps);const D={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};D.targetDownlinkBitrate=this.determineTargetRate();const K=this.subscribedReceiveSet.size(),X=this.downlinkStats.bandwidthEstimateKbps,j=!this.videoPriorityBasedPolicyConfig.allowSubscribe(K,X);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=Rr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,A&&j))return;const te=this.priorityPolicy(D,R,B),me=!n.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let we=0;if(!me&&!this.startupPeriod&&w?this.rateProbeState==="Probing"?we=this.handleProbe(B,D.targetDownlinkBitrate):D.deltaToNextUpgrade!==0&&(we=this.maybeOverrideOrProbe(B,D,te)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.prevRemoteInfos=R,this.videoPreferencesUpdated=!1,we===1){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=D.targetDownlinkBitrate;return}if(we===2){const Ae=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(R,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+Ae);return}this.optimalNonPausedReceiveStreams=B.slice();const pe=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(R,B),this.logger.getLogLevel()<=t.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==N||this.optimalReceiveStreams.length!==B.length||pe!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(R,D.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=D.targetDownlinkBitrate,this.optimalReceiveStreams=B.slice()}calculateOptimalReceiveSet(){const k=new p.default;this.calculateOptimalReceiveStreams();for(const B of this.optimalReceiveStreams)k.add(B.streamId);if(!this.optimalReceiveSet.equal(k)){const B=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(k)} subscribedRate:${B}`)}this.optimalReceiveSet=k}determineTargetRate(){let k=0;const B=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=B),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>Rr.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||B-this.firstEstimateTimestamp>Rr.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?k=Rr.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<Rr.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),k=this.downlinkStats.usedBandwidthKbps+Rr.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):k=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?k=Rr.DEFAULT_BANDWIDTH_KBPS:k=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-Rr.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*Rr.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,k=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,k}setProbeState(k){if(this.rateProbeState===k)return!1;const B=Date.now();switch(k){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||B-this.lastProbeTimestamp>Rr.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=B;else return!1;break;case"Probing":if(B-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=B,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,Rr.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+k+" from "+this.rateProbeState),this.rateProbeState=k,!0}upgradeToStream(k,B){for(let R=0;R<k.length;R++)if(k[R].groupId===B.groupId){const N=B.avgBitrateKbps-k[R].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(k[R])+" to "+B),this.lastUpgradeRateKbps=N,k[R]=B,N}return k.push(B),this.lastUpgradeRateKbps=B.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(k,B){if(Date.now()-this.lastProbeTimestamp>Rr.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>Rr.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(Rr.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const R=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(k)||B>R?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=Rr.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(k,B,R){const N=this.chosenStreamsSameAsLast(k);let w=0;const A=B.targetDownlinkBitrate>Rr.LOW_BITRATE_THRESHOLD_KBPS?Rr.TARGET_RATE_CHANGE_TRIGGER_PERCENT:Rr.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,D=B.targetDownlinkBitrate*A/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!N&&Math.abs(B.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<D?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),w=1):this.targetRateBaselineForDeltaCheckKbps=B.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,w;if(N||w===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(k,R),w=0);break}else this.setProbeState("Not Probing");return w}calculateSubscribeRate(k){let B=0;for(const R of k)!this.pausedStreamIds.contain(R.streamId)&&!this.pausedBwAttendeeIds.has(R.attendeeId)&&(B+=R.maxBitrateKbps);return B}handleAppPausedStreams(k,B){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new p.default;const R=this.tileController.getAllRemoteVideoTiles();for(const N of R){const w=N.state();if(w.paused&&!this.pausedBwAttendeeIds.has(w.boundAttendeeId)){let A=B.length;for(;A--;)B[A].attendeeId===w.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+w.boundAttendeeId+" streamId: "+B[A].streamId),this.pausedStreamIds.add(B[A].streamId),this.subscribedReceiveSet.contain(B[A].streamId)&&k.push(B[A]),B.splice(A,1))}}}processBwPausedStreams(k,B){if(!this.tileController){this.logger.warn("tileController not found!");return}const R=this.getCurrentVideoPreferences();if(R&&this.shouldPauseTiles){const N=this.tileController.getAllVideoTiles();for(const w of R){const A=this.getVideoTileForAttendeeId(w.attendeeId,N),D=(A==null?void 0:A.state().paused)||!1;if(B.some(K=>K.attendeeId===w.attendeeId))D&&this.pausedBwAttendeeIds.has(w.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${w.attendeeId} due to bandwidth`),this.forEachObserver(K=>{K.tileWillBeUnpausedByDownlinkPolicy(A.id())}),this.tileController.unpauseVideoTile(A.id()),this.pausedBwAttendeeIds.delete(w.attendeeId));else{const K=k.some(X=>X.attendeeId===w.attendeeId);if(A&&K){const X=this.optimalReceiveStreams.find(j=>j.attendeeId===w.attendeeId);X!==void 0&&(D||(this.logger.info(`bwe: pausing streamId ${X.streamId} attendee ${w.attendeeId} due to bandwidth`),this.forEachObserver(j=>{j.tileWillBePausedByDownlinkPolicy(A.id())}),this.tileController.pauseVideoTile(A.id())),B.push(X)),this.pausedBwAttendeeIds.add(w.attendeeId)}else if(K){const X=this.tileController.addVideoTile();X.bindVideoStream(w.attendeeId,!1,null,0,0,0,null),this.forEachObserver(j=>{j.tileWillBePausedByDownlinkPolicy(X.id())}),X.pause(),this.logger.info(`bwe: Created video tile ${X.id()} for bw paused attendee ${w.attendeeId}`),this.pausedBwAttendeeIds.add(w.attendeeId)}}}}}cleanBwPausedTiles(k){if(!this.tileController){this.logger.warn("tileController not found!");return}const B=this.tileController.getAllRemoteVideoTiles(),R=this.getCurrentVideoPreferences();for(const N of B){const w=N.state();w.boundVideoStream||(k.some(A=>A.attendeeId===w.boundAttendeeId)?R!==void 0&&!R.some(A=>A.attendeeId===w.boundAttendeeId)&&this.tileController.removeVideoTile(w.tileId):(this.tileController.removeVideoTile(w.tileId),this.logger.info(`bwe: Removed video tile ${w.tileId} for bw paused attendee ${w.boundAttendeeId}`)))}}priorityPolicy(k,B,R){let N;const w=this.getCurrentVideoPreferences(),A=w.highestPriority();let D,K=A;for(;K!==-1;){D=-1;for(const X of w)if(X.priority===K)for(const j of B)j.attendeeId===X.attendeeId&&(R.some(te=>te.groupId===j.groupId)||(k.chosenTotalBitrate+j.avgBitrateKbps<=k.targetDownlinkBitrate?(R.push(j),k.chosenTotalBitrate+=j.avgBitrateKbps):k.deltaToNextUpgrade===0&&(k.deltaToNextUpgrade=j.avgBitrateKbps,N=j)));else if(X.priority>K){D=X.priority;break}for(const X of w)if(X.priority===K){for(const j of B)if(j.attendeeId===X.attendeeId){const te=R.findIndex(me=>me.groupId===j.groupId&&me.maxBitrateKbps<j.maxBitrateKbps);if(te!==-1){const me=j.avgBitrateKbps-R[te].avgBitrateKbps;this.hasSimulcastStreams(B,j.attendeeId,j.groupId)&&this.canUpgrade(j.avgBitrateKbps,X.targetSize,X.targetSizeToBitrateKbps(X.targetSize),j.attendeeId.endsWith(e.default.Modality))?(this.logger.info(`bwe: attendee: ${j.attendeeId} group: ${j.groupId} has simulcast and can upgrade avgBitrate: ${j.avgBitrateKbps} target: ${X.targetSizeToBitrateKbps(X.targetSize)} targetTotalBitrate: ${k.targetDownlinkBitrate}`),k.chosenTotalBitrate+me<=k.targetDownlinkBitrate?(k.chosenTotalBitrate+=me,R[te]=j):k.deltaToNextUpgrade===0&&(k.deltaToNextUpgrade=me,N=j)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(X.priority>K)break;if(K===A&&k.deltaToNextUpgrade!==0)break;K=D}return N}getVideoTileForAttendeeId(k,B){for(const R of B)if(R.state().boundAttendeeId===k)return R;return null}canUpgrade(k,B,R,N){let w=!1;return N?(B===S.default.High||B===S.default.Medium&&k<=R)&&(w=!0):k<=R&&(w=!0),w?(this.logger.info(`bwe: canUpgrade: bitrateKbp: ${k} targetBitrateKbp: ${R}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbp: ${k} targetBitrateKbp: ${R}`),!1)}hasSimulcastStreams(k,B,R){let N=0;for(const w of k)w.attendeeId===B&&w.groupId===R&&N++;return this.logger.info(`bwe: attendeeId: ${B} groupId: ${R} hasSimulcastStreams: streamCount: ${N}`),N>1}availStreamsSameAsLast(k){if(this.prevRemoteInfos===void 0||k.length!==this.prevRemoteInfos.length||this.videoPreferencesUpdated===!0)return!1;for(const B of k)if(this.prevRemoteInfos.find(N=>N.groupId===B.groupId&&N.streamId===B.streamId&&N.maxBitrateKbps===B.maxBitrateKbps)===void 0)return!1;return!0}chosenStreamsSameAsLast(k){if(this.optimalNonPausedReceiveStreams.length!==k.length)return!1;for(const B of this.optimalNonPausedReceiveStreams)if(!k.some(R=>R.streamId===B.streamId))return!1;return!0}policyStateLogStr(k,B){const R=this.calculateSubscribeRate(this.optimalReceiveStreams),N={targetBitrate:B,subscribedRate:R,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let w="remoteInfos: [";for(const D of k)w+=`{grpId:${D.groupId} strId:${D.streamId} maxBr:${D.maxBitrateKbps} avgBr:${D.avgBitrateKbps}}, `;w+="]";let A=`bwe: optimalReceiveSet ${JSON.stringify(N)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${w}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(A+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?A+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:A+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,A}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(k){this.serverSideNetworkAdaption=k,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[n.default.None,n.default.BandwidthProbing,n.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let k=this.getCurrentVideoPreferences();return k||(k=l.VideoPreferences.prepare().build()),k}constructor(k,B=E.default.Default){this.logger=k,this.videoPriorityBasedPolicyConfig=B,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.reset()}},"VideoPriorityBasedPolicy");c.default=P,P.DEFAULT_BANDWIDTH_KBPS=2800,P.STARTUP_PERIOD_MS=6e3,P.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,P.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,P.LOW_BITRATE_THRESHOLD_KBPS=300,P.MIN_TIME_BETWEEN_PROBE_MS=5e3,P.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,P.MAX_HOLD_BEFORE_PROBE_MS=3e4,P.MAX_ALLOWED_PROBE_TIME_MS=6e4,P.SPURIOUS_PACKET_LOST_THRESHOLD=2,P.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},ko9P:function(U,c,d){"use strict";U.exports=f;var v=d("j4TH");function f(o,i){this.lo=o>>>0,this.hi=i>>>0}r(f,"LongBits");var h=f.zero=new f(0,0);h.toNumber=function(){return 0},h.zzEncode=h.zzDecode=function(){return this},h.length=function(){return 1};var m=f.zeroHash="\0\0\0\0\0\0\0\0";f.fromNumber=r(function(i){if(i===0)return h;var e=i<0;e&&(i=-i);var t=i>>>0,n=(i-t)/4294967296>>>0;return e&&(n=~n>>>0,t=~t>>>0,++t>4294967295&&(t=0,++n>4294967295&&(n=0))),new f(t,n)},"fromNumber"),f.from=r(function(i){if(typeof i=="number")return f.fromNumber(i);if(v.isString(i))if(v.Long)i=v.Long.fromString(i);else return f.fromNumber(parseInt(i,10));return i.low||i.high?new f(i.low>>>0,i.high>>>0):h},"from"),f.prototype.toNumber=r(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),f.prototype.toLong=r(function(i){return v.Long?new v.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;f.fromHash=r(function(i){return i===m?h:new f((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),f.prototype.toHash=r(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),f.prototype.zzEncode=r(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),f.prototype.zzDecode=r(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),f.prototype.length=r(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},kph0:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckNetworkUDPConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",f[f.ConnectionFailed=2]="ConnectionFailed",f[f.ICENegotiationFailed=3]="ICENegotiationFailed"})(v=c.CheckNetworkUDPConnectivityFeedback||(c.CheckNetworkUDPConnectivityFeedback={})),c.default=v},kud1:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("jG7n")),m=f(d("83pg"));let a=r(class Wf extends h.default{setImageBlob(i){return v(this,void 0,void 0,function*(){this.replacementBlob=i,this.replacementImage=yield Wf.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:n,targetCanvas:s}=this,{width:p,height:g}=s;n.save(),n.clearRect(0,0,p,g),n.drawImage(this.scaledCanvas,0,0,p,g),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,p,g),n.globalCompositeOperation="destination-over",n.drawImage(this.replacementImage,0,0,s.width,s.height),n.restore()}static loadImageExecutor(i,e,t){const n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",()=>{i(n)},!1),n.addEventListener("error",s=>{e(new Error(`Could not load replacement image ${n.src}: ${s.message}`))},!1),n.src=t}static loadImage(i){return v(this,void 0,void 0,function*(){return new Promise((e,t)=>this.loadImageExecutor(e,t,i))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const i=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return v(this,void 0,void 0,function*(){this.replacementImage=yield Wf.loadImage(this.createReplacementObjectUrl()),i.loadAssets.call(this)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});return v(this,void 0,void 0,function*(){i.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background replacement",i,e,new m.default),this.replacementBlob=e.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(e)}`)}},"BackgroundReplacementFilter");c.default=a},kvAF:function(U,c,d){var v=d("GhSp").f,f=d("nA4W"),h=d("zBWt")("toStringTag");U.exports=function(m,a,o){m&&!f(m=o?m:m.prototype,h)&&v(m,h,{configurable:!0,value:a})}},l0Kd:function(U,c){U.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},l5Mp:function(U,c){function d(v){return v&&v.__esModule?v:{default:v}}r(d,"_interopRequireDefault"),U.exports=d,U.exports.__esModule=!0,U.exports.default=U.exports},l7oq:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("zcg+"));let h=r(class mv{timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(a){this._isFirstConnection=a,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(a,o){const i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=o,this.backoffTimer=new f.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,a()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new mv(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(a){this.lastActiveTimestampMs=a}constructor(a,o){this.reconnectTimeoutMs=a,this.backoffPolicy=o,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}},"DefaultReconnectController");c.default=h},l8QA:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Czkq"));let h=r(class extends f.default{},"BackgroundBlurVideoFrameProcessorDelegate");c.default=h},lFzH:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("papz")),m=f(d("wXa7")),a=f(d("j+uH"));let o=r(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(!((t=(e=this.context.meetingSessionConfiguration)===null||e===void 0?void 0:e.urls)===null||t===void 0)&&t.audioHostURL)}sessionUsesVideo(){let t;this.context.transceiverController.useTransceivers()?t=this.context.transceiverController.hasVideoInput():t=this.context.videoTileController.hasStartedLocalVideoTile();const n=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),s=t||n;return this.context.logger.info(`uses video: ${s} (enabled: ${!0}, sending: ${t}, receiving: ${n})`),s}run(){return v(this,void 0,void 0,function*(){const e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,n)=>v(this,void 0,void 0,function*(){this.cancelPromise=s=>{n(s)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new m.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const s=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,n(s);return}t()}catch(s){n(s)}finally{delete this.cancelPromise}}))})}constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}},"CreateSDPTask");c.default=o},lUhs:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionStatusCode=void 0;var v;(function(f){f[f.OK=0]="OK",f[f.Left=1]="Left",f[f.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",f[f.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",f[f.AudioCallAtCapacity=4]="AudioCallAtCapacity",f[f.MeetingEnded=5]="MeetingEnded",f[f.AudioInternalServerError=6]="AudioInternalServerError",f[f.AudioServiceUnavailable=7]="AudioServiceUnavailable",f[f.AudioDisconnected=8]="AudioDisconnected",f[f.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",f[f.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",f[f.SignalingBadRequest=11]="SignalingBadRequest",f[f.SignalingInternalServerError=12]="SignalingInternalServerError",f[f.SignalingRequestFailed=13]="SignalingRequestFailed",f[f.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",f[f.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",f[f.RealtimeApiFailed=16]="RealtimeApiFailed",f[f.TaskFailed=17]="TaskFailed",f[f.IncompatibleSDP=18]="IncompatibleSDP",f[f.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",f[f.NoAttendeePresent=20]="NoAttendeePresent",f[f.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",f[f.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",f[f.AudioDisconnectAudio=23]="AudioDisconnectAudio",f[f.SignalChannelClosedUnexpectedly=24]="SignalChannelClosedUnexpectedly"})(v=c.MeetingSessionStatusCode||(c.MeetingSessionStatusCode={})),c.default=v},ldli:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("f2XL"),h=v(d("Zkgh")),m=v(d("MhWp"));let a=r(class{localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(i){return i>0&&i<1e3?1:Math.trunc(i/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const i=[];return this.currentIndex.sources.forEach(e=>{const t=new m.default;t.attendeeId=e.attendeeId,t.groupId=e.groupId,t.streamId=e.streamId,t.maxBitrateKbps=e.maxBitrateKbps,t.avgBitrateKbps=this.convertBpsToKbps(e.avgBitrateBps),i.push(t)}),i}integrateUplinkPolicyDecision(i){if(i&&i.length){const e=i[0];this.videoStreamDescription.maxBitrateKbps=e.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=e.maxFramerate}}integrateIndexFrame(i){if(this.currentIndex=i,!i)return;const e=new Map;let t=!1;for(const n of i.sources){if(!e.has(n.attendeeId)){e.set(n.attendeeId,n.groupId);continue}const s=e.get(n.attendeeId);s<n.groupId&&(this.logger.warn(`Old group ID ${s} found for attendee ID ${n.attendeeId}, replacing with newer group ID ${n.groupId}`),e.set(n.attendeeId,n.groupId)),t=!0}t&&(this.currentIndex.sources=this.currentIndex.sources.filter(n=>e.get(n.attendeeId)===n.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}integrateSubscribeAckFrame(i){this.currentSubscribeAck=i,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe)}integrateBitratesFrame(i){if(this.currentIndex)for(const e of i.bitrates){const t=this.currentIndex.sources.find(n=>n.streamId===e.sourceStreamId);t!==void 0&&(t.avgBitrateBps=e.avgBitrateBps)}}allStreams(){const i=new h.default;if(this.currentIndex)for(const e of this.currentIndex.sources)i.add(e.streamId);return i}allVideoSendingSourcesExcludingSelf(i){const e=[],t=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const n of this.currentIndex.sources){const{attendeeId:s,externalUserId:p,mediaType:g}=n;s!==i&&g===f.SdkStreamMediaType.VIDEO&&(t.has(s)||(e.push({attendee:{attendeeId:s,externalUserId:p}}),t.add(s)))}return e}streamSelectionUnderBandwidthConstraint(i,e,t,n){const s=new Set;if(this.currentIndex)for(const l of this.currentIndex.sources)l.attendeeId===i||l.mediaType!==f.SdkStreamMediaType.VIDEO||!e.has(l.attendeeId)&&!t.has(l.attendeeId)&&s.add(l.attendeeId);const p=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i),g=new Map;let S=0;p.forEach((l,E)=>{g.set(E,l[0]),S+=l[0].maxBitrateKbps}),S=this.trySelectHighBitrateForAttendees(p,e,S,n,g),this.trySelectHighBitrateForAttendees(p,s,S,n,g);const u=new h.default;for(const l of g.values())u.add(l.streamId);return u}highestQualityStreamFromEachGroupExcludingSelf(i){const e=new h.default;if(this.currentIndex){const t=new Map;for(const n of this.currentIndex.sources)n.attendeeId===i||n.mediaType!==f.SdkStreamMediaType.VIDEO||(!t.has(n.groupId)||n.maxBitrateKbps>t.get(n.groupId).maxBitrateKbps)&&t.set(n.groupId,n);for(const n of t.values())e.add(n.streamId)}return e}numberOfVideoPublishingParticipantsExcludingSelf(i){return this.highestQualityStreamFromEachGroupExcludingSelf(i).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${i}`),"";const t=this.subscribeStreamToAttendeeMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known attendee`),"")}externalUserIdForTrack(i){const e=this.streamIdForTrack(i);if(e===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${i}`),"";const t=this.subscribeStreamToExternalUserIdMap.get(e);return t||(this.logger.info(`track ${i} (stream ${e}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(i){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const e=this.streamToAttendeeMap.get(i);return e||(this.logger.info(`stream ID ${i} does not correspond to a known attendee`),"")}attendeeIdForGroupId(i){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const e=this.groupIdToAttendeeMap.get(i);return e||(this.logger.info(`group ID ${i} does not correspond to a known attendee`),"")}groupIdForStreamId(i){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const e of this.currentIndex.sources)if(e.streamId===i)return e.groupId;if(this.indexForSubscribe){for(const e of this.indexForSubscribe.sources)if(e.streamId===i)return e.groupId}}}StreamIdsInSameGroup(i,e){return this.groupIdForStreamId(i)===this.groupIdForStreamId(e)}streamIdForTrack(i){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(i)}streamIdForSSRC(i){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(i)}overrideStreamIdMappings(i,e){if(this.subscribeTrackToStreamMap){for(const[t,n]of this.subscribeTrackToStreamMap.entries())if(i===n){this.subscribeTrackToStreamMap.set(t,e);break}}if(this.subscribeSsrcToStreamMap){for(const[t,n]of this.subscribeSsrcToStreamMap.entries())if(i===n){this.subscribeSsrcToStreamMap.set(t,e);break}}}groupIdForSSRC(i){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(i)}streamsPausedAtSource(){const i=new h.default;if(this.currentIndex)for(const e of this.currentIndex.pausedAtSourceIds)i.add(e);return i}buildTrackToStreamMap(i){const e=new Map;this.logger.debug(()=>`trackMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.trackLabel,t.streamId);return e}buildSSRCToStreamMap(i){const e=new Map;this.logger.debug(()=>`ssrcMap ${JSON.stringify(i.tracks)}`);for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,t.streamId);return e}buildSSRCToGroupMap(i){const e=new Map;for(const t of i.tracks)t.trackLabel.length>0&&t.streamId>0&&e.set(t.ssrc,this.groupIdForStreamId(t.streamId));return e}buildStreamToAttendeeMap(i){const e=new Map;if(i)for(const t of i.sources)e.set(t.streamId,t.attendeeId);return e}buildGroupIdToAttendeeMap(i){const e=new Map;for(const t of i.sources)e.set(t.groupId,t.attendeeId);return e}buildStreamExternalUserIdMap(i){const e=new Map;if(i)for(const t of i.sources)t.externalUserId&&e.set(t.streamId,t.externalUserId);return e}trySelectHighBitrateForAttendees(i,e,t,n,s){for(const p of e){if(t>=n)break;if(i.has(p)){const g=i.get(p);for(const S of g.reverse())if(t-s.get(p).maxBitrateKbps+S.maxBitrateKbps<n){t=t-s.get(p).maxBitrateKbps+S.maxBitrateKbps,s.set(p,S);break}}}return t}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(i){const e=new Map;if(this.currentIndex)for(const t of this.currentIndex.sources)t.attendeeId===i||t.mediaType!==f.SdkStreamMediaType.VIDEO||(e.has(t.attendeeId)?e.get(t.attendeeId).push(t):e.set(t.attendeeId,[t]));return e.forEach((t,n)=>{t.sort((s,p)=>s.maxBitrateKbps>p.maxBitrateKbps?1:s.maxBitrateKbps<p.maxBitrateKbps?-1:0)}),e}constructor(i){this.logger=i,this.currentIndex=null,this.indexForSubscribe=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new m.default,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}},"DefaultVideoStreamIndex");c.default=a},lnWt:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.numToUint8=void 0;function v(f){return new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255])}r(v,"numToUint8"),c.numToUint8=v},"m/NO":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEvent=void 0;var v;(function(f){f[f.Connecting=0]="Connecting",f[f.Started=1]="Started",f[f.Stopped=2]="Stopped"})(v=c.MeetingSessionLifecycleEvent||(c.MeetingSessionLifecycleEvent={})),c.default=v},m0Av:function(U,c,d){"use strict";(function(v){d.d(c,"a",function(){return f});function f(h,m){var a;typeof m<"u"?a=m:typeof window<"u"?a=window:typeof self<"u"?a=self:a=v;var o=typeof a.document<"u"&&a.document.attachEvent;if(!o){var i=function(){var A=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(D){return a.setTimeout(D,20)};return function(D){return A(D)}}(),e=function(){var A=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.clearTimeout;return function(D){return A(D)}}(),t=r(function(D){var K=D.__resizeTriggers__,X=K.firstElementChild,j=K.lastElementChild,te=X.firstElementChild;j.scrollLeft=j.scrollWidth,j.scrollTop=j.scrollHeight,te.style.width=X.offsetWidth+1+"px",te.style.height=X.offsetHeight+1+"px",X.scrollLeft=X.scrollWidth,X.scrollTop=X.scrollHeight},"resetTriggers"),n=r(function(D){return D.offsetWidth!=D.__resizeLast__.width||D.offsetHeight!=D.__resizeLast__.height},"checkTriggers"),s=r(function(D){if(!(D.target.className&&typeof D.target.className.indexOf=="function"&&D.target.className.indexOf("contract-trigger")<0&&D.target.className.indexOf("expand-trigger")<0)){var K=this;t(this),this.__resizeRAF__&&e(this.__resizeRAF__),this.__resizeRAF__=i(function(){n(K)&&(K.__resizeLast__.width=K.offsetWidth,K.__resizeLast__.height=K.offsetHeight,K.__resizeListeners__.forEach(function(X){X.call(K,D)}))})}},"scrollListener"),p=!1,g="",S="animationstart",u="Webkit Moz O ms".split(" "),l="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),E="";{var O=a.document.createElement("fakeelement");if(O.style.animationName!==void 0&&(p=!0),p===!1){for(var P=0;P<u.length;P++)if(O.style[u[P]+"AnimationName"]!==void 0){E=u[P],g="-"+E.toLowerCase()+"-",S=l[P],p=!0;break}}}var x="resizeanim",k="@"+g+"keyframes "+x+" { from { opacity: 0; } to { opacity: 0; } } ",B=g+"animation: 1ms "+x+"; "}var R=r(function(D){if(!D.getElementById("detectElementResize")){var K=(k||"")+".resize-triggers { "+(B||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',X=D.head||D.getElementsByTagName("head")[0],j=D.createElement("style");j.id="detectElementResize",j.type="text/css",h!=null&&j.setAttribute("nonce",h),j.styleSheet?j.styleSheet.cssText=K:j.appendChild(D.createTextNode(K)),X.appendChild(j)}},"createStyles"),N=r(function(D,K){if(o)D.attachEvent("onresize",K);else{if(!D.__resizeTriggers__){var X=D.ownerDocument,j=a.getComputedStyle(D);j&&j.position=="static"&&(D.style.position="relative"),R(X),D.__resizeLast__={},D.__resizeListeners__=[],(D.__resizeTriggers__=X.createElement("div")).className="resize-triggers",D.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',D.appendChild(D.__resizeTriggers__),t(D),D.addEventListener("scroll",s,!0),S&&(D.__resizeTriggers__.__animationListener__=r(function(me){me.animationName==x&&t(D)},"animationListener"),D.__resizeTriggers__.addEventListener(S,D.__resizeTriggers__.__animationListener__))}D.__resizeListeners__.push(K)}},"addResizeListener"),w=r(function(D,K){if(o)D.detachEvent("onresize",K);else if(D.__resizeListeners__.splice(D.__resizeListeners__.indexOf(K),1),!D.__resizeListeners__.length){D.removeEventListener("scroll",s,!0),D.__resizeTriggers__.__animationListener__&&(D.__resizeTriggers__.removeEventListener(S,D.__resizeTriggers__.__animationListener__),D.__resizeTriggers__.__animationListener__=null);try{D.__resizeTriggers__=!D.removeChild(D.__resizeTriggers__)}catch{}}},"removeResizeListener");return{addResizeListener:N,removeResizeListener:w}}r(f,"createDetectElementResize")}).call(this,d("yLpj"))},m1cH:function(U,c,d){"use strict";c.__esModule=!0;var v=d("rfXi"),f=h(v);function h(m){return m&&m.__esModule?m:{default:m}}r(h,"_interopRequireDefault"),c.default=function(m){if(Array.isArray(m)){for(var a=0,o=Array(m.length);a<m.length;a++)o[a]=m[a];return o}else return(0,f.default)(m)}},mHY4:function(U,c,d){var v=d("A9a0"),f=d("l0Kd");U.exports=Object.keys||r(function(m){return v(m,f)},"keys")},mRg0:function(U,c,d){"use strict";c.__esModule=!0;var v=d("s3Ml"),f=i(v),h=d("AyUB"),m=i(h),a=d("EJiy"),o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}r(i,"_interopRequireDefault"),c.default=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t>"u"?"undefined":(0,o.default)(t)));e.prototype=(0,m.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f.default?(0,f.default)(e,t):e.__proto__=t)}},mYvd:function(U,c,d){"use strict";d.r(c),d.d(c,"Deflate",function(){return Na}),d.d(c,"Inflate",function(){return rr}),d.d(c,"constants",function(){return Ha}),d.d(c,"default",function(){return za}),d.d(c,"deflate",function(){return Ba}),d.d(c,"deflateRaw",function(){return Fa}),d.d(c,"gzip",function(){return pl}),d.d(c,"inflate",function(){return ps}),d.d(c,"inflateRaw",function(){return Ua}),d.d(c,"ungzip",function(){return Va});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const v=4,f=0,h=1,m=2;function a(b){let V=b.length;for(;--V>=0;)b[V]=0}r(a,"zero$1");const o=0,i=1,e=2,t=3,n=258,s=29,p=256,g=p+1+s,S=30,u=19,l=2*g+1,E=15,O=16,P=7,x=256,k=16,B=17,R=18,N=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K=512,X=new Array((g+2)*2);a(X);const j=new Array(S*2);a(j);const te=new Array(K);a(te);const me=new Array(n-t+1);a(me);const we=new Array(s);a(we);const pe=new Array(S);a(pe);function Ae(b,V,M,Q,G){this.static_tree=b,this.extra_bits=V,this.extra_base=M,this.elems=Q,this.max_length=G,this.has_stree=b&&b.length}r(Ae,"StaticTreeDesc");let Je,Fe,Ue;function Le(b,V){this.dyn_tree=b,this.max_code=0,this.stat_desc=V}r(Le,"TreeDesc");const at=r(b=>b<256?te[b]:te[256+(b>>>7)],"d_code"),lt=r((b,V)=>{b.pending_buf[b.pending++]=V&255,b.pending_buf[b.pending++]=V>>>8&255},"put_short"),ot=r((b,V,M)=>{b.bi_valid>O-M?(b.bi_buf|=V<<b.bi_valid&65535,lt(b,b.bi_buf),b.bi_buf=V>>O-b.bi_valid,b.bi_valid+=M-O):(b.bi_buf|=V<<b.bi_valid&65535,b.bi_valid+=M)},"send_bits"),pt=r((b,V,M)=>{ot(b,M[V*2],M[V*2+1])},"send_code"),ct=r((b,V)=>{let M=0;do M|=b&1,b>>>=1,M<<=1;while(--V>0);return M>>>1},"bi_reverse"),rt=r(b=>{b.bi_valid===16?(lt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)},"bi_flush"),Tn=r((b,V)=>{const M=V.dyn_tree,Q=V.max_code,G=V.stat_desc.static_tree,se=V.stat_desc.has_stree,Ee=V.stat_desc.extra_bits,Se=V.stat_desc.extra_base,Qe=V.stat_desc.max_length;let he,Te,tn,Ye,_e,Et,zn=0;for(Ye=0;Ye<=E;Ye++)b.bl_count[Ye]=0;for(M[b.heap[b.heap_max]*2+1]=0,he=b.heap_max+1;he<l;he++)Te=b.heap[he],Ye=M[M[Te*2+1]*2+1]+1,Ye>Qe&&(Ye=Qe,zn++),M[Te*2+1]=Ye,!(Te>Q)&&(b.bl_count[Ye]++,_e=0,Te>=Se&&(_e=Ee[Te-Se]),Et=M[Te*2],b.opt_len+=Et*(Ye+_e),se&&(b.static_len+=Et*(G[Te*2+1]+_e)));if(zn!==0){do{for(Ye=Qe-1;b.bl_count[Ye]===0;)Ye--;b.bl_count[Ye]--,b.bl_count[Ye+1]+=2,b.bl_count[Qe]--,zn-=2}while(zn>0);for(Ye=Qe;Ye!==0;Ye--)for(Te=b.bl_count[Ye];Te!==0;)tn=b.heap[--he],!(tn>Q)&&(M[tn*2+1]!==Ye&&(b.opt_len+=(Ye-M[tn*2+1])*M[tn*2],M[tn*2+1]=Ye),Te--)}},"gen_bitlen"),Qt=r((b,V,M)=>{const Q=new Array(E+1);let G=0,se,Ee;for(se=1;se<=E;se++)Q[se]=G=G+M[se-1]<<1;for(Ee=0;Ee<=V;Ee++){let Se=b[Ee*2+1];Se!==0&&(b[Ee*2]=ct(Q[Se]++,Se))}},"gen_codes"),Ft=r(()=>{let b,V,M,Q,G;const se=new Array(E+1);for(M=0,Q=0;Q<s-1;Q++)for(we[Q]=M,b=0;b<1<<N[Q];b++)me[M++]=Q;for(me[M-1]=Q,G=0,Q=0;Q<16;Q++)for(pe[Q]=G,b=0;b<1<<w[Q];b++)te[G++]=Q;for(G>>=7;Q<S;Q++)for(pe[Q]=G<<7,b=0;b<1<<w[Q]-7;b++)te[256+G++]=Q;for(V=0;V<=E;V++)se[V]=0;for(b=0;b<=143;)X[b*2+1]=8,b++,se[8]++;for(;b<=255;)X[b*2+1]=9,b++,se[9]++;for(;b<=279;)X[b*2+1]=7,b++,se[7]++;for(;b<=287;)X[b*2+1]=8,b++,se[8]++;for(Qt(X,g+1,se),b=0;b<S;b++)j[b*2+1]=5,j[b*2]=ct(b,5);Je=new Ae(X,N,p+1,g,E),Fe=new Ae(j,w,0,S,E),Ue=new Ae(new Array(0),A,0,u,P)},"tr_static_init"),Rn=r(b=>{let V;for(V=0;V<g;V++)b.dyn_ltree[V*2]=0;for(V=0;V<S;V++)b.dyn_dtree[V*2]=0;for(V=0;V<u;V++)b.bl_tree[V*2]=0;b.dyn_ltree[x*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0},"init_block"),Pn=r(b=>{b.bi_valid>8?lt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0},"bi_windup"),ti=r((b,V,M,Q)=>{Pn(b),Q&&(lt(b,M),lt(b,~M)),b.pending_buf.set(b.window.subarray(V,V+M),b.pending),b.pending+=M},"copy_block"),Sn=r((b,V,M,Q)=>{const G=V*2,se=M*2;return b[G]<b[se]||b[G]===b[se]&&Q[V]<=Q[M]},"smaller"),oi=r((b,V,M)=>{const Q=b.heap[M];let G=M<<1;for(;G<=b.heap_len&&(G<b.heap_len&&Sn(V,b.heap[G+1],b.heap[G],b.depth)&&G++,!Sn(V,Q,b.heap[G],b.depth));)b.heap[M]=b.heap[G],M=G,G<<=1;b.heap[M]=Q},"pqdownheap"),vi=r((b,V,M)=>{let Q,G,se=0,Ee,Se;if(b.last_lit!==0)do Q=b.pending_buf[b.d_buf+se*2]<<8|b.pending_buf[b.d_buf+se*2+1],G=b.pending_buf[b.l_buf+se],se++,Q===0?pt(b,G,V):(Ee=me[G],pt(b,Ee+p+1,V),Se=N[Ee],Se!==0&&(G-=we[Ee],ot(b,G,Se)),Q--,Ee=at(Q),pt(b,Ee,M),Se=w[Ee],Se!==0&&(Q-=pe[Ee],ot(b,Q,Se)));while(se<b.last_lit);pt(b,x,V)},"compress_block"),Hn=r((b,V)=>{const M=V.dyn_tree,Q=V.stat_desc.static_tree,G=V.stat_desc.has_stree,se=V.stat_desc.elems;let Ee,Se,Qe=-1,he;for(b.heap_len=0,b.heap_max=l,Ee=0;Ee<se;Ee++)M[Ee*2]!==0?(b.heap[++b.heap_len]=Qe=Ee,b.depth[Ee]=0):M[Ee*2+1]=0;for(;b.heap_len<2;)he=b.heap[++b.heap_len]=Qe<2?++Qe:0,M[he*2]=1,b.depth[he]=0,b.opt_len--,G&&(b.static_len-=Q[he*2+1]);for(V.max_code=Qe,Ee=b.heap_len>>1;Ee>=1;Ee--)oi(b,M,Ee);he=se;do Ee=b.heap[1],b.heap[1]=b.heap[b.heap_len--],oi(b,M,1),Se=b.heap[1],b.heap[--b.heap_max]=Ee,b.heap[--b.heap_max]=Se,M[he*2]=M[Ee*2]+M[Se*2],b.depth[he]=(b.depth[Ee]>=b.depth[Se]?b.depth[Ee]:b.depth[Se])+1,M[Ee*2+1]=M[Se*2+1]=he,b.heap[1]=he++,oi(b,M,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Tn(b,V),Qt(M,Qe,b.bl_count)},"build_tree"),Di=r((b,V,M)=>{let Q,G=-1,se,Ee=V[0*2+1],Se=0,Qe=7,he=4;for(Ee===0&&(Qe=138,he=3),V[(M+1)*2+1]=65535,Q=0;Q<=M;Q++)se=Ee,Ee=V[(Q+1)*2+1],!(++Se<Qe&&se===Ee)&&(Se<he?b.bl_tree[se*2]+=Se:se!==0?(se!==G&&b.bl_tree[se*2]++,b.bl_tree[k*2]++):Se<=10?b.bl_tree[B*2]++:b.bl_tree[R*2]++,Se=0,G=se,Ee===0?(Qe=138,he=3):se===Ee?(Qe=6,he=3):(Qe=7,he=4))},"scan_tree"),Bi=r((b,V,M)=>{let Q,G=-1,se,Ee=V[0*2+1],Se=0,Qe=7,he=4;for(Ee===0&&(Qe=138,he=3),Q=0;Q<=M;Q++)if(se=Ee,Ee=V[(Q+1)*2+1],!(++Se<Qe&&se===Ee)){if(Se<he)do pt(b,se,b.bl_tree);while(--Se!==0);else se!==0?(se!==G&&(pt(b,se,b.bl_tree),Se--),pt(b,k,b.bl_tree),ot(b,Se-3,2)):Se<=10?(pt(b,B,b.bl_tree),ot(b,Se-3,3)):(pt(b,R,b.bl_tree),ot(b,Se-11,7));Se=0,G=se,Ee===0?(Qe=138,he=3):se===Ee?(Qe=6,he=3):(Qe=7,he=4)}},"send_tree"),Gt=r(b=>{let V;for(Di(b,b.dyn_ltree,b.l_desc.max_code),Di(b,b.dyn_dtree,b.d_desc.max_code),Hn(b,b.bl_desc),V=u-1;V>=3&&b.bl_tree[D[V]*2+1]===0;V--);return b.opt_len+=3*(V+1)+5+5+4,V},"build_bl_tree"),Dn=r((b,V,M,Q)=>{let G;for(ot(b,V-257,5),ot(b,M-1,5),ot(b,Q-4,4),G=0;G<Q;G++)ot(b,b.bl_tree[D[G]*2+1],3);Bi(b,b.dyn_ltree,V-1),Bi(b,b.dyn_dtree,M-1)},"send_all_trees"),Dt=r(b=>{let V=4093624447,M;for(M=0;M<=31;M++,V>>>=1)if(V&1&&b.dyn_ltree[M*2]!==0)return f;if(b.dyn_ltree[9*2]!==0||b.dyn_ltree[10*2]!==0||b.dyn_ltree[13*2]!==0)return h;for(M=32;M<p;M++)if(b.dyn_ltree[M*2]!==0)return h;return f},"detect_data_type");let je=!1;const yt=r(b=>{je||(Ft(),je=!0),b.l_desc=new Le(b.dyn_ltree,Je),b.d_desc=new Le(b.dyn_dtree,Fe),b.bl_desc=new Le(b.bl_tree,Ue),b.bi_buf=0,b.bi_valid=0,Rn(b)},"_tr_init$1"),dt=r((b,V,M,Q)=>{ot(b,(o<<1)+(Q?1:0),3),ti(b,V,M,!0)},"_tr_stored_block$1"),cn=r(b=>{ot(b,i<<1,3),pt(b,x,X),rt(b)},"_tr_align$1"),li=r((b,V,M,Q)=>{let G,se,Ee=0;b.level>0?(b.strm.data_type===m&&(b.strm.data_type=Dt(b)),Hn(b,b.l_desc),Hn(b,b.d_desc),Ee=Gt(b),G=b.opt_len+3+7>>>3,se=b.static_len+3+7>>>3,se<=G&&(G=se)):G=se=M+5,M+4<=G&&V!==-1?dt(b,V,M,Q):b.strategy===v||se===G?(ot(b,(i<<1)+(Q?1:0),3),vi(b,X,j)):(ot(b,(e<<1)+(Q?1:0),3),Dn(b,b.l_desc.max_code+1,b.d_desc.max_code+1,Ee+1),vi(b,b.dyn_ltree,b.dyn_dtree)),Rn(b),Q&&Pn(b)},"_tr_flush_block$1"),ci=r((b,V,M)=>(b.pending_buf[b.d_buf+b.last_lit*2]=V>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=V&255,b.pending_buf[b.l_buf+b.last_lit]=M&255,b.last_lit++,V===0?b.dyn_ltree[M*2]++:(b.matches++,V--,b.dyn_ltree[(me[M]+p+1)*2]++,b.dyn_dtree[at(V)*2]++),b.last_lit===b.lit_bufsize-1),"_tr_tally$1");var Jn=yt,di=dt,Mi=li,Sr=ci,Ai=cn,Hi={_tr_init:Jn,_tr_stored_block:di,_tr_flush_block:Mi,_tr_tally:Sr,_tr_align:Ai},ge=r((b,V,M,Q)=>{let G=b&65535|0,se=b>>>16&65535|0,Ee=0;for(;M!==0;){Ee=M>2e3?2e3:M,M-=Ee;do G=G+V[Q++]|0,se=se+G|0;while(--Ee);G%=65521,se%=65521}return G|se<<16|0},"adler32");const Re=r(()=>{let b,V=[];for(var M=0;M<256;M++){b=M;for(var Q=0;Q<8;Q++)b=b&1?3988292384^b>>>1:b>>>1;V[M]=b}return V},"makeTable"),Ve=new Uint32Array(Re());var tt=r((b,V,M,Q)=>{const G=Ve,se=Q+M;b^=-1;for(let Ee=Q;Ee<se;Ee++)b=b>>>8^G[(b^V[Ee])&255];return b^-1},"crc32"),it={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:an,_tr_stored_block:un,_tr_flush_block:en,_tr_tally:Mn,_tr_align:qi}=Hi,{Z_NO_FLUSH:pi,Z_PARTIAL_FLUSH:dr,Z_FULL_FLUSH:Ki,Z_FINISH:mi,Z_BLOCK:Pr,Z_OK:si,Z_STREAM_END:or,Z_STREAM_ERROR:$n,Z_DATA_ERROR:ur,Z_BUF_ERROR:Ji,Z_DEFAULT_COMPRESSION:xr,Z_FILTERED:Dr,Z_HUFFMAN_ONLY:Xi,Z_RLE:_r,Z_FIXED:vt,Z_DEFAULT_STRATEGY:z,Z_UNKNOWN:de,Z_DEFLATED:Ie}=bt,xe=9,$e=15,ut=8,mt=29,It=256+1+mt,Rt=30,Zt=19,Wt=2*It+1,on=15,Tt=3,Yn=258,kn=Yn+Tt+1,Si=32,ui=42,fi=69,gi=73,yi=91,Fi=103,ni=113,Ci=666,In=1,Qn=2,ii=3,Zn=4,yr=3,Ui=r((b,V)=>(b.msg=it[V],V),"err"),sr=r(b=>(b<<1)-(b>4?9:0),"rank"),Ri=r(b=>{let V=b.length;for(;--V>=0;)b[V]=0},"zero");let er=r((b,V,M)=>(V<<b.hash_shift^M)&b.hash_mask,"HASH_ZLIB");const Qi=r(b=>{const V=b.state;let M=V.pending;M>b.avail_out&&(M=b.avail_out),M!==0&&(b.output.set(V.pending_buf.subarray(V.pending_out,V.pending_out+M),b.next_out),b.next_out+=M,V.pending_out+=M,b.total_out+=M,b.avail_out-=M,V.pending-=M,V.pending===0&&(V.pending_out=0))},"flush_pending"),qn=r((b,V)=>{en(b,b.block_start>=0?b.block_start:-1,b.strstart-b.block_start,V),b.block_start=b.strstart,Qi(b.strm)},"flush_block_only"),Yt=r((b,V)=>{b.pending_buf[b.pending++]=V},"put_byte"),fr=r((b,V)=>{b.pending_buf[b.pending++]=V>>>8&255,b.pending_buf[b.pending++]=V&255},"putShortMSB"),Zo=r((b,V,M,Q)=>{let G=b.avail_in;return G>Q&&(G=Q),G===0?0:(b.avail_in-=G,V.set(b.input.subarray(b.next_in,b.next_in+G),M),b.state.wrap===1?b.adler=ge(b.adler,V,G,M):b.state.wrap===2&&(b.adler=tt(b.adler,V,G,M)),b.next_in+=G,b.total_in+=G,G)},"read_buf"),so=r((b,V)=>{let M=b.max_chain_length,Q=b.strstart,G,se,Ee=b.prev_length,Se=b.nice_match;const Qe=b.strstart>b.w_size-kn?b.strstart-(b.w_size-kn):0,he=b.window,Te=b.w_mask,tn=b.prev,Ye=b.strstart+Yn;let _e=he[Q+Ee-1],Et=he[Q+Ee];b.prev_length>=b.good_match&&(M>>=2),Se>b.lookahead&&(Se=b.lookahead);do if(G=V,!(he[G+Ee]!==Et||he[G+Ee-1]!==_e||he[G]!==he[Q]||he[++G]!==he[Q+1])){Q+=2,G++;do;while(he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&he[++Q]===he[++G]&&Q<Ye);if(se=Yn-(Ye-Q),Q=Ye-Yn,se>Ee){if(b.match_start=V,Ee=se,se>=Se)break;_e=he[Q+Ee-1],Et=he[Q+Ee]}}while((V=tn[V&Te])>Qe&&--M!==0);return Ee<=b.lookahead?Ee:b.lookahead},"longest_match"),Wi=r(b=>{const V=b.w_size;let M,Q,G,se,Ee;do{if(se=b.window_size-b.lookahead-b.strstart,b.strstart>=V+(V-kn)){b.window.set(b.window.subarray(V,V+V),0),b.match_start-=V,b.strstart-=V,b.block_start-=V,Q=b.hash_size,M=Q;do G=b.head[--M],b.head[M]=G>=V?G-V:0;while(--Q);Q=V,M=Q;do G=b.prev[--M],b.prev[M]=G>=V?G-V:0;while(--Q);se+=V}if(b.strm.avail_in===0)break;if(Q=Zo(b.strm,b.window,b.strstart+b.lookahead,se),b.lookahead+=Q,b.lookahead+b.insert>=Tt)for(Ee=b.strstart-b.insert,b.ins_h=b.window[Ee],b.ins_h=er(b,b.ins_h,b.window[Ee+1]);b.insert&&(b.ins_h=er(b,b.ins_h,b.window[Ee+Tt-1]),b.prev[Ee&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=Ee,Ee++,b.insert--,!(b.lookahead+b.insert<Tt)););}while(b.lookahead<kn&&b.strm.avail_in!==0)},"fill_window"),Jr=r((b,V)=>{let M=65535;for(M>b.pending_buf_size-5&&(M=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Wi(b),b.lookahead===0&&V===pi)return In;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;const Q=b.block_start+M;if((b.strstart===0||b.strstart>=Q)&&(b.lookahead=b.strstart-Q,b.strstart=Q,qn(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-kn&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=0,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):(b.strstart>b.block_start&&(qn(b,!1),b.strm.avail_out===0),In)},"deflate_stored"),Hr=r((b,V)=>{let M,Q;for(;;){if(b.lookahead<kn){if(Wi(b),b.lookahead<kn&&V===pi)return In;if(b.lookahead===0)break}if(M=0,b.lookahead>=Tt&&(b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),M!==0&&b.strstart-M<=b.w_size-kn&&(b.match_length=so(b,M)),b.match_length>=Tt)if(Q=Mn(b,b.strstart-b.match_start,b.match_length-Tt),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=Tt){b.match_length--;do b.strstart++,b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(--b.match_length!==0);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=er(b,b.ins_h,b.window[b.strstart+1]);else Q=Mn(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(Q&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=b.strstart<Tt-1?b.strstart:Tt-1,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_fast"),tr=r((b,V)=>{let M,Q,G;for(;;){if(b.lookahead<kn){if(Wi(b),b.lookahead<kn&&V===pi)return In;if(b.lookahead===0)break}if(M=0,b.lookahead>=Tt&&(b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=Tt-1,M!==0&&b.prev_length<b.max_lazy_match&&b.strstart-M<=b.w_size-kn&&(b.match_length=so(b,M),b.match_length<=5&&(b.strategy===Dr||b.match_length===Tt&&b.strstart-b.match_start>4096)&&(b.match_length=Tt-1)),b.prev_length>=Tt&&b.match_length<=b.prev_length){G=b.strstart+b.lookahead-Tt,Q=Mn(b,b.strstart-1-b.prev_match,b.prev_length-Tt),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=G&&(b.ins_h=er(b,b.ins_h,b.window[b.strstart+Tt-1]),M=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(--b.prev_length!==0);if(b.match_available=0,b.match_length=Tt-1,b.strstart++,Q&&(qn(b,!1),b.strm.avail_out===0))return In}else if(b.match_available){if(Q=Mn(b,0,b.window[b.strstart-1]),Q&&qn(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return In}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(Q=Mn(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<Tt-1?b.strstart:Tt-1,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_slow"),Ts=r((b,V)=>{let M,Q,G,se;const Ee=b.window;for(;;){if(b.lookahead<=Yn){if(Wi(b),b.lookahead<=Yn&&V===pi)return In;if(b.lookahead===0)break}if(b.match_length=0,b.lookahead>=Tt&&b.strstart>0&&(G=b.strstart-1,Q=Ee[G],Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G])){se=b.strstart+Yn;do;while(Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&Q===Ee[++G]&&G<se);b.match_length=Yn-(se-G),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=Tt?(M=Mn(b,1,b.match_length-Tt),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(M=Mn(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),M&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=0,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_rle"),Is=r((b,V)=>{let M;for(;;){if(b.lookahead===0&&(Wi(b),b.lookahead===0)){if(V===pi)return In;break}if(b.match_length=0,M=Mn(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,M&&(qn(b,!1),b.strm.avail_out===0))return In}return b.insert=0,V===mi?(qn(b,!0),b.strm.avail_out===0?ii:Zn):b.last_lit&&(qn(b,!1),b.strm.avail_out===0)?In:Qn},"deflate_huff");function ki(b,V,M,Q,G){this.good_length=b,this.max_lazy=V,this.nice_length=M,this.max_chain=Q,this.func=G}r(ki,"Config");const Cr=[new ki(0,0,0,0,Jr),new ki(4,4,8,4,Hr),new ki(4,5,16,8,Hr),new ki(4,6,32,32,Hr),new ki(4,4,16,16,tr),new ki(8,16,32,32,tr),new ki(8,16,128,128,tr),new ki(8,32,128,256,tr),new ki(32,128,258,1024,tr),new ki(32,258,258,4096,tr)],Eo=r(b=>{b.window_size=2*b.w_size,Ri(b.head),b.max_lazy_match=Cr[b.level].max_lazy,b.good_match=Cr[b.level].good_length,b.nice_match=Cr[b.level].nice_length,b.max_chain_length=Cr[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=Tt-1,b.match_available=0,b.ins_h=0},"lm_init");function ws(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ie,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Wt*2),this.dyn_dtree=new Uint16Array((2*Rt+1)*2),this.bl_tree=new Uint16Array((2*Zt+1)*2),Ri(this.dyn_ltree),Ri(this.dyn_dtree),Ri(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(on+1),this.heap=new Uint16Array(2*It+1),Ri(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*It+1),Ri(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}r(ws,"DeflateState");const Lr=r(b=>{if(!b||!b.state)return Ui(b,$n);b.total_in=b.total_out=0,b.data_type=de;const V=b.state;return V.pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?ui:ni,b.adler=V.wrap===2?0:1,V.last_flush=pi,an(V),si},"deflateResetKeep"),fo=r(b=>{const V=Lr(b);return V===si&&Eo(b.state),V},"deflateReset"),ao=r((b,V)=>!b||!b.state||b.state.wrap!==2?$n:(b.state.gzhead=V,si),"deflateSetHeader"),To=r((b,V,M,Q,G,se)=>{if(!b)return $n;let Ee=1;if(V===xr&&(V=6),Q<0?(Ee=0,Q=-Q):Q>15&&(Ee=2,Q-=16),G<1||G>xe||M!==Ie||Q<8||Q>15||V<0||V>9||se<0||se>vt)return Ui(b,$n);Q===8&&(Q=9);const Se=new ws;return b.state=Se,Se.strm=b,Se.wrap=Ee,Se.gzhead=null,Se.w_bits=Q,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=G+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+Tt-1)/Tt),Se.window=new Uint8Array(Se.w_size*2),Se.head=new Uint16Array(Se.hash_size),Se.prev=new Uint16Array(Se.w_size),Se.lit_bufsize=1<<G+6,Se.pending_buf_size=Se.lit_bufsize*4,Se.pending_buf=new Uint8Array(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=(1+2)*Se.lit_bufsize,Se.level=V,Se.strategy=se,Se.method=M,fo(b)},"deflateInit2"),qo=r((b,V)=>To(b,V,Ie,$e,ut,z),"deflateInit"),es=r((b,V)=>{let M,Q;if(!b||!b.state||V>Pr||V<0)return b?Ui(b,$n):$n;const G=b.state;if(!b.output||!b.input&&b.avail_in!==0||G.status===Ci&&V!==mi)return Ui(b,b.avail_out===0?Ji:$n);G.strm=b;const se=G.last_flush;if(G.last_flush=V,G.status===ui)if(G.wrap===2)b.adler=0,Yt(G,31),Yt(G,139),Yt(G,8),G.gzhead?(Yt(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),Yt(G,G.gzhead.time&255),Yt(G,G.gzhead.time>>8&255),Yt(G,G.gzhead.time>>16&255),Yt(G,G.gzhead.time>>24&255),Yt(G,G.level===9?2:G.strategy>=Xi||G.level<2?4:0),Yt(G,G.gzhead.os&255),G.gzhead.extra&&G.gzhead.extra.length&&(Yt(G,G.gzhead.extra.length&255),Yt(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(b.adler=tt(b.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=fi):(Yt(G,0),Yt(G,0),Yt(G,0),Yt(G,0),Yt(G,0),Yt(G,G.level===9?2:G.strategy>=Xi||G.level<2?4:0),Yt(G,yr),G.status=ni);else{let Ee=Ie+(G.w_bits-8<<4)<<8,Se=-1;G.strategy>=Xi||G.level<2?Se=0:G.level<6?Se=1:G.level===6?Se=2:Se=3,Ee|=Se<<6,G.strstart!==0&&(Ee|=Si),Ee+=31-Ee%31,G.status=ni,fr(G,Ee),G.strstart!==0&&(fr(G,b.adler>>>16),fr(G,b.adler&65535)),b.adler=1}if(G.status===fi)if(G.gzhead.extra){for(M=G.pending;G.gzindex<(G.gzhead.extra.length&65535)&&!(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Qi(b),M=G.pending,G.pending===G.pending_buf_size));)Yt(G,G.gzhead.extra[G.gzindex]&255),G.gzindex++;G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=gi)}else G.status=gi;if(G.status===gi)if(G.gzhead.name){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Qi(b),M=G.pending,G.pending===G.pending_buf_size)){Q=1;break}G.gzindex<G.gzhead.name.length?Q=G.gzhead.name.charCodeAt(G.gzindex++)&255:Q=0,Yt(G,Q)}while(Q!==0);G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Q===0&&(G.gzindex=0,G.status=yi)}else G.status=yi;if(G.status===yi)if(G.gzhead.comment){M=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Qi(b),M=G.pending,G.pending===G.pending_buf_size)){Q=1;break}G.gzindex<G.gzhead.comment.length?Q=G.gzhead.comment.charCodeAt(G.gzindex++)&255:Q=0,Yt(G,Q)}while(Q!==0);G.gzhead.hcrc&&G.pending>M&&(b.adler=tt(b.adler,G.pending_buf,G.pending-M,M)),Q===0&&(G.status=Fi)}else G.status=Fi;if(G.status===Fi&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&Qi(b),G.pending+2<=G.pending_buf_size&&(Yt(G,b.adler&255),Yt(G,b.adler>>8&255),b.adler=0,G.status=ni)):G.status=ni),G.pending!==0){if(Qi(b),b.avail_out===0)return G.last_flush=-1,si}else if(b.avail_in===0&&sr(V)<=sr(se)&&V!==mi)return Ui(b,Ji);if(G.status===Ci&&b.avail_in!==0)return Ui(b,Ji);if(b.avail_in!==0||G.lookahead!==0||V!==pi&&G.status!==Ci){let Ee=G.strategy===Xi?Is(G,V):G.strategy===_r?Ts(G,V):Cr[G.level].func(G,V);if((Ee===ii||Ee===Zn)&&(G.status=Ci),Ee===In||Ee===ii)return b.avail_out===0&&(G.last_flush=-1),si;if(Ee===Qn&&(V===dr?qi(G):V!==Pr&&(un(G,0,0,!1),V===Ki&&(Ri(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),Qi(b),b.avail_out===0))return G.last_flush=-1,si}return V!==mi?si:G.wrap<=0?or:(G.wrap===2?(Yt(G,b.adler&255),Yt(G,b.adler>>8&255),Yt(G,b.adler>>16&255),Yt(G,b.adler>>24&255),Yt(G,b.total_in&255),Yt(G,b.total_in>>8&255),Yt(G,b.total_in>>16&255),Yt(G,b.total_in>>24&255)):(fr(G,b.adler>>>16),fr(G,b.adler&65535)),Qi(b),G.wrap>0&&(G.wrap=-G.wrap),G.pending!==0?si:or)},"deflate$2"),Bo=r(b=>{if(!b||!b.state)return $n;const V=b.state.status;return V!==ui&&V!==fi&&V!==gi&&V!==yi&&V!==Fi&&V!==ni&&V!==Ci?Ui(b,$n):(b.state=null,V===ni?Ui(b,ur):si)},"deflateEnd"),ts=r((b,V)=>{let M=V.length;if(!b||!b.state)return $n;const Q=b.state,G=Q.wrap;if(G===2||G===1&&Q.status!==ui||Q.lookahead)return $n;if(G===1&&(b.adler=ge(b.adler,V,M,0)),Q.wrap=0,M>=Q.w_size){G===0&&(Ri(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0);let Qe=new Uint8Array(Q.w_size);Qe.set(V.subarray(M-Q.w_size,M),0),V=Qe,M=Q.w_size}const se=b.avail_in,Ee=b.next_in,Se=b.input;for(b.avail_in=M,b.next_in=0,b.input=V,Wi(Q);Q.lookahead>=Tt;){let Qe=Q.strstart,he=Q.lookahead-(Tt-1);do Q.ins_h=er(Q,Q.ins_h,Q.window[Qe+Tt-1]),Q.prev[Qe&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Qe,Qe++;while(--he);Q.strstart=Qe,Q.lookahead=Tt-1,Wi(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=Tt-1,Q.match_available=0,b.next_in=Ee,b.input=Se,b.avail_in=se,Q.wrap=G,si},"deflateSetDictionary");var ho=qo,zr=To,Nr=fo,Io=Lr,po=ao,Yr=es,Fo=Bo,Uo=ts,Vo="pako deflate (from Nodeca project)",ar={deflateInit:ho,deflateInit2:zr,deflateReset:Nr,deflateResetKeep:Io,deflateSetHeader:po,deflate:Yr,deflateEnd:Fo,deflateSetDictionary:Uo,deflateInfo:Vo};const Ho=r((b,V)=>Object.prototype.hasOwnProperty.call(b,V),"_has");var ns=r(function(b){const V=Array.prototype.slice.call(arguments,1);for(;V.length;){const M=V.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(const Q in M)Ho(M,Q)&&(b[Q]=M[Q])}}return b},"assign"),zo=r(b=>{let V=0;for(let Q=0,G=b.length;Q<G;Q++)V+=b[Q].length;const M=new Uint8Array(V);for(let Q=0,G=0,se=b.length;Q<se;Q++){let Ee=b[Q];M.set(Ee,G),G+=Ee.length}return M},"flattenChunks"),Wr={assign:ns,flattenChunks:zo};let lo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lo=!1}const br=new Uint8Array(256);for(let b=0;b<256;b++)br[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;br[254]=br[254]=1;var Br=r(b=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(b);let V,M,Q,G,se,Ee=b.length,Se=0;for(G=0;G<Ee;G++)M=b.charCodeAt(G),(M&64512)===55296&&G+1<Ee&&(Q=b.charCodeAt(G+1),(Q&64512)===56320&&(M=65536+(M-55296<<10)+(Q-56320),G++)),Se+=M<128?1:M<2048?2:M<65536?3:4;for(V=new Uint8Array(Se),se=0,G=0;se<Se;G++)M=b.charCodeAt(G),(M&64512)===55296&&G+1<Ee&&(Q=b.charCodeAt(G+1),(Q&64512)===56320&&(M=65536+(M-55296<<10)+(Q-56320),G++)),M<128?V[se++]=M:M<2048?(V[se++]=192|M>>>6,V[se++]=128|M&63):M<65536?(V[se++]=224|M>>>12,V[se++]=128|M>>>6&63,V[se++]=128|M&63):(V[se++]=240|M>>>18,V[se++]=128|M>>>12&63,V[se++]=128|M>>>6&63,V[se++]=128|M&63);return V},"string2buf");const Wo=r((b,V)=>{if(V<65534&&b.subarray&&lo)return String.fromCharCode.apply(null,b.length===V?b:b.subarray(0,V));let M="";for(let Q=0;Q<V;Q++)M+=String.fromCharCode(b[Q]);return M},"buf2binstring");var Xr=r((b,V)=>{const M=V||b.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(b.subarray(0,V));let Q,G;const se=new Array(M*2);for(G=0,Q=0;Q<M;){let Ee=b[Q++];if(Ee<128){se[G++]=Ee;continue}let Se=br[Ee];if(Se>4){se[G++]=65533,Q+=Se-1;continue}for(Ee&=Se===2?31:Se===3?15:7;Se>1&&Q<M;)Ee=Ee<<6|b[Q++]&63,Se--;if(Se>1){se[G++]=65533;continue}Ee<65536?se[G++]=Ee:(Ee-=65536,se[G++]=55296|Ee>>10&1023,se[G++]=56320|Ee&1023)}return Wo(se,G)},"buf2string"),is=r((b,V)=>{V=V||b.length,V>b.length&&(V=b.length);let M=V-1;for(;M>=0&&(b[M]&192)===128;)M--;return M<0||M===0?V:M+br[b[M]]>V?M:V},"utf8border"),kr={string2buf:Br,buf2string:Xr,utf8border:is};function mo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r(mo,"ZStream");var wo=mo;const Fr=Object.prototype.toString,{Z_NO_FLUSH:jr,Z_SYNC_FLUSH:Oo,Z_FULL_FLUSH:jo,Z_FINISH:Js,Z_OK:Ur,Z_STREAM_END:rs,Z_DEFAULT_COMPRESSION:Gr,Z_DEFAULT_STRATEGY:Os,Z_DEFLATED:Ms}=bt;function hr(b){this.options=Wr.assign({level:Gr,method:Ms,chunkSize:16384,windowBits:15,memLevel:8,strategy:Os},b||{});let V=this.options;V.raw&&V.windowBits>0?V.windowBits=-V.windowBits:V.gzip&&V.windowBits>0&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wo,this.strm.avail_out=0;let M=ar.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(M!==Ur)throw new Error(it[M]);if(V.header&&ar.deflateSetHeader(this.strm,V.header),V.dictionary){let Q;if(typeof V.dictionary=="string"?Q=kr.string2buf(V.dictionary):Fr.call(V.dictionary)==="[object ArrayBuffer]"?Q=new Uint8Array(V.dictionary):Q=V.dictionary,M=ar.deflateSetDictionary(this.strm,Q),M!==Ur)throw new Error(it[M]);this._dict_set=!0}}r(hr,"Deflate$1"),hr.prototype.push=function(b,V){const M=this.strm,Q=this.options.chunkSize;let G,se;if(this.ended)return!1;for(V===~~V?se=V:se=V===!0?Js:jr,typeof b=="string"?M.input=kr.string2buf(b):Fr.call(b)==="[object ArrayBuffer]"?M.input=new Uint8Array(b):M.input=b,M.next_in=0,M.avail_in=M.input.length;;){if(M.avail_out===0&&(M.output=new Uint8Array(Q),M.next_out=0,M.avail_out=Q),(se===Oo||se===jo)&&M.avail_out<=6){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(G=ar.deflate(M,se),G===rs)return M.next_out>0&&this.onData(M.output.subarray(0,M.next_out)),G=ar.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===Ur;if(M.avail_out===0){this.onData(M.output);continue}if(se>0&&M.next_out>0){this.onData(M.output.subarray(0,M.next_out)),M.avail_out=0;continue}if(M.avail_in===0)break}return!0},hr.prototype.onData=function(b){this.chunks.push(b)},hr.prototype.onEnd=function(b){b===Ur&&(this.result=Wr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function Qr(b,V){const M=new hr(V);if(M.push(b,!0),M.err)throw M.msg||it[M.err];return M.result}r(Qr,"deflate$1");function Zr(b,V){return V=V||{},V.raw=!0,Qr(b,V)}r(Zr,"deflateRaw$1");function os(b,V){return V=V||{},V.gzip=!0,Qr(b,V)}r(os,"gzip$1");var ss=hr,Ys=Qr,Mo=Zr,as=os,As=bt,ls={Deflate:ss,deflate:Ys,deflateRaw:Mo,gzip:as,constants:As};const qr=30,Rs=12;var Ao=r(function(V,M){let Q,G,se,Ee,Se,Qe,he,Te,tn,Ye,_e,Et,zn,qt,Ut,gn,$t,Ke,nn,We,wt,qe,yn,Vt;const jt=V.state;Q=V.next_in,yn=V.input,G=Q+(V.avail_in-5),se=V.next_out,Vt=V.output,Ee=se-(M-V.avail_out),Se=se+(V.avail_out-257),Qe=jt.dmax,he=jt.wsize,Te=jt.whave,tn=jt.wnext,Ye=jt.window,_e=jt.hold,Et=jt.bits,zn=jt.lencode,qt=jt.distcode,Ut=(1<<jt.lenbits)-1,gn=(1<<jt.distbits)-1;e:do{Et<15&&(_e+=yn[Q++]<<Et,Et+=8,_e+=yn[Q++]<<Et,Et+=8),$t=zn[_e&Ut];t:for(;;){if(Ke=$t>>>24,_e>>>=Ke,Et-=Ke,Ke=$t>>>16&255,Ke===0)Vt[se++]=$t&65535;else if(Ke&16){nn=$t&65535,Ke&=15,Ke&&(Et<Ke&&(_e+=yn[Q++]<<Et,Et+=8),nn+=_e&(1<<Ke)-1,_e>>>=Ke,Et-=Ke),Et<15&&(_e+=yn[Q++]<<Et,Et+=8,_e+=yn[Q++]<<Et,Et+=8),$t=qt[_e&gn];n:for(;;){if(Ke=$t>>>24,_e>>>=Ke,Et-=Ke,Ke=$t>>>16&255,Ke&16){if(We=$t&65535,Ke&=15,Et<Ke&&(_e+=yn[Q++]<<Et,Et+=8,Et<Ke&&(_e+=yn[Q++]<<Et,Et+=8)),We+=_e&(1<<Ke)-1,We>Qe){V.msg="invalid distance too far back",jt.mode=qr;break e}if(_e>>>=Ke,Et-=Ke,Ke=se-Ee,We>Ke){if(Ke=We-Ke,Ke>Te&&jt.sane){V.msg="invalid distance too far back",jt.mode=qr;break e}if(wt=0,qe=Ye,tn===0){if(wt+=he-Ke,Ke<nn){nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);wt=se-We,qe=Vt}}else if(tn<Ke){if(wt+=he+tn-Ke,Ke-=tn,Ke<nn){nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);if(wt=0,tn<nn){Ke=tn,nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);wt=se-We,qe=Vt}}}else if(wt+=tn-Ke,Ke<nn){nn-=Ke;do Vt[se++]=Ye[wt++];while(--Ke);wt=se-We,qe=Vt}for(;nn>2;)Vt[se++]=qe[wt++],Vt[se++]=qe[wt++],Vt[se++]=qe[wt++],nn-=3;nn&&(Vt[se++]=qe[wt++],nn>1&&(Vt[se++]=qe[wt++]))}else{wt=se-We;do Vt[se++]=Vt[wt++],Vt[se++]=Vt[wt++],Vt[se++]=Vt[wt++],nn-=3;while(nn>2);nn&&(Vt[se++]=Vt[wt++],nn>1&&(Vt[se++]=Vt[wt++]))}}else if(Ke&64){V.msg="invalid distance code",jt.mode=qr;break e}else{$t=qt[($t&65535)+(_e&(1<<Ke)-1)];continue n}break}}else if(Ke&64)if(Ke&32){jt.mode=Rs;break e}else{V.msg="invalid literal/length code",jt.mode=qr;break e}else{$t=zn[($t&65535)+(_e&(1<<Ke)-1)];continue t}break}}while(Q<G&&se<Se);nn=Et>>3,Q-=nn,Et-=nn<<3,_e&=(1<<Et)-1,V.next_in=Q,V.next_out=se,V.avail_in=Q<G?5+(G-Q):5-(Q-G),V.avail_out=se<Se?257+(Se-se):257-(se-Se),jt.hold=_e,jt.bits=Et},"inflate_fast");const nr=15,Ro=852,Po=592,Do=0,$r=1,go=2,pr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Go=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ps=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var to=r((b,V,M,Q,G,se,Ee,Se)=>{const Qe=Se.bits;let he=0,Te=0,tn=0,Ye=0,_e=0,Et=0,zn=0,qt=0,Ut=0,gn=0,$t,Ke,nn,We,wt,qe=null,yn=0,Vt;const jt=new Uint16Array(nr+1),Kr=new Uint16Array(nr+1);let mn=null,ml=0,hn,Bs,ms;for(he=0;he<=nr;he++)jt[he]=0;for(Te=0;Te<Q;Te++)jt[V[M+Te]]++;for(_e=Qe,Ye=nr;Ye>=1&&jt[Ye]===0;Ye--);if(_e>Ye&&(_e=Ye),Ye===0)return G[se++]=1<<24|64<<16|0,G[se++]=1<<24|64<<16|0,Se.bits=1,0;for(tn=1;tn<Ye&&jt[tn]===0;tn++);for(_e<tn&&(_e=tn),qt=1,he=1;he<=nr;he++)if(qt<<=1,qt-=jt[he],qt<0)return-1;if(qt>0&&(b===Do||Ye!==1))return-1;for(Kr[1]=0,he=1;he<nr;he++)Kr[he+1]=Kr[he]+jt[he];for(Te=0;Te<Q;Te++)V[M+Te]!==0&&(Ee[Kr[V[M+Te]]++]=Te);if(b===Do?(qe=mn=Ee,Vt=19):b===$r?(qe=pr,yn-=257,mn=Go,ml-=257,Vt=256):(qe=eo,mn=Ps,Vt=-1),gn=0,Te=0,he=tn,wt=se,Et=_e,zn=0,nn=-1,Ut=1<<_e,We=Ut-1,b===$r&&Ut>Ro||b===go&&Ut>Po)return 1;for(;;){hn=he-zn,Ee[Te]<Vt?(Bs=0,ms=Ee[Te]):Ee[Te]>Vt?(Bs=mn[ml+Ee[Te]],ms=qe[yn+Ee[Te]]):(Bs=32+64,ms=0),$t=1<<he-zn,Ke=1<<Et,tn=Ke;do Ke-=$t,G[wt+(gn>>zn)+Ke]=hn<<24|Bs<<16|ms|0;while(Ke!==0);for($t=1<<he-1;gn&$t;)$t>>=1;if($t!==0?(gn&=$t-1,gn+=$t):gn=0,Te++,--jt[he]===0){if(he===Ye)break;he=V[M+Ee[Te]]}if(he>_e&&(gn&We)!==nn){for(zn===0&&(zn=_e),wt+=tn,Et=he-zn,qt=1<<Et;Et+zn<Ye&&(qt-=jt[Et+zn],!(qt<=0));)Et++,qt<<=1;if(Ut+=1<<Et,b===$r&&Ut>Ro||b===go&&Ut>Po)return 1;nn=gn&We,G[nn]=_e<<24|Et<<16|wt-se|0}}return gn!==0&&(G[wt+gn]=he-zn<<24|64<<16|0),Se.bits=_e,0},"inflate_table");const Xs=0,cs=1,Pa=2,{Z_FINISH:no,Z_BLOCK:$o,Z_TREES:Er,Z_OK:mr,Z_STREAM_END:Da,Z_NEED_DICT:aa,Z_STREAM_ERROR:xi,Z_DATA_ERROR:ds,Z_MEM_ERROR:So,Z_BUF_ERROR:io,Z_DEFLATED:ji}=bt,Ds=1,ks=2,xs=3,us=4,fs=5,hs=6,_s=7,la=8,ue=9,ie=10,q=11,L=12,J=13,oe=14,re=15,be=16,Me=17,De=18,Ne=19,Be=20,Ge=21,Ze=22,gt=23,_t=24,Jt=25,Xt=26,fn=27,pn=28,wn=29,Pt=30,ei=31,Xn=32,Ii=852,_i=592,bi=15,Vi=r(b=>(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24),"zswap32");function Pi(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}r(Pi,"InflateState");const ir=r(b=>{if(!b||!b.state)return xi;const V=b.state;return b.total_in=b.total_out=V.total=0,b.msg="",V.wrap&&(b.adler=V.wrap&1),V.mode=Ds,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new Int32Array(Ii),V.distcode=V.distdyn=new Int32Array(_i),V.sane=1,V.back=-1,mr},"inflateResetKeep"),ro=r(b=>{if(!b||!b.state)return xi;const V=b.state;return V.wsize=0,V.whave=0,V.wnext=0,ir(b)},"inflateReset"),Vr=r((b,V)=>{let M;if(!b||!b.state)return xi;const Q=b.state;return V<0?(M=0,V=-V):(M=(V>>4)+1,V<48&&(V&=15)),V&&(V<8||V>15)?xi:(Q.window!==null&&Q.wbits!==V&&(Q.window=null),Q.wrap=M,Q.wbits=V,ro(b))},"inflateReset2"),Tr=r((b,V)=>{if(!b)return xi;const M=new Pi;b.state=M,M.window=null;const Q=Vr(b,V);return Q!==mr&&(b.state=null),Q},"inflateInit2"),ka=r(b=>Tr(b,bi),"inflateInit");let co=!0,Ko,Ls;const al=r(b=>{if(co){Ko=new Int32Array(512),Ls=new Int32Array(32);let V=0;for(;V<144;)b.lens[V++]=8;for(;V<256;)b.lens[V++]=9;for(;V<280;)b.lens[V++]=7;for(;V<288;)b.lens[V++]=8;for(to(cs,b.lens,0,288,Ko,0,b.work,{bits:9}),V=0;V<32;)b.lens[V++]=5;to(Pa,b.lens,0,32,Ls,0,b.work,{bits:5}),co=!1}b.lencode=Ko,b.lenbits=9,b.distcode=Ls,b.distbits=5},"fixedtables"),Qs=r((b,V,M,Q)=>{let G;const se=b.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new Uint8Array(se.wsize)),Q>=se.wsize?(se.window.set(V.subarray(M-se.wsize,M),0),se.wnext=0,se.whave=se.wsize):(G=se.wsize-se.wnext,G>Q&&(G=Q),se.window.set(V.subarray(M-Q,M-Q+G),se.wnext),Q-=G,Q?(se.window.set(V.subarray(M-Q,M),0),se.wnext=Q,se.whave=se.wsize):(se.wnext+=G,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=G))),0},"updatewindow"),On=r((b,V)=>{let M,Q,G,se,Ee,Se,Qe,he,Te,tn,Ye,_e,Et,zn,qt=0,Ut,gn,$t,Ke,nn,We,wt,qe;const yn=new Uint8Array(4);let Vt,jt;const Kr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return xi;M=b.state,M.mode===L&&(M.mode=J),Ee=b.next_out,G=b.output,Qe=b.avail_out,se=b.next_in,Q=b.input,Se=b.avail_in,he=M.hold,Te=M.bits,tn=Se,Ye=Qe,qe=mr;e:for(;;)switch(M.mode){case Ds:if(M.wrap===0){M.mode=J;break}for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(M.wrap&2&&he===35615){M.check=0,yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0),he=0,Te=0,M.mode=ks;break}if(M.flags=0,M.head&&(M.head.done=!1),!(M.wrap&1)||(((he&255)<<8)+(he>>8))%31){b.msg="incorrect header check",M.mode=Pt;break}if((he&15)!==ji){b.msg="unknown compression method",M.mode=Pt;break}if(he>>>=4,Te-=4,wt=(he&15)+8,M.wbits===0)M.wbits=wt;else if(wt>M.wbits){b.msg="invalid window size",M.mode=Pt;break}M.dmax=1<<M.wbits,b.adler=M.check=1,M.mode=he&512?ie:L,he=0,Te=0;break;case ks:for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(M.flags=he,(M.flags&255)!==ji){b.msg="unknown compression method",M.mode=Pt;break}if(M.flags&57344){b.msg="unknown header flags set",M.mode=Pt;break}M.head&&(M.head.text=he>>8&1),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0)),he=0,Te=0,M.mode=xs;case xs:for(;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.head&&(M.head.time=he),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,yn[2]=he>>>16&255,yn[3]=he>>>24&255,M.check=tt(M.check,yn,4,0)),he=0,Te=0,M.mode=us;case us:for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.head&&(M.head.xflags=he&255,M.head.os=he>>8),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0)),he=0,Te=0,M.mode=fs;case fs:if(M.flags&1024){for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.length=he,M.head&&(M.head.extra_len=he),M.flags&512&&(yn[0]=he&255,yn[1]=he>>>8&255,M.check=tt(M.check,yn,2,0)),he=0,Te=0}else M.head&&(M.head.extra=null);M.mode=hs;case hs:if(M.flags&1024&&(_e=M.length,_e>Se&&(_e=Se),_e&&(M.head&&(wt=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Uint8Array(M.head.extra_len)),M.head.extra.set(Q.subarray(se,se+_e),wt)),M.flags&512&&(M.check=tt(M.check,Q,_e,se)),Se-=_e,se+=_e,M.length-=_e),M.length))break e;M.length=0,M.mode=_s;case _s:if(M.flags&2048){if(Se===0)break e;_e=0;do wt=Q[se+_e++],M.head&&wt&&M.length<65536&&(M.head.name+=String.fromCharCode(wt));while(wt&&_e<Se);if(M.flags&512&&(M.check=tt(M.check,Q,_e,se)),Se-=_e,se+=_e,wt)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=la;case la:if(M.flags&4096){if(Se===0)break e;_e=0;do wt=Q[se+_e++],M.head&&wt&&M.length<65536&&(M.head.comment+=String.fromCharCode(wt));while(wt&&_e<Se);if(M.flags&512&&(M.check=tt(M.check,Q,_e,se)),Se-=_e,se+=_e,wt)break e}else M.head&&(M.head.comment=null);M.mode=ue;case ue:if(M.flags&512){for(;Te<16;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(he!==(M.check&65535)){b.msg="header crc mismatch",M.mode=Pt;break}he=0,Te=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),b.adler=M.check=0,M.mode=L;break;case ie:for(;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}b.adler=M.check=Vi(he),he=0,Te=0,M.mode=q;case q:if(M.havedict===0)return b.next_out=Ee,b.avail_out=Qe,b.next_in=se,b.avail_in=Se,M.hold=he,M.bits=Te,aa;b.adler=M.check=1,M.mode=L;case L:if(V===$o||V===Er)break e;case J:if(M.last){he>>>=Te&7,Te-=Te&7,M.mode=fn;break}for(;Te<3;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}switch(M.last=he&1,he>>>=1,Te-=1,he&3){case 0:M.mode=oe;break;case 1:if(al(M),M.mode=Be,V===Er){he>>>=2,Te-=2;break e}break;case 2:M.mode=Me;break;case 3:b.msg="invalid block type",M.mode=Pt}he>>>=2,Te-=2;break;case oe:for(he>>>=Te&7,Te-=Te&7;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if((he&65535)!==(he>>>16^65535)){b.msg="invalid stored block lengths",M.mode=Pt;break}if(M.length=he&65535,he=0,Te=0,M.mode=re,V===Er)break e;case re:M.mode=be;case be:if(_e=M.length,_e){if(_e>Se&&(_e=Se),_e>Qe&&(_e=Qe),_e===0)break e;G.set(Q.subarray(se,se+_e),Ee),Se-=_e,se+=_e,Qe-=_e,Ee+=_e,M.length-=_e;break}M.mode=L;break;case Me:for(;Te<14;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(M.nlen=(he&31)+257,he>>>=5,Te-=5,M.ndist=(he&31)+1,he>>>=5,Te-=5,M.ncode=(he&15)+4,he>>>=4,Te-=4,M.nlen>286||M.ndist>30){b.msg="too many length or distance symbols",M.mode=Pt;break}M.have=0,M.mode=De;case De:for(;M.have<M.ncode;){for(;Te<3;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.lens[Kr[M.have++]]=he&7,he>>>=3,Te-=3}for(;M.have<19;)M.lens[Kr[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,Vt={bits:M.lenbits},qe=to(Xs,M.lens,0,19,M.lencode,0,M.work,Vt),M.lenbits=Vt.bits,qe){b.msg="invalid code lengths set",M.mode=Pt;break}M.have=0,M.mode=Ne;case Ne:for(;M.have<M.nlen+M.ndist;){for(;qt=M.lencode[he&(1<<M.lenbits)-1],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if($t<16)he>>>=Ut,Te-=Ut,M.lens[M.have++]=$t;else{if($t===16){for(jt=Ut+2;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(he>>>=Ut,Te-=Ut,M.have===0){b.msg="invalid bit length repeat",M.mode=Pt;break}wt=M.lens[M.have-1],_e=3+(he&3),he>>>=2,Te-=2}else if($t===17){for(jt=Ut+3;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ut,Te-=Ut,wt=0,_e=3+(he&7),he>>>=3,Te-=3}else{for(jt=Ut+7;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ut,Te-=Ut,wt=0,_e=11+(he&127),he>>>=7,Te-=7}if(M.have+_e>M.nlen+M.ndist){b.msg="invalid bit length repeat",M.mode=Pt;break}for(;_e--;)M.lens[M.have++]=wt}}if(M.mode===Pt)break;if(M.lens[256]===0){b.msg="invalid code -- missing end-of-block",M.mode=Pt;break}if(M.lenbits=9,Vt={bits:M.lenbits},qe=to(cs,M.lens,0,M.nlen,M.lencode,0,M.work,Vt),M.lenbits=Vt.bits,qe){b.msg="invalid literal/lengths set",M.mode=Pt;break}if(M.distbits=6,M.distcode=M.distdyn,Vt={bits:M.distbits},qe=to(Pa,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,Vt),M.distbits=Vt.bits,qe){b.msg="invalid distances set",M.mode=Pt;break}if(M.mode=Be,V===Er)break e;case Be:M.mode=Ge;case Ge:if(Se>=6&&Qe>=258){b.next_out=Ee,b.avail_out=Qe,b.next_in=se,b.avail_in=Se,M.hold=he,M.bits=Te,Ao(b,Ye),Ee=b.next_out,G=b.output,Qe=b.avail_out,se=b.next_in,Q=b.input,Se=b.avail_in,he=M.hold,Te=M.bits,M.mode===L&&(M.back=-1);break}for(M.back=0;qt=M.lencode[he&(1<<M.lenbits)-1],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(gn&&!(gn&240)){for(Ke=Ut,nn=gn,We=$t;qt=M.lencode[We+((he&(1<<Ke+nn)-1)>>Ke)],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ke+Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ke,Te-=Ke,M.back+=Ke}if(he>>>=Ut,Te-=Ut,M.back+=Ut,M.length=$t,gn===0){M.mode=Xt;break}if(gn&32){M.back=-1,M.mode=L;break}if(gn&64){b.msg="invalid literal/length code",M.mode=Pt;break}M.extra=gn&15,M.mode=Ze;case Ze:if(M.extra){for(jt=M.extra;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.length+=he&(1<<M.extra)-1,he>>>=M.extra,Te-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=gt;case gt:for(;qt=M.distcode[he&(1<<M.distbits)-1],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(!(gn&240)){for(Ke=Ut,nn=gn,We=$t;qt=M.distcode[We+((he&(1<<Ke+nn)-1)>>Ke)],Ut=qt>>>24,gn=qt>>>16&255,$t=qt&65535,!(Ke+Ut<=Te);){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}he>>>=Ke,Te-=Ke,M.back+=Ke}if(he>>>=Ut,Te-=Ut,M.back+=Ut,gn&64){b.msg="invalid distance code",M.mode=Pt;break}M.offset=$t,M.extra=gn&15,M.mode=_t;case _t:if(M.extra){for(jt=M.extra;Te<jt;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}M.offset+=he&(1<<M.extra)-1,he>>>=M.extra,Te-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){b.msg="invalid distance too far back",M.mode=Pt;break}M.mode=Jt;case Jt:if(Qe===0)break e;if(_e=Ye-Qe,M.offset>_e){if(_e=M.offset-_e,_e>M.whave&&M.sane){b.msg="invalid distance too far back",M.mode=Pt;break}_e>M.wnext?(_e-=M.wnext,Et=M.wsize-_e):Et=M.wnext-_e,_e>M.length&&(_e=M.length),zn=M.window}else zn=G,Et=Ee-M.offset,_e=M.length;_e>Qe&&(_e=Qe),Qe-=_e,M.length-=_e;do G[Ee++]=zn[Et++];while(--_e);M.length===0&&(M.mode=Ge);break;case Xt:if(Qe===0)break e;G[Ee++]=M.length,Qe--,M.mode=Ge;break;case fn:if(M.wrap){for(;Te<32;){if(Se===0)break e;Se--,he|=Q[se++]<<Te,Te+=8}if(Ye-=Qe,b.total_out+=Ye,M.total+=Ye,Ye&&(b.adler=M.check=M.flags?tt(M.check,G,Ye,Ee-Ye):ge(M.check,G,Ye,Ee-Ye)),Ye=Qe,(M.flags?he:Vi(he))!==M.check){b.msg="incorrect data check",M.mode=Pt;break}he=0,Te=0}M.mode=pn;case pn:if(M.wrap&&M.flags){for(;Te<32;){if(Se===0)break e;Se--,he+=Q[se++]<<Te,Te+=8}if(he!==(M.total&4294967295)){b.msg="incorrect length check",M.mode=Pt;break}he=0,Te=0}M.mode=wn;case wn:qe=Da;break e;case Pt:qe=ds;break e;case ei:return So;case Xn:default:return xi}return b.next_out=Ee,b.avail_out=Qe,b.next_in=se,b.avail_in=Se,M.hold=he,M.bits=Te,(M.wsize||Ye!==b.avail_out&&M.mode<Pt&&(M.mode<fn||V!==no))&&Qs(b,b.output,b.next_out,Ye-b.avail_out),tn-=b.avail_in,Ye-=b.avail_out,b.total_in+=tn,b.total_out+=Ye,M.total+=Ye,M.wrap&&Ye&&(b.adler=M.check=M.flags?tt(M.check,G,Ye,b.next_out-Ye):ge(M.check,G,Ye,b.next_out-Ye)),b.data_type=M.bits+(M.last?64:0)+(M.mode===L?128:0)+(M.mode===Be||M.mode===re?256:0),(tn===0&&Ye===0||V===no)&&qe===mr&&(qe=io),qe},"inflate$2"),sn=r(b=>{if(!b||!b.state)return xi;let V=b.state;return V.window&&(V.window=null),b.state=null,mr},"inflateEnd"),Ul=r((b,V)=>{if(!b||!b.state)return xi;const M=b.state;return M.wrap&2?(M.head=V,V.done=!1,mr):xi},"inflateGetHeader"),Mc=r((b,V)=>{const M=V.length;let Q,G,se;return!b||!b.state||(Q=b.state,Q.wrap!==0&&Q.mode!==q)?xi:Q.mode===q&&(G=1,G=ge(G,V,M,0),G!==Q.check)?ds:(se=Qs(b,V,M,M),se?(Q.mode=ei,So):(Q.havedict=1,mr))},"inflateSetDictionary");var ll=ro,Yi=Vr,Vl=ir,xa=ka,ca=Tr,Ac=On,cl=sn,dl=Ul,ul=Mc,_a="pako inflate (from Nodeca project)",gr={inflateReset:ll,inflateReset2:Yi,inflateResetKeep:Vl,inflateInit:xa,inflateInit2:ca,inflate:Ac,inflateEnd:cl,inflateGetHeader:dl,inflateSetDictionary:ul,inflateInfo:_a};function ln(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r(ln,"GZheader");var Kn=ln;const At=Object.prototype.toString,{Z_NO_FLUSH:Rc,Z_FINISH:fl,Z_OK:Jo,Z_STREAM_END:Zs,Z_NEED_DICT:qs,Z_STREAM_ERROR:Ns,Z_DATA_ERROR:da,Z_MEM_ERROR:Pc}=bt;function Yo(b){this.options=Wr.assign({chunkSize:1024*64,windowBits:15,to:""},b||{});const V=this.options;V.raw&&V.windowBits>=0&&V.windowBits<16&&(V.windowBits=-V.windowBits,V.windowBits===0&&(V.windowBits=-15)),V.windowBits>=0&&V.windowBits<16&&!(b&&b.windowBits)&&(V.windowBits+=32),V.windowBits>15&&V.windowBits<48&&(V.windowBits&15||(V.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wo,this.strm.avail_out=0;let M=gr.inflateInit2(this.strm,V.windowBits);if(M!==Jo)throw new Error(it[M]);if(this.header=new Kn,gr.inflateGetHeader(this.strm,this.header),V.dictionary&&(typeof V.dictionary=="string"?V.dictionary=kr.string2buf(V.dictionary):At.call(V.dictionary)==="[object ArrayBuffer]"&&(V.dictionary=new Uint8Array(V.dictionary)),V.raw&&(M=gr.inflateSetDictionary(this.strm,V.dictionary),M!==Jo)))throw new Error(it[M])}r(Yo,"Inflate$1"),Yo.prototype.push=function(b,V){const M=this.strm,Q=this.options.chunkSize,G=this.options.dictionary;let se,Ee,Se;if(this.ended)return!1;for(V===~~V?Ee=V:Ee=V===!0?fl:Rc,At.call(b)==="[object ArrayBuffer]"?M.input=new Uint8Array(b):M.input=b,M.next_in=0,M.avail_in=M.input.length;;){for(M.avail_out===0&&(M.output=new Uint8Array(Q),M.next_out=0,M.avail_out=Q),se=gr.inflate(M,Ee),se===qs&&G&&(se=gr.inflateSetDictionary(M,G),se===Jo?se=gr.inflate(M,Ee):se===da&&(se=qs));M.avail_in>0&&se===Zs&&M.state.wrap>0&&b[M.next_in]!==0;)gr.inflateReset(M),se=gr.inflate(M,Ee);switch(se){case Ns:case da:case qs:case Pc:return this.onEnd(se),this.ended=!0,!1}if(Se=M.avail_out,M.next_out&&(M.avail_out===0||se===Zs))if(this.options.to==="string"){let Qe=kr.utf8border(M.output,M.next_out),he=M.next_out-Qe,Te=kr.buf2string(M.output,Qe);M.next_out=he,M.avail_out=Q-he,he&&M.output.set(M.output.subarray(Qe,Qe+he),0),this.onData(Te)}else this.onData(M.output.length===M.next_out?M.output:M.output.subarray(0,M.next_out));if(!(se===Jo&&Se===0)){if(se===Zs)return se=gr.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,!0;if(M.avail_in===0)break}}return!0},Yo.prototype.onData=function(b){this.chunks.push(b)},Yo.prototype.onEnd=function(b){b===Jo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wr.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function ua(b,V){const M=new Yo(V);if(M.push(b),M.err)throw M.msg||it[M.err];return M.result}r(ua,"inflate$1");function hl(b,V){return V=V||{},V.raw=!0,ua(b,V)}r(hl,"inflateRaw$1");var Dc=Yo,kc=ua,xc=hl,ea=ua,Hl=bt,fa={Inflate:Dc,inflate:kc,inflateRaw:xc,ungzip:ea,constants:Hl};const{Deflate:ha,deflate:zl,deflateRaw:La,gzip:_c}=ls,{Inflate:Wl,inflate:Lc,inflateRaw:jl,ungzip:Nc}=fa;var Na=ha,Ba=zl,Fa=La,pl=_c,rr=Wl,ps=Lc,Ua=jl,Va=Nc,Ha=bt,za={Deflate:Na,deflate:Ba,deflateRaw:Fa,gzip:pl,Inflate:rr,inflate:ps,inflateRaw:Ua,ungzip:Va,constants:Ha}},mZDK:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(h){}},"NoOpTask");c.default=v},mb4i:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={ChannelNotFound:"channel_not_found",InvalidChannelId:"invalid_channel_id"},t=Object(a.a)("conversations.teamConnections generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"conversations.teamConnections",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to conversations.teamConnections
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherconversationsTeamConnectionsFetcher",description:"conversations.teamConnections generated fetcher"}},mcAb:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Np2I")),h=v(d("5/Tg"));let m=r(class{create(){return new f.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(o){return new h.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,o)}constructor(o,i,e){this.fixedWaitMs=o,this.shortBackoffMs=i,this.longBackoffMs=e}},"FullJitterBackoffFactory");c.default=m},mgFs:function(U,c,d){"use strict";d.d(c,"b",function(){return v}),d.d(c,"a",function(){return f});var v;(function(h){h[h.ID=25]="ID",h[h.FRECENCY=0]="FRECENCY",h[h.RAW_FRECENCY=65]="RAW_FRECENCY",h[h.FRECENCY_BONUS=76]="FRECENCY_BONUS",h[h.FRECENCY_WEIGHT_HIT_VISITS=91]="FRECENCY_WEIGHT_HIT_VISITS",h[h.FRECENCY_HIT_COUNT=92]="FRECENCY_HIT_COUNT",h[h.FRECENCY_WEIGHT_ITEM_VISITS=93]="FRECENCY_WEIGHT_ITEM_VISITS",h[h.FRECENCY_ITEM_COUNT=94]="FRECENCY_ITEM_COUNT",h[h.FRECENCY_LOG_HIT_COUNT=105]="FRECENCY_LOG_HIT_COUNT",h[h.FRECENCY_LOG_HIT_COUNT_SCALED=106]="FRECENCY_LOG_HIT_COUNT_SCALED",h[h.FRECENCY_LOG_ITEM_COUNT=159]="FRECENCY_LOG_ITEM_COUNT",h[h.FRECENCY_LOG_ITEM_COUNT_SCALED=160]="FRECENCY_LOG_ITEM_COUNT_SCALED",h[h.FRECENCY_HIT_VISIT_DECAY_2H=162]="FRECENCY_HIT_VISIT_DECAY_2H",h[h.FRECENCY_HIT_VISIT_DECAY_7D=163]="FRECENCY_HIT_VISIT_DECAY_7D",h[h.FRECENCY_ITEM_VISIT_DECAY_2H=164]="FRECENCY_ITEM_VISIT_DECAY_2H",h[h.FRECENCY_ITEM_VISIT_DECAY_7D=165]="FRECENCY_ITEM_VISIT_DECAY_7D",h[h.FRECENCY_HIT_VISITS_4H=242]="FRECENCY_HIT_VISITS_4H",h[h.FRECENCY_HIT_VISITS_1D=243]="FRECENCY_HIT_VISITS_1D",h[h.FRECENCY_HIT_VISITS_3D=244]="FRECENCY_HIT_VISITS_3D",h[h.FRECENCY_HIT_VISITS_1W=245]="FRECENCY_HIT_VISITS_1W",h[h.FRECENCY_HIT_VISITS_1M=246]="FRECENCY_HIT_VISITS_1M",h[h.FRECENCY_HIT_VISITS_90D=247]="FRECENCY_HIT_VISITS_90D",h[h.FRECENCY_ITEM_VISITS_4H=248]="FRECENCY_ITEM_VISITS_4H",h[h.FRECENCY_ITEM_VISITS_1D=249]="FRECENCY_ITEM_VISITS_1D",h[h.FRECENCY_ITEM_VISITS_3D=250]="FRECENCY_ITEM_VISITS_3D",h[h.FRECENCY_ITEM_VISITS_1W=251]="FRECENCY_ITEM_VISITS_1W",h[h.FRECENCY_ITEM_VISITS_1M=252]="FRECENCY_ITEM_VISITS_1M",h[h.FRECENCY_ITEM_VISITS_90D=253]="FRECENCY_ITEM_VISITS_90D",h[h.TYPE_NAVIGATION_CHANNEL=2]="TYPE_NAVIGATION_CHANNEL",h[h.TYPE_NAVIGATION_LINK=172]="TYPE_NAVIGATION_LINK",h[h.TYPE_NAVIGATION_MPIM=4]="TYPE_NAVIGATION_MPIM",h[h.TYPE_NAVIGATION_MODAL=177]="TYPE_NAVIGATION_MODAL",h[h.TYPE_NAVIGATION_USER=5]="TYPE_NAVIGATION_USER",h[h.TYPE_QUERY=6]="TYPE_QUERY",h[h.TYPE_QUERY_HISTORY=7]="TYPE_QUERY_HISTORY",h[h.TYPE_EMOJI=178]="TYPE_EMOJI",h[h.ACTIVE_TOKEN_FILTER_IN=8]="ACTIVE_TOKEN_FILTER_IN",h[h.ACTIVE_TOKEN_FILTER_FROM=9]="ACTIVE_TOKEN_FILTER_FROM",h[h.ACTIVE_TOKEN_FILTER_TO=10]="ACTIVE_TOKEN_FILTER_TO",h[h.ACTIVE_TOKEN_FILTER_BEFORE=11]="ACTIVE_TOKEN_FILTER_BEFORE",h[h.ACTIVE_TOKEN_FILTER_DURING=12]="ACTIVE_TOKEN_FILTER_DURING",h[h.ACTIVE_TOKEN_FILTER_ON=13]="ACTIVE_TOKEN_FILTER_ON",h[h.ACTIVE_TOKEN_FILTER_AFTER=14]="ACTIVE_TOKEN_FILTER_AFTER",h[h.ACTIVE_TOKEN_FILTER_HAS=15]="ACTIVE_TOKEN_FILTER_HAS",h[h.ACTIVE_TOKEN_FILTER_IS=155]="ACTIVE_TOKEN_FILTER_IS",h[h.ACTIVE_TOKEN_FILTER_WITH=233]="ACTIVE_TOKEN_FILTER_WITH",h[h.ACTIVE_TOKEN_MEMBER=16]="ACTIVE_TOKEN_MEMBER",h[h.ACTIVE_TOKEN_STRING=17]="ACTIVE_TOKEN_STRING",h[h.ACTIVE_TOKEN_PHRASE=18]="ACTIVE_TOKEN_PHRASE",h[h.STRING_EXACT_MATCH=19]="STRING_EXACT_MATCH",h[h.STRING_EXACT_PREFIX_MATCH=20]="STRING_EXACT_PREFIX_MATCH",h[h.STRING_NORMAL_MATCH=21]="STRING_NORMAL_MATCH",h[h.STRING_NORMAL_PREFIX_MATCH=22]="STRING_NORMAL_PREFIX_MATCH",h[h.STRING_SAME_NUMBER_WORDS=23]="STRING_SAME_NUMBER_WORDS",h[h.EXCESS_STRING_LENGTH=24]="EXCESS_STRING_LENGTH",h[h.EXACT_MATCH_LOG_RESULTS=229]="EXACT_MATCH_LOG_RESULTS",h[h.FILE_SUGGESTION_SCORE=26]="FILE_SUGGESTION_SCORE",h[h.ACTIVE_TOKEN_QUERY_SUGGESTION=27]="ACTIVE_TOKEN_QUERY_SUGGESTION",h[h.QUERY_SUGGESTION_SCORE_V2=28]="QUERY_SUGGESTION_SCORE_V2",h[h.TYPE_NAVIGATION_TEAM=31]="TYPE_NAVIGATION_TEAM",h[h.TYPE_NAVIGATION_VIEW=32]="TYPE_NAVIGATION_VIEW",h[h.TYPE_USER_QUERY=33]="TYPE_USER_QUERY",h[h.NAV_EXACT_MATCH=35]="NAV_EXACT_MATCH",h[h.NAV_EXACT_PREFIX_MATCH=36]="NAV_EXACT_PREFIX_MATCH",h[h.NAV_NORMAL_MATCH=37]="NAV_NORMAL_MATCH",h[h.NAV_NORMAL_PREFIX_MATCH=75]="NAV_NORMAL_PREFIX_MATCH",h[h.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH=38]="CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH",h[h.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH=39]="CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH",h[h.CHANNEL_IS_ARCHIVED=40]="CHANNEL_IS_ARCHIVED",h[h.CHANNEL_IS_MEMBER=41]="CHANNEL_IS_MEMBER",h[h.CHANNEL_IS_STARRED=42]="CHANNEL_IS_STARRED",h[h.MPIM_IS_STARRED=43]="MPIM_IS_STARRED",h[h.CHANNEL_IS_UNREAD=44]="CHANNEL_IS_UNREAD",h[h.MPIM_IS_UNREAD=45]="MPIM_IS_UNREAD",h[h.CHANNEL_IS_OTHER_TEAM=46]="CHANNEL_IS_OTHER_TEAM",h[h.USER_IS_ACTIVE=47]="USER_IS_ACTIVE",h[h.USER_IS_CURRENT_USER=48]="USER_IS_CURRENT_USER",h[h.USER_DM_IS_STARRED=49]="USER_DM_IS_STARRED",h[h.USER_DM_IS_UNREAD=50]="USER_DM_IS_UNREAD",h[h.CHANNEL_PRIORITY=51]="CHANNEL_PRIORITY",h[h.CHANNEL_READ_AGE_DECAY_7D=52]="CHANNEL_READ_AGE_DECAY_7D",h[h.CHANNEL_READ_AGE_DECAY_2H=53]="CHANNEL_READ_AGE_DECAY_2H",h[h.MPIM_READ_AGE_DECAY_2H=54]="MPIM_READ_AGE_DECAY_2H",h[h.MPIM_READ_AGE_DECAY_7D=55]="MPIM_READ_AGE_DECAY_7D",h[h.USER_DM_READ_AGE_DECAY_7D=56]="USER_DM_READ_AGE_DECAY_7D",h[h.USER_DM_READ_AGE_DECAY_2H=57]="USER_DM_READ_AGE_DECAY_2H",h[h.USER_DM_READ_AGE_DECAY_7D_V2=274]="USER_DM_READ_AGE_DECAY_7D_V2",h[h.USER_DM_READ_AGE_DECAY_2H_V2=275]="USER_DM_READ_AGE_DECAY_2H_V2",h[h.QUERY_LENGTH=61]="QUERY_LENGTH",h[h.NAV_QUERY_LENGTH=62]="NAV_QUERY_LENGTH",h[h.SUGGESTION_TEXT_LENGTH=63]="SUGGESTION_TEXT_LENGTH",h[h.NAV_TEXT_LENGTH=64]="NAV_TEXT_LENGTH",h[h.MPIM_PRIORITY=66]="MPIM_PRIORITY",h[h.QUERY_RATIO_LENGTH_STRING=68]="QUERY_RATIO_LENGTH_STRING",h[h.NAV_QUERY_RATIO_LENGTH_STRING=69]="NAV_QUERY_RATIO_LENGTH_STRING",h[h.USER_QUERY_RATIO_LENGTH_STRING=70]="USER_QUERY_RATIO_LENGTH_STRING",h[h.CHANNEL_QUERY_RATIO_LENGTH_STRING=71]="CHANNEL_QUERY_RATIO_LENGTH_STRING",h[h.MPIM_QUERY_RATIO_LENGTH_STRING=72]="MPIM_QUERY_RATIO_LENGTH_STRING",h[h.FUZZY_SCORE=73]="FUZZY_SCORE",h[h.MPIM_WITH_DEACTIVATED_USER=74]="MPIM_WITH_DEACTIVATED_USER",h[h.USER_FIRST_NAME_EXACT_MATCH=81]="USER_FIRST_NAME_EXACT_MATCH",h[h.USER_FIRST_NAME_EXACT_PREFIX_MATCH=82]="USER_FIRST_NAME_EXACT_PREFIX_MATCH",h[h.USER_FIRST_NAME_NORMAL_MATCH=83]="USER_FIRST_NAME_NORMAL_MATCH",h[h.USER_FIRST_NAME_NORMAL_PREFIX_MATCH=84]="USER_FIRST_NAME_NORMAL_PREFIX_MATCH",h[h.USER_LAST_NAME_EXACT_MATCH=85]="USER_LAST_NAME_EXACT_MATCH",h[h.USER_LAST_NAME_EXACT_PREFIX_MATCH=86]="USER_LAST_NAME_EXACT_PREFIX_MATCH",h[h.USER_LAST_NAME_NORMAL_MATCH=87]="USER_LAST_NAME_NORMAL_MATCH",h[h.USER_LAST_NAME_NORMAL_PREFIX_MATCH=88]="USER_LAST_NAME_NORMAL_PREFIX_MATCH",h[h.USER_PRIORITY=89]="USER_PRIORITY",h[h.ONLY_MATCHES_PREVIOUS_NAME=90]="ONLY_MATCHES_PREVIOUS_NAME",h[h.NAV_NORMAL_MATCH_USER=95]="NAV_NORMAL_MATCH_USER",h[h.NAV_NORMAL_PREFIX_MATCH_USER=96]="NAV_NORMAL_PREFIX_MATCH_USER",h[h.NAV_NORMAL_MATCH_NO_USER=97]="NAV_NORMAL_MATCH_NO_USER",h[h.NAV_NORMAL_PREFIX_MATCH_NO_USER=98]="NAV_NORMAL_PREFIX_MATCH_NO_USER",h[h.CHANNEL_LATEST_MSG_AGE_DECAY_7D=99]="CHANNEL_LATEST_MSG_AGE_DECAY_7D",h[h.CHANNEL_LATEST_MSG_AGE_DECAY_2H=100]="CHANNEL_LATEST_MSG_AGE_DECAY_2H",h[h.MPIM_LATEST_MSG_AGE_DECAY_2H=101]="MPIM_LATEST_MSG_AGE_DECAY_2H",h[h.MPIM_LATEST_MSG_AGE_DECAY_7D=102]="MPIM_LATEST_MSG_AGE_DECAY_7D",h[h.USER_DM_LATEST_MSG_AGE_DECAY_7D=103]="USER_DM_LATEST_MSG_AGE_DECAY_7D",h[h.USER_DM_LATEST_MSG_AGE_DECAY_2H=104]="USER_DM_LATEST_MSG_AGE_DECAY_2H",h[h.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2=260]="USER_DM_LATEST_MSG_AGE_DECAY_7D_V2",h[h.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2=261]="USER_DM_LATEST_MSG_AGE_DECAY_2H_V2",h[h.FUZZY_SCORE_50=127]="FUZZY_SCORE_50",h[h.FUZZY_SCORE_25=128]="FUZZY_SCORE_25",h[h.FUZZY_SCORE_ALL=129]="FUZZY_SCORE_ALL",h[h.FUZZY_SCORE_SCALED_EXP=291]="FUZZY_SCORE_SCALED_EXP",h[h.FUZZY_SCORE_SCALED_FLIPPED=292]="FUZZY_SCORE_SCALED_FLIPPED",h[h.FUZZY_SCORE_SCALED_SUBTRACT=293]="FUZZY_SCORE_SCALED_SUBTRACT",h[h.HERE_KEYWORD=131]="HERE_KEYWORD",h[h.HERE_KEYWORD_EXACT_MATCH=132]="HERE_KEYWORD_EXACT_MATCH",h[h.IS_BROADCAST_KEYWORD=133]="IS_BROADCAST_KEYWORD",h[h.BROADCAST_KEYWORD_NORMAL_MATCH=134]="BROADCAST_KEYWORD_NORMAL_MATCH",h[h.MEMBER_OF_CURRENT_CHANNEL=153]="MEMBER_OF_CURRENT_CHANNEL",h[h.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL=154]="QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL",h[h.USER_EMAIL_MATCH=170]="USER_EMAIL_MATCH",h[h.USER_EMAIL_ONLY_MATCH=171]="USER_EMAIL_ONLY_MATCH",h[h.QUERY_IS_SELF=193]="QUERY_IS_SELF",h[h.CURRENT_USER_TEXTY=194]="CURRENT_USER_TEXTY",h[h.USER_IS_EXTERNAL=234]="USER_IS_EXTERNAL",h[h.USER_SAME_TEAM=235]="USER_SAME_TEAM",h[h.USER_IS_BOT=254]="USER_IS_BOT",h[h.CHANNEL_TEAM_CTR_90DD=189]="CHANNEL_TEAM_CTR_90DD",h[h.CHANNEL_USER_CTR_30DD=190]="CHANNEL_USER_CTR_30DD",h[h.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS=199]="NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS",h[h.HISTORY_AGE_DECAY_2H=230]="HISTORY_AGE_DECAY_2H",h[h.HISTORY_AGE_DECAY_7D=231]="HISTORY_AGE_DECAY_7D",h[h.HISTORY_POSITION=232]="HISTORY_POSITION",h[h.USER_DM_NULL=179]="USER_DM_NULL",h[h.USER_DM_EMPTY=180]="USER_DM_EMPTY",h[h.USER_DM_NOT_OPEN=181]="USER_DM_NOT_OPEN",h[h.USER_DM_OPEN=182]="USER_DM_OPEN",h[h.USER_DM_LATEST_OLDER_30D=183]="USER_DM_LATEST_OLDER_30D",h[h.USER_DM_LATEST_OLDER_90D=184]="USER_DM_LATEST_OLDER_90D",h[h.USER_DM_EMPTY_V2=257]="USER_DM_EMPTY_V2",h[h.USER_DM_LATEST_OLDER_30D_V2=258]="USER_DM_LATEST_OLDER_30D_V2",h[h.USER_DM_LATEST_OLDER_90D_V2=259]="USER_DM_LATEST_OLDER_90D_V2",h[h.USER_HAS_DMED=284]="USER_HAS_DMED",h[h.USER_DM_READ_AGE_DECAY_2H_V3=285]="USER_DM_READ_AGE_DECAY_2H_V3",h[h.USER_DM_READ_AGE_DECAY_7D_V3=286]="USER_DM_READ_AGE_DECAY_7D_V3",h[h.USER_DM_READ_OLDER_7D=287]="USER_DM_READ_OLDER_7D",h[h.USER_DM_READ_OLDER_30D=288]="USER_DM_READ_OLDER_30D",h[h.USER_DM_READ_OLDER_90D=289]="USER_DM_READ_OLDER_90D",h[h.USER_MPIM_READ_AGE_DECAY_7D=236]="USER_MPIM_READ_AGE_DECAY_7D",h[h.USER_MPIM_READ_AGE_DECAY_2H=237]="USER_MPIM_READ_AGE_DECAY_2H",h[h.USER_MPIM_LATEST_MSG_AGE_DECAY_7D=238]="USER_MPIM_LATEST_MSG_AGE_DECAY_7D",h[h.USER_MPIM_LATEST_MSG_AGE_DECAY_2H=239]="USER_MPIM_LATEST_MSG_AGE_DECAY_2H",h[h.USER_MPIM_FRECENCY_LOG_HIT_COUNT=240]="USER_MPIM_FRECENCY_LOG_HIT_COUNT",h[h.USER_MPIM_FRECENCY_LOG_ITEM_COUNT=241]="USER_MPIM_FRECENCY_LOG_ITEM_COUNT",h[h.MPIM_MEMBERS=166]="MPIM_MEMBERS",h[h.MPIM_MEMBER_NAME_MATCHES=167]="MPIM_MEMBER_NAME_MATCHES",h[h.MPIM_MEMBER_ALL_MATCHES=168]="MPIM_MEMBER_ALL_MATCHES",h[h.MPIM_MATCHER_SCORE=169]="MPIM_MATCHER_SCORE",h[h.MPIM_MATCHER_SCORE_0=173]="MPIM_MATCHER_SCORE_0",h[h.MPIM_MATCHER_SCORE_1=174]="MPIM_MATCHER_SCORE_1",h[h.MPIM_MATCHER_SCORE_2=175]="MPIM_MATCHER_SCORE_2",h[h.MPIM_MATCHER_SCORE_3=176]="MPIM_MATCHER_SCORE_3",h[h.MPIM_TEAM_CTR_90DD=187]="MPIM_TEAM_CTR_90DD",h[h.MPIM_USER_CTR_30DD=188]="MPIM_USER_CTR_30DD",h[h.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H=262]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H",h[h.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D=263]="MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D",h[h.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H=264]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H",h[h.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D=265]="MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D",h[h.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H=266]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H",h[h.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D=267]="MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D",h[h.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H=268]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H",h[h.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D=269]="MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D",h[h.MPIM_USERS_PCT_NON_EMPTY_DMS=270]="MPIM_USERS_PCT_NON_EMPTY_DMS",h[h.MPIM_USERS_PCT_NON_NULL_DMS=271]="MPIM_USERS_PCT_NON_NULL_DMS",h[h.MPIM_USERS_ALL_INTERNAL=272]="MPIM_USERS_ALL_INTERNAL",h[h.EMOJI_EXACT_MATCH=136]="EMOJI_EXACT_MATCH",h[h.EMOJI_QUERY_LENGTH_RATIO=150]="EMOJI_QUERY_LENGTH_RATIO",h[h.EMOJI_TOTAL_COMBO_BREAKS=151]="EMOJI_TOTAL_COMBO_BREAKS",h[h.EMOJI_COMBO_BREAK_0=161]="EMOJI_COMBO_BREAK_0",h[h.EMOJI_COMBO_BREAK_1=156]="EMOJI_COMBO_BREAK_1",h[h.EMOJI_COMBO_BREAK_2=157]="EMOJI_COMBO_BREAK_2",h[h.EMOJI_COMBO_BREAK_3=158]="EMOJI_COMBO_BREAK_3",h[h.EMOJI_TEAM_CTR_90DD=185]="EMOJI_TEAM_CTR_90DD",h[h.EMOJI_USER_CTR_30DD=186]="EMOJI_USER_CTR_30DD",h[h.CHANNEL_IS_FROZEN=146]="CHANNEL_IS_FROZEN",h[h.USER_DM_IS_FROZEN=147]="USER_DM_IS_FROZEN",h[h.CHANNEL_HAS_DRAFT=148]="CHANNEL_HAS_DRAFT",h[h.USER_DM_HAS_DRAFT=149]="USER_DM_HAS_DRAFT",h[h.QUERY_FRECENCY_RAW=107]="QUERY_FRECENCY_RAW",h[h.QUERY_FRECENCY_WEIGHT_HIT_VISITS=108]="QUERY_FRECENCY_WEIGHT_HIT_VISITS",h[h.QUERY_FRECENCY_HIT_COUNT=109]="QUERY_FRECENCY_HIT_COUNT",h[h.QUERY_FRECENCY_WEIGHT_ITEM_VISITS=110]="QUERY_FRECENCY_WEIGHT_ITEM_VISITS",h[h.QUERY_FRECENCY_ITEM_COUNT=111]="QUERY_FRECENCY_ITEM_COUNT",h[h.QUERY_FUZZY_SCORE=112]="QUERY_FUZZY_SCORE",h[h.QUERY_FRECENCY_BONUS=113]="QUERY_FRECENCY_BONUS",h[h.QUERY_LOG_HIT_COUNT=130]="QUERY_LOG_HIT_COUNT",h[h.QUERY_TOKEN_NORMAL_MATCH=137]="QUERY_TOKEN_NORMAL_MATCH",h[h.QUERY_TOKEN_NORMAL_PREFIX_MATCH=138]="QUERY_TOKEN_NORMAL_PREFIX_MATCH",h[h.QUERY_HISTORY_AGE_DECAY_30D=282]="QUERY_HISTORY_AGE_DECAY_30D",h[h.QUERY_HISTORY_LOG_INDEX=283]="QUERY_HISTORY_LOG_INDEX",h[h.FILTER_USER_IS_ACTIVE=114]="FILTER_USER_IS_ACTIVE",h[h.FILTER_USER_IS_CURRENT_USER=115]="FILTER_USER_IS_CURRENT_USER",h[h.FILTER_USER_DM_IS_STARRED=116]="FILTER_USER_DM_IS_STARRED",h[h.FILTER_USER_DM_IS_UNREAD=117]="FILTER_USER_DM_IS_UNREAD",h[h.FILTER_USER_DM_READ_AGE_DECAY_7D=118]="FILTER_USER_DM_READ_AGE_DECAY_7D",h[h.FILTER_USER_DM_READ_AGE_DECAY_2H=119]="FILTER_USER_DM_READ_AGE_DECAY_2H",h[h.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D=120]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D",h[h.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H=121]="FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H",h[h.FILTER_USER_FIRST_NAME_NORMAL_MATCH=122]="FILTER_USER_FIRST_NAME_NORMAL_MATCH",h[h.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH=123]="FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH",h[h.FILTER_USER_LAST_NAME_NORMAL_MATCH=124]="FILTER_USER_LAST_NAME_NORMAL_MATCH",h[h.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH=125]="FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH",h[h.FILTER_USER_PRIORITY=126]="FILTER_USER_PRIORITY",h[h.FILTER_CHANNEL_IS_ARCHIVED=139]="FILTER_CHANNEL_IS_ARCHIVED",h[h.FILTER_CHANNEL_IS_MEMBER=140]="FILTER_CHANNEL_IS_MEMBER",h[h.FILTER_CHANNEL_IS_STARRED=141]="FILTER_CHANNEL_IS_STARRED",h[h.FILTER_CHANNEL_IS_UNREAD=142]="FILTER_CHANNEL_IS_UNREAD",h[h.FILTER_CHANNEL_READ_AGE_DECAY_7D=143]="FILTER_CHANNEL_READ_AGE_DECAY_7D",h[h.FILTER_CHANNEL_READ_AGE_DECAY_2H=144]="FILTER_CHANNEL_READ_AGE_DECAY_2H",h[h.FILTER_CHANNEL_PRIORITY=145]="FILTER_CHANNEL_PRIORITY",h[h.USER_ENTITY_TYPE_CTR_30DD=191]="USER_ENTITY_TYPE_CTR_30DD",h[h.NUM_RESULTS=192]="NUM_RESULTS",h[h.TYPE_NAVIGATION_FILE=3]="TYPE_NAVIGATION_FILE",h[h.FILE_AGE_DECAY_7D=195]="FILE_AGE_DECAY_7D",h[h.FILE_AGE_DECAY_28D=196]="FILE_AGE_DECAY_28D",h[h.FILE_AGE_DECAY_90D=197]="FILE_AGE_DECAY_90D",h[h.FILE_FROM_CURRENT_USER=198]="FILE_FROM_CURRENT_USER",h[h.FILE_LOG_PRIVATE_SHARES=200]="FILE_LOG_PRIVATE_SHARES",h[h.FILE_LOG_PUBLIC_SHARES=201]="FILE_LOG_PUBLIC_SHARES",h[h.FILE_LOG_ACTIONS=202]="FILE_LOG_ACTIONS",h[h.FILE_LATEST_ACTION_AGE_DECAY_2H=203]="FILE_LATEST_ACTION_AGE_DECAY_2H",h[h.FILE_LATEST_ACTION_AGE_DECAY_7D=204]="FILE_LATEST_ACTION_AGE_DECAY_7D",h[h.FILE_LATEST_ACTION_AGE_DECAY_90D=205]="FILE_LATEST_ACTION_AGE_DECAY_90D",h[h.FILE_LATEST_SHARE_AGE_DECAY_2H=206]="FILE_LATEST_SHARE_AGE_DECAY_2H",h[h.FILE_LATEST_SHARE_AGE_DECAY_7D=207]="FILE_LATEST_SHARE_AGE_DECAY_7D",h[h.FILE_LATEST_SHARE_AGE_DECAY_90D=208]="FILE_LATEST_SHARE_AGE_DECAY_90D",h[h.FILE_CHANNEL_CTR=209]="FILE_CHANNEL_CTR",h[h.FILE_SUGGESTIONS_SEARCHER=210]="FILE_SUGGESTIONS_SEARCHER",h[h.FILE_USER_CTR=211]="FILE_USER_CTR",h[h.FILE_NAME_CONTAINS_QUERY_NORMALIZED=273]="FILE_NAME_CONTAINS_QUERY_NORMALIZED",h[h.FILE_IS_CANVAS=276]="FILE_IS_CANVAS",h[h.FILE_HAS_DMS_WITH_CREATOR=277]="FILE_HAS_DMS_WITH_CREATOR",h[h.FILE_LATEST_VIEW_BY_USER_OLDER_90D=278]="FILE_LATEST_VIEW_BY_USER_OLDER_90D",h[h.FILE_HAS_DMS_WITH_CREATOR_V2=290]="FILE_HAS_DMS_WITH_CREATOR_V2",h[h.APP_NAME_PREFIX_MATCH=215]="APP_NAME_PREFIX_MATCH",h[h.BEST_NAME_MATCH_LOG_RESULTS=218]="BEST_NAME_MATCH_LOG_RESULTS",h[h.SHORTCUT_ENTITY_TYPE_CTR=226]="SHORTCUT_ENTITY_TYPE_CTR",h[h.TYPE_SLASH_COMMAND=212]="TYPE_SLASH_COMMAND",h[h.SLASH_COMMAND_TEAM_CTR=227]="SLASH_COMMAND_TEAM_CTR",h[h.SLASH_COMMAND_USER_CTR=219]="SLASH_COMMAND_USER_CTR",h[h.TYPE_GLOBAL_ACTION=213]="TYPE_GLOBAL_ACTION",h[h.IS_INVITE_WORKSPACE=217]="IS_INVITE_WORKSPACE",h[h.GLOBAL_ACTION_TEAM_CTR=220]="GLOBAL_ACTION_TEAM_CTR",h[h.GLOBAL_ACTION_USER_CTR=221]="GLOBAL_ACTION_USER_CTR",h[h.TYPE_CHANNEL_ACTION=214]="TYPE_CHANNEL_ACTION",h[h.CHANNEL_ACTION_TEAM_CTR=222]="CHANNEL_ACTION_TEAM_CTR",h[h.CHANNEL_ACTION_USER_CTR=223]="CHANNEL_ACTION_USER_CTR",h[h.TYPE_APP_ACTION=152]="TYPE_APP_ACTION",h[h.APP_ACTION_TEAM_CTR=224]="APP_ACTION_TEAM_CTR",h[h.APP_ACTION_USER_CTR=225]="APP_ACTION_USER_CTR",h[h.OS_APP_ACTION=228]="OS_APP_ACTION",h[h.TYPE_APP=216]="TYPE_APP",h[h.TYPE_NAVIGATION_MESSAGE=255]="TYPE_NAVIGATION_MESSAGE",h[h.TYPE_WORKFLOW_TRIGGER=256]="TYPE_WORKFLOW_TRIGGER",h[h.WORKFLOW_TRIGGER_TEAM_CTR=279]="WORKFLOW_TRIGGER_TEAM_CTR",h[h.WORKFLOW_TRIGGER_USER_CTR=280]="WORKFLOW_TRIGGER_USER_CTR",h[h.HAS_CHANNEL_ASSOCIATION=281]="HAS_CHANNEL_ASSOCIATION",h[h.DEPRECATED_QUERY_SUGGESTION_SCORE=1]="DEPRECATED_QUERY_SUGGESTION_SCORE",h[h.DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL=29]="DEPRECATED_TYPE_NAVIGATION_EXPERT_CHANNEL",h[h.DEPRECATED_BM25_SCORE=30]="DEPRECATED_BM25_SCORE",h[h.DEPRECATED_NAV_EXCESS_STRING_LENGTH=34]="DEPRECATED_NAV_EXCESS_STRING_LENGTH",h[h.DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH=58]="DEPRECATED_CHANNEL_EXCESS_STRING_LENGTH",h[h.DEPRECATED_USER_EXCESS_STRING_LENGTH=59]="DEPRECATED_USER_EXCESS_STRING_LENGTH",h[h.DEPRECATED_MPIM_EXCESS_STRING_LENGTH=60]="DEPRECATED_MPIM_EXCESS_STRING_LENGTH",h[h.DEPRECATED_LOG_FRECENCY=67]="DEPRECATED_LOG_FRECENCY",h[h.DEPRECATED_LOG_FRECENCY_BONUS=77]="DEPRECATED_LOG_FRECENCY_BONUS",h[h.DEPRECATED_LOG_FRECENCY_CHANNEL=78]="DEPRECATED_LOG_FRECENCY_CHANNEL",h[h.DEPRECATED_LOG_FRECENCY_USER=79]="DEPRECATED_LOG_FRECENCY_USER",h[h.DEPRECATED_LOG_FRECENCY_MPIM=80]="DEPRECATED_LOG_FRECENCY_MPIM",h[h.DEPRECATED_EMOJI_SCORE_BONUS=135]="DEPRECATED_EMOJI_SCORE_BONUS",h[h.TEST_FEATURE_1=1e3]="TEST_FEATURE_1",h[h.TEST_FEATURE_2=1001]="TEST_FEATURE_2",h[h.TEST_FEATURE_3=1002]="TEST_FEATURE_3",h[h.TEST_FEATURE_4=1003]="TEST_FEATURE_4",h[h.TEST_FEATURE_5=1004]="TEST_FEATURE_5",h[h.TEST_FEATURE_6=1005]="TEST_FEATURE_6",h[h.TEST_FEATURE_7=1006]="TEST_FEATURE_7",h[h.TEST_FEATURE_8=1007]="TEST_FEATURE_8",h[h.TEST_FEATURE_9=1008]="TEST_FEATURE_9",h[h.TEST_FEATURE_10=1009]="TEST_FEATURE_10"})(v||(v={}));var f;(function(h){h[h.NUMERICAL=1]="NUMERICAL",h[h.BINARY=2]="BINARY",h[h.TEXT=3]="TEXT"})(f||(f={}))},mjQB:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("5rM1")),m=f(d("hEYi")),a=f(d("aVV0"));let o=r(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new h.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise((n,s)=>{let p=r(class{cancel(){this.signalingClient.removeObserver(this),s(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(u){switch(u.type){case m.default.WebSocketOpen:this.signalingClient.removeObserver(this),n();break;case m.default.WebSocketFailed:this.signalingClient.removeObserver(this),s(new Error("WebSocket connection failed"));break}}constructor(u){this.signalingClient=u}},"WebSocketOpenInterceptor");const g=new p(this.context.signalingClient);this.context.signalingClient.registerObserver(g),this.taskCanceler=g})}catch(n){throw n}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");c.default=o},mlaT:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LogLevel=void 0;var v;(function(f){f[f.DEBUG=0]="DEBUG",f[f.INFO=1]="INFO",f[f.WARN=2]="WARN",f[f.ERROR=3]="ERROR",f[f.OFF=4]="OFF"})(v=c.LogLevel||(c.LogLevel={})),c.default=v},mpmV:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportMediaType=void 0;var v;(function(f){f[f.AUDIO=0]="AUDIO",f[f.VIDEO=1]="VIDEO"})(v=c.ClientMetricReportMediaType||(c.ClientMetricReportMediaType={})),c.default=v},mv1L:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("aVV0"));let m=r(class extends h.default{cancel(){for(const o of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${o.name()}`),o.cancel()}run(){return v(this,void 0,void 0,function*(){const o=[];for(const e of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${e.name()}`),o.push(e.run());const i=[];for(let e=0;e<o.length;e++){try{yield o[e]}catch(t){i.push(`task ${this.tasksToRunParallel[e].name()} failed: ${t.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[e].name()}`)}if(i.length>0){const e=i.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}constructor(o,i,e){super(o),this.taskName=i,this.tasksToRunParallel=e;for(const t of e)t.setParent(this)}},"ParallelGroupTask");c.default=m},my46:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(h,m,a){this.videoWidth=h,this.videoHeight=m,this.videoFrameRate=a}},"VideoQualitySettings");c.default=v},myGB:function(U,c,d){d("C5kU"),d("CE4/"),U.exports=d("VSTI").Array.from},n7vu:function(U,c,d){var v=d("TYje");U.exports=Object("z").propertyIsEnumerable(0)?Object:function(f){return v(f)=="String"?f.split(""):Object(f)}},nA4W:function(U,c){var d={}.hasOwnProperty;U.exports=function(v,f){return d.call(v,f)}},nAx8:function(U,c,d){var v=d("FgkJ");U.exports=function(f,h,m){if(v(f),h===void 0)return f;switch(m){case 1:return function(a){return f.call(h,a)};case 2:return function(a,o){return f.call(h,a,o)};case 3:return function(a,o,i){return f.call(h,a,o,i)}}return function(){return f.apply(h,arguments)}}},nDuE:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("10yS")),m=f(d("j+uH"));let a=r(class extends m.default{run(){return v(this,void 0,void 0,function*(){const i=this.context.transceiverController;i.setPeer(this.context.peer),i.setupLocalTransceivers();const e=this.context.activeAudioInput;if(e){const n=e.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield i.setAudioInput(n.length?n[0]:null)}else yield i.setAudioInput(null),this.context.logger.info("no audio track");const t=this.context.activeVideoInput;if(t){const n=t.getVideoTracks(),s=n.length?n[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield i.setVideoInput(s),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const p=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();i.setEncodingParameters(p)}s&&this.context.statsCollector.logVideoEvent(h.default.InputAttached,this.context.videoDeviceInformation)}else yield i.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=i.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive)})}constructor(i){super(i.logger),this.context=i,this.taskName="AttachMediaInputTask"}},"AttachMediaInputTask");c.default=a},"nJ1/":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusAudioWorkletNode=void 0;let v=r(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||r(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");c.VoiceFocusAudioWorkletNode=v},nRFE:function(U,c,d){var v=d("/F7N"),f=Math.max,h=Math.min;U.exports=function(m,a){return m=v(m),m<0?f(m+a,0):h(m,a)}},nSNv:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.VoiceFocusAudioWorkletNode=void 0;let v=r(class extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||r(class{},"Sadness")){},"VoiceFocusAudioWorkletNode");c.VoiceFocusAudioWorkletNode=v},nWLk:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckCameraResolutionFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.ResolutionNotSupported=2]="ResolutionNotSupported",f[f.PermissionDenied=3]="PermissionDenied"})(v=c.CheckCameraResolutionFeedback||(c.CheckCameraResolutionFeedback={})),c.default=v},nWxe:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("hlxM"),h=d("nSNv"),m=5*1e3;let a=r(class extends h.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return v(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return v(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return v(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,n;const s=i.data;switch(s.message){case"cpu":this.cpuWarningCount++;const p=Date.now(),g=this.cpuWarningLastTriggered||p,S=Math.abs(p-g);(!this.cpuWarningLastTriggered||S>m)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,s.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=p),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(n=this.logger)===null||n===void 0||n.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:n,fetchBehavior:s,logger:p,delegate:g}=e;this.logger=p,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=g,p&&p.debug("VoiceFocusInlineNode:",t),this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this);const S=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:S,key:"model",fetchBehavior:s,path:t})}},"VoiceFocusInlineNode");c.default=a},nXJe:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"TranscriptResult");c.default=v},nYR4:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Zkgh"));let h=r(class{reset(){this.optimalReceiveSet=new f.default,this.subscribedReceiveSet=new f.default,this.videoSources=void 0}updateIndex(a){this.videoIndex=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(a)}updateMetrics(a){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(a){this.videoSources=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(a){const o=new f.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return o;const i=a.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(this.videoSources===void 0)return i;const e=this.videoIndex.remoteStreamDescriptions(),t=new Map;for(const n of e)i.contain(n.streamId)&&t.set(n.attendeeId,n.streamId);for(const n of this.videoSources){const s=n.attendee.attendeeId;t.has(s)&&o.add(t.get(s))}return o}constructor(a){this.selfAttendeeId=a,this.reset()}},"AllHighestVideoBandwidthPolicy");c.default=h},ngjY:function(U,c,d){"use strict";var v=d("+Xah"),f=d("YXGX"),h=f.a?function(vt,z){return f.a.set(vt,z),vt}:v.a,m=h,a=d("c3gm"),o=d("IzLi");function i(vt){return function(){var z=arguments;switch(z.length){case 0:return new vt;case 1:return new vt(z[0]);case 2:return new vt(z[0],z[1]);case 3:return new vt(z[0],z[1],z[2]);case 4:return new vt(z[0],z[1],z[2],z[3]);case 5:return new vt(z[0],z[1],z[2],z[3],z[4]);case 6:return new vt(z[0],z[1],z[2],z[3],z[4],z[5]);case 7:return new vt(z[0],z[1],z[2],z[3],z[4],z[5],z[6])}var de=Object(a.a)(vt.prototype),Ie=vt.apply(de,z);return Object(o.a)(Ie)?Ie:de}}r(i,"createCtor");var e=i,t=d("Ju5/"),n=1;function s(vt,z,de){var Ie=z&n,xe=e(vt);function $e(){var ut=this&&this!==t.a&&this instanceof $e?xe:vt;return ut.apply(Ie?de:this,arguments)}return r($e,"wrapper"),$e}r(s,"createBind");var p=s,g=d("uRGJ"),S=Math.max;function u(vt,z,de,Ie){for(var xe=-1,$e=vt.length,ut=de.length,mt=-1,St=z.length,It=S($e-ut,0),Rt=Array(St+It),Zt=!Ie;++mt<St;)Rt[mt]=z[mt];for(;++xe<ut;)(Zt||xe<$e)&&(Rt[de[xe]]=vt[xe]);for(;It--;)Rt[mt++]=vt[xe++];return Rt}r(u,"composeArgs");var l=u,E=Math.max;function O(vt,z,de,Ie){for(var xe=-1,$e=vt.length,ut=-1,mt=de.length,St=-1,It=z.length,Rt=E($e-mt,0),Zt=Array(Rt+It),Wt=!Ie;++xe<Rt;)Zt[xe]=vt[xe];for(var on=xe;++St<It;)Zt[on+St]=z[St];for(;++ut<mt;)(Wt||xe<$e)&&(Zt[on+de[ut]]=vt[xe++]);return Zt}r(O,"composeArgsRight");var P=O;function x(vt,z){for(var de=vt.length,Ie=0;de--;)vt[de]===z&&++Ie;return Ie}r(x,"countHolders");var k=x,B=d("Zhxc"),R=d("Ha6T"),N=Object(R.a)(m),w=N,A=/\{\n\/\* \[wrapped with (.+)\] \*/,D=/,? & /;function K(vt){var z=vt.match(A);return z?z[1].split(D):[]}r(K,"getWrapDetails");var X=K,j=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function te(vt,z){var de=z.length;if(!de)return vt;var Ie=de-1;return z[Ie]=(de>1?"& ":"")+z[Ie],z=z.join(de>2?", ":" "),vt.replace(j,`{
/* [wrapped with `+z+`] */
`)}r(te,"insertWrapDetails");var me=te,we=d("xhnO"),pe=d("ILaC"),Ae=d("cvt+"),Je=1,Fe=2,Ue=8,Le=16,at=32,lt=64,ot=128,pt=256,ct=512,rt=[["ary",ot],["bind",Je],["bindKey",Fe],["curry",Ue],["curryRight",Le],["flip",ct],["partial",at],["partialRight",lt],["rearg",pt]];function Tn(vt,z){return Object(pe.a)(rt,function(de){var Ie="_."+de[0];z&de[1]&&!Object(Ae.a)(vt,Ie)&&vt.push(Ie)}),vt.sort()}r(Tn,"updateWrapDetails");var Qt=Tn;function Ft(vt,z,de){var Ie=z+"";return Object(we.a)(vt,me(Ie,Qt(X(Ie),de)))}r(Ft,"setWrapToString");var Rn=Ft,Pn=1,ti=2,Sn=4,oi=8,vi=32,Hn=64;function Di(vt,z,de,Ie,xe,$e,ut,mt,St,It){var Rt=z&oi,Zt=Rt?ut:void 0,Wt=Rt?void 0:ut,on=Rt?$e:void 0,Tt=Rt?void 0:$e;z|=Rt?vi:Hn,z&=~(Rt?Hn:vi),z&Sn||(z&=~(Pn|ti));var Yn=[vt,z,xe,on,Zt,Tt,Wt,mt,St,It],kn=de.apply(void 0,Yn);return Object(B.a)(vt)&&w(kn,Yn),kn.placeholder=Ie,Rn(kn,vt,z)}r(Di,"createRecurry");var Bi=Di,Gt=d("KSud"),Dn=d("eAQQ"),Dt=d("cSlR"),je=Math.min;function yt(vt,z){for(var de=vt.length,Ie=je(z.length,de),xe=Object(Dn.a)(vt);Ie--;){var $e=z[Ie];vt[Ie]=Object(Dt.a)($e,de)?xe[$e]:void 0}return vt}r(yt,"reorder");var dt=yt,cn=d("nzLN"),li=1,ci=2,Jn=8,di=16,Mi=128,Sr=512;function Ai(vt,z,de,Ie,xe,$e,ut,mt,St,It){var Rt=z&Mi,Zt=z&li,Wt=z&ci,on=z&(Jn|di),Tt=z&Sr,Yn=Wt?void 0:e(vt);function kn(){for(var Si=arguments.length,ui=Array(Si),fi=Si;fi--;)ui[fi]=arguments[fi];if(on)var gi=Object(Gt.a)(kn),yi=k(ui,gi);if(Ie&&(ui=l(ui,Ie,xe,on)),$e&&(ui=P(ui,$e,ut,on)),Si-=yi,on&&Si<It){var Fi=Object(cn.a)(ui,gi);return Bi(vt,z,Ai,kn.placeholder,de,ui,Fi,mt,St,It-Si)}var ni=Zt?de:this,Ci=Wt?ni[vt]:vt;return Si=ui.length,mt?ui=dt(ui,mt):Tt&&Si>1&&ui.reverse(),Rt&&St<Si&&(ui.length=St),this&&this!==t.a&&this instanceof kn&&(Ci=Yn||e(Ci)),Ci.apply(ni,ui)}return r(kn,"wrapper"),kn}r(Ai,"createHybrid");var Hi=Ai;function rn(vt,z,de){var Ie=e(vt);function xe(){for(var $e=arguments.length,ut=Array($e),mt=$e,St=Object(Gt.a)(xe);mt--;)ut[mt]=arguments[mt];var It=$e<3&&ut[0]!==St&&ut[$e-1]!==St?[]:Object(cn.a)(ut,St);if($e-=It.length,$e<de)return Bi(vt,z,Hi,xe.placeholder,void 0,ut,It,void 0,void 0,de-$e);var Rt=this&&this!==t.a&&this instanceof xe?Ie:vt;return Object(g.a)(Rt,this,ut)}return r(xe,"wrapper"),xe}r(rn,"createCurry");var ge=rn,Re=1;function Ve(vt,z,de,Ie){var xe=z&Re,$e=e(vt);function ut(){for(var mt=-1,St=arguments.length,It=-1,Rt=Ie.length,Zt=Array(Rt+St),Wt=this&&this!==t.a&&this instanceof ut?$e:vt;++It<Rt;)Zt[It]=Ie[It];for(;St--;)Zt[It++]=arguments[++mt];return Object(g.a)(Wt,xe?de:this,Zt)}return r(ut,"wrapper"),ut}r(Ve,"createPartial");var kt=Ve,tt=d("+j7y"),it="__lodash_placeholder__",bt=1,an=2,un=4,en=8,Mn=128,qi=256,pi=Math.min;function dr(vt,z){var de=vt[1],Ie=z[1],xe=de|Ie,$e=xe<(bt|an|Mn),ut=Ie==Mn&&de==en||Ie==Mn&&de==qi&&vt[7].length<=z[8]||Ie==(Mn|qi)&&z[7].length<=z[8]&&de==en;if(!($e||ut))return vt;Ie&bt&&(vt[2]=z[2],xe|=de&bt?0:un);var mt=z[3];if(mt){var St=vt[3];vt[3]=St?l(St,mt,z[4]):mt,vt[4]=St?Object(cn.a)(vt[3],it):z[4]}return mt=z[5],mt&&(St=vt[5],vt[5]=St?P(St,mt,z[6]):mt,vt[6]=St?Object(cn.a)(vt[5],it):z[6]),mt=z[7],mt&&(vt[7]=mt),Ie&Mn&&(vt[8]=vt[8]==null?z[8]:pi(vt[8],z[8])),vt[9]==null&&(vt[9]=z[9]),vt[0]=z[0],vt[1]=xe,vt}r(dr,"mergeData");var Ki=dr,mi=d("fshX"),Pr="Expected a function",si=1,or=2,$n=8,ur=16,Ji=32,xr=64,Dr=Math.max;function Xi(vt,z,de,Ie,xe,$e,ut,mt){var St=z&or;if(!St&&typeof vt!="function")throw new TypeError(Pr);var It=Ie?Ie.length:0;if(It||(z&=~(Ji|xr),Ie=xe=void 0),ut=ut===void 0?ut:Dr(Object(mi.a)(ut),0),mt=mt===void 0?mt:Object(mi.a)(mt),It-=xe?xe.length:0,z&xr){var Rt=Ie,Zt=xe;Ie=xe=void 0}var Wt=St?void 0:Object(tt.a)(vt),on=[vt,z,de,Ie,xe,Rt,Zt,$e,ut,mt];if(Wt&&Ki(on,Wt),vt=on[0],z=on[1],de=on[2],Ie=on[3],xe=on[4],mt=on[9]=on[9]===void 0?St?0:vt.length:Dr(on[9]-It,0),!mt&&z&($n|ur)&&(z&=~($n|ur)),!z||z==si)var Tt=p(vt,z,de);else z==$n||z==ur?Tt=ge(vt,z,mt):(z==Ji||z==(si|Ji))&&!xe.length?Tt=kt(vt,z,de,Ie):Tt=Hi.apply(void 0,on);var Yn=Wt?m:w;return Rn(Yn(Tt,on),vt,z)}r(Xi,"createWrap");var _r=c.a=Xi},nq15:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("f2XL"),h=v(d("ldli")),m=v(d("MhWp"));let a=r(class Ra extends h.default{localStreamDescriptions(){const i=[];return this._localStreamInfos.forEach(e=>{i.push(e.clone())}),i}integrateUplinkPolicyDecision(i){let e=!0,t=0;for(let n=0;n<i.length;n++){const s=i[n].maxBitrate/1e3,p=i[n].maxFramerate;if(!e||n===this._localStreamInfos.length){e=!1;const g=new m.default;g.maxBitrateKbps=s,g.maxFrameRate=p,g.disabledByUplinkPolicy=s===0,s!==0&&(g.timeEnabled=Date.now()),this._localStreamInfos.push(g),t++;continue}this._localStreamInfos[t].maxBitrateKbps===0&&s>0&&(this._localStreamInfos[t].timeEnabled=Date.now()),this._localStreamInfos[t].maxBitrateKbps=s,this._localStreamInfos[t].maxFrameRate=p,this._localStreamInfos[t].disabledByUplinkPolicy=s===0,this._localStreamInfos[t].disabledByUplinkPolicy===!0&&(this._localStreamInfos[t].disabledByWebRTC=!1),t++}e&&this._localStreamInfos.splice(t)}integrateBitratesFrame(i){super.integrateBitratesFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of i.bitrates)e.add(n.sourceStreamId),this.streamIdToBitrateKbpsMap.set(n.sourceStreamId,this.convertBpsToKbps(n.avgBitrateBps));for(const n of t)e.has(n)||(this.streamIdToBitrateKbpsMap.get(n)===Ra.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(n,Ra.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(n,Ra.NOT_SENDING_STREAM_BITRATE));for(let n=0;n<this._localStreamInfos.length;n++){this._localStreamInfos[n].disabledByWebRTC=!1;const s=this._localStreamInfos[n].streamId;this._localStreamInfos[n].disabledByUplinkPolicy||(this.streamIdToBitrateKbpsMap.has(s)?this.streamIdToBitrateKbpsMap.get(s)===Ra.NOT_SENDING_STREAM_BITRATE&&this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>Ra.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0):this._lastBitRateMsgTime-this._localStreamInfos[n].timeEnabled>Ra.BitratesMsgFrequencyMs&&(this._localStreamInfos[n].disabledByWebRTC=!0))}this._lastBitRateMsgTime=Date.now(),this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let i="";for(const e of this._localStreamInfos)i+=`streamId=${e.streamId} maxBitrate=${e.maxBitrateKbps} disabledByWebRTC=${e.disabledByWebRTC} disabledByUplink=${e.disabledByUplinkPolicy}
`;this.logger.debug(()=>i)}integrateIndexFrame(i){super.integrateIndexFrame(i);const e=new Set,t=new Set(this.streamIdToBitrateKbpsMap.keys());for(const n of this.currentIndex.sources)n.mediaType===f.SdkStreamMediaType.VIDEO&&(e.add(n.streamId),this.streamIdToBitrateKbpsMap.has(n.streamId)||this.streamIdToBitrateKbpsMap.set(n.streamId,Ra.UNSEEN_STREAM_BITRATE));for(const n of t)e.has(n)||this.streamIdToBitrateKbpsMap.delete(n)}integrateSubscribeAckFrame(i){if(super.integrateSubscribeAckFrame(i),!i.allocations||i.allocations===void 0)return;let e=0;for(const t of i.allocations){if(this._localStreamInfos.length<e+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[e].groupId=t.groupId,this._localStreamInfos[e].streamId=t.streamId,this.streamIdToBitrateKbpsMap.has(t.streamId)||this.streamIdToBitrateKbpsMap.set(t.streamId,Ra.UNSEEN_STREAM_BITRATE),e++}}constructor(i){super(i),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._lastBitRateMsgTime=Date.now()}},"SimulcastVideoStreamIndex");c.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},ntEb:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.supportsZeroByteGCM=c.supportsSubtleCrypto=c.supportsSecureRandom=c.supportsWebCrypto=void 0;var v=d("4vb1"),f=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function h(i){if(m(i)&&typeof i.crypto.subtle=="object"){var e=i.crypto.subtle;return a(e)}return!1}r(h,"supportsWebCrypto"),c.supportsWebCrypto=h;function m(i){if(typeof i=="object"&&typeof i.crypto=="object"){var e=i.crypto.getRandomValues;return typeof e=="function"}return!1}r(m,"supportsSecureRandom"),c.supportsSecureRandom=m;function a(i){return i&&f.every(function(e){return typeof i[e]=="function"})}r(a,"supportsSubtleCrypto"),c.supportsSubtleCrypto=a;function o(i){return v.__awaiter(this,void 0,void 0,function(){var e,t,n;return v.__generator(this,function(s){switch(s.label){case 0:if(!a(i))return[2,!1];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,i.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return e=s.sent(),[4,i.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},e,new Uint8Array(0))];case 3:return t=s.sent(),[2,t.byteLength===16];case 4:return n=s.sent(),[2,!1];case 5:return[2]}})})}r(o,"supportsZeroByteGCM"),c.supportsZeroByteGCM=o},ntxC:function(U,c,d){"use strict";var v=d("FUmc"),f=d("cSlR"),h=Array.prototype,m=h.splice;function a(o,i){for(var e=o?i.length:0,t=e-1;e--;){var n=i[e];if(e==t||n!==s){var s=n;Object(f.a)(n)?m.call(o,n,1):Object(v.a)(o,n)}}return o}r(a,"basePullAt"),c.a=a},nzLN:function(U,c,d){"use strict";var v="__lodash_placeholder__";function f(h,m){for(var a=-1,o=h.length,i=0,e=[];++a<o;){var t=h[a];(t===m||t===v)&&(h[a]=v,e[i++]=a)}return e}r(f,"replaceHolders"),c.a=f},o13v:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{add(h){return new Promise((m,a)=>{this.queue=this.queue.then(h).then(m).catch(a)})}constructor(){this.queue=Promise.resolve()}},"PromiseQueue");c.default=v},o1Pf:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={InvalidCallId:"invalid_call_id",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",TeamNotFound:"team_not_found",InvalidHuddle:"invalid_huddle",InvalidTranscriptionCache:"invalid_transcription_cache",ExternalApiFailed:"external_api_failed",PermissionDenied:"permission_denied"},t=Object(a.a)("rooms.stopTranscription generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"rooms.stopTranscription",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to rooms.stopTranscription
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsStopTranscriptionFetcher",description:"rooms.stopTranscription generated fetcher"}},"o3U+":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isValidRevisionID=c.isValidAssetGroup=c.resolveURL=c.addQueryParams=c.withQueryString=c.withRequestHeaders=c.fetchWithBehavior=void 0;function v(t,n,s){if(!s)return fetch(t,n);const p=h(t,s),g=f(n,s);return fetch(p,g)}r(v,"fetchWithBehavior"),c.fetchWithBehavior=v;function f(t,n){return n!=null&&n.headers?t?Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers||{}),n.headers)}):{headers:n.headers}:t}r(f,"withRequestHeaders"),c.withRequestHeaders=f;function h(t,n){if(!(n!=null&&n.escapedQueryString))return t;const s=t.lastIndexOf("?")!==-1;return`${t}${s?"&":"?"}${n.escapedQueryString}`}r(h,"withQueryString"),c.withQueryString=h;function m(t,n){const s=Object.keys(n);if(!s.length)return t;const p=new URLSearchParams(t==null?void 0:t.escapedQueryString);for(const g of s)p.append(g,n[g]);return Object.assign(Object.assign({},t),{escapedQueryString:p.toString()})}r(m,"addQueryParams"),c.addQueryParams=m;const a={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function o(t,n){return v(t,a,n).then(s=>s.redirected?s.url:t)}r(o,"resolveURL"),c.resolveURL=o;function i(t){return!!t&&/^[-.a-zA-Z0-9]+$/.test(t)}r(i,"isValidAssetGroup"),c.isValidAssetGroup=i;function e(t){return!!t&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(t)}r(e,"isValidRevisionID"),c.isValidRevisionID=e},o4xN:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.getAudioInput=c.createAudioContext=c.VoiceFocus=void 0;const f=d("riVe"),h=d("XEV2"),m=d("GEtQ"),a=d("hlxM"),o=d("nWxe"),i=d("TdKi"),e=d("M9Lm"),n={useVoiceFocusAGC:!1,useBuiltInAGC:!0},s="stable-v1",p="https://static.sdkassets.chime.aws",g={processors:`${p}/processors/`,workers:`${p}/workers/`,wasm:`${p}/wasm/`,models:`${p}/wasm/`},S={latencyHint:0},u={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},l=Object.assign(Object.assign({},u),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),E=Object.assign(Object.assign({},u),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),O={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:o.default}},P=r((w,A)=>{if(w!==void 0&&!h.isValidAssetGroup(w))throw new Error(`Invalid asset group ${w}`);if(A!==void 0&&!h.isValidRevisionID(A))throw new Error(`Invalid revision ID ${A}`)},"validateAssetSpec"),x=r((w,A)=>{let D;if(A.useBuiltInAGC?D=l:D=E,!w)return{audio:D};if(!w.audio)return w;if(w.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},w),{audio:w.audio===!0?D:Object.assign(Object.assign({},w.audio),D)})},"mungeConstraints"),k=r((w,A)=>`${A.models}${f.decideModel(w)}.wasm`,"urlForModel");let B=r(class gv{static isSupported(A,D){const{fetchBehavior:K,logger:X}=D||{};if(typeof globalThis>"u")return X==null||X.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,X))return X==null||X.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,X))return X==null||X.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,X)||X==null||X.debug("Browser does not support streaming WASM compilation.");const{assetGroup:j=s,revisionID:te,paths:me=g}=A||{};P(j,te);const we=te?{revisionID:te}:{assetGroup:j},pe=h.addQueryParams(K,we),Ae=Object.assign(Object.assign({},pe),{paths:me});return a.supportsVoiceFocusWorker(globalThis,Ae,X)}static mungeExecutionPreference(A,D){const K=A===void 0||A==="auto";if(a.isSafari(globalThis)){if(K||A==="inline")return"inline";if(!K)throw new Error(`Unsupported execution preference ${A}`)}if(A==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,D))throw new Error(`Unsupported execution preference ${A}`);return A||"auto"}static configure(A,D){return v(this,void 0,void 0,function*(){const{fetchBehavior:K,preResolve:X,logger:j}=D||{},{category:te="voicefocus",name:me="default",variant:we="auto",assetGroup:pe=s,revisionID:Ae,simd:Je="detect",executionPreference:Fe="auto",executionQuantaPreference:Ue,usagePreference:Le="interactivity",estimatorBudget:at=100,paths:lt=g,thresholds:ot}=A||{};if(j==null||j.debug("Configuring Voice Focus with spec",A),te!==void 0&&te!=="voicefocus")throw new Error(`Unrecognized category ${te}`);if(me!==void 0&&me!=="default"&&me!=="ns_es")throw new Error(`Unrecognized feature name ${me}`);if(we!==void 0&&!["auto","c100","c50","c20","c10"].includes(we))throw new Error(`Unrecognized feature variant ${we}`);if(Ue!==void 0&&![1,2,3].includes(Ue))throw new Error(`Unrecognized execution quanta preference ${Ue}`);if(P(pe,Ae),Je!==void 0&&!["detect","force","disable"].includes(Je))throw new Error(`Unrecognized SIMD option ${Je}`);if(Fe!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Fe))throw new Error(`Unrecognized execution preference ${Fe}`);if(Le!==void 0&&!["quality","interactivity"].includes(Le))throw new Error(`Unrecognized usage preference ${Le}`);const pt={executionPreference:this.mungeExecutionPreference(Fe,j),usagePreference:Le,executionQuantaPreference:Ue,variantPreference:we,namePreference:me,simdPreference:Je,estimatorBudget:at},ct=Ae?{revisionID:Ae}:{assetGroup:pe},rt=h.addQueryParams(K,ct),Tn=Object.assign({paths:lt},rt),Qt=yield f.measureAndDecideExecutionApproach(pt,Tn,j,ot);if(Qt.supported===!1)return{supported:!1,reason:Qt.reason};j==null||j.info("Decided execution approach",Qt);const{useSIMD:Ft,processor:Rn,variant:Pn,executionQuanta:ti}=Qt,Sn={category:te||"voicefocus",name:me||"default",variant:Pn,simd:Ft};if(X){const oi=k(Sn,lt);Sn.url=yield h.resolveURL(oi,rt)}return{fetchConfig:Tn,model:Sn,processor:Rn,executionQuanta:ti,supported:!0}})}static init(A,D){let{delegate:K,preload:X=!0,logger:j}=D;return v(this,void 0,void 0,function*(){if(A.supported===!1)throw new Error("Voice Focus not supported. Reason: "+A.reason);const{model:te,processor:me,fetchConfig:we,executionQuanta:pe}=A,{simd:Ae,name:Je}=te,{paths:Fe}=we;if(me!=="voicefocus-inline-processor"&&me!=="voicefocus-worker-postMessage-processor"&&me!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${me}`);const Ue=te.url||k(te,Fe);j==null||j.debug(`Using model URL ${Ue}.`);const Le=`${Fe.wasm}audio_buffer-v1${Ae?"_simd":""}.wasm`,at=`${Fe.wasm}resampler-v1${Ae?"_simd":""}.wasm`,lt=`${Fe.workers}worker-v1.js`,{file:ot,node:pt}=O[me],ct=`${Fe.processors}${ot}`,rt=yield m.loadWorker(lt,"VoiceFocusWorker",we,j);if(X){j==null||j.debug("Preloading",Ue);let Rn=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";rt.postMessage({message:Rn,preload:!0,key:"model",fetchBehavior:we,path:Ue})}const Qt={processor:me,worker:rt,audioBufferURL:Le,resamplerURL:at,fetchBehavior:we,modelURL:Ue,delegate:K,logger:j,numberOfInputs:Je==="ns_es"?2:1},Ft=new gv(rt,ct,pt,Qt,pe);return Promise.resolve(Ft)})}createNode(A,D){var K;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:X=A.sampleRate===16e3?16e3:48e3,enabled:j=!0,agc:te=n}=D||{},me=D==null?void 0:D.es,we={voiceFocusSampleRate:X,enabled:j,sendBufferCount:10,prefill:6,agc:te,executionQuanta:this.executionQuanta,supportFarendStream:me},pe=h.withQueryString(this.processorURL,(K=this.nodeOptions)===null||K===void 0?void 0:K.fetchBehavior);return A.audioWorklet.addModule(pe).then(()=>new this.nodeConstructor(A,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:we})))}applyToStream(A,D,K){return v(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const X=D.createMediaStreamSource(A),j=yield this.applyToSourceNode(X,D,K),te=D.createMediaStreamDestination();return j.connect(te),{node:j,source:X,destination:te,stream:te.stream}})}applyToSourceNode(A,D,K){return v(this,void 0,void 0,function*(){const X=yield this.createNode(D,K);return A.connect(X),X})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(A,D,K,X,j){this.processorURL=D,this.nodeConstructor=K,this.nodeOptions=X,this.executionQuanta=j,this.internal={worker:A,nodeOptions:X,isDestroyed:!1}}},"VoiceFocus");c.VoiceFocus=B;const R=r(function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;return new(window.AudioContext||window.webkitAudioContext)(w)},"createAudioContext");c.createAudioContext=R;const N=r((w,A,D)=>v(void 0,void 0,void 0,function*(){var K,X;const{constraints:j,spec:te,delegate:me,preload:we=!0,options:pe}=A,{logger:Ae}=D,Je=yield B.configure(te,D);if(!Je.supported)return(K=D.logger)===null||K===void 0||K.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(j);const Fe=yield B.init(Je,{delegate:me,preload:we,logger:Ae}),Ue=((X=A.options)===null||X===void 0?void 0:X.agc)||n,Le=yield window.navigator.mediaDevices.getUserMedia(x(j,Ue));return Fe.applyToStream(Le,w,pe).then(at=>at.stream)}),"getAudioInput");c.getAudioInput=N},o5nl:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("cKqT")),h=v(d("HCbE"));let m=r(class{create(){return new f.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(o){return new h.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,o)}constructor(o,i,e){this.fixedWaitMs=o,this.shortBackoffMs=i,this.longBackoffMs=e}},"FullJitterBackoffFactory");c.default=m},oHvd:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(h){this.currentData=h}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const h=this.health();return h!==this.currentHealth?(this.currentHealth=h,h):null}constructor(h,m,a){this.minHealth=h.minHealth,this.maxHealth=h.maxHealth,this.currentHealth=h.initialHealth,this.currentData=m.clone(),this.name=a}},"BaseConnectionHealthPolicy");c.default=v},oJqn:function(U,c,d){"use strict";d.d(c,"a",function(){return i});var v=d("VDtp"),f=d.n(v);const h=v.Reader,m=v.Writer,a=v.util,o=v.roots.default||(v.roots.default={}),i=o.slack=(()=>{const e={};return e.calls=function(){const t={};return t.analytics=function(){const n={};return n.RecvMedia=function(){function s(g){if(g)for(let S=Object.keys(g),u=0;u<S.length;++u)g[S[u]]!=null&&(this[S[u]]=g[S[u]])}r(s,"RecvMedia"),s.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.bytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.packetsReceived=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.fractionLost=0,s.prototype.jitter=0,s.prototype.packetsLost=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.codec=0,s.prototype.userId="",s.prototype.peerIdString="",s.prototype.audioStats=null,s.prototype.videoStats=null;let p;return Object.defineProperty(s.prototype,"mediaType",{get:a.oneOfGetter(p=["audioStats","videoStats"]),set:a.oneOfSetter(p)}),s.create=r(function(S){return new s(S)},"create"),s.encode=r(function(S,u){return u||(u=m.create()),S.peerId!=null&&Object.hasOwnProperty.call(S,"peerId")&&u.uint32(8).uint64(S.peerId),S.bytesReceived!=null&&Object.hasOwnProperty.call(S,"bytesReceived")&&u.uint32(16).uint64(S.bytesReceived),S.packetsReceived!=null&&Object.hasOwnProperty.call(S,"packetsReceived")&&u.uint32(24).uint64(S.packetsReceived),S.fractionLost!=null&&Object.hasOwnProperty.call(S,"fractionLost")&&u.uint32(33).double(S.fractionLost),S.jitter!=null&&Object.hasOwnProperty.call(S,"jitter")&&u.uint32(41).double(S.jitter),S.packetsLost!=null&&Object.hasOwnProperty.call(S,"packetsLost")&&u.uint32(48).uint64(S.packetsLost),S.codec!=null&&Object.hasOwnProperty.call(S,"codec")&&u.uint32(56).int32(S.codec),S.audioStats!=null&&Object.hasOwnProperty.call(S,"audioStats")&&o.slack.calls.analytics.RecvMedia.Audio.encode(S.audioStats,u.uint32(66).fork()).ldelim(),S.videoStats!=null&&Object.hasOwnProperty.call(S,"videoStats")&&o.slack.calls.analytics.RecvMedia.Video.encode(S.videoStats,u.uint32(74).fork()).ldelim(),S.userId!=null&&Object.hasOwnProperty.call(S,"userId")&&u.uint32(82).string(S.userId),S.peerIdString!=null&&Object.hasOwnProperty.call(S,"peerIdString")&&u.uint32(90).string(S.peerIdString),u},"encode"),s.encodeDelimited=r(function(S,u){return this.encode(S,u).ldelim()},"encodeDelimited"),s.decode=r(function(S,u){S instanceof h||(S=h.create(S));let l=u===void 0?S.len:S.pos+u,E=new o.slack.calls.analytics.RecvMedia;for(;S.pos<l;){let O=S.uint32();switch(O>>>3){case 1:{E.peerId=S.uint64();break}case 2:{E.bytesReceived=S.uint64();break}case 3:{E.packetsReceived=S.uint64();break}case 4:{E.fractionLost=S.double();break}case 5:{E.jitter=S.double();break}case 6:{E.packetsLost=S.uint64();break}case 7:{E.codec=S.int32();break}case 10:{E.userId=S.string();break}case 11:{E.peerIdString=S.string();break}case 8:{E.audioStats=o.slack.calls.analytics.RecvMedia.Audio.decode(S,S.uint32());break}case 9:{E.videoStats=o.slack.calls.analytics.RecvMedia.Video.decode(S,S.uint32());break}default:S.skipType(O&7);break}}return E},"decode"),s.decodeDelimited=r(function(S){return S instanceof h||(S=new h(S)),this.decode(S,S.uint32())},"decodeDelimited"),s.verify=r(function(S){if(typeof S!="object"||S===null)return"object expected";let u={};if(S.peerId!=null&&S.hasOwnProperty("peerId")&&!a.isInteger(S.peerId)&&!(S.peerId&&a.isInteger(S.peerId.low)&&a.isInteger(S.peerId.high)))return"peerId: integer|Long expected";if(S.bytesReceived!=null&&S.hasOwnProperty("bytesReceived")&&!a.isInteger(S.bytesReceived)&&!(S.bytesReceived&&a.isInteger(S.bytesReceived.low)&&a.isInteger(S.bytesReceived.high)))return"bytesReceived: integer|Long expected";if(S.packetsReceived!=null&&S.hasOwnProperty("packetsReceived")&&!a.isInteger(S.packetsReceived)&&!(S.packetsReceived&&a.isInteger(S.packetsReceived.low)&&a.isInteger(S.packetsReceived.high)))return"packetsReceived: integer|Long expected";if(S.fractionLost!=null&&S.hasOwnProperty("fractionLost")&&typeof S.fractionLost!="number")return"fractionLost: number expected";if(S.jitter!=null&&S.hasOwnProperty("jitter")&&typeof S.jitter!="number")return"jitter: number expected";if(S.packetsLost!=null&&S.hasOwnProperty("packetsLost")&&!a.isInteger(S.packetsLost)&&!(S.packetsLost&&a.isInteger(S.packetsLost.low)&&a.isInteger(S.packetsLost.high)))return"packetsLost: integer|Long expected";if(S.codec!=null&&S.hasOwnProperty("codec"))switch(S.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(S.userId!=null&&S.hasOwnProperty("userId")&&!a.isString(S.userId))return"userId: string expected";if(S.peerIdString!=null&&S.hasOwnProperty("peerIdString")&&!a.isString(S.peerIdString))return"peerIdString: string expected";if(S.audioStats!=null&&S.hasOwnProperty("audioStats")){u.mediaType=1;{let l=o.slack.calls.analytics.RecvMedia.Audio.verify(S.audioStats);if(l)return"audioStats."+l}}if(S.videoStats!=null&&S.hasOwnProperty("videoStats")){if(u.mediaType===1)return"mediaType: multiple values";u.mediaType=1;{let l=o.slack.calls.analytics.RecvMedia.Video.verify(S.videoStats);if(l)return"videoStats."+l}}return null},"verify"),s.fromObject=r(function(S){if(S instanceof o.slack.calls.analytics.RecvMedia)return S;let u=new o.slack.calls.analytics.RecvMedia;switch(S.peerId!=null&&(a.Long?(u.peerId=a.Long.fromValue(S.peerId)).unsigned=!0:typeof S.peerId=="string"?u.peerId=parseInt(S.peerId,10):typeof S.peerId=="number"?u.peerId=S.peerId:typeof S.peerId=="object"&&(u.peerId=new a.LongBits(S.peerId.low>>>0,S.peerId.high>>>0).toNumber(!0))),S.bytesReceived!=null&&(a.Long?(u.bytesReceived=a.Long.fromValue(S.bytesReceived)).unsigned=!0:typeof S.bytesReceived=="string"?u.bytesReceived=parseInt(S.bytesReceived,10):typeof S.bytesReceived=="number"?u.bytesReceived=S.bytesReceived:typeof S.bytesReceived=="object"&&(u.bytesReceived=new a.LongBits(S.bytesReceived.low>>>0,S.bytesReceived.high>>>0).toNumber(!0))),S.packetsReceived!=null&&(a.Long?(u.packetsReceived=a.Long.fromValue(S.packetsReceived)).unsigned=!0:typeof S.packetsReceived=="string"?u.packetsReceived=parseInt(S.packetsReceived,10):typeof S.packetsReceived=="number"?u.packetsReceived=S.packetsReceived:typeof S.packetsReceived=="object"&&(u.packetsReceived=new a.LongBits(S.packetsReceived.low>>>0,S.packetsReceived.high>>>0).toNumber(!0))),S.fractionLost!=null&&(u.fractionLost=Number(S.fractionLost)),S.jitter!=null&&(u.jitter=Number(S.jitter)),S.packetsLost!=null&&(a.Long?(u.packetsLost=a.Long.fromValue(S.packetsLost)).unsigned=!0:typeof S.packetsLost=="string"?u.packetsLost=parseInt(S.packetsLost,10):typeof S.packetsLost=="number"?u.packetsLost=S.packetsLost:typeof S.packetsLost=="object"&&(u.packetsLost=new a.LongBits(S.packetsLost.low>>>0,S.packetsLost.high>>>0).toNumber(!0))),S.codec){default:if(typeof S.codec=="number"){u.codec=S.codec;break}break;case"UNKNOWN":case 0:u.codec=0;break;case"OPUS":case 1:u.codec=1;break;case"VP8":case 2:u.codec=2;break;case"VP9":case 3:u.codec=3;break;case"H264":case 4:u.codec=4;break}if(S.userId!=null&&(u.userId=String(S.userId)),S.peerIdString!=null&&(u.peerIdString=String(S.peerIdString)),S.audioStats!=null){if(typeof S.audioStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.audioStats: object expected");u.audioStats=o.slack.calls.analytics.RecvMedia.Audio.fromObject(S.audioStats)}if(S.videoStats!=null){if(typeof S.videoStats!="object")throw TypeError(".slack.calls.analytics.RecvMedia.videoStats: object expected");u.videoStats=o.slack.calls.analytics.RecvMedia.Video.fromObject(S.videoStats)}return u},"fromObject"),s.toObject=r(function(S,u){u||(u={});let l={};if(u.defaults){if(a.Long){let E=new a.Long(0,0,!0);l.peerId=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.peerId=u.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);l.bytesReceived=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.bytesReceived=u.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);l.packetsReceived=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.packetsReceived=u.longs===String?"0":0;if(l.fractionLost=0,l.jitter=0,a.Long){let E=new a.Long(0,0,!0);l.packetsLost=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.packetsLost=u.longs===String?"0":0;l.codec=u.enums===String?"UNKNOWN":0,l.userId="",l.peerIdString=""}return S.peerId!=null&&S.hasOwnProperty("peerId")&&(typeof S.peerId=="number"?l.peerId=u.longs===String?String(S.peerId):S.peerId:l.peerId=u.longs===String?a.Long.prototype.toString.call(S.peerId):u.longs===Number?new a.LongBits(S.peerId.low>>>0,S.peerId.high>>>0).toNumber(!0):S.peerId),S.bytesReceived!=null&&S.hasOwnProperty("bytesReceived")&&(typeof S.bytesReceived=="number"?l.bytesReceived=u.longs===String?String(S.bytesReceived):S.bytesReceived:l.bytesReceived=u.longs===String?a.Long.prototype.toString.call(S.bytesReceived):u.longs===Number?new a.LongBits(S.bytesReceived.low>>>0,S.bytesReceived.high>>>0).toNumber(!0):S.bytesReceived),S.packetsReceived!=null&&S.hasOwnProperty("packetsReceived")&&(typeof S.packetsReceived=="number"?l.packetsReceived=u.longs===String?String(S.packetsReceived):S.packetsReceived:l.packetsReceived=u.longs===String?a.Long.prototype.toString.call(S.packetsReceived):u.longs===Number?new a.LongBits(S.packetsReceived.low>>>0,S.packetsReceived.high>>>0).toNumber(!0):S.packetsReceived),S.fractionLost!=null&&S.hasOwnProperty("fractionLost")&&(l.fractionLost=u.json&&!isFinite(S.fractionLost)?String(S.fractionLost):S.fractionLost),S.jitter!=null&&S.hasOwnProperty("jitter")&&(l.jitter=u.json&&!isFinite(S.jitter)?String(S.jitter):S.jitter),S.packetsLost!=null&&S.hasOwnProperty("packetsLost")&&(typeof S.packetsLost=="number"?l.packetsLost=u.longs===String?String(S.packetsLost):S.packetsLost:l.packetsLost=u.longs===String?a.Long.prototype.toString.call(S.packetsLost):u.longs===Number?new a.LongBits(S.packetsLost.low>>>0,S.packetsLost.high>>>0).toNumber(!0):S.packetsLost),S.codec!=null&&S.hasOwnProperty("codec")&&(l.codec=u.enums===String?o.slack.calls.analytics.Codec[S.codec]===void 0?S.codec:o.slack.calls.analytics.Codec[S.codec]:S.codec),S.audioStats!=null&&S.hasOwnProperty("audioStats")&&(l.audioStats=o.slack.calls.analytics.RecvMedia.Audio.toObject(S.audioStats,u),u.oneofs&&(l.mediaType="audioStats")),S.videoStats!=null&&S.hasOwnProperty("videoStats")&&(l.videoStats=o.slack.calls.analytics.RecvMedia.Video.toObject(S.videoStats,u),u.oneofs&&(l.mediaType="videoStats")),S.userId!=null&&S.hasOwnProperty("userId")&&(l.userId=S.userId),S.peerIdString!=null&&S.hasOwnProperty("peerIdString")&&(l.peerIdString=S.peerIdString),l},"toObject"),s.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),s.getTypeUrl=r(function(S){return S===void 0&&(S="type.googleapis.com"),S+"/slack.calls.analytics.RecvMedia"},"getTypeUrl"),s.Audio=function(){function g(S){if(S)for(let u=Object.keys(S),l=0;l<u.length;++l)S[u[l]]!=null&&(this[u[l]]=S[u[l]])}return r(g,"Audio"),g.prototype.audioLevel=0,g.prototype.jitterBufferDelay=0,g.prototype.concealmentEvents=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.concealedSamples=a.Long?a.Long.fromBits(0,0,!0):0,g.create=r(function(u){return new g(u)},"create"),g.encode=r(function(u,l){return l||(l=m.create()),u.audioLevel!=null&&Object.hasOwnProperty.call(u,"audioLevel")&&l.uint32(9).double(u.audioLevel),u.jitterBufferDelay!=null&&Object.hasOwnProperty.call(u,"jitterBufferDelay")&&l.uint32(17).double(u.jitterBufferDelay),u.concealmentEvents!=null&&Object.hasOwnProperty.call(u,"concealmentEvents")&&l.uint32(24).uint64(u.concealmentEvents),u.concealedSamples!=null&&Object.hasOwnProperty.call(u,"concealedSamples")&&l.uint32(32).uint64(u.concealedSamples),l},"encode"),g.encodeDelimited=r(function(u,l){return this.encode(u,l).ldelim()},"encodeDelimited"),g.decode=r(function(u,l){u instanceof h||(u=h.create(u));let E=l===void 0?u.len:u.pos+l,O=new o.slack.calls.analytics.RecvMedia.Audio;for(;u.pos<E;){let P=u.uint32();switch(P>>>3){case 1:{O.audioLevel=u.double();break}case 2:{O.jitterBufferDelay=u.double();break}case 3:{O.concealmentEvents=u.uint64();break}case 4:{O.concealedSamples=u.uint64();break}default:u.skipType(P&7);break}}return O},"decode"),g.decodeDelimited=r(function(u){return u instanceof h||(u=new h(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=r(function(u){return typeof u!="object"||u===null?"object expected":u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&typeof u.audioLevel!="number"?"audioLevel: number expected":u.jitterBufferDelay!=null&&u.hasOwnProperty("jitterBufferDelay")&&typeof u.jitterBufferDelay!="number"?"jitterBufferDelay: number expected":u.concealmentEvents!=null&&u.hasOwnProperty("concealmentEvents")&&!a.isInteger(u.concealmentEvents)&&!(u.concealmentEvents&&a.isInteger(u.concealmentEvents.low)&&a.isInteger(u.concealmentEvents.high))?"concealmentEvents: integer|Long expected":u.concealedSamples!=null&&u.hasOwnProperty("concealedSamples")&&!a.isInteger(u.concealedSamples)&&!(u.concealedSamples&&a.isInteger(u.concealedSamples.low)&&a.isInteger(u.concealedSamples.high))?"concealedSamples: integer|Long expected":null},"verify"),g.fromObject=r(function(u){if(u instanceof o.slack.calls.analytics.RecvMedia.Audio)return u;let l=new o.slack.calls.analytics.RecvMedia.Audio;return u.audioLevel!=null&&(l.audioLevel=Number(u.audioLevel)),u.jitterBufferDelay!=null&&(l.jitterBufferDelay=Number(u.jitterBufferDelay)),u.concealmentEvents!=null&&(a.Long?(l.concealmentEvents=a.Long.fromValue(u.concealmentEvents)).unsigned=!0:typeof u.concealmentEvents=="string"?l.concealmentEvents=parseInt(u.concealmentEvents,10):typeof u.concealmentEvents=="number"?l.concealmentEvents=u.concealmentEvents:typeof u.concealmentEvents=="object"&&(l.concealmentEvents=new a.LongBits(u.concealmentEvents.low>>>0,u.concealmentEvents.high>>>0).toNumber(!0))),u.concealedSamples!=null&&(a.Long?(l.concealedSamples=a.Long.fromValue(u.concealedSamples)).unsigned=!0:typeof u.concealedSamples=="string"?l.concealedSamples=parseInt(u.concealedSamples,10):typeof u.concealedSamples=="number"?l.concealedSamples=u.concealedSamples:typeof u.concealedSamples=="object"&&(l.concealedSamples=new a.LongBits(u.concealedSamples.low>>>0,u.concealedSamples.high>>>0).toNumber(!0))),l},"fromObject"),g.toObject=r(function(u,l){l||(l={});let E={};if(l.defaults){if(E.audioLevel=0,E.jitterBufferDelay=0,a.Long){let O=new a.Long(0,0,!0);E.concealmentEvents=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.concealmentEvents=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.concealedSamples=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.concealedSamples=l.longs===String?"0":0}return u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&(E.audioLevel=l.json&&!isFinite(u.audioLevel)?String(u.audioLevel):u.audioLevel),u.jitterBufferDelay!=null&&u.hasOwnProperty("jitterBufferDelay")&&(E.jitterBufferDelay=l.json&&!isFinite(u.jitterBufferDelay)?String(u.jitterBufferDelay):u.jitterBufferDelay),u.concealmentEvents!=null&&u.hasOwnProperty("concealmentEvents")&&(typeof u.concealmentEvents=="number"?E.concealmentEvents=l.longs===String?String(u.concealmentEvents):u.concealmentEvents:E.concealmentEvents=l.longs===String?a.Long.prototype.toString.call(u.concealmentEvents):l.longs===Number?new a.LongBits(u.concealmentEvents.low>>>0,u.concealmentEvents.high>>>0).toNumber(!0):u.concealmentEvents),u.concealedSamples!=null&&u.hasOwnProperty("concealedSamples")&&(typeof u.concealedSamples=="number"?E.concealedSamples=l.longs===String?String(u.concealedSamples):u.concealedSamples:E.concealedSamples=l.longs===String?a.Long.prototype.toString.call(u.concealedSamples):l.longs===Number?new a.LongBits(u.concealedSamples.low>>>0,u.concealedSamples.high>>>0).toNumber(!0):u.concealedSamples),E},"toObject"),g.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),g.getTypeUrl=r(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.RecvMedia.Audio"},"getTypeUrl"),g}(),s.Video=function(){function g(S){if(S)for(let u=Object.keys(S),l=0;l<u.length;++l)S[u[l]]!=null&&(this[u[l]]=S[u[l]])}return r(g,"Video"),g.prototype.firCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.nackCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.pliCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.sliCount=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesPerSecond=0,g.prototype.framesCorrupted=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesDecoded=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesDropped=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesReceived=a.Long?a.Long.fromBits(0,0,!0):0,g.create=r(function(u){return new g(u)},"create"),g.encode=r(function(u,l){return l||(l=m.create()),u.firCount!=null&&Object.hasOwnProperty.call(u,"firCount")&&l.uint32(8).uint64(u.firCount),u.nackCount!=null&&Object.hasOwnProperty.call(u,"nackCount")&&l.uint32(16).uint64(u.nackCount),u.pliCount!=null&&Object.hasOwnProperty.call(u,"pliCount")&&l.uint32(24).uint64(u.pliCount),u.sliCount!=null&&Object.hasOwnProperty.call(u,"sliCount")&&l.uint32(32).uint64(u.sliCount),u.frameHeight!=null&&Object.hasOwnProperty.call(u,"frameHeight")&&l.uint32(40).uint64(u.frameHeight),u.frameWidth!=null&&Object.hasOwnProperty.call(u,"frameWidth")&&l.uint32(48).uint64(u.frameWidth),u.framesPerSecond!=null&&Object.hasOwnProperty.call(u,"framesPerSecond")&&l.uint32(57).double(u.framesPerSecond),u.framesCorrupted!=null&&Object.hasOwnProperty.call(u,"framesCorrupted")&&l.uint32(64).uint64(u.framesCorrupted),u.framesDecoded!=null&&Object.hasOwnProperty.call(u,"framesDecoded")&&l.uint32(72).uint64(u.framesDecoded),u.framesDropped!=null&&Object.hasOwnProperty.call(u,"framesDropped")&&l.uint32(80).uint64(u.framesDropped),u.framesReceived!=null&&Object.hasOwnProperty.call(u,"framesReceived")&&l.uint32(88).uint64(u.framesReceived),l},"encode"),g.encodeDelimited=r(function(u,l){return this.encode(u,l).ldelim()},"encodeDelimited"),g.decode=r(function(u,l){u instanceof h||(u=h.create(u));let E=l===void 0?u.len:u.pos+l,O=new o.slack.calls.analytics.RecvMedia.Video;for(;u.pos<E;){let P=u.uint32();switch(P>>>3){case 1:{O.firCount=u.uint64();break}case 2:{O.nackCount=u.uint64();break}case 3:{O.pliCount=u.uint64();break}case 4:{O.sliCount=u.uint64();break}case 5:{O.frameHeight=u.uint64();break}case 6:{O.frameWidth=u.uint64();break}case 7:{O.framesPerSecond=u.double();break}case 8:{O.framesCorrupted=u.uint64();break}case 9:{O.framesDecoded=u.uint64();break}case 10:{O.framesDropped=u.uint64();break}case 11:{O.framesReceived=u.uint64();break}default:u.skipType(P&7);break}}return O},"decode"),g.decodeDelimited=r(function(u){return u instanceof h||(u=new h(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=r(function(u){return typeof u!="object"||u===null?"object expected":u.firCount!=null&&u.hasOwnProperty("firCount")&&!a.isInteger(u.firCount)&&!(u.firCount&&a.isInteger(u.firCount.low)&&a.isInteger(u.firCount.high))?"firCount: integer|Long expected":u.nackCount!=null&&u.hasOwnProperty("nackCount")&&!a.isInteger(u.nackCount)&&!(u.nackCount&&a.isInteger(u.nackCount.low)&&a.isInteger(u.nackCount.high))?"nackCount: integer|Long expected":u.pliCount!=null&&u.hasOwnProperty("pliCount")&&!a.isInteger(u.pliCount)&&!(u.pliCount&&a.isInteger(u.pliCount.low)&&a.isInteger(u.pliCount.high))?"pliCount: integer|Long expected":u.sliCount!=null&&u.hasOwnProperty("sliCount")&&!a.isInteger(u.sliCount)&&!(u.sliCount&&a.isInteger(u.sliCount.low)&&a.isInteger(u.sliCount.high))?"sliCount: integer|Long expected":u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&!a.isInteger(u.frameHeight)&&!(u.frameHeight&&a.isInteger(u.frameHeight.low)&&a.isInteger(u.frameHeight.high))?"frameHeight: integer|Long expected":u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&!a.isInteger(u.frameWidth)&&!(u.frameWidth&&a.isInteger(u.frameWidth.low)&&a.isInteger(u.frameWidth.high))?"frameWidth: integer|Long expected":u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&typeof u.framesPerSecond!="number"?"framesPerSecond: number expected":u.framesCorrupted!=null&&u.hasOwnProperty("framesCorrupted")&&!a.isInteger(u.framesCorrupted)&&!(u.framesCorrupted&&a.isInteger(u.framesCorrupted.low)&&a.isInteger(u.framesCorrupted.high))?"framesCorrupted: integer|Long expected":u.framesDecoded!=null&&u.hasOwnProperty("framesDecoded")&&!a.isInteger(u.framesDecoded)&&!(u.framesDecoded&&a.isInteger(u.framesDecoded.low)&&a.isInteger(u.framesDecoded.high))?"framesDecoded: integer|Long expected":u.framesDropped!=null&&u.hasOwnProperty("framesDropped")&&!a.isInteger(u.framesDropped)&&!(u.framesDropped&&a.isInteger(u.framesDropped.low)&&a.isInteger(u.framesDropped.high))?"framesDropped: integer|Long expected":u.framesReceived!=null&&u.hasOwnProperty("framesReceived")&&!a.isInteger(u.framesReceived)&&!(u.framesReceived&&a.isInteger(u.framesReceived.low)&&a.isInteger(u.framesReceived.high))?"framesReceived: integer|Long expected":null},"verify"),g.fromObject=r(function(u){if(u instanceof o.slack.calls.analytics.RecvMedia.Video)return u;let l=new o.slack.calls.analytics.RecvMedia.Video;return u.firCount!=null&&(a.Long?(l.firCount=a.Long.fromValue(u.firCount)).unsigned=!0:typeof u.firCount=="string"?l.firCount=parseInt(u.firCount,10):typeof u.firCount=="number"?l.firCount=u.firCount:typeof u.firCount=="object"&&(l.firCount=new a.LongBits(u.firCount.low>>>0,u.firCount.high>>>0).toNumber(!0))),u.nackCount!=null&&(a.Long?(l.nackCount=a.Long.fromValue(u.nackCount)).unsigned=!0:typeof u.nackCount=="string"?l.nackCount=parseInt(u.nackCount,10):typeof u.nackCount=="number"?l.nackCount=u.nackCount:typeof u.nackCount=="object"&&(l.nackCount=new a.LongBits(u.nackCount.low>>>0,u.nackCount.high>>>0).toNumber(!0))),u.pliCount!=null&&(a.Long?(l.pliCount=a.Long.fromValue(u.pliCount)).unsigned=!0:typeof u.pliCount=="string"?l.pliCount=parseInt(u.pliCount,10):typeof u.pliCount=="number"?l.pliCount=u.pliCount:typeof u.pliCount=="object"&&(l.pliCount=new a.LongBits(u.pliCount.low>>>0,u.pliCount.high>>>0).toNumber(!0))),u.sliCount!=null&&(a.Long?(l.sliCount=a.Long.fromValue(u.sliCount)).unsigned=!0:typeof u.sliCount=="string"?l.sliCount=parseInt(u.sliCount,10):typeof u.sliCount=="number"?l.sliCount=u.sliCount:typeof u.sliCount=="object"&&(l.sliCount=new a.LongBits(u.sliCount.low>>>0,u.sliCount.high>>>0).toNumber(!0))),u.frameHeight!=null&&(a.Long?(l.frameHeight=a.Long.fromValue(u.frameHeight)).unsigned=!0:typeof u.frameHeight=="string"?l.frameHeight=parseInt(u.frameHeight,10):typeof u.frameHeight=="number"?l.frameHeight=u.frameHeight:typeof u.frameHeight=="object"&&(l.frameHeight=new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0))),u.frameWidth!=null&&(a.Long?(l.frameWidth=a.Long.fromValue(u.frameWidth)).unsigned=!0:typeof u.frameWidth=="string"?l.frameWidth=parseInt(u.frameWidth,10):typeof u.frameWidth=="number"?l.frameWidth=u.frameWidth:typeof u.frameWidth=="object"&&(l.frameWidth=new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0))),u.framesPerSecond!=null&&(l.framesPerSecond=Number(u.framesPerSecond)),u.framesCorrupted!=null&&(a.Long?(l.framesCorrupted=a.Long.fromValue(u.framesCorrupted)).unsigned=!0:typeof u.framesCorrupted=="string"?l.framesCorrupted=parseInt(u.framesCorrupted,10):typeof u.framesCorrupted=="number"?l.framesCorrupted=u.framesCorrupted:typeof u.framesCorrupted=="object"&&(l.framesCorrupted=new a.LongBits(u.framesCorrupted.low>>>0,u.framesCorrupted.high>>>0).toNumber(!0))),u.framesDecoded!=null&&(a.Long?(l.framesDecoded=a.Long.fromValue(u.framesDecoded)).unsigned=!0:typeof u.framesDecoded=="string"?l.framesDecoded=parseInt(u.framesDecoded,10):typeof u.framesDecoded=="number"?l.framesDecoded=u.framesDecoded:typeof u.framesDecoded=="object"&&(l.framesDecoded=new a.LongBits(u.framesDecoded.low>>>0,u.framesDecoded.high>>>0).toNumber(!0))),u.framesDropped!=null&&(a.Long?(l.framesDropped=a.Long.fromValue(u.framesDropped)).unsigned=!0:typeof u.framesDropped=="string"?l.framesDropped=parseInt(u.framesDropped,10):typeof u.framesDropped=="number"?l.framesDropped=u.framesDropped:typeof u.framesDropped=="object"&&(l.framesDropped=new a.LongBits(u.framesDropped.low>>>0,u.framesDropped.high>>>0).toNumber(!0))),u.framesReceived!=null&&(a.Long?(l.framesReceived=a.Long.fromValue(u.framesReceived)).unsigned=!0:typeof u.framesReceived=="string"?l.framesReceived=parseInt(u.framesReceived,10):typeof u.framesReceived=="number"?l.framesReceived=u.framesReceived:typeof u.framesReceived=="object"&&(l.framesReceived=new a.LongBits(u.framesReceived.low>>>0,u.framesReceived.high>>>0).toNumber(!0))),l},"fromObject"),g.toObject=r(function(u,l){l||(l={});let E={};if(l.defaults){if(a.Long){let O=new a.Long(0,0,!0);E.firCount=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.firCount=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.nackCount=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.nackCount=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.pliCount=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.pliCount=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.sliCount=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.sliCount=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.frameHeight=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.frameHeight=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.frameWidth=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.frameWidth=l.longs===String?"0":0;if(E.framesPerSecond=0,a.Long){let O=new a.Long(0,0,!0);E.framesCorrupted=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.framesCorrupted=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.framesDecoded=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.framesDecoded=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.framesDropped=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.framesDropped=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.framesReceived=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.framesReceived=l.longs===String?"0":0}return u.firCount!=null&&u.hasOwnProperty("firCount")&&(typeof u.firCount=="number"?E.firCount=l.longs===String?String(u.firCount):u.firCount:E.firCount=l.longs===String?a.Long.prototype.toString.call(u.firCount):l.longs===Number?new a.LongBits(u.firCount.low>>>0,u.firCount.high>>>0).toNumber(!0):u.firCount),u.nackCount!=null&&u.hasOwnProperty("nackCount")&&(typeof u.nackCount=="number"?E.nackCount=l.longs===String?String(u.nackCount):u.nackCount:E.nackCount=l.longs===String?a.Long.prototype.toString.call(u.nackCount):l.longs===Number?new a.LongBits(u.nackCount.low>>>0,u.nackCount.high>>>0).toNumber(!0):u.nackCount),u.pliCount!=null&&u.hasOwnProperty("pliCount")&&(typeof u.pliCount=="number"?E.pliCount=l.longs===String?String(u.pliCount):u.pliCount:E.pliCount=l.longs===String?a.Long.prototype.toString.call(u.pliCount):l.longs===Number?new a.LongBits(u.pliCount.low>>>0,u.pliCount.high>>>0).toNumber(!0):u.pliCount),u.sliCount!=null&&u.hasOwnProperty("sliCount")&&(typeof u.sliCount=="number"?E.sliCount=l.longs===String?String(u.sliCount):u.sliCount:E.sliCount=l.longs===String?a.Long.prototype.toString.call(u.sliCount):l.longs===Number?new a.LongBits(u.sliCount.low>>>0,u.sliCount.high>>>0).toNumber(!0):u.sliCount),u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&(typeof u.frameHeight=="number"?E.frameHeight=l.longs===String?String(u.frameHeight):u.frameHeight:E.frameHeight=l.longs===String?a.Long.prototype.toString.call(u.frameHeight):l.longs===Number?new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0):u.frameHeight),u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&(typeof u.frameWidth=="number"?E.frameWidth=l.longs===String?String(u.frameWidth):u.frameWidth:E.frameWidth=l.longs===String?a.Long.prototype.toString.call(u.frameWidth):l.longs===Number?new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0):u.frameWidth),u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&(E.framesPerSecond=l.json&&!isFinite(u.framesPerSecond)?String(u.framesPerSecond):u.framesPerSecond),u.framesCorrupted!=null&&u.hasOwnProperty("framesCorrupted")&&(typeof u.framesCorrupted=="number"?E.framesCorrupted=l.longs===String?String(u.framesCorrupted):u.framesCorrupted:E.framesCorrupted=l.longs===String?a.Long.prototype.toString.call(u.framesCorrupted):l.longs===Number?new a.LongBits(u.framesCorrupted.low>>>0,u.framesCorrupted.high>>>0).toNumber(!0):u.framesCorrupted),u.framesDecoded!=null&&u.hasOwnProperty("framesDecoded")&&(typeof u.framesDecoded=="number"?E.framesDecoded=l.longs===String?String(u.framesDecoded):u.framesDecoded:E.framesDecoded=l.longs===String?a.Long.prototype.toString.call(u.framesDecoded):l.longs===Number?new a.LongBits(u.framesDecoded.low>>>0,u.framesDecoded.high>>>0).toNumber(!0):u.framesDecoded),u.framesDropped!=null&&u.hasOwnProperty("framesDropped")&&(typeof u.framesDropped=="number"?E.framesDropped=l.longs===String?String(u.framesDropped):u.framesDropped:E.framesDropped=l.longs===String?a.Long.prototype.toString.call(u.framesDropped):l.longs===Number?new a.LongBits(u.framesDropped.low>>>0,u.framesDropped.high>>>0).toNumber(!0):u.framesDropped),u.framesReceived!=null&&u.hasOwnProperty("framesReceived")&&(typeof u.framesReceived=="number"?E.framesReceived=l.longs===String?String(u.framesReceived):u.framesReceived:E.framesReceived=l.longs===String?a.Long.prototype.toString.call(u.framesReceived):l.longs===Number?new a.LongBits(u.framesReceived.low>>>0,u.framesReceived.high>>>0).toNumber(!0):u.framesReceived),E},"toObject"),g.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),g.getTypeUrl=r(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.RecvMedia.Video"},"getTypeUrl"),g}(),s}(),n.SendMedia=function(){function s(g){if(g)for(let S=Object.keys(g),u=0;u<S.length;++u)g[S[u]]!=null&&(this[S[u]]=g[S[u]])}r(s,"SendMedia"),s.prototype.peerId=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.bytesSent=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.packetsSent=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.codec=0,s.prototype.peerIdString="",s.prototype.audioStats=null,s.prototype.videoStats=null;let p;return Object.defineProperty(s.prototype,"mediaType",{get:a.oneOfGetter(p=["audioStats","videoStats"]),set:a.oneOfSetter(p)}),s.create=r(function(S){return new s(S)},"create"),s.encode=r(function(S,u){return u||(u=m.create()),S.peerId!=null&&Object.hasOwnProperty.call(S,"peerId")&&u.uint32(8).uint64(S.peerId),S.bytesSent!=null&&Object.hasOwnProperty.call(S,"bytesSent")&&u.uint32(16).uint64(S.bytesSent),S.packetsSent!=null&&Object.hasOwnProperty.call(S,"packetsSent")&&u.uint32(24).uint64(S.packetsSent),S.codec!=null&&Object.hasOwnProperty.call(S,"codec")&&u.uint32(32).int32(S.codec),S.audioStats!=null&&Object.hasOwnProperty.call(S,"audioStats")&&o.slack.calls.analytics.SendMedia.Audio.encode(S.audioStats,u.uint32(42).fork()).ldelim(),S.videoStats!=null&&Object.hasOwnProperty.call(S,"videoStats")&&o.slack.calls.analytics.SendMedia.Video.encode(S.videoStats,u.uint32(50).fork()).ldelim(),S.peerIdString!=null&&Object.hasOwnProperty.call(S,"peerIdString")&&u.uint32(58).string(S.peerIdString),u},"encode"),s.encodeDelimited=r(function(S,u){return this.encode(S,u).ldelim()},"encodeDelimited"),s.decode=r(function(S,u){S instanceof h||(S=h.create(S));let l=u===void 0?S.len:S.pos+u,E=new o.slack.calls.analytics.SendMedia;for(;S.pos<l;){let O=S.uint32();switch(O>>>3){case 1:{E.peerId=S.uint64();break}case 2:{E.bytesSent=S.uint64();break}case 3:{E.packetsSent=S.uint64();break}case 4:{E.codec=S.int32();break}case 7:{E.peerIdString=S.string();break}case 5:{E.audioStats=o.slack.calls.analytics.SendMedia.Audio.decode(S,S.uint32());break}case 6:{E.videoStats=o.slack.calls.analytics.SendMedia.Video.decode(S,S.uint32());break}default:S.skipType(O&7);break}}return E},"decode"),s.decodeDelimited=r(function(S){return S instanceof h||(S=new h(S)),this.decode(S,S.uint32())},"decodeDelimited"),s.verify=r(function(S){if(typeof S!="object"||S===null)return"object expected";let u={};if(S.peerId!=null&&S.hasOwnProperty("peerId")&&!a.isInteger(S.peerId)&&!(S.peerId&&a.isInteger(S.peerId.low)&&a.isInteger(S.peerId.high)))return"peerId: integer|Long expected";if(S.bytesSent!=null&&S.hasOwnProperty("bytesSent")&&!a.isInteger(S.bytesSent)&&!(S.bytesSent&&a.isInteger(S.bytesSent.low)&&a.isInteger(S.bytesSent.high)))return"bytesSent: integer|Long expected";if(S.packetsSent!=null&&S.hasOwnProperty("packetsSent")&&!a.isInteger(S.packetsSent)&&!(S.packetsSent&&a.isInteger(S.packetsSent.low)&&a.isInteger(S.packetsSent.high)))return"packetsSent: integer|Long expected";if(S.codec!=null&&S.hasOwnProperty("codec"))switch(S.codec){default:return"codec: enum value expected";case 0:case 1:case 2:case 3:case 4:break}if(S.peerIdString!=null&&S.hasOwnProperty("peerIdString")&&!a.isString(S.peerIdString))return"peerIdString: string expected";if(S.audioStats!=null&&S.hasOwnProperty("audioStats")){u.mediaType=1;{let l=o.slack.calls.analytics.SendMedia.Audio.verify(S.audioStats);if(l)return"audioStats."+l}}if(S.videoStats!=null&&S.hasOwnProperty("videoStats")){if(u.mediaType===1)return"mediaType: multiple values";u.mediaType=1;{let l=o.slack.calls.analytics.SendMedia.Video.verify(S.videoStats);if(l)return"videoStats."+l}}return null},"verify"),s.fromObject=r(function(S){if(S instanceof o.slack.calls.analytics.SendMedia)return S;let u=new o.slack.calls.analytics.SendMedia;switch(S.peerId!=null&&(a.Long?(u.peerId=a.Long.fromValue(S.peerId)).unsigned=!0:typeof S.peerId=="string"?u.peerId=parseInt(S.peerId,10):typeof S.peerId=="number"?u.peerId=S.peerId:typeof S.peerId=="object"&&(u.peerId=new a.LongBits(S.peerId.low>>>0,S.peerId.high>>>0).toNumber(!0))),S.bytesSent!=null&&(a.Long?(u.bytesSent=a.Long.fromValue(S.bytesSent)).unsigned=!0:typeof S.bytesSent=="string"?u.bytesSent=parseInt(S.bytesSent,10):typeof S.bytesSent=="number"?u.bytesSent=S.bytesSent:typeof S.bytesSent=="object"&&(u.bytesSent=new a.LongBits(S.bytesSent.low>>>0,S.bytesSent.high>>>0).toNumber(!0))),S.packetsSent!=null&&(a.Long?(u.packetsSent=a.Long.fromValue(S.packetsSent)).unsigned=!0:typeof S.packetsSent=="string"?u.packetsSent=parseInt(S.packetsSent,10):typeof S.packetsSent=="number"?u.packetsSent=S.packetsSent:typeof S.packetsSent=="object"&&(u.packetsSent=new a.LongBits(S.packetsSent.low>>>0,S.packetsSent.high>>>0).toNumber(!0))),S.codec){default:if(typeof S.codec=="number"){u.codec=S.codec;break}break;case"UNKNOWN":case 0:u.codec=0;break;case"OPUS":case 1:u.codec=1;break;case"VP8":case 2:u.codec=2;break;case"VP9":case 3:u.codec=3;break;case"H264":case 4:u.codec=4;break}if(S.peerIdString!=null&&(u.peerIdString=String(S.peerIdString)),S.audioStats!=null){if(typeof S.audioStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.audioStats: object expected");u.audioStats=o.slack.calls.analytics.SendMedia.Audio.fromObject(S.audioStats)}if(S.videoStats!=null){if(typeof S.videoStats!="object")throw TypeError(".slack.calls.analytics.SendMedia.videoStats: object expected");u.videoStats=o.slack.calls.analytics.SendMedia.Video.fromObject(S.videoStats)}return u},"fromObject"),s.toObject=r(function(S,u){u||(u={});let l={};if(u.defaults){if(a.Long){let E=new a.Long(0,0,!0);l.peerId=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.peerId=u.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);l.bytesSent=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.bytesSent=u.longs===String?"0":0;if(a.Long){let E=new a.Long(0,0,!0);l.packetsSent=u.longs===String?E.toString():u.longs===Number?E.toNumber():E}else l.packetsSent=u.longs===String?"0":0;l.codec=u.enums===String?"UNKNOWN":0,l.peerIdString=""}return S.peerId!=null&&S.hasOwnProperty("peerId")&&(typeof S.peerId=="number"?l.peerId=u.longs===String?String(S.peerId):S.peerId:l.peerId=u.longs===String?a.Long.prototype.toString.call(S.peerId):u.longs===Number?new a.LongBits(S.peerId.low>>>0,S.peerId.high>>>0).toNumber(!0):S.peerId),S.bytesSent!=null&&S.hasOwnProperty("bytesSent")&&(typeof S.bytesSent=="number"?l.bytesSent=u.longs===String?String(S.bytesSent):S.bytesSent:l.bytesSent=u.longs===String?a.Long.prototype.toString.call(S.bytesSent):u.longs===Number?new a.LongBits(S.bytesSent.low>>>0,S.bytesSent.high>>>0).toNumber(!0):S.bytesSent),S.packetsSent!=null&&S.hasOwnProperty("packetsSent")&&(typeof S.packetsSent=="number"?l.packetsSent=u.longs===String?String(S.packetsSent):S.packetsSent:l.packetsSent=u.longs===String?a.Long.prototype.toString.call(S.packetsSent):u.longs===Number?new a.LongBits(S.packetsSent.low>>>0,S.packetsSent.high>>>0).toNumber(!0):S.packetsSent),S.codec!=null&&S.hasOwnProperty("codec")&&(l.codec=u.enums===String?o.slack.calls.analytics.Codec[S.codec]===void 0?S.codec:o.slack.calls.analytics.Codec[S.codec]:S.codec),S.audioStats!=null&&S.hasOwnProperty("audioStats")&&(l.audioStats=o.slack.calls.analytics.SendMedia.Audio.toObject(S.audioStats,u),u.oneofs&&(l.mediaType="audioStats")),S.videoStats!=null&&S.hasOwnProperty("videoStats")&&(l.videoStats=o.slack.calls.analytics.SendMedia.Video.toObject(S.videoStats,u),u.oneofs&&(l.mediaType="videoStats")),S.peerIdString!=null&&S.hasOwnProperty("peerIdString")&&(l.peerIdString=S.peerIdString),l},"toObject"),s.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),s.getTypeUrl=r(function(S){return S===void 0&&(S="type.googleapis.com"),S+"/slack.calls.analytics.SendMedia"},"getTypeUrl"),s.Audio=function(){function g(S){if(S)for(let u=Object.keys(S),l=0;l<u.length;++l)S[u[l]]!=null&&(this[u[l]]=S[u[l]])}return r(g,"Audio"),g.prototype.audioLevel=0,g.prototype.echoReturnLoss=0,g.prototype.echoReturnLossEnhancement=0,g.prototype.totalAudioEnergy=0,g.prototype.totalSamplesDuration=0,g.create=r(function(u){return new g(u)},"create"),g.encode=r(function(u,l){return l||(l=m.create()),u.audioLevel!=null&&Object.hasOwnProperty.call(u,"audioLevel")&&l.uint32(9).double(u.audioLevel),u.echoReturnLoss!=null&&Object.hasOwnProperty.call(u,"echoReturnLoss")&&l.uint32(17).double(u.echoReturnLoss),u.echoReturnLossEnhancement!=null&&Object.hasOwnProperty.call(u,"echoReturnLossEnhancement")&&l.uint32(25).double(u.echoReturnLossEnhancement),u.totalAudioEnergy!=null&&Object.hasOwnProperty.call(u,"totalAudioEnergy")&&l.uint32(33).double(u.totalAudioEnergy),u.totalSamplesDuration!=null&&Object.hasOwnProperty.call(u,"totalSamplesDuration")&&l.uint32(41).double(u.totalSamplesDuration),l},"encode"),g.encodeDelimited=r(function(u,l){return this.encode(u,l).ldelim()},"encodeDelimited"),g.decode=r(function(u,l){u instanceof h||(u=h.create(u));let E=l===void 0?u.len:u.pos+l,O=new o.slack.calls.analytics.SendMedia.Audio;for(;u.pos<E;){let P=u.uint32();switch(P>>>3){case 1:{O.audioLevel=u.double();break}case 2:{O.echoReturnLoss=u.double();break}case 3:{O.echoReturnLossEnhancement=u.double();break}case 4:{O.totalAudioEnergy=u.double();break}case 5:{O.totalSamplesDuration=u.double();break}default:u.skipType(P&7);break}}return O},"decode"),g.decodeDelimited=r(function(u){return u instanceof h||(u=new h(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=r(function(u){return typeof u!="object"||u===null?"object expected":u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&typeof u.audioLevel!="number"?"audioLevel: number expected":u.echoReturnLoss!=null&&u.hasOwnProperty("echoReturnLoss")&&typeof u.echoReturnLoss!="number"?"echoReturnLoss: number expected":u.echoReturnLossEnhancement!=null&&u.hasOwnProperty("echoReturnLossEnhancement")&&typeof u.echoReturnLossEnhancement!="number"?"echoReturnLossEnhancement: number expected":u.totalAudioEnergy!=null&&u.hasOwnProperty("totalAudioEnergy")&&typeof u.totalAudioEnergy!="number"?"totalAudioEnergy: number expected":u.totalSamplesDuration!=null&&u.hasOwnProperty("totalSamplesDuration")&&typeof u.totalSamplesDuration!="number"?"totalSamplesDuration: number expected":null},"verify"),g.fromObject=r(function(u){if(u instanceof o.slack.calls.analytics.SendMedia.Audio)return u;let l=new o.slack.calls.analytics.SendMedia.Audio;return u.audioLevel!=null&&(l.audioLevel=Number(u.audioLevel)),u.echoReturnLoss!=null&&(l.echoReturnLoss=Number(u.echoReturnLoss)),u.echoReturnLossEnhancement!=null&&(l.echoReturnLossEnhancement=Number(u.echoReturnLossEnhancement)),u.totalAudioEnergy!=null&&(l.totalAudioEnergy=Number(u.totalAudioEnergy)),u.totalSamplesDuration!=null&&(l.totalSamplesDuration=Number(u.totalSamplesDuration)),l},"fromObject"),g.toObject=r(function(u,l){l||(l={});let E={};return l.defaults&&(E.audioLevel=0,E.echoReturnLoss=0,E.echoReturnLossEnhancement=0,E.totalAudioEnergy=0,E.totalSamplesDuration=0),u.audioLevel!=null&&u.hasOwnProperty("audioLevel")&&(E.audioLevel=l.json&&!isFinite(u.audioLevel)?String(u.audioLevel):u.audioLevel),u.echoReturnLoss!=null&&u.hasOwnProperty("echoReturnLoss")&&(E.echoReturnLoss=l.json&&!isFinite(u.echoReturnLoss)?String(u.echoReturnLoss):u.echoReturnLoss),u.echoReturnLossEnhancement!=null&&u.hasOwnProperty("echoReturnLossEnhancement")&&(E.echoReturnLossEnhancement=l.json&&!isFinite(u.echoReturnLossEnhancement)?String(u.echoReturnLossEnhancement):u.echoReturnLossEnhancement),u.totalAudioEnergy!=null&&u.hasOwnProperty("totalAudioEnergy")&&(E.totalAudioEnergy=l.json&&!isFinite(u.totalAudioEnergy)?String(u.totalAudioEnergy):u.totalAudioEnergy),u.totalSamplesDuration!=null&&u.hasOwnProperty("totalSamplesDuration")&&(E.totalSamplesDuration=l.json&&!isFinite(u.totalSamplesDuration)?String(u.totalSamplesDuration):u.totalSamplesDuration),E},"toObject"),g.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),g.getTypeUrl=r(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.SendMedia.Audio"},"getTypeUrl"),g}(),s.Video=function(){function g(S){if(S)for(let u=Object.keys(S),l=0;l<u.length;++l)S[u[l]]!=null&&(this[u[l]]=S[u[l]])}return r(g,"Video"),g.prototype.frameHeight=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.frameWidth=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesPerSecond=0,g.prototype.framesSent=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.framesEncoded=a.Long?a.Long.fromBits(0,0,!0):0,g.prototype.hugeFramesSent=a.Long?a.Long.fromBits(0,0,!0):0,g.create=r(function(u){return new g(u)},"create"),g.encode=r(function(u,l){return l||(l=m.create()),u.frameHeight!=null&&Object.hasOwnProperty.call(u,"frameHeight")&&l.uint32(8).uint64(u.frameHeight),u.frameWidth!=null&&Object.hasOwnProperty.call(u,"frameWidth")&&l.uint32(16).uint64(u.frameWidth),u.framesPerSecond!=null&&Object.hasOwnProperty.call(u,"framesPerSecond")&&l.uint32(25).double(u.framesPerSecond),u.framesSent!=null&&Object.hasOwnProperty.call(u,"framesSent")&&l.uint32(32).uint64(u.framesSent),u.framesEncoded!=null&&Object.hasOwnProperty.call(u,"framesEncoded")&&l.uint32(40).uint64(u.framesEncoded),u.hugeFramesSent!=null&&Object.hasOwnProperty.call(u,"hugeFramesSent")&&l.uint32(48).uint64(u.hugeFramesSent),l},"encode"),g.encodeDelimited=r(function(u,l){return this.encode(u,l).ldelim()},"encodeDelimited"),g.decode=r(function(u,l){u instanceof h||(u=h.create(u));let E=l===void 0?u.len:u.pos+l,O=new o.slack.calls.analytics.SendMedia.Video;for(;u.pos<E;){let P=u.uint32();switch(P>>>3){case 1:{O.frameHeight=u.uint64();break}case 2:{O.frameWidth=u.uint64();break}case 3:{O.framesPerSecond=u.double();break}case 4:{O.framesSent=u.uint64();break}case 5:{O.framesEncoded=u.uint64();break}case 6:{O.hugeFramesSent=u.uint64();break}default:u.skipType(P&7);break}}return O},"decode"),g.decodeDelimited=r(function(u){return u instanceof h||(u=new h(u)),this.decode(u,u.uint32())},"decodeDelimited"),g.verify=r(function(u){return typeof u!="object"||u===null?"object expected":u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&!a.isInteger(u.frameHeight)&&!(u.frameHeight&&a.isInteger(u.frameHeight.low)&&a.isInteger(u.frameHeight.high))?"frameHeight: integer|Long expected":u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&!a.isInteger(u.frameWidth)&&!(u.frameWidth&&a.isInteger(u.frameWidth.low)&&a.isInteger(u.frameWidth.high))?"frameWidth: integer|Long expected":u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&typeof u.framesPerSecond!="number"?"framesPerSecond: number expected":u.framesSent!=null&&u.hasOwnProperty("framesSent")&&!a.isInteger(u.framesSent)&&!(u.framesSent&&a.isInteger(u.framesSent.low)&&a.isInteger(u.framesSent.high))?"framesSent: integer|Long expected":u.framesEncoded!=null&&u.hasOwnProperty("framesEncoded")&&!a.isInteger(u.framesEncoded)&&!(u.framesEncoded&&a.isInteger(u.framesEncoded.low)&&a.isInteger(u.framesEncoded.high))?"framesEncoded: integer|Long expected":u.hugeFramesSent!=null&&u.hasOwnProperty("hugeFramesSent")&&!a.isInteger(u.hugeFramesSent)&&!(u.hugeFramesSent&&a.isInteger(u.hugeFramesSent.low)&&a.isInteger(u.hugeFramesSent.high))?"hugeFramesSent: integer|Long expected":null},"verify"),g.fromObject=r(function(u){if(u instanceof o.slack.calls.analytics.SendMedia.Video)return u;let l=new o.slack.calls.analytics.SendMedia.Video;return u.frameHeight!=null&&(a.Long?(l.frameHeight=a.Long.fromValue(u.frameHeight)).unsigned=!0:typeof u.frameHeight=="string"?l.frameHeight=parseInt(u.frameHeight,10):typeof u.frameHeight=="number"?l.frameHeight=u.frameHeight:typeof u.frameHeight=="object"&&(l.frameHeight=new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0))),u.frameWidth!=null&&(a.Long?(l.frameWidth=a.Long.fromValue(u.frameWidth)).unsigned=!0:typeof u.frameWidth=="string"?l.frameWidth=parseInt(u.frameWidth,10):typeof u.frameWidth=="number"?l.frameWidth=u.frameWidth:typeof u.frameWidth=="object"&&(l.frameWidth=new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0))),u.framesPerSecond!=null&&(l.framesPerSecond=Number(u.framesPerSecond)),u.framesSent!=null&&(a.Long?(l.framesSent=a.Long.fromValue(u.framesSent)).unsigned=!0:typeof u.framesSent=="string"?l.framesSent=parseInt(u.framesSent,10):typeof u.framesSent=="number"?l.framesSent=u.framesSent:typeof u.framesSent=="object"&&(l.framesSent=new a.LongBits(u.framesSent.low>>>0,u.framesSent.high>>>0).toNumber(!0))),u.framesEncoded!=null&&(a.Long?(l.framesEncoded=a.Long.fromValue(u.framesEncoded)).unsigned=!0:typeof u.framesEncoded=="string"?l.framesEncoded=parseInt(u.framesEncoded,10):typeof u.framesEncoded=="number"?l.framesEncoded=u.framesEncoded:typeof u.framesEncoded=="object"&&(l.framesEncoded=new a.LongBits(u.framesEncoded.low>>>0,u.framesEncoded.high>>>0).toNumber(!0))),u.hugeFramesSent!=null&&(a.Long?(l.hugeFramesSent=a.Long.fromValue(u.hugeFramesSent)).unsigned=!0:typeof u.hugeFramesSent=="string"?l.hugeFramesSent=parseInt(u.hugeFramesSent,10):typeof u.hugeFramesSent=="number"?l.hugeFramesSent=u.hugeFramesSent:typeof u.hugeFramesSent=="object"&&(l.hugeFramesSent=new a.LongBits(u.hugeFramesSent.low>>>0,u.hugeFramesSent.high>>>0).toNumber(!0))),l},"fromObject"),g.toObject=r(function(u,l){l||(l={});let E={};if(l.defaults){if(a.Long){let O=new a.Long(0,0,!0);E.frameHeight=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.frameHeight=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.frameWidth=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.frameWidth=l.longs===String?"0":0;if(E.framesPerSecond=0,a.Long){let O=new a.Long(0,0,!0);E.framesSent=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.framesSent=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.framesEncoded=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.framesEncoded=l.longs===String?"0":0;if(a.Long){let O=new a.Long(0,0,!0);E.hugeFramesSent=l.longs===String?O.toString():l.longs===Number?O.toNumber():O}else E.hugeFramesSent=l.longs===String?"0":0}return u.frameHeight!=null&&u.hasOwnProperty("frameHeight")&&(typeof u.frameHeight=="number"?E.frameHeight=l.longs===String?String(u.frameHeight):u.frameHeight:E.frameHeight=l.longs===String?a.Long.prototype.toString.call(u.frameHeight):l.longs===Number?new a.LongBits(u.frameHeight.low>>>0,u.frameHeight.high>>>0).toNumber(!0):u.frameHeight),u.frameWidth!=null&&u.hasOwnProperty("frameWidth")&&(typeof u.frameWidth=="number"?E.frameWidth=l.longs===String?String(u.frameWidth):u.frameWidth:E.frameWidth=l.longs===String?a.Long.prototype.toString.call(u.frameWidth):l.longs===Number?new a.LongBits(u.frameWidth.low>>>0,u.frameWidth.high>>>0).toNumber(!0):u.frameWidth),u.framesPerSecond!=null&&u.hasOwnProperty("framesPerSecond")&&(E.framesPerSecond=l.json&&!isFinite(u.framesPerSecond)?String(u.framesPerSecond):u.framesPerSecond),u.framesSent!=null&&u.hasOwnProperty("framesSent")&&(typeof u.framesSent=="number"?E.framesSent=l.longs===String?String(u.framesSent):u.framesSent:E.framesSent=l.longs===String?a.Long.prototype.toString.call(u.framesSent):l.longs===Number?new a.LongBits(u.framesSent.low>>>0,u.framesSent.high>>>0).toNumber(!0):u.framesSent),u.framesEncoded!=null&&u.hasOwnProperty("framesEncoded")&&(typeof u.framesEncoded=="number"?E.framesEncoded=l.longs===String?String(u.framesEncoded):u.framesEncoded:E.framesEncoded=l.longs===String?a.Long.prototype.toString.call(u.framesEncoded):l.longs===Number?new a.LongBits(u.framesEncoded.low>>>0,u.framesEncoded.high>>>0).toNumber(!0):u.framesEncoded),u.hugeFramesSent!=null&&u.hasOwnProperty("hugeFramesSent")&&(typeof u.hugeFramesSent=="number"?E.hugeFramesSent=l.longs===String?String(u.hugeFramesSent):u.hugeFramesSent:E.hugeFramesSent=l.longs===String?a.Long.prototype.toString.call(u.hugeFramesSent):l.longs===Number?new a.LongBits(u.hugeFramesSent.low>>>0,u.hugeFramesSent.high>>>0).toNumber(!0):u.hugeFramesSent),E},"toObject"),g.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),g.getTypeUrl=r(function(u){return u===void 0&&(u="type.googleapis.com"),u+"/slack.calls.analytics.SendMedia.Video"},"getTypeUrl"),g}(),s}(),n.MemoryInfo=function(){function s(p){if(p)for(let g=Object.keys(p),S=0;S<g.length;++S)p[g[S]]!=null&&(this[g[S]]=p[g[S]])}return r(s,"MemoryInfo"),s.prototype.workingSetSize=0,s.prototype.peakWorkingSetSize=0,s.create=r(function(g){return new s(g)},"create"),s.encode=r(function(g,S){return S||(S=m.create()),g.workingSetSize!=null&&Object.hasOwnProperty.call(g,"workingSetSize")&&S.uint32(9).double(g.workingSetSize),g.peakWorkingSetSize!=null&&Object.hasOwnProperty.call(g,"peakWorkingSetSize")&&S.uint32(17).double(g.peakWorkingSetSize),S},"encode"),s.encodeDelimited=r(function(g,S){return this.encode(g,S).ldelim()},"encodeDelimited"),s.decode=r(function(g,S){g instanceof h||(g=h.create(g));let u=S===void 0?g.len:g.pos+S,l=new o.slack.calls.analytics.MemoryInfo;for(;g.pos<u;){let E=g.uint32();switch(E>>>3){case 1:{l.workingSetSize=g.double();break}case 2:{l.peakWorkingSetSize=g.double();break}default:g.skipType(E&7);break}}return l},"decode"),s.decodeDelimited=r(function(g){return g instanceof h||(g=new h(g)),this.decode(g,g.uint32())},"decodeDelimited"),s.verify=r(function(g){return typeof g!="object"||g===null?"object expected":g.workingSetSize!=null&&g.hasOwnProperty("workingSetSize")&&typeof g.workingSetSize!="number"?"workingSetSize: number expected":g.peakWorkingSetSize!=null&&g.hasOwnProperty("peakWorkingSetSize")&&typeof g.peakWorkingSetSize!="number"?"peakWorkingSetSize: number expected":null},"verify"),s.fromObject=r(function(g){if(g instanceof o.slack.calls.analytics.MemoryInfo)return g;let S=new o.slack.calls.analytics.MemoryInfo;return g.workingSetSize!=null&&(S.workingSetSize=Number(g.workingSetSize)),g.peakWorkingSetSize!=null&&(S.peakWorkingSetSize=Number(g.peakWorkingSetSize)),S},"fromObject"),s.toObject=r(function(g,S){S||(S={});let u={};return S.defaults&&(u.workingSetSize=0,u.peakWorkingSetSize=0),g.workingSetSize!=null&&g.hasOwnProperty("workingSetSize")&&(u.workingSetSize=S.json&&!isFinite(g.workingSetSize)?String(g.workingSetSize):g.workingSetSize),g.peakWorkingSetSize!=null&&g.hasOwnProperty("peakWorkingSetSize")&&(u.peakWorkingSetSize=S.json&&!isFinite(g.peakWorkingSetSize)?String(g.peakWorkingSetSize):g.peakWorkingSetSize),u},"toObject"),s.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),s.getTypeUrl=r(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.MemoryInfo"},"getTypeUrl"),s}(),n.AppMetrics=function(){function s(p){if(p)for(let g=Object.keys(p),S=0;S<g.length;++S)p[g[S]]!=null&&(this[g[S]]=p[g[S]])}return r(s,"AppMetrics"),s.prototype.cpu=0,s.prototype.memory=null,s.create=r(function(g){return new s(g)},"create"),s.encode=r(function(g,S){return S||(S=m.create()),g.cpu!=null&&Object.hasOwnProperty.call(g,"cpu")&&S.uint32(9).double(g.cpu),g.memory!=null&&Object.hasOwnProperty.call(g,"memory")&&o.slack.calls.analytics.MemoryInfo.encode(g.memory,S.uint32(18).fork()).ldelim(),S},"encode"),s.encodeDelimited=r(function(g,S){return this.encode(g,S).ldelim()},"encodeDelimited"),s.decode=r(function(g,S){g instanceof h||(g=h.create(g));let u=S===void 0?g.len:g.pos+S,l=new o.slack.calls.analytics.AppMetrics;for(;g.pos<u;){let E=g.uint32();switch(E>>>3){case 1:{l.cpu=g.double();break}case 2:{l.memory=o.slack.calls.analytics.MemoryInfo.decode(g,g.uint32());break}default:g.skipType(E&7);break}}return l},"decode"),s.decodeDelimited=r(function(g){return g instanceof h||(g=new h(g)),this.decode(g,g.uint32())},"decodeDelimited"),s.verify=r(function(g){if(typeof g!="object"||g===null)return"object expected";if(g.cpu!=null&&g.hasOwnProperty("cpu")&&typeof g.cpu!="number")return"cpu: number expected";if(g.memory!=null&&g.hasOwnProperty("memory")){let S=o.slack.calls.analytics.MemoryInfo.verify(g.memory);if(S)return"memory."+S}return null},"verify"),s.fromObject=r(function(g){if(g instanceof o.slack.calls.analytics.AppMetrics)return g;let S=new o.slack.calls.analytics.AppMetrics;if(g.cpu!=null&&(S.cpu=Number(g.cpu)),g.memory!=null){if(typeof g.memory!="object")throw TypeError(".slack.calls.analytics.AppMetrics.memory: object expected");S.memory=o.slack.calls.analytics.MemoryInfo.fromObject(g.memory)}return S},"fromObject"),s.toObject=r(function(g,S){S||(S={});let u={};return S.defaults&&(u.cpu=0,u.memory=null),g.cpu!=null&&g.hasOwnProperty("cpu")&&(u.cpu=S.json&&!isFinite(g.cpu)?String(g.cpu):g.cpu),g.memory!=null&&g.hasOwnProperty("memory")&&(u.memory=o.slack.calls.analytics.MemoryInfo.toObject(g.memory,S)),u},"toObject"),s.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),s.getTypeUrl=r(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.AppMetrics"},"getTypeUrl"),s}(),n.Codec=function(){const s={},p=Object.create(s);return p[s[0]="UNKNOWN"]=0,p[s[1]="OPUS"]=1,p[s[2]="VP8"]=2,p[s[3]="VP9"]=3,p[s[4]="H264"]=4,p}(),n.Protocol=function(){const s={},p=Object.create(s);return p[s[0]="UDP"]=0,p[s[1]="TCP"]=1,p}(),n.PathType=function(){const s={},p=Object.create(s);return p[s[0]="DIRECT"]=0,p[s[1]="RELAY"]=1,p}(),n.Report=function(){function s(p){if(this.recv=[],this.send=[],p)for(let g=Object.keys(p),S=0;S<g.length;++S)p[g[S]]!=null&&(this[g[S]]=p[g[S]])}return r(s,"Report"),s.prototype.totalBytesSent=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.totalBytesReceived=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.totalRoundTripTime=0,s.prototype.currentRoundTripTime=0,s.prototype.availableOutgoingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.protocol=0,s.prototype.pathType=0,s.prototype.recv=a.emptyArray,s.prototype.send=a.emptyArray,s.prototype.clientTime=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.availableIncomingBitrate=a.Long?a.Long.fromBits(0,0,!0):0,s.prototype.appMetrics=null,s.create=r(function(g){return new s(g)},"create"),s.encode=r(function(g,S){if(S||(S=m.create()),g.totalBytesSent!=null&&Object.hasOwnProperty.call(g,"totalBytesSent")&&S.uint32(8).uint64(g.totalBytesSent),g.totalBytesReceived!=null&&Object.hasOwnProperty.call(g,"totalBytesReceived")&&S.uint32(16).uint64(g.totalBytesReceived),g.totalRoundTripTime!=null&&Object.hasOwnProperty.call(g,"totalRoundTripTime")&&S.uint32(25).double(g.totalRoundTripTime),g.currentRoundTripTime!=null&&Object.hasOwnProperty.call(g,"currentRoundTripTime")&&S.uint32(33).double(g.currentRoundTripTime),g.availableOutgoingBitrate!=null&&Object.hasOwnProperty.call(g,"availableOutgoingBitrate")&&S.uint32(40).uint64(g.availableOutgoingBitrate),g.protocol!=null&&Object.hasOwnProperty.call(g,"protocol")&&S.uint32(48).int32(g.protocol),g.pathType!=null&&Object.hasOwnProperty.call(g,"pathType")&&S.uint32(56).int32(g.pathType),g.recv!=null&&g.recv.length)for(let u=0;u<g.recv.length;++u)o.slack.calls.analytics.RecvMedia.encode(g.recv[u],S.uint32(66).fork()).ldelim();if(g.send!=null&&g.send.length)for(let u=0;u<g.send.length;++u)o.slack.calls.analytics.SendMedia.encode(g.send[u],S.uint32(74).fork()).ldelim();return g.clientTime!=null&&Object.hasOwnProperty.call(g,"clientTime")&&S.uint32(80).uint64(g.clientTime),g.availableIncomingBitrate!=null&&Object.hasOwnProperty.call(g,"availableIncomingBitrate")&&S.uint32(88).uint64(g.availableIncomingBitrate),g.appMetrics!=null&&Object.hasOwnProperty.call(g,"appMetrics")&&o.slack.calls.analytics.AppMetrics.encode(g.appMetrics,S.uint32(98).fork()).ldelim(),S},"encode"),s.encodeDelimited=r(function(g,S){return this.encode(g,S).ldelim()},"encodeDelimited"),s.decode=r(function(g,S){g instanceof h||(g=h.create(g));let u=S===void 0?g.len:g.pos+S,l=new o.slack.calls.analytics.Report;for(;g.pos<u;){let E=g.uint32();switch(E>>>3){case 1:{l.totalBytesSent=g.uint64();break}case 2:{l.totalBytesReceived=g.uint64();break}case 3:{l.totalRoundTripTime=g.double();break}case 4:{l.currentRoundTripTime=g.double();break}case 5:{l.availableOutgoingBitrate=g.uint64();break}case 6:{l.protocol=g.int32();break}case 7:{l.pathType=g.int32();break}case 8:{l.recv&&l.recv.length||(l.recv=[]),l.recv.push(o.slack.calls.analytics.RecvMedia.decode(g,g.uint32()));break}case 9:{l.send&&l.send.length||(l.send=[]),l.send.push(o.slack.calls.analytics.SendMedia.decode(g,g.uint32()));break}case 10:{l.clientTime=g.uint64();break}case 11:{l.availableIncomingBitrate=g.uint64();break}case 12:{l.appMetrics=o.slack.calls.analytics.AppMetrics.decode(g,g.uint32());break}default:g.skipType(E&7);break}}return l},"decode"),s.decodeDelimited=r(function(g){return g instanceof h||(g=new h(g)),this.decode(g,g.uint32())},"decodeDelimited"),s.verify=r(function(g){if(typeof g!="object"||g===null)return"object expected";if(g.totalBytesSent!=null&&g.hasOwnProperty("totalBytesSent")&&!a.isInteger(g.totalBytesSent)&&!(g.totalBytesSent&&a.isInteger(g.totalBytesSent.low)&&a.isInteger(g.totalBytesSent.high)))return"totalBytesSent: integer|Long expected";if(g.totalBytesReceived!=null&&g.hasOwnProperty("totalBytesReceived")&&!a.isInteger(g.totalBytesReceived)&&!(g.totalBytesReceived&&a.isInteger(g.totalBytesReceived.low)&&a.isInteger(g.totalBytesReceived.high)))return"totalBytesReceived: integer|Long expected";if(g.totalRoundTripTime!=null&&g.hasOwnProperty("totalRoundTripTime")&&typeof g.totalRoundTripTime!="number")return"totalRoundTripTime: number expected";if(g.currentRoundTripTime!=null&&g.hasOwnProperty("currentRoundTripTime")&&typeof g.currentRoundTripTime!="number")return"currentRoundTripTime: number expected";if(g.availableOutgoingBitrate!=null&&g.hasOwnProperty("availableOutgoingBitrate")&&!a.isInteger(g.availableOutgoingBitrate)&&!(g.availableOutgoingBitrate&&a.isInteger(g.availableOutgoingBitrate.low)&&a.isInteger(g.availableOutgoingBitrate.high)))return"availableOutgoingBitrate: integer|Long expected";if(g.protocol!=null&&g.hasOwnProperty("protocol"))switch(g.protocol){default:return"protocol: enum value expected";case 0:case 1:break}if(g.pathType!=null&&g.hasOwnProperty("pathType"))switch(g.pathType){default:return"pathType: enum value expected";case 0:case 1:break}if(g.recv!=null&&g.hasOwnProperty("recv")){if(!Array.isArray(g.recv))return"recv: array expected";for(let S=0;S<g.recv.length;++S){let u=o.slack.calls.analytics.RecvMedia.verify(g.recv[S]);if(u)return"recv."+u}}if(g.send!=null&&g.hasOwnProperty("send")){if(!Array.isArray(g.send))return"send: array expected";for(let S=0;S<g.send.length;++S){let u=o.slack.calls.analytics.SendMedia.verify(g.send[S]);if(u)return"send."+u}}if(g.clientTime!=null&&g.hasOwnProperty("clientTime")&&!a.isInteger(g.clientTime)&&!(g.clientTime&&a.isInteger(g.clientTime.low)&&a.isInteger(g.clientTime.high)))return"clientTime: integer|Long expected";if(g.availableIncomingBitrate!=null&&g.hasOwnProperty("availableIncomingBitrate")&&!a.isInteger(g.availableIncomingBitrate)&&!(g.availableIncomingBitrate&&a.isInteger(g.availableIncomingBitrate.low)&&a.isInteger(g.availableIncomingBitrate.high)))return"availableIncomingBitrate: integer|Long expected";if(g.appMetrics!=null&&g.hasOwnProperty("appMetrics")){let S=o.slack.calls.analytics.AppMetrics.verify(g.appMetrics);if(S)return"appMetrics."+S}return null},"verify"),s.fromObject=r(function(g){if(g instanceof o.slack.calls.analytics.Report)return g;let S=new o.slack.calls.analytics.Report;switch(g.totalBytesSent!=null&&(a.Long?(S.totalBytesSent=a.Long.fromValue(g.totalBytesSent)).unsigned=!0:typeof g.totalBytesSent=="string"?S.totalBytesSent=parseInt(g.totalBytesSent,10):typeof g.totalBytesSent=="number"?S.totalBytesSent=g.totalBytesSent:typeof g.totalBytesSent=="object"&&(S.totalBytesSent=new a.LongBits(g.totalBytesSent.low>>>0,g.totalBytesSent.high>>>0).toNumber(!0))),g.totalBytesReceived!=null&&(a.Long?(S.totalBytesReceived=a.Long.fromValue(g.totalBytesReceived)).unsigned=!0:typeof g.totalBytesReceived=="string"?S.totalBytesReceived=parseInt(g.totalBytesReceived,10):typeof g.totalBytesReceived=="number"?S.totalBytesReceived=g.totalBytesReceived:typeof g.totalBytesReceived=="object"&&(S.totalBytesReceived=new a.LongBits(g.totalBytesReceived.low>>>0,g.totalBytesReceived.high>>>0).toNumber(!0))),g.totalRoundTripTime!=null&&(S.totalRoundTripTime=Number(g.totalRoundTripTime)),g.currentRoundTripTime!=null&&(S.currentRoundTripTime=Number(g.currentRoundTripTime)),g.availableOutgoingBitrate!=null&&(a.Long?(S.availableOutgoingBitrate=a.Long.fromValue(g.availableOutgoingBitrate)).unsigned=!0:typeof g.availableOutgoingBitrate=="string"?S.availableOutgoingBitrate=parseInt(g.availableOutgoingBitrate,10):typeof g.availableOutgoingBitrate=="number"?S.availableOutgoingBitrate=g.availableOutgoingBitrate:typeof g.availableOutgoingBitrate=="object"&&(S.availableOutgoingBitrate=new a.LongBits(g.availableOutgoingBitrate.low>>>0,g.availableOutgoingBitrate.high>>>0).toNumber(!0))),g.protocol){default:if(typeof g.protocol=="number"){S.protocol=g.protocol;break}break;case"UDP":case 0:S.protocol=0;break;case"TCP":case 1:S.protocol=1;break}switch(g.pathType){default:if(typeof g.pathType=="number"){S.pathType=g.pathType;break}break;case"DIRECT":case 0:S.pathType=0;break;case"RELAY":case 1:S.pathType=1;break}if(g.recv){if(!Array.isArray(g.recv))throw TypeError(".slack.calls.analytics.Report.recv: array expected");S.recv=[];for(let u=0;u<g.recv.length;++u){if(typeof g.recv[u]!="object")throw TypeError(".slack.calls.analytics.Report.recv: object expected");S.recv[u]=o.slack.calls.analytics.RecvMedia.fromObject(g.recv[u])}}if(g.send){if(!Array.isArray(g.send))throw TypeError(".slack.calls.analytics.Report.send: array expected");S.send=[];for(let u=0;u<g.send.length;++u){if(typeof g.send[u]!="object")throw TypeError(".slack.calls.analytics.Report.send: object expected");S.send[u]=o.slack.calls.analytics.SendMedia.fromObject(g.send[u])}}if(g.clientTime!=null&&(a.Long?(S.clientTime=a.Long.fromValue(g.clientTime)).unsigned=!0:typeof g.clientTime=="string"?S.clientTime=parseInt(g.clientTime,10):typeof g.clientTime=="number"?S.clientTime=g.clientTime:typeof g.clientTime=="object"&&(S.clientTime=new a.LongBits(g.clientTime.low>>>0,g.clientTime.high>>>0).toNumber(!0))),g.availableIncomingBitrate!=null&&(a.Long?(S.availableIncomingBitrate=a.Long.fromValue(g.availableIncomingBitrate)).unsigned=!0:typeof g.availableIncomingBitrate=="string"?S.availableIncomingBitrate=parseInt(g.availableIncomingBitrate,10):typeof g.availableIncomingBitrate=="number"?S.availableIncomingBitrate=g.availableIncomingBitrate:typeof g.availableIncomingBitrate=="object"&&(S.availableIncomingBitrate=new a.LongBits(g.availableIncomingBitrate.low>>>0,g.availableIncomingBitrate.high>>>0).toNumber(!0))),g.appMetrics!=null){if(typeof g.appMetrics!="object")throw TypeError(".slack.calls.analytics.Report.appMetrics: object expected");S.appMetrics=o.slack.calls.analytics.AppMetrics.fromObject(g.appMetrics)}return S},"fromObject"),s.toObject=r(function(g,S){S||(S={});let u={};if((S.arrays||S.defaults)&&(u.recv=[],u.send=[]),S.defaults){if(a.Long){let l=new a.Long(0,0,!0);u.totalBytesSent=S.longs===String?l.toString():S.longs===Number?l.toNumber():l}else u.totalBytesSent=S.longs===String?"0":0;if(a.Long){let l=new a.Long(0,0,!0);u.totalBytesReceived=S.longs===String?l.toString():S.longs===Number?l.toNumber():l}else u.totalBytesReceived=S.longs===String?"0":0;if(u.totalRoundTripTime=0,u.currentRoundTripTime=0,a.Long){let l=new a.Long(0,0,!0);u.availableOutgoingBitrate=S.longs===String?l.toString():S.longs===Number?l.toNumber():l}else u.availableOutgoingBitrate=S.longs===String?"0":0;if(u.protocol=S.enums===String?"UDP":0,u.pathType=S.enums===String?"DIRECT":0,a.Long){let l=new a.Long(0,0,!0);u.clientTime=S.longs===String?l.toString():S.longs===Number?l.toNumber():l}else u.clientTime=S.longs===String?"0":0;if(a.Long){let l=new a.Long(0,0,!0);u.availableIncomingBitrate=S.longs===String?l.toString():S.longs===Number?l.toNumber():l}else u.availableIncomingBitrate=S.longs===String?"0":0;u.appMetrics=null}if(g.totalBytesSent!=null&&g.hasOwnProperty("totalBytesSent")&&(typeof g.totalBytesSent=="number"?u.totalBytesSent=S.longs===String?String(g.totalBytesSent):g.totalBytesSent:u.totalBytesSent=S.longs===String?a.Long.prototype.toString.call(g.totalBytesSent):S.longs===Number?new a.LongBits(g.totalBytesSent.low>>>0,g.totalBytesSent.high>>>0).toNumber(!0):g.totalBytesSent),g.totalBytesReceived!=null&&g.hasOwnProperty("totalBytesReceived")&&(typeof g.totalBytesReceived=="number"?u.totalBytesReceived=S.longs===String?String(g.totalBytesReceived):g.totalBytesReceived:u.totalBytesReceived=S.longs===String?a.Long.prototype.toString.call(g.totalBytesReceived):S.longs===Number?new a.LongBits(g.totalBytesReceived.low>>>0,g.totalBytesReceived.high>>>0).toNumber(!0):g.totalBytesReceived),g.totalRoundTripTime!=null&&g.hasOwnProperty("totalRoundTripTime")&&(u.totalRoundTripTime=S.json&&!isFinite(g.totalRoundTripTime)?String(g.totalRoundTripTime):g.totalRoundTripTime),g.currentRoundTripTime!=null&&g.hasOwnProperty("currentRoundTripTime")&&(u.currentRoundTripTime=S.json&&!isFinite(g.currentRoundTripTime)?String(g.currentRoundTripTime):g.currentRoundTripTime),g.availableOutgoingBitrate!=null&&g.hasOwnProperty("availableOutgoingBitrate")&&(typeof g.availableOutgoingBitrate=="number"?u.availableOutgoingBitrate=S.longs===String?String(g.availableOutgoingBitrate):g.availableOutgoingBitrate:u.availableOutgoingBitrate=S.longs===String?a.Long.prototype.toString.call(g.availableOutgoingBitrate):S.longs===Number?new a.LongBits(g.availableOutgoingBitrate.low>>>0,g.availableOutgoingBitrate.high>>>0).toNumber(!0):g.availableOutgoingBitrate),g.protocol!=null&&g.hasOwnProperty("protocol")&&(u.protocol=S.enums===String?o.slack.calls.analytics.Protocol[g.protocol]===void 0?g.protocol:o.slack.calls.analytics.Protocol[g.protocol]:g.protocol),g.pathType!=null&&g.hasOwnProperty("pathType")&&(u.pathType=S.enums===String?o.slack.calls.analytics.PathType[g.pathType]===void 0?g.pathType:o.slack.calls.analytics.PathType[g.pathType]:g.pathType),g.recv&&g.recv.length){u.recv=[];for(let l=0;l<g.recv.length;++l)u.recv[l]=o.slack.calls.analytics.RecvMedia.toObject(g.recv[l],S)}if(g.send&&g.send.length){u.send=[];for(let l=0;l<g.send.length;++l)u.send[l]=o.slack.calls.analytics.SendMedia.toObject(g.send[l],S)}return g.clientTime!=null&&g.hasOwnProperty("clientTime")&&(typeof g.clientTime=="number"?u.clientTime=S.longs===String?String(g.clientTime):g.clientTime:u.clientTime=S.longs===String?a.Long.prototype.toString.call(g.clientTime):S.longs===Number?new a.LongBits(g.clientTime.low>>>0,g.clientTime.high>>>0).toNumber(!0):g.clientTime),g.availableIncomingBitrate!=null&&g.hasOwnProperty("availableIncomingBitrate")&&(typeof g.availableIncomingBitrate=="number"?u.availableIncomingBitrate=S.longs===String?String(g.availableIncomingBitrate):g.availableIncomingBitrate:u.availableIncomingBitrate=S.longs===String?a.Long.prototype.toString.call(g.availableIncomingBitrate):S.longs===Number?new a.LongBits(g.availableIncomingBitrate.low>>>0,g.availableIncomingBitrate.high>>>0).toNumber(!0):g.availableIncomingBitrate),g.appMetrics!=null&&g.hasOwnProperty("appMetrics")&&(u.appMetrics=o.slack.calls.analytics.AppMetrics.toObject(g.appMetrics,S)),u},"toObject"),s.prototype.toJSON=r(function(){return this.constructor.toObject(this,v.util.toJSONOptions)},"toJSON"),s.getTypeUrl=r(function(g){return g===void 0&&(g="type.googleapis.com"),g+"/slack.calls.analytics.Report"},"getTypeUrl"),s}(),n}(),t}(),e})()},ohOv:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sa54")),m=f(d("AUdx")),a=f(d("aVV0"));let o=r(class extends a.default{cancel(){if(this.cancelPromise){const e=new Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return v(this,void 0,void 0,function*(){const e=this.context.peer;let n=this.context.sdpOfferInit.sdp;if(this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(n=new m.default(n).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),new h.default().requiresDisablingH264Encoding()&&(n=new m.default(n).removeH264SupportFromSendSection().sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(n=new m.default(n).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(n=new m.default(n).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(n=new m.default(n).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const p=new m.default(n).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(p)}this.logger.debug(()=>`local description is >>>${n}<<<`);const s={type:"offer",sdp:n,toJSON:null};yield new Promise((p,g)=>v(this,void 0,void 0,function*(){this.cancelPromise=S=>{g(S)};try{yield e.setLocalDescription(s),p()}catch(S){g(S)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}},"SetLocalDescriptionTask");c.default=o},okoL:function(U,c,d){"use strict";var v=d("5iG2"),f=d("fshX");function h(m,a,o){var i=m==null?0:m.length;return i?(a=o||a===void 0?1:Object(f.a)(a),a=i-a,Object(v.a)(m,a<0?0:a,i)):[]}r(h,"takeRight"),c.a=h},on9F:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});const v=d("K5tc"),f=d("JOZa"),h=d("AXyi"),m=d("Q2ix");let a=r(class{perform(i,e){const t=this.currentState;if(t===h.SessionStateControllerState.NotConnected&&i===v.SessionStateControllerAction.Connect)this.transition(h.SessionStateControllerState.Connecting,i);else if(t===h.SessionStateControllerState.Connecting&&i===v.SessionStateControllerAction.Fail)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Connecting&&i===v.SessionStateControllerAction.FinishConnecting)this.transition(h.SessionStateControllerState.Connected,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Disconnect)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Reconnect)this.transition(h.SessionStateControllerState.Connecting,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Fail)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Connected&&i===v.SessionStateControllerAction.Update)this.transition(h.SessionStateControllerState.Updating,i);else if(t===h.SessionStateControllerState.Updating&&i===v.SessionStateControllerAction.Fail)this.transition(h.SessionStateControllerState.Disconnecting,i);else if(t===h.SessionStateControllerState.Updating&&i===v.SessionStateControllerAction.FinishUpdating)this.transition(h.SessionStateControllerState.Connected,i);else if(t===h.SessionStateControllerState.Disconnecting&&i===v.SessionStateControllerAction.FinishDisconnecting)this.transition(h.SessionStateControllerState.NotConnected,i);else return this.canDefer(i)?(this.logger.info(`deferring transition from ${h.SessionStateControllerState[this.currentState]} with ${v.SessionStateControllerAction[i]}`),this.deferAction(i,e),m.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn(`no transition found from ${h.SessionStateControllerState[this.currentState]} with ${v.SessionStateControllerAction[i]}`),m.SessionStateControllerTransitionResult.NoTransitionAvailable);try{e()}catch(n){return this.logger.error(`error during state ${h.SessionStateControllerState[this.currentState]} with action ${v.SessionStateControllerAction[i]}: ${n}`),this.logger.info(`rolling back transition to ${h.SessionStateControllerState[t]}`),this.currentState=t,m.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),m.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(i,e){this.logger.info(`transitioning from ${h.SessionStateControllerState[this.currentState]} to ${h.SessionStateControllerState[i]} with ${v.SessionStateControllerAction[e]}`),this.currentState=i}deferPriority(i){switch(i){case v.SessionStateControllerAction.Disconnect:return f.SessionStateControllerDeferPriority.VeryHigh;case v.SessionStateControllerAction.Fail:return f.SessionStateControllerDeferPriority.High;case v.SessionStateControllerAction.Reconnect:return f.SessionStateControllerDeferPriority.Medium;case v.SessionStateControllerAction.Update:return f.SessionStateControllerDeferPriority.Low;default:return f.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(i,e){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(i)||(this.deferredAction=i,this.deferredWork=e)}canDefer(i){return this.deferPriority(i)!==f.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===h.SessionStateControllerState.Connecting||this.currentState===h.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const i=this.deferredAction,e=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${v.SessionStateControllerAction[i]}`),this.perform(i,e)!==m.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${v.SessionStateControllerAction[i]} in state ${h.SessionStateControllerState[this.currentState]}`)}constructor(i){this.logger=i,this.currentState=h.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}},"DefaultSessionStateController");c.default=a},otBB:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Zkgh"));let h=r(class{reset(){}updateIndex(a){}updateMetrics(a){}wantsResubscribe(){return!1}chooseSubscriptions(){return new f.default}},"NoVideoDownlinkBandwidthPolicy");c.default=h},p3mT:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.Connect="connect"})(v||(v={})),c.default=v},p5Ac:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"BitrateParameters");c.default=v},p72H:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EMPTY_DATA_SHA_256=c.SHA_256_HMAC_ALGO=c.SHA_256_HASH=void 0,c.SHA_256_HASH={name:"SHA-256"},c.SHA_256_HMAC_ALGO={name:"HMAC",hash:c.SHA_256_HASH},c.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},p7bP:function(U,c,d){"use strict";(function(v){Object.defineProperty(c,"__esModule",{value:!0});let f=r(class Es{static register(){!("document"in v)||!document.addEventListener||Es.shouldRegisterCSPMonitor&&(Es.added||(document.addEventListener("securitypolicyviolation",Es.listener),Es.added=!0))}static unregister(){!("document"in v)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",Es.listener),Es.loggers=new Set,Es.added=!1)}static disable(){Es.shouldRegisterCSPMonitor=!1,Es.unregister()}static addLogger(m){m&&Es.loggers.add(m)}static removeLogger(m){m&&Es.loggers.delete(m)}},"CSPMonitor");c.default=f,f.loggers=new Set,f.shouldRegisterCSPMonitor=!0,f.added=!1,f.listener=h=>{const m=`Security Policy Violation
Blocked URI: ${h.blockedURI}
Violated Directive: ${h.violatedDirective}
Original Policy: ${h.originalPolicy}
Document URI: ${h.documentURI}
Source File: ${h.sourceFile}
Line No.: ${h.lineNumber}
`;for(const a of f.loggers)a.error(m);f.loggers.size===0&&console.error(m)}}).call(this,d("yLpj"))},pCf5:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("ghxq"));let h=r(class extends f.default{calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const a=this.pastSamplesToConsider,o=a*this.packetsExpected;let i=0;for(let e=0;e<a;e++)i+=this.currentData.packetsReceivedInLastMinute[e];return Math.min(Math.max(1-i/o,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}constructor(a,o){super(a,o,"Unusable Audio Warning"),this.coolDownTimeMs=a.cooldownTimeMs,this.pastSamplesToConsider=a.pastSamplesToConsider,this.fractionalLoss=a.fractionalLoss,this.packetsExpected=a.packetsExpected,this.maximumTimesToWarn=a.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}},"UnusableAudioWarningConnectionHealthPolicy");c.default=h},pQ8y:function(U,c,d){"use strict";function v(){return v=Object.assign?Object.assign.bind():function(l){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(l[P]=O[P])}return l},v.apply(this,arguments)}r(v,"_extends");var f=d("JwAW"),h=d("RPF1"),m=d("n3tL"),a=d("3B23"),o=d.n(a),i=d("9IcX"),e=d.n(i),t=d("q1tI"),n=d.n(t),s=d("dRu9"),p=r(function(E,O){return E&&O&&O.split(" ").forEach(function(P){return o()(E,P)})},"addClass"),g=r(function(E,O){return E&&O&&O.split(" ").forEach(function(P){return e()(E,P)})},"removeClass"),S=function(l){Object(h.a)(E,l);function E(){for(var P,x=arguments.length,k=new Array(x),B=0;B<x;B++)k[B]=arguments[B];return P=l.call.apply(l,[this].concat(k))||this,P.appliedClasses={appear:{},enter:{},exit:{}},P.onEnter=function(R,N){P.removeClasses(R,"exit"),P.addClass(R,N?"appear":"enter","base"),P.props.onEnter&&P.props.onEnter(R,N)},P.onEntering=function(R,N){var w=N?"appear":"enter";P.addClass(R,w,"active"),P.props.onEntering&&P.props.onEntering(R,N)},P.onEntered=function(R,N){var w=N?"appear":"enter";P.removeClasses(R,w),P.addClass(R,w,"done"),P.props.onEntered&&P.props.onEntered(R,N)},P.onExit=function(R){P.removeClasses(R,"appear"),P.removeClasses(R,"enter"),P.addClass(R,"exit","base"),P.props.onExit&&P.props.onExit(R)},P.onExiting=function(R){P.addClass(R,"exit","active"),P.props.onExiting&&P.props.onExiting(R)},P.onExited=function(R){P.removeClasses(R,"exit"),P.addClass(R,"exit","done"),P.props.onExited&&P.props.onExited(R)},P.getClassNames=function(R){var N=P.props.classNames,w=typeof N=="string",A=w&&N?N+"-":"",D=w?""+A+R:N[R],K=w?D+"-active":N[R+"Active"],X=w?D+"-done":N[R+"Done"];return{baseClassName:D,activeClassName:K,doneClassName:X}},P}r(E,"CSSTransition");var O=E.prototype;return O.addClass=r(function(x,k,B){var R=this.getClassNames(k)[B+"ClassName"];k==="appear"&&B==="done"&&(R+=" "+this.getClassNames("enter").doneClassName),B==="active"&&x&&x.scrollTop,this.appliedClasses[k][B]=R,p(x,R)},"addClass"),O.removeClasses=r(function(x,k){var B=this.appliedClasses[k],R=B.base,N=B.active,w=B.done;this.appliedClasses[k]={},R&&g(x,R),N&&g(x,N),w&&g(x,w)},"removeClasses"),O.render=r(function(){var x=this.props,k=x.classNames,B=Object(f.a)(x,["classNames"]);return n.a.createElement(s.d,v({},B,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},"render"),E}(n.a.Component);S.defaultProps={classNames:""},S.propTypes={};var u=c.a=S},pU0T:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=c.numToUint8=c.isEmptyData=c.convertToBuffer=void 0;var v=d("YcE2");Object.defineProperty(c,"convertToBuffer",{enumerable:!0,get:function(){return v.convertToBuffer}});var f=d("zW/2");Object.defineProperty(c,"isEmptyData",{enumerable:!0,get:function(){return f.isEmptyData}});var h=d("lnWt");Object.defineProperty(c,"numToUint8",{enumerable:!0,get:function(){return h.numToUint8}});var m=d("wiFD");Object.defineProperty(c,"uint32ArrayFrom",{enumerable:!0,get:function(){return m.uint32ArrayFrom}})},pU79:function(U,c,d){"use strict";var v=d("fywt"),f=d("c75G");function h(m,a){return Object(f.a)(m,Object(v.a)(a,2))}r(h,"meanBy"),c.a=h},pacc:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(S,u,l,E){function O(P){return P instanceof l?P:new l(function(x){x(P)})}return r(O,"adopt"),new(l||(l=Promise))(function(P,x){function k(N){try{R(E.next(N))}catch(w){x(w)}}r(k,"fulfilled");function B(N){try{R(E.throw(N))}catch(w){x(w)}}r(B,"rejected");function R(N){N.done?P(N.value):O(N.value).then(k,B)}r(R,"step"),R((E=E.apply(S,u||[])).next())})},f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("Zit3"),m=f(d("cKqT")),a=f(d("p7bP")),o=f(d("HXIC")),i=f(d("l7oq")),e=f(d("F7zz")),t=f(d("dPyZ")),n=f(d("3jln")),s=f(d("z8+u")),p=f(d("18tZ"));let g=r(class{addObserver(u){this.logger.info("adding messaging observer"),this.observerQueue.add(u)}removeObserver(u){this.logger.info("removing messaging observer"),this.observerQueue.delete(u)}start(){return v(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(u){for(const l of this.observerQueue)e.default.nextTick(()=>{this.observerQueue.has(l)&&u(l)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",u=>{this.receiveMessageHandler(u.data)}),this.webSocket.addEventListener("close",u=>{this.closeEventHandler(u)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(u){return v(this,void 0,void 0,function*(){return yield this.startConnectingInternal(u),yield new Promise((l,E)=>{this.bootstrapResolved=l,this.bootstrapRejected=E})})}startConnectingInternal(u){var l;return v(this,void 0,void 0,function*(){let E=this.configuration.endpointUrl;if(u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),u||E===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const P=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((l=P.Endpoint)===null||l===void 0)&&l.Url?E=P.Endpoint.Url:E=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else E=(yield this.configuration.chimeClient.send(new h.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${E}`)}catch(P){this.logger.error(`Messaging Session failed to resolve endpoint: ${P}`);const x=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(x);return}const O=yield this.prepareWebSocketUrl(E);this.logger.info(`opening connection to ${O}`),u||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(O,[],!0),this.forEachObserver(P=>{P.messagingSessionDidStartConnecting&&P.messagingSessionDidStartConnecting(u)}),this.setUpEventListeners()})}prepareWebSocketUrl(u){return v(this,void 0,void 0,function*(){const l=new Map;return l.set("userArn",[this.configuration.userArn]),l.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===p.default.Connect&&l.set("prefetch-on",[p.default.Connect]),this.configuration.prefetchSortBy&&l.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",u,"/connect","",l)})}isClosed(){return this.webSocket.readyState()===s.default.None||this.webSocket.readyState()===s.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(u){try{const l=JSON.parse(u),E=l.Headers["x-amz-chime-event-type"],O=new o.default(E,l.Headers,l.Payload||null);if(!this.isSessionEstablished&&E==="SESSION_ESTABLISHED"){this.forEachObserver(x=>{x.messagingSessionDidStart&&x.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const P=this.preBootstrapMessages.length;for(let x=0;x<P;x++){const k=this.preBootstrapMessages.shift();this.forEachObserver(B=>{this.sendMessageToObserver(B,k)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(O);return}this.forEachObserver(P=>{this.sendMessageToObserver(P,O)})}catch(l){this.logger.error(`Messaging parsing failed: ${l}`)}}sendMessageToObserver(u,l){u.messagingSessionDidReceiveMessage&&u.messagingSessionDidReceiveMessage(l)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>v(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(u){this.logger.info(`WebSocket close: ${u.code} ${u.reason}`),u.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(u.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(l=>{l.messagingSessionDidStop&&l.messagingSessionDidStop(u)}):this.bootstrapRejected(u))}canReconnect(u){return u===1001||u===1006||u>=1011&&u<=1014||u>4e3&&u!==4002&&u!==4003&&u!==4401}constructor(u,l,E,O,P){this.configuration=u,this.logger=l,this.webSocket=E,this.reconnectController=O,this.sigV4=P,this.observerQueue=new Set,this.webSocket||(this.webSocket=new n.default(this.logger)),this.reconnectController||(this.reconnectController=new i.default(u.reconnectTimeoutMs,new m.default(u.reconnectFixedWaitMs,u.reconnectShortBackoffMs,u.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new t.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}},"DefaultMessagingSession");c.default=g},papz:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionStatusCode=void 0;var v;(function(f){f[f.OK=0]="OK",f[f.Left=1]="Left",f[f.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",f[f.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",f[f.AudioCallAtCapacity=4]="AudioCallAtCapacity",f[f.MeetingEnded=5]="MeetingEnded",f[f.AudioInternalServerError=6]="AudioInternalServerError",f[f.AudioServiceUnavailable=7]="AudioServiceUnavailable",f[f.AudioDisconnected=8]="AudioDisconnected",f[f.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",f[f.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",f[f.SignalingBadRequest=11]="SignalingBadRequest",f[f.SignalingInternalServerError=12]="SignalingInternalServerError",f[f.SignalingRequestFailed=13]="SignalingRequestFailed",f[f.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",f[f.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",f[f.RealtimeApiFailed=16]="RealtimeApiFailed",f[f.TaskFailed=17]="TaskFailed",f[f.IncompatibleSDP=18]="IncompatibleSDP",f[f.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",f[f.NoAttendeePresent=20]="NoAttendeePresent",f[f.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",f[f.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",f[f.AudioDisconnectAudio=23]="AudioDisconnectAudio"})(v=c.MeetingSessionStatusCode||(c.MeetingSessionStatusCode={})),c.default=v},pewp:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("crgu"),m=f(d("sfTB"));let a=r(class{start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(i){this.logger.error(`Event Reporting - Error starting the event buffer ${i}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(i){this.logger.error(`Event Reporting - Error stopping the event buffer ${i}`)}}reportEvent(i,e,t){return v(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${i}, ${e}, ${JSON.stringify(t)}`),this.eventsToIgnore.includes(e)){this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${e} event will be ignored as it is in events to ignore`);return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:i,name:e,attributes:t})}catch(n){this.logger.error(`Event Reporting - Error adding event to buffer ${n}`)}})}destroy(){return v(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),h.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}constructor(i,e){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded"],this.destroyed=!1;const{eventsClientConfiguration:t,ingestionURL:n,eventBufferConfiguration:s}=i,{eventsToIgnore:p}=t;this.eventBuffer=new m.default(s,t,n,this.importantEvents,e),this.logger=e,this.eventsToIgnore=p,this.start()}},"DefaultMeetingEventReporter");c.default=a},pl4z:function(U,c){function d(){var v=0,f=1,h=2,m=3,a=4,o=5,i=6,e=7,t=8,n=9,s=10,p=11;function g(l,E){if(E===void 0&&(E=0),code=l.charCodeAt(E),55296<=code&&code<=56319&&E<l.length-1){var O=code,P=l.charCodeAt(E+1);return 56320<=P&&P<=57343?(O-55296)*1024+(P-56320)+65536:O}if(56320<=code&&code<=57343&&E>=1){var O=l.charCodeAt(E-1),P=code;return 55296<=O&&O<=56319?(O-55296)*1024+(P-56320)+65536:P}return code}r(g,"codePointAt");function S(l,E){return l==v&&E==f?!1:l==h||l==v||l==f||E==h||E==v||E==f?!0:l==i&&(E==i||E==e||E==n||E==s)||(l==n||l==e)&&(E==e||E==t)||(l==s||l==t)&&E==t||l==a&&E==a||E==m?!1:E!=o}r(S,"shouldBreak"),this.nextBreak=function(l,E){if(E===void 0&&(E=0),E<0)return 0;if(E>=l.length-1)return l.length;for(var O=u(g(l,E)),P=E+1;P<l.length;P++)if(!(55296<=l.charCodeAt(P-1)&&l.charCodeAt(P-1)<=56319&&56320<=l.charCodeAt(P)&&l.charCodeAt(P)<=57343)){var x=u(g(l,P));if(S(O,x))return P;O=x}return l.length},this.splitGraphemes=function(l){for(var E=[],O=0,P;(P=this.nextBreak(l,O))<l.length;)E.push(l.slice(O,P)),O=P;return O<l.length&&E.push(l.slice(O)),E},this.countGraphemes=function(l){for(var E=0,O=0,P;(P=this.nextBreak(l,O))<l.length;)O=P,E++;return O<l.length&&E++,E};function u(l){return l==13?v:l==10?f:0<=l&&l<=9||11<=l&&l<=12||14<=l&&l<=31||127<=l&&l<=159||l==173||1536<=l&&l<=1541||l==1564||l==1757||l==1807||l==6158||l==8203||8206<=l&&l<=8207||l==8232||l==8233||8234<=l&&l<=8238||8288<=l&&l<=8292||l==8293||8294<=l&&l<=8303||55296<=l&&l<=57343||l==65279||65520<=l&&l<=65528||65529<=l&&l<=65531||l==69821||113824<=l&&l<=113827||119155<=l&&l<=119162||l==917504||l==917505||917506<=l&&l<=917535||917536<=l&&l<=917631||917632<=l&&l<=917759||918e3<=l&&l<=921599?h:768<=l&&l<=879||1155<=l&&l<=1159||1160<=l&&l<=1161||1425<=l&&l<=1469||l==1471||1473<=l&&l<=1474||1476<=l&&l<=1477||l==1479||1552<=l&&l<=1562||1611<=l&&l<=1631||l==1648||1750<=l&&l<=1756||1759<=l&&l<=1764||1767<=l&&l<=1768||1770<=l&&l<=1773||l==1809||1840<=l&&l<=1866||1958<=l&&l<=1968||2027<=l&&l<=2035||2070<=l&&l<=2073||2075<=l&&l<=2083||2085<=l&&l<=2087||2089<=l&&l<=2093||2137<=l&&l<=2139||2275<=l&&l<=2306||l==2362||l==2364||2369<=l&&l<=2376||l==2381||2385<=l&&l<=2391||2402<=l&&l<=2403||l==2433||l==2492||l==2494||2497<=l&&l<=2500||l==2509||l==2519||2530<=l&&l<=2531||2561<=l&&l<=2562||l==2620||2625<=l&&l<=2626||2631<=l&&l<=2632||2635<=l&&l<=2637||l==2641||2672<=l&&l<=2673||l==2677||2689<=l&&l<=2690||l==2748||2753<=l&&l<=2757||2759<=l&&l<=2760||l==2765||2786<=l&&l<=2787||l==2817||l==2876||l==2878||l==2879||2881<=l&&l<=2884||l==2893||l==2902||l==2903||2914<=l&&l<=2915||l==2946||l==3006||l==3008||l==3021||l==3031||l==3072||3134<=l&&l<=3136||3142<=l&&l<=3144||3146<=l&&l<=3149||3157<=l&&l<=3158||3170<=l&&l<=3171||l==3201||l==3260||l==3263||l==3266||l==3270||3276<=l&&l<=3277||3285<=l&&l<=3286||3298<=l&&l<=3299||l==3329||l==3390||3393<=l&&l<=3396||l==3405||l==3415||3426<=l&&l<=3427||l==3530||l==3535||3538<=l&&l<=3540||l==3542||l==3551||l==3633||3636<=l&&l<=3642||3655<=l&&l<=3662||l==3761||3764<=l&&l<=3769||3771<=l&&l<=3772||3784<=l&&l<=3789||3864<=l&&l<=3865||l==3893||l==3895||l==3897||3953<=l&&l<=3966||3968<=l&&l<=3972||3974<=l&&l<=3975||3981<=l&&l<=3991||3993<=l&&l<=4028||l==4038||4141<=l&&l<=4144||4146<=l&&l<=4151||4153<=l&&l<=4154||4157<=l&&l<=4158||4184<=l&&l<=4185||4190<=l&&l<=4192||4209<=l&&l<=4212||l==4226||4229<=l&&l<=4230||l==4237||l==4253||4957<=l&&l<=4959||5906<=l&&l<=5908||5938<=l&&l<=5940||5970<=l&&l<=5971||6002<=l&&l<=6003||6068<=l&&l<=6069||6071<=l&&l<=6077||l==6086||6089<=l&&l<=6099||l==6109||6155<=l&&l<=6157||l==6313||6432<=l&&l<=6434||6439<=l&&l<=6440||l==6450||6457<=l&&l<=6459||6679<=l&&l<=6680||l==6683||l==6742||6744<=l&&l<=6750||l==6752||l==6754||6757<=l&&l<=6764||6771<=l&&l<=6780||l==6783||6832<=l&&l<=6845||l==6846||6912<=l&&l<=6915||l==6964||6966<=l&&l<=6970||l==6972||l==6978||7019<=l&&l<=7027||7040<=l&&l<=7041||7074<=l&&l<=7077||7080<=l&&l<=7081||7083<=l&&l<=7085||l==7142||7144<=l&&l<=7145||l==7149||7151<=l&&l<=7153||7212<=l&&l<=7219||7222<=l&&l<=7223||7376<=l&&l<=7378||7380<=l&&l<=7392||7394<=l&&l<=7400||l==7405||l==7412||7416<=l&&l<=7417||7616<=l&&l<=7669||7676<=l&&l<=7679||8204<=l&&l<=8205||8400<=l&&l<=8412||8413<=l&&l<=8416||l==8417||8418<=l&&l<=8420||8421<=l&&l<=8432||11503<=l&&l<=11505||l==11647||11744<=l&&l<=11775||12330<=l&&l<=12333||12334<=l&&l<=12335||12441<=l&&l<=12442||l==42607||42608<=l&&l<=42610||42612<=l&&l<=42621||42654<=l&&l<=42655||42736<=l&&l<=42737||l==43010||l==43014||l==43019||43045<=l&&l<=43046||l==43204||43232<=l&&l<=43249||43302<=l&&l<=43309||43335<=l&&l<=43345||43392<=l&&l<=43394||l==43443||43446<=l&&l<=43449||l==43452||l==43493||43561<=l&&l<=43566||43569<=l&&l<=43570||43573<=l&&l<=43574||l==43587||l==43596||l==43644||l==43696||43698<=l&&l<=43700||43703<=l&&l<=43704||43710<=l&&l<=43711||l==43713||43756<=l&&l<=43757||l==43766||l==44005||l==44008||l==44013||l==64286||65024<=l&&l<=65039||65056<=l&&l<=65071||65438<=l&&l<=65439||l==66045||l==66272||66422<=l&&l<=66426||68097<=l&&l<=68099||68101<=l&&l<=68102||68108<=l&&l<=68111||68152<=l&&l<=68154||l==68159||68325<=l&&l<=68326||l==69633||69688<=l&&l<=69702||69759<=l&&l<=69761||69811<=l&&l<=69814||69817<=l&&l<=69818||69888<=l&&l<=69890||69927<=l&&l<=69931||69933<=l&&l<=69940||l==70003||70016<=l&&l<=70017||70070<=l&&l<=70078||70090<=l&&l<=70092||70191<=l&&l<=70193||l==70196||70198<=l&&l<=70199||l==70367||70371<=l&&l<=70378||70400<=l&&l<=70401||l==70460||l==70462||l==70464||l==70487||70502<=l&&l<=70508||70512<=l&&l<=70516||l==70832||70835<=l&&l<=70840||l==70842||l==70845||70847<=l&&l<=70848||70850<=l&&l<=70851||l==71087||71090<=l&&l<=71093||71100<=l&&l<=71101||71103<=l&&l<=71104||71132<=l&&l<=71133||71219<=l&&l<=71226||l==71229||71231<=l&&l<=71232||l==71339||l==71341||71344<=l&&l<=71349||l==71351||71453<=l&&l<=71455||71458<=l&&l<=71461||71463<=l&&l<=71467||92912<=l&&l<=92916||92976<=l&&l<=92982||94095<=l&&l<=94098||113821<=l&&l<=113822||l==119141||119143<=l&&l<=119145||119150<=l&&l<=119154||119163<=l&&l<=119170||119173<=l&&l<=119179||119210<=l&&l<=119213||119362<=l&&l<=119364||121344<=l&&l<=121398||121403<=l&&l<=121452||l==121461||l==121476||121499<=l&&l<=121503||121505<=l&&l<=121519||125136<=l&&l<=125142||917760<=l&&l<=917999?m:127462<=l&&l<=127487?a:l==2307||l==2363||2366<=l&&l<=2368||2377<=l&&l<=2380||2382<=l&&l<=2383||2434<=l&&l<=2435||2495<=l&&l<=2496||2503<=l&&l<=2504||2507<=l&&l<=2508||l==2563||2622<=l&&l<=2624||l==2691||2750<=l&&l<=2752||l==2761||2763<=l&&l<=2764||2818<=l&&l<=2819||l==2880||2887<=l&&l<=2888||2891<=l&&l<=2892||l==3007||3009<=l&&l<=3010||3014<=l&&l<=3016||3018<=l&&l<=3020||3073<=l&&l<=3075||3137<=l&&l<=3140||3202<=l&&l<=3203||l==3262||3264<=l&&l<=3265||3267<=l&&l<=3268||3271<=l&&l<=3272||3274<=l&&l<=3275||3330<=l&&l<=3331||3391<=l&&l<=3392||3398<=l&&l<=3400||3402<=l&&l<=3404||3458<=l&&l<=3459||3536<=l&&l<=3537||3544<=l&&l<=3550||3570<=l&&l<=3571||l==3635||l==3763||3902<=l&&l<=3903||l==3967||l==4145||4155<=l&&l<=4156||4182<=l&&l<=4183||l==4228||l==6070||6078<=l&&l<=6085||6087<=l&&l<=6088||6435<=l&&l<=6438||6441<=l&&l<=6443||6448<=l&&l<=6449||6451<=l&&l<=6456||6681<=l&&l<=6682||l==6741||l==6743||6765<=l&&l<=6770||l==6916||l==6965||l==6971||6973<=l&&l<=6977||6979<=l&&l<=6980||l==7042||l==7073||7078<=l&&l<=7079||l==7082||l==7143||7146<=l&&l<=7148||l==7150||7154<=l&&l<=7155||7204<=l&&l<=7211||7220<=l&&l<=7221||l==7393||7410<=l&&l<=7411||43043<=l&&l<=43044||l==43047||43136<=l&&l<=43137||43188<=l&&l<=43203||43346<=l&&l<=43347||l==43395||43444<=l&&l<=43445||43450<=l&&l<=43451||43453<=l&&l<=43456||43567<=l&&l<=43568||43571<=l&&l<=43572||l==43597||l==43755||43758<=l&&l<=43759||l==43765||44003<=l&&l<=44004||44006<=l&&l<=44007||44009<=l&&l<=44010||l==44012||l==69632||l==69634||l==69762||69808<=l&&l<=69810||69815<=l&&l<=69816||l==69932||l==70018||70067<=l&&l<=70069||70079<=l&&l<=70080||70188<=l&&l<=70190||70194<=l&&l<=70195||l==70197||70368<=l&&l<=70370||70402<=l&&l<=70403||l==70463||70465<=l&&l<=70468||70471<=l&&l<=70472||70475<=l&&l<=70477||70498<=l&&l<=70499||70833<=l&&l<=70834||l==70841||70843<=l&&l<=70844||l==70846||l==70849||71088<=l&&l<=71089||71096<=l&&l<=71099||l==71102||71216<=l&&l<=71218||71227<=l&&l<=71228||l==71230||l==71340||71342<=l&&l<=71343||l==71350||71456<=l&&l<=71457||l==71462||94033<=l&&l<=94078||l==119142||l==119149?o:4352<=l&&l<=4447||43360<=l&&l<=43388?i:4448<=l&&l<=4519||55216<=l&&l<=55238?e:4520<=l&&l<=4607||55243<=l&&l<=55291?t:l==44032||l==44060||l==44088||l==44116||l==44144||l==44172||l==44200||l==44228||l==44256||l==44284||l==44312||l==44340||l==44368||l==44396||l==44424||l==44452||l==44480||l==44508||l==44536||l==44564||l==44592||l==44620||l==44648||l==44676||l==44704||l==44732||l==44760||l==44788||l==44816||l==44844||l==44872||l==44900||l==44928||l==44956||l==44984||l==45012||l==45040||l==45068||l==45096||l==45124||l==45152||l==45180||l==45208||l==45236||l==45264||l==45292||l==45320||l==45348||l==45376||l==45404||l==45432||l==45460||l==45488||l==45516||l==45544||l==45572||l==45600||l==45628||l==45656||l==45684||l==45712||l==45740||l==45768||l==45796||l==45824||l==45852||l==45880||l==45908||l==45936||l==45964||l==45992||l==46020||l==46048||l==46076||l==46104||l==46132||l==46160||l==46188||l==46216||l==46244||l==46272||l==46300||l==46328||l==46356||l==46384||l==46412||l==46440||l==46468||l==46496||l==46524||l==46552||l==46580||l==46608||l==46636||l==46664||l==46692||l==46720||l==46748||l==46776||l==46804||l==46832||l==46860||l==46888||l==46916||l==46944||l==46972||l==47e3||l==47028||l==47056||l==47084||l==47112||l==47140||l==47168||l==47196||l==47224||l==47252||l==47280||l==47308||l==47336||l==47364||l==47392||l==47420||l==47448||l==47476||l==47504||l==47532||l==47560||l==47588||l==47616||l==47644||l==47672||l==47700||l==47728||l==47756||l==47784||l==47812||l==47840||l==47868||l==47896||l==47924||l==47952||l==47980||l==48008||l==48036||l==48064||l==48092||l==48120||l==48148||l==48176||l==48204||l==48232||l==48260||l==48288||l==48316||l==48344||l==48372||l==48400||l==48428||l==48456||l==48484||l==48512||l==48540||l==48568||l==48596||l==48624||l==48652||l==48680||l==48708||l==48736||l==48764||l==48792||l==48820||l==48848||l==48876||l==48904||l==48932||l==48960||l==48988||l==49016||l==49044||l==49072||l==49100||l==49128||l==49156||l==49184||l==49212||l==49240||l==49268||l==49296||l==49324||l==49352||l==49380||l==49408||l==49436||l==49464||l==49492||l==49520||l==49548||l==49576||l==49604||l==49632||l==49660||l==49688||l==49716||l==49744||l==49772||l==49800||l==49828||l==49856||l==49884||l==49912||l==49940||l==49968||l==49996||l==50024||l==50052||l==50080||l==50108||l==50136||l==50164||l==50192||l==50220||l==50248||l==50276||l==50304||l==50332||l==50360||l==50388||l==50416||l==50444||l==50472||l==50500||l==50528||l==50556||l==50584||l==50612||l==50640||l==50668||l==50696||l==50724||l==50752||l==50780||l==50808||l==50836||l==50864||l==50892||l==50920||l==50948||l==50976||l==51004||l==51032||l==51060||l==51088||l==51116||l==51144||l==51172||l==51200||l==51228||l==51256||l==51284||l==51312||l==51340||l==51368||l==51396||l==51424||l==51452||l==51480||l==51508||l==51536||l==51564||l==51592||l==51620||l==51648||l==51676||l==51704||l==51732||l==51760||l==51788||l==51816||l==51844||l==51872||l==51900||l==51928||l==51956||l==51984||l==52012||l==52040||l==52068||l==52096||l==52124||l==52152||l==52180||l==52208||l==52236||l==52264||l==52292||l==52320||l==52348||l==52376||l==52404||l==52432||l==52460||l==52488||l==52516||l==52544||l==52572||l==52600||l==52628||l==52656||l==52684||l==52712||l==52740||l==52768||l==52796||l==52824||l==52852||l==52880||l==52908||l==52936||l==52964||l==52992||l==53020||l==53048||l==53076||l==53104||l==53132||l==53160||l==53188||l==53216||l==53244||l==53272||l==53300||l==53328||l==53356||l==53384||l==53412||l==53440||l==53468||l==53496||l==53524||l==53552||l==53580||l==53608||l==53636||l==53664||l==53692||l==53720||l==53748||l==53776||l==53804||l==53832||l==53860||l==53888||l==53916||l==53944||l==53972||l==54e3||l==54028||l==54056||l==54084||l==54112||l==54140||l==54168||l==54196||l==54224||l==54252||l==54280||l==54308||l==54336||l==54364||l==54392||l==54420||l==54448||l==54476||l==54504||l==54532||l==54560||l==54588||l==54616||l==54644||l==54672||l==54700||l==54728||l==54756||l==54784||l==54812||l==54840||l==54868||l==54896||l==54924||l==54952||l==54980||l==55008||l==55036||l==55064||l==55092||l==55120||l==55148||l==55176?n:44033<=l&&l<=44059||44061<=l&&l<=44087||44089<=l&&l<=44115||44117<=l&&l<=44143||44145<=l&&l<=44171||44173<=l&&l<=44199||44201<=l&&l<=44227||44229<=l&&l<=44255||44257<=l&&l<=44283||44285<=l&&l<=44311||44313<=l&&l<=44339||44341<=l&&l<=44367||44369<=l&&l<=44395||44397<=l&&l<=44423||44425<=l&&l<=44451||44453<=l&&l<=44479||44481<=l&&l<=44507||44509<=l&&l<=44535||44537<=l&&l<=44563||44565<=l&&l<=44591||44593<=l&&l<=44619||44621<=l&&l<=44647||44649<=l&&l<=44675||44677<=l&&l<=44703||44705<=l&&l<=44731||44733<=l&&l<=44759||44761<=l&&l<=44787||44789<=l&&l<=44815||44817<=l&&l<=44843||44845<=l&&l<=44871||44873<=l&&l<=44899||44901<=l&&l<=44927||44929<=l&&l<=44955||44957<=l&&l<=44983||44985<=l&&l<=45011||45013<=l&&l<=45039||45041<=l&&l<=45067||45069<=l&&l<=45095||45097<=l&&l<=45123||45125<=l&&l<=45151||45153<=l&&l<=45179||45181<=l&&l<=45207||45209<=l&&l<=45235||45237<=l&&l<=45263||45265<=l&&l<=45291||45293<=l&&l<=45319||45321<=l&&l<=45347||45349<=l&&l<=45375||45377<=l&&l<=45403||45405<=l&&l<=45431||45433<=l&&l<=45459||45461<=l&&l<=45487||45489<=l&&l<=45515||45517<=l&&l<=45543||45545<=l&&l<=45571||45573<=l&&l<=45599||45601<=l&&l<=45627||45629<=l&&l<=45655||45657<=l&&l<=45683||45685<=l&&l<=45711||45713<=l&&l<=45739||45741<=l&&l<=45767||45769<=l&&l<=45795||45797<=l&&l<=45823||45825<=l&&l<=45851||45853<=l&&l<=45879||45881<=l&&l<=45907||45909<=l&&l<=45935||45937<=l&&l<=45963||45965<=l&&l<=45991||45993<=l&&l<=46019||46021<=l&&l<=46047||46049<=l&&l<=46075||46077<=l&&l<=46103||46105<=l&&l<=46131||46133<=l&&l<=46159||46161<=l&&l<=46187||46189<=l&&l<=46215||46217<=l&&l<=46243||46245<=l&&l<=46271||46273<=l&&l<=46299||46301<=l&&l<=46327||46329<=l&&l<=46355||46357<=l&&l<=46383||46385<=l&&l<=46411||46413<=l&&l<=46439||46441<=l&&l<=46467||46469<=l&&l<=46495||46497<=l&&l<=46523||46525<=l&&l<=46551||46553<=l&&l<=46579||46581<=l&&l<=46607||46609<=l&&l<=46635||46637<=l&&l<=46663||46665<=l&&l<=46691||46693<=l&&l<=46719||46721<=l&&l<=46747||46749<=l&&l<=46775||46777<=l&&l<=46803||46805<=l&&l<=46831||46833<=l&&l<=46859||46861<=l&&l<=46887||46889<=l&&l<=46915||46917<=l&&l<=46943||46945<=l&&l<=46971||46973<=l&&l<=46999||47001<=l&&l<=47027||47029<=l&&l<=47055||47057<=l&&l<=47083||47085<=l&&l<=47111||47113<=l&&l<=47139||47141<=l&&l<=47167||47169<=l&&l<=47195||47197<=l&&l<=47223||47225<=l&&l<=47251||47253<=l&&l<=47279||47281<=l&&l<=47307||47309<=l&&l<=47335||47337<=l&&l<=47363||47365<=l&&l<=47391||47393<=l&&l<=47419||47421<=l&&l<=47447||47449<=l&&l<=47475||47477<=l&&l<=47503||47505<=l&&l<=47531||47533<=l&&l<=47559||47561<=l&&l<=47587||47589<=l&&l<=47615||47617<=l&&l<=47643||47645<=l&&l<=47671||47673<=l&&l<=47699||47701<=l&&l<=47727||47729<=l&&l<=47755||47757<=l&&l<=47783||47785<=l&&l<=47811||47813<=l&&l<=47839||47841<=l&&l<=47867||47869<=l&&l<=47895||47897<=l&&l<=47923||47925<=l&&l<=47951||47953<=l&&l<=47979||47981<=l&&l<=48007||48009<=l&&l<=48035||48037<=l&&l<=48063||48065<=l&&l<=48091||48093<=l&&l<=48119||48121<=l&&l<=48147||48149<=l&&l<=48175||48177<=l&&l<=48203||48205<=l&&l<=48231||48233<=l&&l<=48259||48261<=l&&l<=48287||48289<=l&&l<=48315||48317<=l&&l<=48343||48345<=l&&l<=48371||48373<=l&&l<=48399||48401<=l&&l<=48427||48429<=l&&l<=48455||48457<=l&&l<=48483||48485<=l&&l<=48511||48513<=l&&l<=48539||48541<=l&&l<=48567||48569<=l&&l<=48595||48597<=l&&l<=48623||48625<=l&&l<=48651||48653<=l&&l<=48679||48681<=l&&l<=48707||48709<=l&&l<=48735||48737<=l&&l<=48763||48765<=l&&l<=48791||48793<=l&&l<=48819||48821<=l&&l<=48847||48849<=l&&l<=48875||48877<=l&&l<=48903||48905<=l&&l<=48931||48933<=l&&l<=48959||48961<=l&&l<=48987||48989<=l&&l<=49015||49017<=l&&l<=49043||49045<=l&&l<=49071||49073<=l&&l<=49099||49101<=l&&l<=49127||49129<=l&&l<=49155||49157<=l&&l<=49183||49185<=l&&l<=49211||49213<=l&&l<=49239||49241<=l&&l<=49267||49269<=l&&l<=49295||49297<=l&&l<=49323||49325<=l&&l<=49351||49353<=l&&l<=49379||49381<=l&&l<=49407||49409<=l&&l<=49435||49437<=l&&l<=49463||49465<=l&&l<=49491||49493<=l&&l<=49519||49521<=l&&l<=49547||49549<=l&&l<=49575||49577<=l&&l<=49603||49605<=l&&l<=49631||49633<=l&&l<=49659||49661<=l&&l<=49687||49689<=l&&l<=49715||49717<=l&&l<=49743||49745<=l&&l<=49771||49773<=l&&l<=49799||49801<=l&&l<=49827||49829<=l&&l<=49855||49857<=l&&l<=49883||49885<=l&&l<=49911||49913<=l&&l<=49939||49941<=l&&l<=49967||49969<=l&&l<=49995||49997<=l&&l<=50023||50025<=l&&l<=50051||50053<=l&&l<=50079||50081<=l&&l<=50107||50109<=l&&l<=50135||50137<=l&&l<=50163||50165<=l&&l<=50191||50193<=l&&l<=50219||50221<=l&&l<=50247||50249<=l&&l<=50275||50277<=l&&l<=50303||50305<=l&&l<=50331||50333<=l&&l<=50359||50361<=l&&l<=50387||50389<=l&&l<=50415||50417<=l&&l<=50443||50445<=l&&l<=50471||50473<=l&&l<=50499||50501<=l&&l<=50527||50529<=l&&l<=50555||50557<=l&&l<=50583||50585<=l&&l<=50611||50613<=l&&l<=50639||50641<=l&&l<=50667||50669<=l&&l<=50695||50697<=l&&l<=50723||50725<=l&&l<=50751||50753<=l&&l<=50779||50781<=l&&l<=50807||50809<=l&&l<=50835||50837<=l&&l<=50863||50865<=l&&l<=50891||50893<=l&&l<=50919||50921<=l&&l<=50947||50949<=l&&l<=50975||50977<=l&&l<=51003||51005<=l&&l<=51031||51033<=l&&l<=51059||51061<=l&&l<=51087||51089<=l&&l<=51115||51117<=l&&l<=51143||51145<=l&&l<=51171||51173<=l&&l<=51199||51201<=l&&l<=51227||51229<=l&&l<=51255||51257<=l&&l<=51283||51285<=l&&l<=51311||51313<=l&&l<=51339||51341<=l&&l<=51367||51369<=l&&l<=51395||51397<=l&&l<=51423||51425<=l&&l<=51451||51453<=l&&l<=51479||51481<=l&&l<=51507||51509<=l&&l<=51535||51537<=l&&l<=51563||51565<=l&&l<=51591||51593<=l&&l<=51619||51621<=l&&l<=51647||51649<=l&&l<=51675||51677<=l&&l<=51703||51705<=l&&l<=51731||51733<=l&&l<=51759||51761<=l&&l<=51787||51789<=l&&l<=51815||51817<=l&&l<=51843||51845<=l&&l<=51871||51873<=l&&l<=51899||51901<=l&&l<=51927||51929<=l&&l<=51955||51957<=l&&l<=51983||51985<=l&&l<=52011||52013<=l&&l<=52039||52041<=l&&l<=52067||52069<=l&&l<=52095||52097<=l&&l<=52123||52125<=l&&l<=52151||52153<=l&&l<=52179||52181<=l&&l<=52207||52209<=l&&l<=52235||52237<=l&&l<=52263||52265<=l&&l<=52291||52293<=l&&l<=52319||52321<=l&&l<=52347||52349<=l&&l<=52375||52377<=l&&l<=52403||52405<=l&&l<=52431||52433<=l&&l<=52459||52461<=l&&l<=52487||52489<=l&&l<=52515||52517<=l&&l<=52543||52545<=l&&l<=52571||52573<=l&&l<=52599||52601<=l&&l<=52627||52629<=l&&l<=52655||52657<=l&&l<=52683||52685<=l&&l<=52711||52713<=l&&l<=52739||52741<=l&&l<=52767||52769<=l&&l<=52795||52797<=l&&l<=52823||52825<=l&&l<=52851||52853<=l&&l<=52879||52881<=l&&l<=52907||52909<=l&&l<=52935||52937<=l&&l<=52963||52965<=l&&l<=52991||52993<=l&&l<=53019||53021<=l&&l<=53047||53049<=l&&l<=53075||53077<=l&&l<=53103||53105<=l&&l<=53131||53133<=l&&l<=53159||53161<=l&&l<=53187||53189<=l&&l<=53215||53217<=l&&l<=53243||53245<=l&&l<=53271||53273<=l&&l<=53299||53301<=l&&l<=53327||53329<=l&&l<=53355||53357<=l&&l<=53383||53385<=l&&l<=53411||53413<=l&&l<=53439||53441<=l&&l<=53467||53469<=l&&l<=53495||53497<=l&&l<=53523||53525<=l&&l<=53551||53553<=l&&l<=53579||53581<=l&&l<=53607||53609<=l&&l<=53635||53637<=l&&l<=53663||53665<=l&&l<=53691||53693<=l&&l<=53719||53721<=l&&l<=53747||53749<=l&&l<=53775||53777<=l&&l<=53803||53805<=l&&l<=53831||53833<=l&&l<=53859||53861<=l&&l<=53887||53889<=l&&l<=53915||53917<=l&&l<=53943||53945<=l&&l<=53971||53973<=l&&l<=53999||54001<=l&&l<=54027||54029<=l&&l<=54055||54057<=l&&l<=54083||54085<=l&&l<=54111||54113<=l&&l<=54139||54141<=l&&l<=54167||54169<=l&&l<=54195||54197<=l&&l<=54223||54225<=l&&l<=54251||54253<=l&&l<=54279||54281<=l&&l<=54307||54309<=l&&l<=54335||54337<=l&&l<=54363||54365<=l&&l<=54391||54393<=l&&l<=54419||54421<=l&&l<=54447||54449<=l&&l<=54475||54477<=l&&l<=54503||54505<=l&&l<=54531||54533<=l&&l<=54559||54561<=l&&l<=54587||54589<=l&&l<=54615||54617<=l&&l<=54643||54645<=l&&l<=54671||54673<=l&&l<=54699||54701<=l&&l<=54727||54729<=l&&l<=54755||54757<=l&&l<=54783||54785<=l&&l<=54811||54813<=l&&l<=54839||54841<=l&&l<=54867||54869<=l&&l<=54895||54897<=l&&l<=54923||54925<=l&&l<=54951||54953<=l&&l<=54979||54981<=l&&l<=55007||55009<=l&&l<=55035||55037<=l&&l<=55063||55065<=l&&l<=55091||55093<=l&&l<=55119||55121<=l&&l<=55147||55149<=l&&l<=55175||55177<=l&&l<=55203?s:p}return r(u,"getGraphemeBreakProperty"),this}r(d,"GraphemeSplitter"),U.exports=d},ppUg:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("r3TB"));let h=r(class Bl{id(){return this._id}base(){return this._id?this._id.split(Bl.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const a=this._id.split(Bl.MODALITY_SEPARATOR);return a.length===2?a[1]:""}hasModality(a){return a!==""&&this.modality()===a}withModality(a){const o=new Bl(this.base()+Bl.MODALITY_SEPARATOR+a);return a===""||this.base()===""||new Bl(o._id).modality()!==a?new Bl(this.base()):o}constructor(a){this._id=a}},"DefaultModality");c.default=h,h.MODALITY_SEPARATOR=f.default.Modality[0],h.MODALITY_CONTENT=f.default.Modality.substr(1)},qhdC:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={},t=Object(a.a)("help.productHelpCard.list generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"help.productHelpCard.list",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to help.productHelpCard.list
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherhelpProductHelpCardListFetcher",description:"help.productHelpCard.list generated fetcher"}},qr10:function(U,c,d){"use strict";d.d(c,"a",function(){return t});var v=d("9oTK"),f=d.n(v),h=d("m8R6"),m=d("2XU3"),a=d("WCk1"),o=d("s4P+"),i=d("pjW8");const e={UserNotFound:"user_not_found",AlreadyInCall:"already_in_call",ChannelNotFound:"channel_not_found",HuddleNotFound:"huddle_not_found",InvalidResponse:"invalid_response",InviteNotFound:"invite_not_found",PermissionDenied:"permission_denied",TeamNotFound:"team_not_found"},t=Object(a.a)("rooms.inviteResponse generated fetcher",function(){var n=Object(v.coroutine)(function*(s,p,g){try{const S=["reason"],u=Object(h.a)(g,S),l=Object(i.b)(u);return yield s(Object(m.a)({method:"rooms.inviteResponse",args:l,reason:g.reason}))}catch(S){throw Object(o.a)({getState:p}).error(`API call to rooms.inviteResponse
				with reason ${g.reason} failed, initiated by generated fetcher`),S}});return function(s,p,g){return n.apply(this,arguments)}}());t.meta={name:"createFetcher",key:"createFetcherroomsInviteResponseFetcher",description:"rooms.inviteResponse generated fetcher"}},qvnc:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const v=d("jhQD");c.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";let f=r(class{subscribeToTranscriptEvent(m){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC,a=>{for(const o of v.TranscriptEventConverter.from(a))for(const i of this.transcriptEventCallbacks)i(o)}),this.transcriptEventCallbacks.add(m)}unsubscribeFromTranscriptEvent(m){this.transcriptEventCallbacks.delete(m),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(c.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}constructor(m){this.realtimeController=m,this.transcriptEventCallbacks=new Set}},"DefaultTranscriptionController");c.default=f},r3TB:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v;(function(f){f.Modality="#content"})(v||(v={})),c.default=v},r7zX:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("KvYa"),h=d("nJ1/"),m={ready:0,enabled:1},a={disabled:0,enabled:1,stopped:2};let o=r(class extends h.VoiceFocusAudioWorkletNode{enable(){return v(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,m.enabled,a.enabled),Atomics.notify(this.state,m.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return v(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,m.enabled,a.disabled),Atomics.notify(this.state,m.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return v(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,m.enabled,a.stopped),Atomics.notify(this.state,m.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(e){var t;const n=e.data;switch(n.message){case"ready":if(!n.shared)throw new Error("No shared state.");this.state=new Int32Array(n.shared.state),this.port.postMessage(n);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(n);break;case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"processing":this.port.postMessage(n);break;default:return}}onProcessorMessage(e){var t;const n=e.data;switch(n.message){case"cpu":(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(n);break;default:}}constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:n,resamplerURL:s,worker:p,fetchBehavior:g,delegate:S}=t;this.delegate=S,this.worker=p,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:u,supportFarendStream:l}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:e.sampleRate===16e3?160:480,enabled:u,model:n,supportFarendStream:l});const E=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:E,key:"resampler",fetchBehavior:g,path:s})}},"VoiceFocusWorkerBufferNode");c.default=o},r9Lw:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(h){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(h){}removeMediaStreamBrokerObserver(h){}},"NoOpMediaStreamBroker");c.default=v},rCkh:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("r3TB")),h=v(d("h96U")),m=d("T44/"),a=v(d("5/lR"));let o=r(class extends a.default{reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);const t=m.VideoPreferences.prepare();let n=!1;const s=e.remoteStreamDescriptions();for(const p of s)t.some(g=>g.attendeeId===p.attendeeId)||(p.attendeeId.endsWith(f.default.Modality)?(t.add(new h.default(p.attendeeId,1)),n=!0):t.add(new h.default(p.attendeeId,2)));n?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}constructor(e){super(e),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}},"VideoAdaptiveProbePolicy");c.default=o},rEUf:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;let v=r(class{resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=c.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}},"AudioVideoControllerState");c.default=v},rIeS:function(U,c,d){"use strict";var v=c;v.Service=d("DJgg")},rLvK:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(l,E,O,P){function x(k){return k instanceof O?k:new O(function(B){B(k)})}return r(x,"adopt"),new(O||(O=Promise))(function(k,B){function R(A){try{w(P.next(A))}catch(D){B(D)}}r(R,"fulfilled");function N(A){try{w(P.throw(A))}catch(D){B(D)}}r(N,"rejected");function w(A){A.done?k(A.value):x(A.value).then(R,N)}r(w,"step"),w((P=P.apply(l,E||[])).next())})},f=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("XEV2"),m=d("GEtQ"),a=d("hlxM"),o=f(d("Sa54")),i=f(d("2y31")),e=d("R4Nl"),t=f(d("59sL")),n=f(d("KsuK")),s=d("2ede"),p=d("VcdL"),g=d("6qF3"),S=d("EjQB");let u=r(class wc{process(E){return v(this,void 0,void 0,function*(){return E})}fxProcess(E){return v(this,void 0,void 0,function*(){const O=E[0].asCanvasElement();this.didStreamParametersChange(O)&&(yield this.adjustProcessorForNewStreamParameters(O));try{yield this.manageSegmentationMask(O)}catch(P){throw this.logger.error(P),new Error("Video stream could not be processed")}return yield this.renderer.render(O,this.segmentationMask),E[0]=this.canvasVideoFrameBuffer,E})}noOpProcess(E){return v(this,void 0,void 0,function*(){return E})}didStreamParametersChange(E){return E.width!==this.streamParameters.width||E.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(E){return v(this,void 0,void 0,function*(){this.streamParameters.width=E.width,this.streamParameters.height=E.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return v(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new s.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:g.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(E){return v(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const O=this.canvasOpsManager.getInferenceInputData(E);this.segmentationMask=yield this.generateSegmentationMask(O),this.segmentationRateManager.completeSegmentation()}}catch(O){throw this.logger.error(O.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(E){return v(this,void 0,void 0,function*(){wc.isSharedArrayBufferSupported?(this.sharedImageData.set(E.data),this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:g.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:E},[E.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(O){throw this.logger.error(O.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(E){return{backgroundBlur:{isEnabled:E.backgroundBlur.isEnabled,strength:E.backgroundBlur.strength},backgroundReplacement:{isEnabled:E.backgroundReplacement.isEnabled,backgroundImageURL:E.backgroundReplacement.backgroundImageURL,defaultColor:E.backgroundReplacement.defaultColor}}}setEffectConfig(E){return v(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(E,this.effectConfig))return;const O=this.cloneConfigFrom(E);try{yield this.validateEffectConfig(O)}catch(P){throw this.logger.error(P.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}O.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(O),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,O),this.effectConfig=O,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(E){return v(this,void 0,void 0,function*(){if(E.backgroundBlur.isEnabled&&E.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");E.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(E))})}validateReplacementConfig(E){return v(this,void 0,void 0,function*(){if(E.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!E.backgroundReplacement.backgroundImageURL&&!E.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{E.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(E.backgroundReplacement.backgroundImageURL))}catch(P){throw this.logger.error(P.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const O=E.backgroundReplacement.defaultColor;if(O&&O!=="black"&&O!=="#000000"&&O!=="#000"){if(O.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(O))throw new Error(`Invalid hexadecimal color code for default replacement background: ${O}`);const x=document.createElement("canvas").getContext("2d"),k=x.fillStyle;if(x.fillStyle=O,x.fillStyle===k)throw new Error(`Invalid color for default replacement background: ${O}`)}})}validateProcessingBudgetPerFrame(E){if(E<g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||E>g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error(`Invalid resource constraint: cycle percentage must be within range of ${g.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${g.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return v(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const E=this.getVideoFxAssetParams();yield this.loadEngineWorker(E),yield this.buildEngine(E),yield this.loadFxLib(E),this.renderer=constructRenderer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(E){throw this.logger.error(E.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const E=e.getDefaultAssetSpec();return{assetGroup:E.assetGroup,revisionID:E.revisionID,sdk:encodeURIComponent(t.default.sdkVersion),ua:encodeURIComponent(t.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(E,O){const P=new URL(E);for(const[x,k]of Object.entries(O))if(k!==void 0){const B=encodeURIComponent(x),R=encodeURIComponent(k);P.searchParams.set(B,R)}return P.toString()}loadEngineWorker(E){return v(this,void 0,void 0,function*(){try{const O=this.getPathFromVideoFxAssetParams(g.CDN_BASE_PATH+g.WORKER_PATH,E);this.engineWorker=yield m.loadWorker(O,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",P=>this.engineWorkerReceiver(P))}catch(O){throw this.logger.error(O.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(E){return v(this,void 0,void 0,function*(){this.buildEnginePromise=new s.DeferredPromise,this.engineWorker.postMessage({msg:g.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:g.CDN_BASE_PATH,sdkVersioningParams:E}});try{yield this.buildEnginePromise.getPromise()}catch(O){throw this.logger.error(O.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(E){return v(this,void 0,void 0,function*(){const O=this.getPathFromVideoFxAssetParams(g.CDN_BASE_PATH+g.FXLIB_PATH,E),P={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const x=yield h.fetchWithBehavior(O,P,{});if(!x.ok)throw new Error("Fetch failed.");const k=window.URL.createObjectURL(yield x.blob());yield new Promise((B,R)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",k),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",B),this.fxLibScript.addEventListener("error",R),document.body.appendChild(this.fxLibScript)})}catch(x){throw this.logger.error(x.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(E){const O=E.data;switch(O.msg){case g.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(O.payload);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(O.payload.output);break;case g.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case g.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(O)}`);break}}settleEngineBuildPromise(E){E!==g.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(E){E?this.segmentationRequestPromise.resolveAndReplacePromise(E):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const E=new ImageData(new Uint8ClampedArray(this.sharedImageData),g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(E)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new i.default,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return v(this,void 0,void 0,function*(){let P=!0;const x=r((R,N)=>{R&&(E.info(N),P=!1)},"checkEnv");x(typeof globalThis>"u","Browser does not have globalThis."),x(!a.supportsWorker(globalThis,E),"Browser does not support web workers."),x(!a.supportsWASM(globalThis,E),"Browser does not support wasm."),x(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const k=new o.default;x(!k.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const B=r(()=>v(this,void 0,void 0,function*(){if(O)try{const R=new wc(E);yield R.loadAssets(),yield R.destroy()}catch{return E.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)}),"checkProcessor");return Promise.resolve(P?yield B():!1)})}static create(E,O){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME;return v(this,void 0,void 0,function*(){const x=new wc(E,P);try{return yield x.loadAssets(),yield x.setEffectConfig(O),x}catch(k){throw E.error(k.toString()),x.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(E){this.eventController?this.eventController=E:(this.eventController=E,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const E={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",E)}sameVideoFxConfig(E,O){return E.backgroundBlur.isEnabled===O.backgroundBlur.isEnabled&&E.backgroundBlur.strength===O.backgroundBlur.strength&&E.backgroundReplacement.backgroundImageURL===O.backgroundReplacement.backgroundImageURL&&E.backgroundReplacement.defaultColor===O.backgroundReplacement.defaultColor&&E.backgroundReplacement.isEnabled===O.backgroundReplacement.isEnabled}constructor(E,O=g.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,P){this.logger=E,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new n.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(O)}catch(x){throw this.logger.error(x),new Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${O}`)}P&&(this.eventController=P),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new s.DeferredPromise,this.segmentationRateManager=new S.VideoFxSegmentationRateManager(this.logger,O),this.streamParameters={framerate:g.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:g.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:g.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:g.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},wc.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(g.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*g.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${wc.isSharedArrayBufferSupported}`),this.canvasOpsManager=new p.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${O}`)}},"VideoFxProcessor");c.default=u,u.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u"},rU8T:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},raQ4:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("CmE0")),m=f(d("3ZJV"));let a=r(class jf extends h.default{setImageBlob(i){return v(this,void 0,void 0,function*(){this.replacementBlob=i,this.replacementImage=yield jf.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(i,e){e||(e=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(e,0,0);const{canvasCtx:n,targetCanvas:s}=this,{width:p,height:g}=s;n.save(),n.clearRect(0,0,p,g),n.drawImage(this.scaledCanvas,0,0,p,g),n.globalCompositeOperation="source-in",n.drawImage(i,0,0,p,g),n.globalCompositeOperation="destination-over",n.drawImage(this.replacementImage,0,0,s.width,s.height),n.restore()}static loadImageExecutor(i,e,t){const n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",()=>{i(n)},!1),n.addEventListener("error",s=>{e(new Error(`Could not load replacement image ${n.src}: ${s.message}`))},!1),n.src=t}static loadImage(i){return v(this,void 0,void 0,function*(){return new Promise((e,t)=>this.loadImageExecutor(e,t,i))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const i=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return v(this,void 0,void 0,function*(){this.replacementImage=yield jf.loadImage(this.createReplacementObjectUrl()),i.loadAssets.call(this)})}addObserver(i){this.delegate.addObserver(i)}removeObserver(i){this.delegate.removeObserver(i)}destroy(){const i=Object.create(null,{destroy:{get:()=>super.destroy}});return v(this,void 0,void 0,function*(){i.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(i){this.eventController?this.eventController=i:(this.eventController=i,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const i={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",i)}constructor(i,e){super("background replacement",i,e,new m.default),this.replacementBlob=e.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: ${this.stringify(e)}`)}},"BackgroundReplacementFilter");c.default=a},rbNI:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}},"RealtimeAttendeePositionInFrame");c.default=v},rcF0:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("JTre"));let h=r(class{makeTile(a,o,i,e){return new f.default(a,o,i,e)}},"DefaultVideoTileFactory");c.default=h},reWd:function(U,c,d){"use strict";(function(v){var f=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const m=h(d("BkFD")),a=h(d("KCGh")),o=h(d("mlaT"));let i=r(class Gf{addEventListener(){!this.eventListener||!("window"in v)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in v)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(t){o.default.DEBUG<this.logLevel||(typeof t=="string"?this.log(o.default.DEBUG,t):t?this.log(o.default.DEBUG,t()):this.log(o.default.DEBUG,""+t))}info(t){this.log(o.default.INFO,t)}warn(t){this.log(o.default.WARN,t)}error(t){this.log(o.default.ERROR,t)}setLogLevel(t){this.logLevel=t}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new m.default(this.intervalMs),this.intervalScheduler.start(()=>f(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const t=this.logCapture.slice(0,this.batchSize),n=this.makeRequestBody(t);try{(yield fetch(this.url,Object.assign({method:"POST",body:n},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(t.length))}catch(s){console.warn("[POSTLogger] "+s.message)}finally{this.lock=!1}}))}stop(){var t;(t=this.intervalScheduler)===null||t===void 0||t.stop(),this.intervalScheduler=void 0,this.removeEventListener();const n=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,n)}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(t){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:t}))}log(t,n){if(t<this.logLevel)return;const s=Date.now();this.logCapture.push(new a.default(this.sequenceNumber,n,s,o.default[t])),this.sequenceNumber+=1}constructor(t){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:n,batchSize:s=Gf.BATCH_SIZE,intervalMs:p=Gf.INTERVAL_MS,logLevel:g=o.default.WARN,metadata:S,headers:u}=t;this.url=n,this.batchSize=s,this.intervalMs=p,this.logLevel=g,this.metadata=S,this.headers=u,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}},"POSTLogger");c.default=i,i.BATCH_SIZE=85,i.INTERVAL_MS=2e3}).call(this,d("yLpj"))},rfXi:function(U,c,d){U.exports={default:d("myGB"),__esModule:!0}},rhlI:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Fl{static isTimestampRecent(h,m){return Date.now()<h+m}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}isConnectionStartRecent(h){return Fl.isTimestampRecent(this.connectionStartTimestampMs,h)}isLastPacketLossRecent(h){return Fl.isTimestampRecent(this.lastPacketLossInboundTimestampMs,h)}isGoodSignalRecent(h){return Fl.isTimestampRecent(this.lastGoodSignalTimestampMs,h)}isWeakSignalRecent(h){return Fl.isTimestampRecent(this.lastWeakSignalTimestampMs,h)}isNoSignalRecent(h){return Fl.isTimestampRecent(this.lastNoSignalTimestampMs,h)}clone(){const h=new Fl;return h.connectionStartTimestampMs=this.connectionStartTimestampMs,h.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,h.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,h.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,h.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,h.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,h.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,h.consecutiveMissedPongs=this.consecutiveMissedPongs,h.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),h.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),h.audioSpeakerDelayMs=this.audioSpeakerDelayMs,h}setConsecutiveMissedPongs(h){this.consecutiveMissedPongs=h}setConsecutiveStatsWithNoPackets(h){this.consecutiveStatsWithNoPackets=h}setConsecutiveStatsWithNoAudioPacketsSent(h){this.consecutiveStatsWithNoAudioPacketsSent=h}setLastPacketLossInboundTimestampMs(h){this.lastPacketLossInboundTimestampMs=h}setLastNoSignalTimestampMs(h){this.lastNoSignalTimestampMs=h}setLastWeakSignalTimestampMs(h){this.lastWeakSignalTimestampMs=h}setLastGoodSignalTimestampMs(h){this.lastGoodSignalTimestampMs=h}setAudioSpeakerDelayMs(h){this.audioSpeakerDelayMs=h}constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}},"ConnectionHealthData");c.default=v},riOr:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("OND3"));let m=r(class Gd extends h.default{setEncodingParameters(o){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(o.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===h.default.LOW_LEVEL_NAME&&this.copyEncodingParams(o.get(h.default.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===h.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(o.get(h.default.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}constructor(o,i,e){super(o,i,e);let t=2;this.videoQualityControlParameterMap=new Map;for(let n=0;n<Gd.NAME_ARR_ASCENDING.length;n++){const s=Gd.NAME_ARR_ASCENDING[n];this.videoQualityControlParameterMap.set(s,{rid:s,scaleResolutionDownBy:t,maxBitrate:Gd.BITRATE_ARR_ASCENDING[n]*1e3}),t=t/2}}},"SimulcastContentShareTransceiverController");c.default=m,m.NAME_ARR_ASCENDING=["low","hi"],m.BITRATE_ARR_ASCENDING=[300,1200]},riVe:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(P,x,k,B){function R(N){return N instanceof k?N:new k(function(w){w(N)})}return r(R,"adopt"),new(k||(k=Promise))(function(N,w){function A(X){try{K(B.next(X))}catch(j){w(j)}}r(A,"fulfilled");function D(X){try{K(B.throw(X))}catch(j){w(j)}}r(D,"rejected");function K(X){X.done?N(X.value):R(X.value).then(A,D)}r(K,"step"),K((B=B.apply(P,x||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.decideModel=c.measureAndDecideExecutionApproach=void 0;const f=d("GEtQ"),h=d("hlxM"),m=3,a=2.5,o=2.63,i=.6,e=.65,t=.5,n=.7,s={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};let p=r(class{roundtrip(x,k,B){return new Promise((R,N)=>{this.worker.then(w=>{let A;A=r(D=>{const{message:K,key:X}=D.data;K===k&&X===B&&(w.removeEventListener("message",A),R(D.data))},"listener"),w.addEventListener("message",A),w.postMessage(x)}).catch(w=>{var A;(A=this.logger)===null||A===void 0||A.error("Failed to load worker.",w),N(w)})})}supportsSIMD(x){const k="simd",B=x||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,R={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:B,key:k};return this.roundtrip(R,"simd-support",k).then(N=>N.supports)}measure(x,k){const B=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,R=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,N=x?R:B,w=`bench:${x}`,A={message:"measure",fetchBehavior:this.fetchBehavior,budget:k,path:N,key:w};return this.roundtrip(A,"measurement",w).then(D=>{if(D.measurement)return D.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(x=>{var k;(k=this.logger)===null||k===void 0||k.debug("Stopping estimator worker."),x.terminate()}).catch(x=>{})}constructor(x,k){this.fetchConfig=x,this.logger=k;const B=`${x.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:x.headers,escapedQueryString:x.escapedQueryString},this.worker=f.loadWorker(B,"VoiceFocusEstimator",this.fetchBehavior,k)}},"Estimator");const g=r((P,x)=>P===1?i:x==="quality"?e*P:t*P,"inlineScoreMultiplier"),S=r(function(P){let{supportsSIMD:x,supportsSAB:k,duration:B,executionPreference:R="auto",simdPreference:N,variantPreference:w="auto",namePreference:A="default",usagePreference:D,executionQuantaPreference:K=m}=P,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,j=arguments.length>2?arguments[2]:void 0;const me=N==="force"||N!=="disable"&&x,we=B!==-1,pe=we?(me?a:o)/B:0,Ae=me?X.simd:X.wasm,Je=we?g(K,D)*pe:0,Fe=we?n*pe:0,Ue=A,Le=r(pt=>({supported:!1,reason:pt}),"unsupported");if(we){if(pe<Ae.noSupport)return Le(`Performance score ${pe} worse than threshold ${Ae.noSupport}.`)}else if(R==="auto"||w==="auto")return Le(`Missing explicit execution (${R}) or variant (${w}) preference, but no scoring performed.`);j==null||j.debug(`Bench duration ${B} yields inline score ${Je} and worker score ${Fe}.`);const at=r((pt,ct,rt)=>({supported:!0,useSIMD:me,processor:pt,executionApproach:ct,variant:rt,executionQuanta:ct==="inline"?K:void 0,name:Ue}),"succeed"),lt=r((pt,ct,rt)=>ct!=="auto"?!we||pt>rt[ct]?ct:"failed":pt>rt.c100?"c100":pt>rt.c50?"c50":pt>rt.c20?"c20":pt>rt.c10?"c10":"failed","resolveVariant"),ot=r(pt=>{switch(pt||"auto"){case"auto":{let ct=ot("inline"),rt=ot("worker");return j==null||j.debug(`Reducing auto preference: ${JSON.stringify(ct)} vs ${JSON.stringify(rt)}`),ct.supported===!1||rt.supported===!1?rt:ct.variant===rt.variant||ct.variant==="c50"?ct:rt}case"worker":return h.supportsSharedArrayBuffer(globalThis,window,j)?ot("worker-sab"):ot("worker-postMessage");case"inline":{const ct=lt(Je,w,Ae.inline);return ct==="failed"?Le(`Performance score ${Je} not sufficient for inline use with variant preference ${w}.`):at("voicefocus-inline-processor","inline",ct)}case"worker-sab":{if(!k){const rt="Requested worker-sab but no SharedArrayBuffer support.";return j==null||j.warn(rt),{supported:!1,reason:rt}}const ct=lt(Fe,w,Ae.worker);return ct==="failed"?Le(`Performance score ${Fe} not sufficient for worker use with variant preference ${w}.`):at("voicefocus-worker-sab-processor","worker-sab",ct)}case"worker-postMessage":{const ct=lt(Fe,w,Ae.worker);if(ct==="failed")return Le(`Performance score ${Fe} not sufficient for worker use.`);if(Ue==="ns_es"){const rt="Requested echo suppression but postMessage executor does not support it.";return j==null||j.warn(rt),{supported:!1,reason:rt}}return at("voicefocus-worker-postMessage-processor","worker-postMessage",ct)}}},"reducePreference");return ot(R)},"decideExecutionApproach"),u=r((P,x,k,B)=>v(void 0,void 0,void 0,function*(){const R={supportsSIMD:P,supportsSAB:h.supportsSharedArrayBuffer(globalThis,window,k),duration:-1};if(P)return k==null||k.info("Supports SIMD: true (force)"),R;const N=!B,w=B||new p(x,k);try{const A=!h.isOldChrome(window,k)&&(yield w.supportsSIMD());return k==null||k.info(`Supports SIMD: ${A} (force: ${P})`),R.supportsSIMD=A,R}finally{N&&w.stop()}}),"featureCheck"),l=r((P,x,k,B)=>v(void 0,void 0,void 0,function*(){const R=new p(x,B);try{const N=yield u(P,x,B,R);if(N.supportsSIMD)try{return N.duration=yield R.measure(!0,k),B==null||B.info("SIMD timing:",N.duration),N}catch{B==null||B.warn("Failed SIMD estimation; falling back to non-SIMD."),N.supportsSIMD=!1}return N.duration=yield R.measure(!1,k),B==null||B.info("No-SIMD timing:",N.duration),N}catch(N){throw B==null||B.error("Could not feature check.",N),N}finally{R.stop()}}),"estimateAndFeatureCheck"),E=r(function(P,x,k){let B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s;return v(void 0,void 0,void 0,function*(){let R=P.executionPreference;const{usagePreference:N,variantPreference:w,namePreference:A,simdPreference:D,estimatorBudget:K,executionQuantaPreference:X}=P;N==="interactivity"&&R!=="inline"&&(k==null||k.debug(`Overriding execution preference ${R} to reflect interactivity preference.`),R="inline");const j=D==="force",te=w!=="auto",me=R!=="auto";let we;try{te&&me?we=yield u(j,x,k):we=yield l(j,x,K,k)}catch(pe){throw k==null||k.error("Could not load estimator.",pe),new Error("Could not load Voice Focus estimator.")}return S(Object.assign(Object.assign({},we),{simdPreference:D,executionPreference:R,variantPreference:w,namePreference:A,usagePreference:N,executionQuantaPreference:X}),B,k)})},"measureAndDecideExecutionApproach");c.measureAndDecideExecutionApproach=E;const O=r(P=>{let{category:x,name:k,variant:B,simd:R,url:N}=P;return`${x}-${k}-${B}-v1${R?"_simd":""}`},"decideModel");c.decideModel=O},rkwE:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("j+uH"));let m=r(class extends h.default{run(){var o,i;return v(this,void 0,void 0,function*(){if(!(!((i=(o=this.context.meetingSessionConfiguration)===null||o===void 0?void 0:o.urls)===null||i===void 0)&&i.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let e;try{e=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}e?this.context.activeAudioInput=e:this.context.logger.warn("an audio input is not available")})}constructor(o){super(o.logger),this.context=o,this.taskName="ReceiveAudioInputTask"}},"ReceiveAudioInputTask");c.default=m},rw3l:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(s,p,g,S){function u(l){return l instanceof g?l:new g(function(E){E(l)})}return r(u,"adopt"),new(g||(g=Promise))(function(l,E){function O(k){try{x(S.next(k))}catch(B){E(B)}}r(O,"fulfilled");function P(k){try{x(S.throw(k))}catch(B){E(B)}}r(P,"rejected");function x(k){k.done?l(k.value):u(k.value).then(O,P)}r(x,"step"),x((S=S.apply(s,p||[])).next())})},f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("ZS2b")),m=f(d("ppUg")),a=f(d("CAce")),o=f(d("HbHZ")),i=d("XCDq"),e=d("Aplu"),t=f(d("j+uH"));let n=r(class extends t.default{removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return v(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(p){if(p.type!==o.default.ReceivedSignalFrame||p.message.type!==i.SdkSignalFrame.Type.INDEX)return;const g=p.message.index;this.context.logger.info(`received new index ${JSON.stringify(g)}`),this.handleIndexFrame(g)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(p){if(!p)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=p;return}else this.pendingIndex=null;const g=this.context.audioVideoController.configuration.credentials.attendeeId;p.sources=p.sources.filter(P=>{const x=new m.default(P.attendeeId);return!(x.base()===g&&x.hasModality(m.default.MODALITY_CONTENT))});const{videoStreamIndex:S,videoDownlinkBandwidthPolicy:u,videoUplinkBandwidthPolicy:l}=this.context,E=S.allVideoSendingSourcesExcludingSelf(g);S.integrateIndexFrame(p),u.updateIndex(S),l.updateIndex(S),this.resubscribe(u,l),this.updateVideoAvailability(p),this.handleIndexVideosPausedAtSource(),p.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(p);const O=S.allVideoSendingSourcesExcludingSelf(g);this.areVideoSourcesEqual(E,O)||this.context.audioVideoController.forEachObserver(P=>{e.Maybe.of(P.remoteVideoSourcesDidChange).map(x=>x.bind(P)(O))})}areVideoSourcesEqual(p,g){if(p.length!==g.length)return!1;const S=r((E,O)=>E.attendee.attendeeId.localeCompare(O.attendee.attendeeId),"compare"),u=[...p].sort(S),l=[...g].sort(S);for(let E=0;E<u.length;E++)if(u[E].attendee.attendeeId!==l[E].attendee.attendeeId)return!1;return!0}resubscribe(p,g){const S=p.wantsResubscribe(),u=(this.context.videoDuplexMode===i.SdkStreamServiceType.TX||this.context.videoDuplexMode===i.SdkStreamServiceType.DUPLEX)&&g.wantsResubscribe(),l=S||u;if(this.logger.info(`should resubscribe: ${l} (downlink: ${S} uplink: ${u})`),!l)return;const E=p.chooseSubscriptions();this.context.videosToReceive=E.truncate(this.context.videoSubscriptionLimit),E.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=g.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${u} down=${S}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(p){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const g=new h.default;g.remoteVideoAvailable=!this.context.videosToReceive.empty(),g.canStartLocalVideo=!p.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(g))&&(this.context.lastKnownVideoAvailability=g.clone(),this.context.audioVideoController.forEachObserver(S=>{e.Maybe.of(S.videoAvailabilityDidChange).map(u=>u.bind(S)(g.clone()))}))}handleSupportedVideoReceiveCodecIntersection(p){if(this.context.videoSendCodecPreferences===void 0)return;const g=[];let S=!1;for(const u of this.context.videoSendCodecPreferences){let l=!1;for(const E of p.supportedReceiveCodecIntersection)if(u.equals(a.default.fromSignaled(E))){l=!0,g.push(u);break}this.context.currentVideoSendCodec!==void 0&&!l&&u.equals(this.context.currentVideoSendCodec)&&(S=!0)}g.length>0?this.context.meetingSupportedVideoSendCodecPreferences=g:(this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0),S&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const p=this.context.videoStreamIndex.streamsPausedAtSource();for(const g of this.context.videoTileController.getAllVideoTiles()){const S=g.state();p.contain(S.streamId)?g.markPoorConnection()&&this.logger.info(`marks the tile ${S.tileId} as having a poor connection`):g.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${S.tileId} as having a poor connection`)}}constructor(p){super(p.logger),this.context=p,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}},"ReceiveVideoStreamIndexTask");c.default=n},rwhO:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDestroyable=void 0;function v(f){return f&&"destroy"in f}r(v,"isDestroyable"),c.isDestroyable=v},s0Ci:function(U,c,d){"use strict";U.exports=o;var v=d("kU+7"),f,h=v.LongBits,m=v.utf8;function a(p,g){return RangeError("index out of range: "+p.pos+" + "+(g||1)+" > "+p.len)}r(a,"indexOutOfRange");function o(p){this.buf=p,this.pos=0,this.len=p.length}r(o,"Reader");var i=typeof Uint8Array<"u"?r(function(g){if(g instanceof Uint8Array||Array.isArray(g))return new o(g);throw Error("illegal buffer")},"create_typed_array"):r(function(g){if(Array.isArray(g))return new o(g);throw Error("illegal buffer")},"create_array"),e=r(function(){return v.Buffer?r(function(S){return(o.create=r(function(l){return v.Buffer.isBuffer(l)?new f(l):i(l)},"create_buffer"))(S)},"create_buffer_setup"):i},"create");o.create=e(),o.prototype._slice=v.Array.prototype.subarray||v.Array.prototype.slice,o.prototype.uint32=r(function(){var g=4294967295;return r(function(){if(g=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(g=(g|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return g},"read_uint32")},"read_uint32_setup")(),o.prototype.int32=r(function(){return this.uint32()|0},"read_int32"),o.prototype.sint32=r(function(){var g=this.uint32();return g>>>1^-(g&1)|0},"read_sint32");function t(){var p=new h(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw a(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<g*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<g*7)>>>0,p}if(this.len-this.pos>4){for(;g<5;++g)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;g<5;++g){if(this.pos>=this.len)throw a(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<g*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}r(t,"readLongVarint"),o.prototype.bool=r(function(){return this.uint32()!==0},"read_bool");function n(p,g){return(p[g-4]|p[g-3]<<8|p[g-2]<<16|p[g-1]<<24)>>>0}r(n,"readFixed32_end"),o.prototype.fixed32=r(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)},"read_fixed32"),o.prototype.sfixed32=r(function(){if(this.pos+4>this.len)throw a(this,4);return n(this.buf,this.pos+=4)|0},"read_sfixed32");function s(){if(this.pos+8>this.len)throw a(this,8);return new h(n(this.buf,this.pos+=4),n(this.buf,this.pos+=4))}r(s,"readFixed64"),o.prototype.float=r(function(){if(this.pos+4>this.len)throw a(this,4);var g=v.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},"read_float"),o.prototype.double=r(function(){if(this.pos+8>this.len)throw a(this,4);var g=v.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},"read_double"),o.prototype.bytes=r(function(){var g=this.uint32(),S=this.pos,u=this.pos+g;if(u>this.len)throw a(this,g);if(this.pos+=g,Array.isArray(this.buf))return this.buf.slice(S,u);if(S===u){var l=v.Buffer;return l?l.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,S,u)},"read_bytes"),o.prototype.string=r(function(){var g=this.bytes();return m.read(g,0,g.length)},"read_string"),o.prototype.skip=r(function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw a(this,g);this.pos+=g}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},"skip"),o.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=this.uint32()&7)!==4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},o._configure=function(p){f=p,o.create=e(),f._configure();var g=v.Long?"toLong":"toNumber";v.merge(o.prototype,{int64:r(function(){return t.call(this)[g](!1)},"read_int64"),uint64:r(function(){return t.call(this)[g](!0)},"read_uint64"),sint64:r(function(){return t.call(this).zzDecode()[g](!1)},"read_sint64"),fixed64:r(function(){return s.call(this)[g](!0)},"read_fixed64"),sfixed64:r(function(){return s.call(this)[g](!1)},"read_sfixed64")})}},s2er:function(U,c,d){var v=d("VSTI"),f=d("7whZ"),h="__core-js_shared__",m=f[h]||(f[h]={});(U.exports=function(a,o){return m[a]||(m[a]=o!==void 0?o:{})})("versions",[]).push({version:v.version,mode:d("5ETA")?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},s3Gi:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckContentShareConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed",f[f.PermissionDenied=2]="PermissionDenied",f[f.TimedOut=3]="TimedOut",f[f.ConnectionFailed=4]="ConnectionFailed"})(v=c.CheckContentShareConnectivityFeedback||(c.CheckContentShareConnectivityFeedback={})),c.default=v},s3Ml:function(U,c,d){U.exports={default:d("QRdY"),__esModule:!0}},sINF:function(U,c,d){"use strict";function v(h){return function(m){var a=m.dispatch,o=m.getState;return function(i){return function(e){return typeof e=="function"?e(a,o,h):i(e)}}}}r(v,"createThunkMiddleware");var f=v();f.withExtraArgument=v,c.a=f},sTsL:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckVideoConnectivityFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.VideoInputRequestFailed=1]="VideoInputRequestFailed",f[f.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",f[f.ConnectionFailed=3]="ConnectionFailed",f[f.VideoNotSent=4]="VideoNotSent"})(v=c.CheckVideoConnectivityFeedback||(c.CheckVideoConnectivityFeedback={})),c.default=v},sbOA:function(U,c,d){var v=d("d+lc"),f=d("I90/");U.exports=d("VSTI").getIterator=function(h){var m=f(h);if(typeof m!="function")throw TypeError(h+" is not iterable!");return v(m.call(h))}},sd34:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.numToUint8=void 0;function v(f){return new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255])}r(v,"numToUint8"),c.numToUint8=v},sdHd:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{reportEvent(h,m,a){}start(){}stop(){}constructor(){}},"NoOpEventReporter");c.default=v},sf8V:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("KJDN"));let h=r(class extends f.default{constructor(a){super(a),this.name="TypeError"}},"TypeError");c.default=h},sfTB:function(U,c,d){"use strict";(function(v){var f=this&&this.__awaiter||function(n,s,p,g){function S(u){return u instanceof p?u:new p(function(l){l(u)})}return r(S,"adopt"),new(p||(p=Promise))(function(u,l){function E(x){try{P(g.next(x))}catch(k){l(k)}}r(E,"fulfilled");function O(x){try{P(g.throw(x))}catch(k){l(k)}}r(O,"rejected");function P(x){x.done?u(x.value):S(x.value).then(E,O)}r(P,"step"),P((g=g.apply(n,s||[])).next())})},h=this&&this.__rest||function(n,s){var p={};for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&s.indexOf(g)<0&&(p[g]=n[g]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,g=Object.getOwnPropertySymbols(n);S<g.length;S++)s.indexOf(g[S])<0&&Object.prototype.propertyIsEnumerable.call(n,g[S])&&(p[g[S]]=n[g[S]]);return p},m=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0});const a=m(d("cKqT")),o=m(d("BkFD")),i=m(d("BEtg")),e=d("VCUZ");let t=r(class sl{addEventListeners(){!this.beaconEventListener||!("window"in v)||!window.addEventListener||!("document"in v)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(s){(s.type==="visibilitychange"&&document.visibilityState==="hidden"||s.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in v)||!window.removeEventListener||!("document"in v)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var s;this.removeEventListeners(),this.addEventListeners(),(s=this.intervalScheduler)===null||s===void 0||s.stop(),this.intervalScheduler=new o.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var s;(s=this.intervalScheduler)===null||s===void 0||s.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(s){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(s)}`);const{name:p,ts:g,attributes:S}=s,u=S&&this.filterAttributes(S,this.attributesToFilter),l=Object.assign({name:p,ts:g},u);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(l)}`);const E=this.getSize(l);if(E>sl.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error(`Event Reporting - Item to be added has size ${E} bytes. Item cannot exceed max item size allowed of ${sl.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(p)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(l)}`),this.sendEventImmediately({name:p,ts:g,attributes:u});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(l),this.ingestionEventSize+=E,this.bufferItemThresholdReached(E)){const O=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(O),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(s,p){const g=new Set(p);return Object.keys(s).filter(u=>g.has(u)).forEach(u=>delete s[u]),s}initializeAndGetCurrentIngestionEvent(){const s={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(s),s}bufferItemThresholdReached(s){return s+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===sl.MAX_PAYLOAD_ITEMS}getSize(s){let p=0;if(typeof s=="object")for(const[g,S]of Object.entries(s))p+=this.getPrimitiveSize(g),p+=this.getSize(S);else p+=this.getPrimitiveSize(s);return p}getPrimitiveSize(s){let p=0;return typeof s=="string"?p+=s.length*2:typeof s=="number"&&(p+=8),p}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(s){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.isEmpty()?[]:(s=Math.min(this.buffer.length,s+1),this.buffer.splice(p,s))}makeBeaconRequestBody(s){const p={metadata:this.metadata,events:s,authorization:this.authenticationToken};return JSON.stringify(p)}makeRequestBody(s){const p={metadata:this.metadata,events:s};return JSON.stringify(p)}sendEventImmediately(s){return f(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(s)}`);const{name:p,ts:g,attributes:S}=s,u={type:this.type,v:this.v,payloads:[Object.assign({name:p,ts:g},S)]};let l=!1,E=null;const O=this.makeRequestBody([u]);try{if(E=yield this.send(O),E.ok){try{const P=yield E.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${O}, message: ${JSON.stringify(P)}`)}catch(P){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${P} for event ${O}`)}return}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${O} with response status ${E.status}`),l=!0}catch(P){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${O} to the ingestion endpoint ${P}.`),l=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const x=this.makeBeaconRequestBody([u]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${x}`),navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,x)?l=!1:l=!0}}catch{this.logger.warn(`Event Reporting - Error sending beacon for an important event ${O}`),l=!0}}l&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${O}`),this.failedIngestionEvents.push(u))})}send(s){return f(this,void 0,void 0,function*(){const p=new a.default(sl.RETRY_FIXED_BACKOFF_WAIT_MS,sl.RETRY_SHORT_BACKOFF_MS,sl.RETRY_LONG_BACKOFF_MS);try{let g=0;for(;g<this.retryCountLimit;){const S=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:s});if(S.ok||!sl.SENDING_FAILURE_CODES.has(S.status))return S;if(this.logger.warn(`Will retry sending failure for ${s} due to status code ${S.status}.`),g++,g<this.retryCountLimit){const u=p.nextBackoffAmountMs();yield e.wait(u)}}if(g===this.retryCountLimit)throw new Error(`Retry count limit reached for ${s}`)}catch(g){throw g}})}sendBeacon(){return f(this,void 0,void 0,function*(){const s=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(s)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const g=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);s.push(g),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(g)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const g=this.failedIngestionEvents.map(S=>this.deepCopyCurrentIngestionEvent(S));s.push(...g),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(g)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(g=>{s.push(...g),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(g)}`)}),this.cancellableEvents.clear()),s.length===0)return;const p=this.makeBeaconRequestBody(s);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${p}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,p)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${p}`)}catch(g){this.logger.warn(`Event Reporting - Sending beacon data ${p} failed with error ${g}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return f(this,void 0,void 0,function*(){this.stop(),this.reset()})}constructor(s,p,g,S,u){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=K=>({type:K.type,v:K.v,payloads:[...K.payloads]}),this.sendEvents=()=>f(this,void 0,void 0,function*(){if(this.lock)return;const K=this.getItems(this.flushSize);if(K.length===0)return;this.lock=!0;const X=this.makeRequestBody(K);let j=!1;const te=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(te,K);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${X}`);const me=yield this.send(X);if(this.cancellableEvents.delete(te),!me.ok)this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${X} with response status ${me.status}`),j=!0;else try{const we=yield me.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${X} message: ${JSON.stringify(we)}`)}catch(we){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${we} for events ${X}`)}}catch(me){j=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${X} to the ingestion endpoint ${me}`)}finally{this.lock=!1}j&&(this.cancellableEvents.delete(te),this.failedIngestionEvents.push(...K))});const l=new i.default(u).getParserResult(),{browserMajorVersion:E}=l,O=h(l,["browserMajorVersion"]),P=p.toJSON(),{type:x,v:k}=P,B=h(P,["type","v"]);this.authenticationToken=p.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},O),B),Object.keys(this.metadata).forEach(K=>this.attributesToFilter.push(K)),this.type=x,this.v=k,this.ingestionURL=g,this.logger=u,this.importantEvents=new Set(S);const{maxBufferCapacityKb:R,totalBufferItems:N,flushSize:w,flushIntervalMs:A,retryCountLimit:D}=s;this.maxBufferCapacityBytes=R*1024,this.totalBufferItems=N,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/N),this.flushIntervalMs=A,this.flushSize=w,this.retryCountLimit=D,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=K=>this.beaconEventHandler(K),this.addEventListeners()}},"InMemoryJSONEventBuffer");c.default=t,t.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),t.RETRY_FIXED_BACKOFF_WAIT_MS=0,t.RETRY_SHORT_BACKOFF_MS=1e3,t.RETRY_LONG_BACKOFF_MS=15e3,t.MAX_PAYLOAD_ITEMS=2,t.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3}).call(this,d("yLpj"))},sk9p:function(U,c,d){"use strict";c.__esModule=!0;var v=d("k/8l"),f=a(v),h=d("FyfS"),m=a(h);function a(o){return o&&o.__esModule?o:{default:o}}r(a,"_interopRequireDefault"),c.default=function(){function o(i,e){var t=[],n=!0,s=!1,p=void 0;try{for(var g=(0,m.default)(i),S;!(n=(S=g.next()).done)&&(t.push(S.value),!(e&&t.length===e));n=!0);}catch(u){s=!0,p=u}finally{try{!n&&g.return&&g.return()}finally{if(s)throw p}}return t}return r(o,"sliceIterator"),function(i,e){if(Array.isArray(i))return i;if((0,f.default)(Object(i)))return o(i,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},sudc:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(w,A,D,K){function X(j){return j instanceof D?j:new D(function(te){te(j)})}return r(X,"adopt"),new(D||(D=Promise))(function(j,te){function me(Ae){try{pe(K.next(Ae))}catch(Je){te(Je)}}r(me,"fulfilled");function we(Ae){try{pe(K.throw(Ae))}catch(Je){te(Je)}}r(we,"rejected");function pe(Ae){Ae.done?j(Ae.value):X(Ae.value).then(me,we)}r(pe,"step"),pe((K=K.apply(w,A||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.getAudioInput=c.createAudioContext=c.VoiceFocus=void 0;const f=d("hxn6"),h=d("o3U+"),m=d("EkyC"),a=d("KvYa"),o=d("tFDz"),i=d("r7zX"),e=d("9AGb"),n={useVoiceFocusAGC:!1,useBuiltInAGC:!0},s="stable-v1",p="https://static.sdkassets.chime.aws",g={processors:`${p}/processors/`,workers:`${p}/workers/`,wasm:`${p}/wasm/`,models:`${p}/wasm/`},S={latencyHint:0},u={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},l=Object.assign(Object.assign({},u),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),E=Object.assign(Object.assign({},u),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),O={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:i.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:e.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:o.default}},P=r((w,A)=>{if(w!==void 0&&!h.isValidAssetGroup(w))throw new Error(`Invalid asset group ${w}`);if(A!==void 0&&!h.isValidRevisionID(A))throw new Error(`Invalid revision ID ${A}`)},"validateAssetSpec"),x=r((w,A)=>{let D;if(A.useBuiltInAGC?D=l:D=E,!w)return{audio:D};if(!w.audio)return w;if(w.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},w),{audio:w.audio===!0?D:Object.assign(Object.assign({},w.audio),D)})},"mungeConstraints"),k=r((w,A)=>`${A.models}${f.decideModel(w)}.wasm`,"urlForModel");let B=r(class vv{static isSupported(A,D){const{fetchBehavior:K,logger:X}=D||{};if(typeof globalThis>"u")return X==null||X.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!a.supportsAudioWorklet(globalThis,X))return X==null||X.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!a.supportsWASM(globalThis,X))return X==null||X.debug("Browser does not support WASM."),Promise.resolve(!1);a.supportsWASMStreaming(globalThis,X)||X==null||X.debug("Browser does not support streaming WASM compilation.");const{assetGroup:j=s,revisionID:te,paths:me=g}=A||{};P(j,te);const we=te?{revisionID:te}:{assetGroup:j},pe=h.addQueryParams(K,we),Ae=Object.assign(Object.assign({},pe),{paths:me});return a.supportsVoiceFocusWorker(globalThis,Ae,X)}static mungeExecutionPreference(A,D){const K=A===void 0||A==="auto";if(a.isSafari(globalThis)){if(K||A==="inline")return"inline";if(!K)throw new Error(`Unsupported execution preference ${A}`)}if(A==="worker-sab"&&!a.supportsSharedArrayBuffer(globalThis,globalThis,D))throw new Error(`Unsupported execution preference ${A}`);return A||"auto"}static configure(A,D){return v(this,void 0,void 0,function*(){const{fetchBehavior:K,preResolve:X,logger:j}=D||{},{category:te="voicefocus",name:me="default",variant:we="auto",assetGroup:pe=s,revisionID:Ae,simd:Je="detect",executionPreference:Fe="auto",executionQuantaPreference:Ue,usagePreference:Le="interactivity",estimatorBudget:at=100,paths:lt=g,thresholds:ot}=A||{};if(j==null||j.debug("Configuring Voice Focus with spec",A),te!==void 0&&te!=="voicefocus")throw new Error(`Unrecognized category ${te}`);if(me!==void 0&&me!=="default"&&me!=="ns_es")throw new Error(`Unrecognized feature name ${me}`);if(we!==void 0&&!["auto","c100","c50","c20","c10"].includes(we))throw new Error(`Unrecognized feature variant ${we}`);if(Ue!==void 0&&![1,2,3].includes(Ue))throw new Error(`Unrecognized execution quanta preference ${Ue}`);if(P(pe,Ae),Je!==void 0&&!["detect","force","disable"].includes(Je))throw new Error(`Unrecognized SIMD option ${Je}`);if(Fe!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(Fe))throw new Error(`Unrecognized execution preference ${Fe}`);if(Le!==void 0&&!["quality","interactivity"].includes(Le))throw new Error(`Unrecognized usage preference ${Le}`);const pt={executionPreference:this.mungeExecutionPreference(Fe,j),usagePreference:Le,executionQuantaPreference:Ue,variantPreference:we,namePreference:me,simdPreference:Je,estimatorBudget:at},ct=Ae?{revisionID:Ae}:{assetGroup:pe},rt=h.addQueryParams(K,ct),Tn=Object.assign({paths:lt},rt),Qt=yield f.measureAndDecideExecutionApproach(pt,Tn,j,ot);if(Qt.supported===!1)return{supported:!1,reason:Qt.reason};j==null||j.info("Decided execution approach",Qt);const{useSIMD:Ft,processor:Rn,variant:Pn,executionQuanta:ti}=Qt,Sn={category:te||"voicefocus",name:me||"default",variant:Pn,simd:Ft};if(X){const oi=k(Sn,lt);Sn.url=yield h.resolveURL(oi,rt)}return{fetchConfig:Tn,model:Sn,processor:Rn,executionQuanta:ti,supported:!0}})}static init(A,D){let{delegate:K,preload:X=!0,logger:j}=D;return v(this,void 0,void 0,function*(){if(A.supported===!1)throw new Error("Voice Focus not supported. Reason: "+A.reason);const{model:te,processor:me,fetchConfig:we,executionQuanta:pe}=A,{simd:Ae,name:Je}=te,{paths:Fe}=we;if(me!=="voicefocus-inline-processor"&&me!=="voicefocus-worker-postMessage-processor"&&me!=="voicefocus-worker-sab-processor")throw new Error(`Unknown processor ${me}`);const Ue=te.url||k(te,Fe);j==null||j.debug(`Using model URL ${Ue}.`);const Le=`${Fe.wasm}audio_buffer-v1${Ae?"_simd":""}.wasm`,at=`${Fe.wasm}resampler-v1${Ae?"_simd":""}.wasm`,lt=`${Fe.workers}worker-v1.js`,{file:ot,node:pt}=O[me],ct=`${Fe.processors}${ot}`,rt=yield m.loadWorker(lt,"VoiceFocusWorker",we,j);if(X){j==null||j.debug("Preloading",Ue);let Rn=a.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";rt.postMessage({message:Rn,preload:!0,key:"model",fetchBehavior:we,path:Ue})}const Qt={processor:me,worker:rt,audioBufferURL:Le,resamplerURL:at,fetchBehavior:we,modelURL:Ue,delegate:K,logger:j,numberOfInputs:Je==="ns_es"?2:1},Ft=new vv(rt,ct,pt,Qt,pe);return Promise.resolve(Ft)})}createNode(A,D){var K;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:X=A.sampleRate===16e3?16e3:48e3,enabled:j=!0,agc:te=n}=D||{},me=D==null?void 0:D.es,we={voiceFocusSampleRate:X,enabled:j,sendBufferCount:10,prefill:6,agc:te,executionQuanta:this.executionQuanta,supportFarendStream:me},pe=h.withQueryString(this.processorURL,(K=this.nodeOptions)===null||K===void 0?void 0:K.fetchBehavior);return A.audioWorklet.addModule(pe).then(()=>new this.nodeConstructor(A,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:we})))}applyToStream(A,D,K){return v(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const X=D.createMediaStreamSource(A),j=yield this.applyToSourceNode(X,D,K),te=D.createMediaStreamDestination();return j.connect(te),{node:j,source:X,destination:te,stream:te.stream}})}applyToSourceNode(A,D,K){return v(this,void 0,void 0,function*(){const X=yield this.createNode(D,K);return A.connect(X),X})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}constructor(A,D,K,X,j){this.processorURL=D,this.nodeConstructor=K,this.nodeOptions=X,this.executionQuanta=j,this.internal={worker:A,nodeOptions:X,isDestroyed:!1}}},"VoiceFocus");c.VoiceFocus=B;const R=r(function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;return new(window.AudioContext||window.webkitAudioContext)(w)},"createAudioContext");c.createAudioContext=R;const N=r((w,A,D)=>v(void 0,void 0,void 0,function*(){var K,X;const{constraints:j,spec:te,delegate:me,preload:we=!0,options:pe}=A,{logger:Ae}=D,Je=yield B.configure(te,D);if(!Je.supported)return(K=D.logger)===null||K===void 0||K.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(j);const Fe=yield B.init(Je,{delegate:me,preload:we,logger:Ae}),Ue=((X=A.options)===null||X===void 0?void 0:X.agc)||n,Le=yield window.navigator.mediaDevices.getUserMedia(x(j,Ue));return Fe.applyToStream(Le,w,pe).then(at=>at.stream)}),"getAudioInput");c.getAudioInput=N},syoQ:function(U){U.exports=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}')},t9Fz:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(h,m,a,o){function i(e){return e instanceof a?e:new a(function(t){t(e)})}return r(i,"adopt"),new(a||(a=Promise))(function(e,t){function n(g){try{p(o.next(g))}catch(S){t(S)}}r(n,"fulfilled");function s(g){try{p(o.throw(g))}catch(S){t(S)}}r(s,"rejected");function p(g){g.done?e(g.value):i(g.value).then(n,s)}r(p,"step"),p((o=o.apply(h,m||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});let f=r(class{destroy(){return v(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(m){this.observerQueue.add(m),m.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(m){this.observerQueue.delete(m)}constructor(m,a){if(this.devicePixelRatioSource=m,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(i=>{i.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const o=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);typeof o.addEventListener=="function"?(o.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=o):typeof o.addListener=="function"?(o.addListener(this.mediaQueryListener),this.mediaQueryList=o):a.warn("ignoring DefaultDevicePixelRatioMonitor")}},"DefaultDevicePixelRatioMonitor");c.default=f},tA0R:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(eo){return eo&&eo.__esModule?eo:{default:eo}};Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultEventController=c.DefaultDevicePixelRatioMonitor=c.DefaultDeviceController=c.DefaultContentShareController=c.DefaultBrowserBehavior=c.DefaultAudioVideoFacade=c.DefaultAudioVideoController=c.DefaultAudioMixController=c.DefaultActiveSpeakerPolicy=c.DefaultActiveSpeakerDetector=c.DataMessage=c.CreateSDPTask=c.CreatePeerConnectionTask=c.ContentShareMediaStreamBroker=c.ContentShareConstants=c.ConsoleLogger=c.ConnectionHealthPolicyConfiguration=c.ConnectionHealthData=c.ClientVideoStreamReceivingReport=c.ClientMetricReportMediaType=c.ClientMetricReportDirection=c.ClientMetricReport=c.CleanStoppedSessionTask=c.CleanRestartedSessionTask=c.CheckVideoInputFeedback=c.CheckVideoConnectivityFeedback=c.CheckNetworkUDPConnectivityFeedback=c.CheckNetworkTCPConnectivityFeedback=c.CheckContentShareConnectivityFeedback=c.CheckCameraResolutionFeedback=c.CheckAudioOutputFeedback=c.CheckAudioInputFeedback=c.CheckAudioConnectivityFeedback=c.CanvasVideoFrameBuffer=c.CSPMonitor=c.BitrateParameters=c.BaseTask=c.BaseConnectionHealthPolicy=c.BackgroundReplacementVideoFrameProcessor=c.BackgroundFilterVideoFrameProcessor=c.BackgroundBlurVideoFrameProcessor=c.BackgroundBlurStrength=c.AudioVideoControllerState=c.AudioProfile=c.AudioLogEvent=c.Attendee=c.AttachMediaInputTask=c.AsyncScheduler=c.ApplicationMetadata=c.AllHighestVideoBandwidthPolicy=void 0,c.MeetingSessionCredentials=c.MeetingSessionConfiguration=c.MeetingReadinessCheckerConfiguration=c.MeetingEventsClientConfiguration=c.MediaDeviceProxyHandler=c.Maybe=c.LogLevel=c.Log=c.ListenForVolumeIndicatorsTask=c.LeaveAndReceiveLeaveAckTask=c.JoinAndReceiveIndexTask=c.IntervalScheduler=c.InMemoryJSONEventBuffer=c.GlobalMetricReport=c.GetUserMediaError=c.FullJitterLimitedBackoff=c.FullJitterBackoffFactory=c.FullJitterBackoff=c.FinishGatheringICECandidatesTask=c.EventIngestionConfiguration=c.EventBufferConfiguration=c.DeviceSelection=c.DevicePixelRatioWindowSource=c.DefaultWebSocketAdapter=c.DefaultVolumeIndicatorAdapter=c.DefaultVideoTransformDevice=c.DefaultVideoTileFactory=c.DefaultVideoTileController=c.DefaultVideoTile=c.DefaultVideoStreamIndex=c.DefaultVideoStreamIdSet=c.DefaultVideoFrameProcessorPipeline=c.DefaultVideoCaptureAndEncodeParameter=c.DefaultUserAgentParser=c.DefaultTranscriptionController=c.DefaultTransceiverController=c.DefaultSimulcastUplinkPolicyForContentShare=c.DefaultSimulcastUplinkPolicy=c.DefaultSignalingClient=c.DefaultSigV4=c.DefaultSessionStateController=c.DefaultReconnectController=c.DefaultRealtimeController=c.DefaultPingPong=c.DefaultModality=c.DefaultMessagingSession=c.DefaultMeetingSession=c.DefaultMeetingReadinessChecker=c.DefaultMeetingEventReporter=c.DefaultMediaDeviceFactory=void 0,c.SDPCandidateType=c.SDP=c.RunnableTask=c.ReconnectionHealthPolicy=c.ReceiveVideoStreamIndexTask=c.ReceiveVideoInputTask=c.ReceiveTURNCredentialsTask=c.ReceiveRemoteVideoPauseResumeTask=c.ReceiveAudioInputTask=c.RealtimeVolumeIndicator=c.RealtimeState=c.RealtimeAttendeePositionInFrame=c.PromoteToPrimaryMeetingTask=c.PromiseQueue=c.PrefetchSortBy=c.PrefetchOn=c.PermissionDeniedError=c.ParallelGroupTask=c.POSTLogger=c.OverconstrainedError=c.OpenSignalingConnectionTask=c.OnceTask=c.NotReadableError=c.NotFoundError=c.None=c.NoVideoUplinkBandwidthPolicy=c.NoVideoDownlinkBandwidthPolicy=c.NoOpVideoFrameProcessor=c.NoOpVideoElementFactory=c.NoOpTask=c.NoOpMediaStreamBroker=c.NoOpLogger=c.NoOpEventReporter=c.NoOpDeviceController=c.NoOpDebugLogger=c.NoOpAudioVideoController=c.NScaleVideoUplinkBandwidthPolicy=c.MutableVideoPreferences=c.MultiLogger=c.MonitorTask=c.ModelSpecBuilder=c.MessagingSessionConfiguration=c.Message=c.MeetingSessionVideoAvailability=c.MeetingSessionURLs=c.MeetingSessionTURNCredentials=c.MeetingSessionStatusCode=c.MeetingSessionStatus=c.MeetingSessionLifecycleEventCondition=c.MeetingSessionLifecycleEvent=void 0,c.VideoPriorityBasedPolicy=c.VideoPreferences=c.VideoPreference=c.VideoOnlyTransceiverController=c.VideoLogEvent=c.VideoFxProcessor=c.VideoCodecCapability=c.VideoAdaptiveProbePolicy=c.Versioning=c.UnusableAudioWarningConnectionHealthPolicy=c.TypeError=c.TranscriptionStatusType=c.TranscriptionStatus=c.TranscriptResult=c.TranscriptLanguageWithScore=c.TranscriptItemType=c.TranscriptItem=c.TranscriptEntity=c.TranscriptAlternative=c.Transcript=c.TimeoutTask=c.TimeoutScheduler=c.TaskStatus=c.TargetDisplaySize=c.SubscribeAndReceiveSubscribeAckTask=c.StreamMetricReport=c.Some=c.SingleNodeAudioTransformDevice=c.SimulcastVideoStreamIndex=c.SimulcastTransceiverController=c.SimulcastLayers=c.SimulcastContentShareTransceiverController=c.SignalingClientVideoSubscriptionConfiguration=c.SignalingClientSubscribe=c.SignalingClientJoin=c.SignalingClientEventType=c.SignalingClientEvent=c.SignalingClientConnectionRequest=c.SignalingAndMetricsConnectionMonitor=c.SetRemoteDescriptionTask=c.SetLocalDescriptionTask=c.SessionStateControllerTransitionResult=c.SessionStateControllerState=c.SessionStateControllerDeferPriority=c.SessionStateControllerAction=c.ServerSideNetworkAdaption=c.SerialGroupTask=c.SendingAudioFailureConnectionHealthPolicy=c.SendAndReceiveDataMessagesTask=c.SDPMediaSection=void 0,c.isVideoTransformDevice=c.isDestroyable=c.isAudioTransformDevice=c.ZLIBTextCompressor=c.WebSocketReadyState=c.WaitForAttendeePresenceTask=c.VoiceFocusTransformDevice=c.VoiceFocusDeviceTransformer=c.VideoTileState=c.VideoStreamDescription=c.VideoSource=c.VideoQualitySettings=c.VideoPriorityBasedPolicyConfig=void 0;const f=v(d("uTAD"));c.AllHighestVideoBandwidthPolicy=f.default;const h=v(d("DmQM"));c.ApplicationMetadata=h.default;const m=v(d("F7zz"));c.AsyncScheduler=m.default;const a=v(d("nDuE"));c.AttachMediaInputTask=a.default;const o=v(d("beBF"));c.Attendee=o.default;const i=v(d("PPZC"));c.AudioLogEvent=i.default;const e=v(d("f3u9"));c.AudioProfile=e.default;const t=v(d("1uai"));c.AudioVideoControllerState=t.default;const n=v(d("gLI0"));c.BackgroundBlurStrength=n.default;const s=v(d("Obod"));c.BackgroundBlurVideoFrameProcessor=s.default;const p=v(d("IsLT"));c.BackgroundFilterVideoFrameProcessor=p.default;const g=v(d("ySOd"));c.BackgroundReplacementVideoFrameProcessor=g.default;const S=v(d("oHvd"));c.BaseConnectionHealthPolicy=S.default;const u=v(d("j+uH"));c.BaseTask=u.default;const l=v(d("p5Ac"));c.BitrateParameters=l.default;const E=v(d("p7bP"));c.CSPMonitor=E.default;const O=v(d("Xv43"));c.CanvasVideoFrameBuffer=O.default;const P=v(d("PmG3"));c.CheckAudioConnectivityFeedback=P.default;const x=v(d("ig3o"));c.CheckAudioInputFeedback=x.default;const k=v(d("Rx4Y"));c.CheckAudioOutputFeedback=k.default;const B=v(d("nWLk"));c.CheckCameraResolutionFeedback=B.default;const R=v(d("s3Gi"));c.CheckContentShareConnectivityFeedback=R.default;const N=v(d("VKrp"));c.CheckNetworkTCPConnectivityFeedback=N.default;const w=v(d("M1uR"));c.CheckNetworkUDPConnectivityFeedback=w.default;const A=v(d("sTsL"));c.CheckVideoConnectivityFeedback=A.default;const D=v(d("6k9T"));c.CheckVideoInputFeedback=D.default;const K=v(d("7EAL"));c.CleanRestartedSessionTask=K.default;const X=v(d("wjYw"));c.CleanStoppedSessionTask=X.default;const j=v(d("6SO8"));c.ClientMetricReport=j.default;const te=v(d("bjg3"));c.ClientMetricReportDirection=te.default;const me=v(d("x8On"));c.ClientMetricReportMediaType=me.default;const we=v(d("7JpI"));c.ClientVideoStreamReceivingReport=we.default;const pe=v(d("rhlI"));c.ConnectionHealthData=pe.default;const Ae=v(d("U++r"));c.ConnectionHealthPolicyConfiguration=Ae.default;const Je=v(d("zd8f"));c.ConsoleLogger=Je.default;const Fe=v(d("r3TB"));c.ContentShareConstants=Fe.default;const Ue=v(d("InPl"));c.ContentShareMediaStreamBroker=Ue.default;const Le=v(d("7UVU"));c.CreatePeerConnectionTask=Le.default;const at=v(d("lFzH"));c.CreateSDPTask=at.default;const lt=v(d("3i7i"));c.DataMessage=lt.default;const ot=v(d("HAqy"));c.DefaultActiveSpeakerDetector=ot.default;const pt=v(d("CxCb"));c.DefaultActiveSpeakerPolicy=pt.default;const ct=v(d("kUL9"));c.DefaultAudioMixController=ct.default;const rt=v(d("a6MJ"));c.DefaultAudioVideoController=rt.default;const Tn=v(d("Fm4y"));c.DefaultAudioVideoFacade=Tn.default;const Qt=v(d("U9CR"));c.DefaultBrowserBehavior=Qt.default;const Ft=v(d("egzF"));c.DefaultContentShareController=Ft.default;const Rn=v(d("ZsEg"));c.DefaultDeviceController=Rn.default;const Pn=v(d("+DE9"));c.DefaultDevicePixelRatioMonitor=Pn.default;const ti=v(d("KEX5"));c.DefaultEventController=ti.default;const Sn=v(d("Gs2/"));c.DefaultMediaDeviceFactory=Sn.default;const oi=v(d("pewp"));c.DefaultMeetingEventReporter=oi.default;const vi=v(d("PSPT"));c.DefaultMeetingReadinessChecker=vi.default;const Hn=v(d("CWxj"));c.DefaultMeetingSession=Hn.default;const Di=v(d("pacc"));c.DefaultMessagingSession=Di.default;const Bi=v(d("ppUg"));c.DefaultModality=Bi.default;const Gt=v(d("igcJ"));c.DefaultPingPong=Gt.default;const Dn=v(d("iRMv"));c.DefaultRealtimeController=Dn.default;const Dt=v(d("l7oq"));c.DefaultReconnectController=Dt.default;const je=v(d("on9F"));c.DefaultSessionStateController=je.default;const yt=v(d("dPyZ"));c.DefaultSigV4=yt.default;const dt=v(d("HG8V"));c.DefaultSignalingClient=dt.default;const cn=v(d("BGMr"));c.DefaultSimulcastUplinkPolicy=cn.default;const li=v(d("VgUL"));c.DefaultSimulcastUplinkPolicyForContentShare=li.default;const ci=v(d("ZdbB"));c.DefaultTransceiverController=ci.default;const Jn=v(d("J5JU"));c.DefaultTranscriptionController=Jn.default;const di=v(d("BEtg"));c.DefaultUserAgentParser=di.default;const Mi=v(d("Biyp"));c.DefaultVideoCaptureAndEncodeParameter=Mi.default;const Sr=v(d("eFki"));c.DefaultVideoFrameProcessorPipeline=Sr.default;const Ai=v(d("MpTp"));c.DefaultVideoStreamIdSet=Ai.default;const Hi=v(d("0LIx"));c.DefaultVideoStreamIndex=Hi.default;const rn=v(d("Z/hr"));c.DefaultVideoTile=rn.default;const ge=v(d("yS4C"));c.DefaultVideoTileController=ge.default;const Re=v(d("Wnnr"));c.DefaultVideoTileFactory=Re.default;const Ve=v(d("7TH8"));c.DefaultVideoTransformDevice=Ve.default;const kt=v(d("kabN"));c.DefaultVolumeIndicatorAdapter=kt.default;const tt=v(d("3jln"));c.DefaultWebSocketAdapter=tt.default;const it=v(d("R+jL"));c.DevicePixelRatioWindowSource=it.default;const bt=v(d("6DYs"));c.DeviceSelection=bt.default;const an=v(d("IKDz"));c.EventBufferConfiguration=an.default;const un=v(d("HK1f"));c.EventIngestionConfiguration=un.default;const en=v(d("tMH2"));c.FinishGatheringICECandidatesTask=en.default;const Mn=v(d("cKqT"));c.FullJitterBackoff=Mn.default;const qi=v(d("o5nl"));c.FullJitterBackoffFactory=qi.default;const pi=v(d("HCbE"));c.FullJitterLimitedBackoff=pi.default;const dr=v(d("KJDN"));c.GetUserMediaError=dr.default;const Ki=v(d("U3GI"));c.GlobalMetricReport=Ki.default;const mi=v(d("sfTB"));c.InMemoryJSONEventBuffer=mi.default;const Pr=v(d("BkFD"));c.IntervalScheduler=Pr.default;const si=v(d("Wdtm"));c.JoinAndReceiveIndexTask=si.default;const or=v(d("2vi8"));c.LeaveAndReceiveLeaveAckTask=or.default;const $n=v(d("3taG"));c.ListenForVolumeIndicatorsTask=$n.default;const ur=v(d("KCGh"));c.Log=ur.default;const Ji=v(d("mlaT"));c.LogLevel=Ji.default;const xr=v(d("zH6K"));c.MediaDeviceProxyHandler=xr.default;const Dr=v(d("V2kw"));c.MeetingEventsClientConfiguration=Dr.default;const Xi=v(d("dazq"));c.MeetingReadinessCheckerConfiguration=Xi.default;const _r=v(d("94P3"));c.MeetingSessionConfiguration=_r.default;const vt=v(d("/N6y"));c.MeetingSessionCredentials=vt.default;const z=v(d("m/NO"));c.MeetingSessionLifecycleEvent=z.default;const de=v(d("fi20"));c.MeetingSessionLifecycleEventCondition=de.default;const Ie=v(d("aZba"));c.MeetingSessionStatus=Ie.default;const xe=v(d("papz"));c.MeetingSessionStatusCode=xe.default;const $e=v(d("42jQ"));c.MeetingSessionTURNCredentials=$e.default;const ut=v(d("GZjp"));c.MeetingSessionURLs=ut.default;const mt=v(d("ZS2b"));c.MeetingSessionVideoAvailability=mt.default;const St=v(d("HXIC"));c.Message=St.default;const It=v(d("wSXL"));c.MessagingSessionConfiguration=It.default;const Rt=v(d("DE61"));c.ModelSpecBuilder=Rt.default;const Zt=v(d("Hi4k"));c.MonitorTask=Zt.default;const Wt=v(d("N8ne"));c.MultiLogger=Wt.default;const on=v(d("P7Xm"));c.NScaleVideoUplinkBandwidthPolicy=on.default;const Tt=v(d("4w5z"));c.NoOpAudioVideoController=Tt.default;const Yn=v(d("ZHiL"));c.NoOpDebugLogger=Yn.default;const kn=v(d("9oOt"));c.NoOpDeviceController=kn.default;const Si=v(d("sdHd"));c.NoOpEventReporter=Si.default;const ui=v(d("aZJ3"));c.NoOpLogger=ui.default;const fi=v(d("3niY"));c.NoOpMediaStreamBroker=fi.default;const gi=v(d("mZDK"));c.NoOpTask=gi.default;const yi=v(d("9bRS"));c.NoOpVideoElementFactory=yi.default;const Fi=v(d("ZZPe"));c.NoOpVideoFrameProcessor=Fi.default;const ni=v(d("1i73"));c.NoVideoDownlinkBandwidthPolicy=ni.default;const Ci=v(d("VWHd"));c.NoVideoUplinkBandwidthPolicy=Ci.default;const In=v(d("QUzi"));c.NotFoundError=In.default;const Qn=v(d("u3ud"));c.NotReadableError=Qn.default;const ii=v(d("ZnGd"));c.OnceTask=ii.default;const Zn=v(d("uB5g"));c.OpenSignalingConnectionTask=Zn.default;const yr=v(d("wJ81"));c.OverconstrainedError=yr.default;const Ui=v(d("reWd"));c.POSTLogger=Ui.default;const sr=v(d("W+eo"));c.ParallelGroupTask=sr.default;const Ri=v(d("wkYg"));c.PermissionDeniedError=Ri.default;const No=v(d("18tZ"));c.PrefetchOn=No.default;const er=v(d("aApz"));c.PrefetchSortBy=er.default;const Qi=v(d("FMuk"));c.PromiseQueue=Qi.default;const qn=v(d("hspq"));c.PromoteToPrimaryMeetingTask=qn.default;const Yt=v(d("iA6Z"));c.RealtimeAttendeePositionInFrame=Yt.default;const fr=v(d("9Bli"));c.RealtimeState=fr.default;const Zo=v(d("vhVE"));c.RealtimeVolumeIndicator=Zo.default;const so=v(d("rkwE"));c.ReceiveAudioInputTask=so.default;const Wi=v(d("5Y0c"));c.ReceiveRemoteVideoPauseResumeTask=Wi.default;const Jr=v(d("uQRK"));c.ReceiveTURNCredentialsTask=Jr.default;const Hr=v(d("fxRI"));c.ReceiveVideoInputTask=Hr.default;const tr=v(d("rw3l"));c.ReceiveVideoStreamIndexTask=tr.default;const Ts=v(d("Zful"));c.ReconnectionHealthPolicy=Ts.default;const Is=v(d("e/M0"));c.RunnableTask=Is.default;const ki=v(d("wXa7"));c.SDP=ki.default;const Cr=v(d("JsnC"));c.SDPCandidateType=Cr.default;const Eo=v(d("2wCG"));c.SDPMediaSection=Eo.default;const ws=v(d("D7wJ"));c.SendAndReceiveDataMessagesTask=ws.default;const Lr=v(d("1GR6"));c.SendingAudioFailureConnectionHealthPolicy=Lr.default;const fo=v(d("K+bq"));c.SerialGroupTask=fo.default;const ao=v(d("/AJg"));c.ServerSideNetworkAdaption=ao.default;const To=v(d("K5tc"));c.SessionStateControllerAction=To.default;const qo=v(d("JOZa"));c.SessionStateControllerDeferPriority=qo.default;const es=v(d("AXyi"));c.SessionStateControllerState=es.default;const Bo=v(d("Q2ix"));c.SessionStateControllerTransitionResult=Bo.default;const ts=v(d("XzFx"));c.SetLocalDescriptionTask=ts.default;const ho=v(d("fZkv"));c.SetRemoteDescriptionTask=ho.default;const zr=v(d("da6e"));c.SignalingAndMetricsConnectionMonitor=zr.default;const Nr=v(d("Sz6V"));c.SignalingClientConnectionRequest=Nr.default;const Io=v(d("0JTw"));c.SignalingClientEvent=Io.default;const po=v(d("HbHZ"));c.SignalingClientEventType=po.default;const Yr=v(d("OV1w"));c.SignalingClientJoin=Yr.default;const Fo=v(d("VhCr"));c.SignalingClientSubscribe=Fo.default;const Uo=v(d("bQ+R"));c.SignalingClientVideoSubscriptionConfiguration=Uo.default;const Vo=v(d("wQGL"));c.SimulcastContentShareTransceiverController=Vo.default;const ar=v(d("ezoW"));c.SimulcastLayers=ar.default;const Ho=v(d("VYs+"));c.SimulcastTransceiverController=Ho.default;const ns=v(d("LIUS"));c.SimulcastVideoStreamIndex=ns.default;const zo=v(d("GW5S"));c.SingleNodeAudioTransformDevice=zo.default;const Wr=v(d("Tsvd"));c.StreamMetricReport=Wr.default;const lo=v(d("ZISg"));c.SubscribeAndReceiveSubscribeAckTask=lo.default;const br=v(d("w1x/"));c.TargetDisplaySize=br.default;const Br=v(d("IGBW"));c.TaskStatus=Br.default;const Wo=v(d("zcg+"));c.TimeoutScheduler=Wo.default;const Xr=v(d("iQPr"));c.TimeoutTask=Xr.default;const is=v(d("VPK4"));c.Transcript=is.default;const kr=v(d("Z0UI"));c.TranscriptAlternative=kr.default;const mo=v(d("XYJD"));c.TranscriptEntity=mo.default;const wo=v(d("epkm"));c.TranscriptItem=wo.default;const Fr=v(d("QPT4"));c.TranscriptItemType=Fr.default;const jr=v(d("Ka3M"));c.TranscriptLanguageWithScore=jr.default;const Oo=v(d("nXJe"));c.TranscriptResult=Oo.default;const jo=v(d("PbSJ"));c.TranscriptionStatus=jo.default;const Js=v(d("HrOX"));c.TranscriptionStatusType=Js.default;const Ur=v(d("sf8V"));c.TypeError=Ur.default;const rs=v(d("I/xa"));c.UnusableAudioWarningConnectionHealthPolicy=rs.default;const Gr=v(d("ac3q"));c.Versioning=Gr.default;const Os=v(d("rCkh"));c.VideoAdaptiveProbePolicy=Os.default;const Ms=v(d("CAce"));c.VideoCodecCapability=Ms.default;const hr=v(d("AtlK"));c.VideoFxProcessor=hr.default;const Qr=v(d("10yS"));c.VideoLogEvent=Qr.default;const Zr=v(d("XJKy"));c.VideoOnlyTransceiverController=Zr.default;const os=v(d("h96U"));c.VideoPreference=os.default;const ss=v(d("T44/"));c.VideoPreferences=ss.default;const Ys=v(d("5/lR"));c.VideoPriorityBasedPolicy=Ys.default;const Mo=v(d("BY2i"));c.VideoPriorityBasedPolicyConfig=Mo.default;const as=v(d("my46"));c.VideoQualitySettings=as.default;const As=v(d("7p5e"));c.VideoSource=As.default;const ls=v(d("OEM7"));c.VideoStreamDescription=ls.default;const qr=v(d("uQnq"));c.VideoTileState=qr.default;const Rs=v(d("eWGP"));c.VoiceFocusDeviceTransformer=Rs.default;const Ao=v(d("aMTh"));c.VoiceFocusTransformDevice=Ao.default;const nr=v(d("xeHQ"));c.WaitForAttendeePresenceTask=nr.default;const Ro=v(d("z8+u"));c.WebSocketReadyState=Ro.default;const Po=v(d("aTUL"));c.ZLIBTextCompressor=Po.default;const Do=d("T44/");Object.defineProperty(c,"MutableVideoPreferences",{enumerable:!0,get:function(){return Do.MutableVideoPreferences}});const $r=d("Aplu");Object.defineProperty(c,"Some",{enumerable:!0,get:function(){return $r.Some}}),Object.defineProperty(c,"None",{enumerable:!0,get:function(){return $r.None}}),Object.defineProperty(c,"Maybe",{enumerable:!0,get:function(){return $r.Maybe}});const go=d("6k+I");Object.defineProperty(c,"isAudioTransformDevice",{enumerable:!0,get:function(){return go.isAudioTransformDevice}});const pr=d("crgu");Object.defineProperty(c,"isDestroyable",{enumerable:!0,get:function(){return pr.isDestroyable}});const Go=d("0OOd");Object.defineProperty(c,"isVideoTransformDevice",{enumerable:!0,get:function(){return Go.isVideoTransformDevice}})},tFDz:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});const f=d("KvYa"),h=d("nJ1/"),m=5*1e3;let a=r(class extends h.VoiceFocusAudioWorkletNode{onModuleBufferLoaded(i,e){this.port.postMessage({message:"module-buffer",buffer:i,key:e})}onModuleLoaded(i,e){this.port.postMessage({message:"module",module:i,key:e})}enable(){return v(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return v(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var i;return v(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(i=this.worker)===null||i===void 0||i.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(i){var e,t,n;const s=i.data;switch(s.message){case"cpu":this.cpuWarningCount++;const p=Date.now(),g=this.cpuWarningLastTriggered||p,S=Math.abs(p-g);(!this.cpuWarningLastTriggered||S>m)&&((e=this.logger)===null||e===void 0||e.warn(`CPU warning (count: ${this.cpuWarningCount}):`,s.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=p),(t=this.delegate)===null||t===void 0||t.onCPUWarning();break;default:(n=this.logger)===null||n===void 0||n.debug("Ignoring processor message.")}}onWorkerMessage(i){const e=i.data;switch(e.message){case"module-buffer":if(!e.buffer||!e.key)return;this.onModuleBufferLoaded(e.buffer,e.key);break;case"module":if(!e.module||!e.key)return;this.onModuleLoaded(e.module,e.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}constructor(i,e){super(i,e.processor,e),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:t,worker:n,fetchBehavior:s,logger:p,delegate:g}=e;this.logger=p,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=g,p&&p.debug("VoiceFocusInlineNode:",t),this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this);const S=f.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:S,key:"model",fetchBehavior:s,path:t})}},"VoiceFocusInlineNode");c.default=a},tK6J:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("6/h7")),m=f(d("8wPz"));let a=r(class Sv{sortedDeviceList(){return v(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const i of this.deviceChangeListeners)h.default.nextTick(()=>{if(this.deviceChangeListeners.has(i)){const e=new Event("devicechange");typeof i=="function"?i(e):i.handleEvent(e)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(i,e,t)=>{if(!Reflect.has(i,e))return;if(!("ondevicechange"in navigator.mediaDevices)){if(e==="addEventListener")return this.patchAddEventListener(i,e,t);if(e==="removeEventListener")return this.patchRemoveEventListener(i,e,t)}const n=Reflect.get(i,e,t);return typeof n=="function"?n.bind(i):n},this.patchAddEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(s,p,g)=>{if(s==="devicechange")this.deviceChangeListeners.add(p),this.scheduler||(this.scheduler=new m.default(Sv.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(n,i,[s,p,g])}},this.patchRemoveEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(s,p,g)=>{if(s==="devicechange")this.deviceChangeListeners.delete(p),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(n,i,[s,p,g])}},this.pollDeviceLists=()=>v(this,void 0,void 0,function*(){const i=yield this.sortedDeviceList();this.devices&&(i.length!==this.devices.length||i.some((t,n)=>t.deviceId!==this.devices[n].deviceId))&&this.handleDeviceChangeEvent(),this.devices=i})}},"MediaDeviceProxyHandler");c.default=a,a.INTERVAL_MS=1e3},tMH2:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("papz")),m=f(d("wXa7")),a=f(d("j+uH"));let o=r(class yv extends a.default{removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||new Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return v(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new m.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`);return}}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new m.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((e,t)=>{this.cancelPromise=n=>{this.removeEventListener(),t(n)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=n=>{if(this.context.logger.info(`ice candidate: ${n.candidate?n.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),n.candidate&&(m.default.isRTPCandidate(n.candidate.candidate)&&this.context.iceCandidates.push(n.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new m.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(t(new Error("no ice candidates were gathered")),delete this.cancelPromise):(e(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}constructor(e,t=yv.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}},"FinishGatheringICECandidatesTask");c.default=o,o.CHROME_VPN_TIMEOUT_MS=5e3},tcc5:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MeetingSessionLifecycleEvent=void 0;var v;(function(f){f[f.Connecting=0]="Connecting",f[f.Started=1]="Started",f[f.Stopped=2]="Stopped"})(v=c.MeetingSessionLifecycleEvent||(c.MeetingSessionLifecycleEvent={})),c.default=v},teem:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("hEYi")),m=f(d("aVV0"));let a=r(class extends m.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(i){throw i}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const i=this.context.videoTileController.getLocalVideoTile();i&&i.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((i,e)=>{let t=r(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(p){p.type===h.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),i())}constructor(p){this.signalingClient=p}},"Interceptor");const n=new t(this.context.signalingClient);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}constructor(i){super(i.logger),this.context=i,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");c.default=a},u3ud:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("KJDN"));let h=r(class extends f.default{constructor(a){super(a),this.name="NotReadableError"}},"NotReadableError");c.default=h},uB5g:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(i,e,t,n){function s(p){return p instanceof t?p:new t(function(g){g(p)})}return r(s,"adopt"),new(t||(t=Promise))(function(p,g){function S(E){try{l(n.next(E))}catch(O){g(O)}}r(S,"fulfilled");function u(E){try{l(n.throw(E))}catch(O){g(O)}}r(u,"rejected");function l(E){E.done?p(E.value):s(E.value).then(S,u)}r(l,"step"),l((n=n.apply(i,e||[])).next())})},f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("Sz6V")),m=f(d("HbHZ")),a=f(d("j+uH"));let o=r(class extends a.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){const e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new h.default(e.urls.signalingURL,e.credentials.joinToken));const t=Date.now();try{yield new Promise((n,s)=>{let p=r(class{cancel(){this.signalingClient.removeObserver(this),s(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(u){switch(u.type){case m.default.WebSocketOpen:this.signalingClient.removeObserver(this),n();break;case m.default.WebSocketFailed:this.signalingClient.removeObserver(this),s(new Error("WebSocket connection failed"));break}}constructor(u){this.signalingClient=u}},"WebSocketOpenInterceptor");const g=new p(this.context.signalingClient);this.context.signalingClient.registerObserver(g),this.taskCanceler=g})}catch(n){throw n}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}},"OpenSignalingConnectionTask");c.default=o},uCvS:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0});const f=d("f2XL"),h=v(d("LmyK")),m=v(d("mpmV")),a=v(d("2oFa"));let o=r(class Cv{getMetricMap(e,t){switch(e){case m.default.AUDIO:switch(t){case h.default.UPSTREAM:return this.audioUpstreamMetricMap;case h.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case m.default.VIDEO:switch(t){case h.default.UPSTREAM:return this.videoUpstreamMetricMap;case h.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);const t=this.observableMetricSpec[e],s=this.getMetricMap(t.media,t.dir)[t.source],{transform:p,source:g}=s;if(t.hasOwnProperty("media"))for(const S in this.streamMetricReports){const u=this.streamMetricReports[S];if(u.direction===t.dir&&u.mediaType===t.media)return p(g||t.source,Number(S))}else return p(g||t.source);return 0}getObservableVideoMetricValue(e,t){const n=this.observableVideoMetricSpec[e],p=this.getMetricMap(n.media,n.dir)[n.source],{transform:g,source:S}=p;return g(S||n.source,t)}getObservableMetrics(){const e={};for(const t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){const e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(const t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===m.default.VIDEO){const n={};for(const S in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[S].dir===this.streamMetricReports[t].direction){const u=this.getObservableVideoMetricValue(S,Number(t));isNaN(u)||(n[S]=u)}const s=this.streamMetricReports[t].groupId,p=this.streamMetricReports[t].streamId;let g="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?g=s?this.videoStreamIndex.attendeeIdForGroupId(s):this.selfAttendeeId:g=p?this.videoStreamIndex.attendeeIdForStreamId(p):this.selfAttendeeId,e[g]=e[g]?e[g]:{},e[g][t]=n}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){const e=new Cv(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.customStatsReports=this.customStatsReports,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){const e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(const e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}constructor(e,t,n){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=n,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;return Number(g.currentMetrics[s])},this.decoderLossPercent=(s,p)=>{const g=this.streamMetricReports[p],S=g.currentMetrics.concealedSamples-(g.previousMetrics.concealedSamples||0),u=g.currentMetrics.totalSamplesReceived-(g.previousMetrics.totalSamplesReceived||0);return u<=0||u-S<=0?0:S/u*100},this.packetLossPercent=(s,p)=>{const g=this.streamMetricReports[p],S=g.currentMetrics[s]-(g.previousMetrics[s]||0),u=g.currentMetrics.packetsLost-(g.previousMetrics.packetsLost||0),l=S+u;return l<=0||u<=0?0:u*100/l},this.jitterBufferMs=(s,p)=>{const g=this.streamMetricReports[p],S=g.currentMetrics.jitterBufferDelay-(g.previousMetrics.jitterBufferDelay||0),u=g.currentMetrics.jitterBufferEmittedCount-(g.previousMetrics.jitterBufferEmittedCount||0);return S<=0||u<=0?0:S/u*1e3},this.countPerSecond=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);const u=g.currentMetrics[s]-(g.previousMetrics[s]||0);return u<=0?0:Math.trunc(u/S)},this.bitsPerSecond=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);const u=(g.currentMetrics[s]-(g.previousMetrics[s]||0))*8;return u<=0?0:Math.trunc(u/S)},this.secondsToMilliseconds=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;return Number(g.currentMetrics[s]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(s,p)=>{const g=p?this.streamMetricReports[p]:this.globalMetricReport;let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);const u=g.currentMetrics[s]-(g.previousMetrics[s]||0);return u<=0?0:u*1e3/S},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(s,p)=>{const g=this.streamMetricReports[p];let S=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(S<=0)return 0;this.previousTimestampMs<=0&&(S=1);let u=0,l=0;for(const[O,P]of Object.entries(g.previousObjectMetrics[s]))O==="cpu"&&(u=P);for(const[O,P]of Object.entries(g.currentObjectMetrics[s]))O==="cpu"&&(l=P);const E=l-u;return E<=0?0:E*1e3/S},this.isHardwareImplementation=(s,p)=>{const g=this.streamMetricReports[p],S=String(g.currentStringMetrics[s]),u=S.includes("ExternalDecoder")||S.includes("ExternalEncoder")||S.includes("EncodeAccelerator")||S.includes("DecodeAccelerator"),l=S.includes("fallback from");return u&&!l?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:f.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:f.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:f.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:f.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:f.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:f.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezeDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPauseDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:f.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:f.SdkMetric.Type.VIDEO_DROPPED_FPS}},this.streamDimensionMap={encoderImplementation:f.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:f.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:m.default.VIDEO,dir:h.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:m.default.VIDEO,dir:h.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:m.default.AUDIO,dir:h.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:m.default.VIDEO,dir:h.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:m.default.VIDEO,dir:h.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:m.default.AUDIO,dir:h.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}},"ClientMetricReport");c.default=o},uKXT:function(U,c,d){"use strict";var v=d("YBmv"),f=d("eP7z"),h=d("+Xah");function m(a){return a&&a.length?Object(v.a)(a,h.a,f.a):void 0}r(m,"min"),c.a=m},uQRK:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(t,n,s,p){function g(S){return S instanceof s?S:new s(function(u){u(S)})}return r(g,"adopt"),new(s||(s=Promise))(function(S,u){function l(P){try{O(p.next(P))}catch(x){u(x)}}r(l,"fulfilled");function E(P){try{O(p.throw(P))}catch(x){u(x)}}r(E,"rejected");function O(P){P.done?S(P.value):g(P.value).then(l,E)}r(O,"step"),O((p=p.apply(t,n||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("papz")),m=f(d("42jQ")),a=f(d("ppUg")),o=f(d("ac3q")),i=f(d("j+uH"));let e=r(class extends i.default{cancel(){if(this.cancelPromise){const n=new Error(`canceling ${this.name()}`);this.cancelPromise(n),delete this.cancelPromise}}run(){return v(this,void 0,void 0,function*(){if(this.context.turnCredentials){this.context.logger.info("TURN credentials available, skipping credentials fetch");return}if(this.context.logger.error("missing TURN credentials - falling back to fetch"),!this.url){this.context.logger.info("TURN control url not supplied, skipping credentials fetch");return}const n={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","X-Chime-Auth-Token":"_aws_wt_session="+new a.default(this.joinToken).base()},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({meetingId:this.meetingId})};this.context.logger.info(`requesting TURN credentials from ${this.url}`);const s=yield new Promise((p,g)=>v(this,void 0,void 0,function*(){this.cancelPromise=S=>{g(S)};try{const S=yield fetch(o.default.urlWithVersion(this.url),n);if(this.context.logger.info("received TURN credentials"),S.status&&S.status===403){g(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.TURNCredentialsForbidden}`));return}if(S.status&&S.status===404){g(new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.MeetingEnded}`));return}p(yield S.json())}catch(S){g(S)}finally{delete this.cancelPromise}}));this.context.turnCredentials=new m.default,this.context.turnCredentials.password=s.password,this.context.turnCredentials.ttl=s.ttl,this.context.turnCredentials.uris=s.uris.map(p=>this.context.meetingSessionConfiguration.urls.urlRewriter(p)).filter(p=>!!p),this.context.turnCredentials.username=s.username})}constructor(n){super(n.logger),this.context=n,this.taskName="ReceiveTURNCredentialsTask",this.url=n.meetingSessionConfiguration.urls.turnControlURL,this.meetingId=n.meetingSessionConfiguration.meetingId,this.joinToken=n.meetingSessionConfiguration.credentials.joinToken}},"ReceiveTURNCredentialsTask");c.default=e},uQnq:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class bv{clone(){const h=new bv;return h.tileId=this.tileId,h.localTile=this.localTile,h.isContent=this.isContent,h.active=this.active,h.paused=this.paused,h.poorConnection=this.poorConnection,h.boundAttendeeId=this.boundAttendeeId,h.boundExternalUserId=this.boundExternalUserId,h.boundVideoStream=this.boundVideoStream,h.boundVideoElement=this.boundVideoElement,h.nameplate=this.nameplate,h.videoStreamContentWidth=this.videoStreamContentWidth,h.videoStreamContentHeight=this.videoStreamContentHeight,h.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,h.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,h.devicePixelRatio=this.devicePixelRatio,h.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,h.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,h.streamId=this.streamId,h}constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null}},"VideoTileState");c.default=v},uTAD:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("MpTp"));let h=r(class{reset(){this.optimalReceiveSet=new f.default,this.subscribedReceiveSet=new f.default,this.videoSources=void 0}updateIndex(a){this.videoIndex=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(a)}updateMetrics(a){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(a){this.videoSources=a,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(a){const o=new f.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return o;const i=a.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId);if(this.videoSources===void 0)return i;const e=this.videoIndex.remoteStreamDescriptions(),t=new Map;for(const n of e)i.contain(n.streamId)&&t.set(n.attendeeId,n.streamId);for(const n of this.videoSources){const s=n.attendee.attendeeId;t.has(s)&&o.add(t.get(s))}return o}constructor(a){this.selfAttendeeId=a,this.reset()}},"AllHighestVideoBandwidthPolicy");c.default=h},uaNU:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("Lspx"));let h=r(class Oc{partialCompare(a){return this.priority-a.priority}equals(a){return this.attendeeId===a.attendeeId&&this.targetSize===a.targetSize&&this.priority===a.priority}clone(){return new Oc(this.attendeeId,this.priority,this.targetSize)}targetSizeToBitrateKbps(a){switch(a){case f.default.Maximum:return Oc.MAXIMUM_BITRATE_KBPS;case f.default.High:return Oc.HIGH_BITRATE_KBPS;case f.default.Medium:return Oc.MID_BITRATE_KBPS;case f.default.Low:return Oc.LOW_BITRATE_KBPS}}constructor(a,o,i){this.attendeeId=a,this.priority=o,this.targetSize=i!==void 0?i:f.default.High}},"VideoPreference");c.default=h,h.LOW_BITRATE_KBPS=300,h.MID_BITRATE_KBPS=600,h.HIGH_BITRATE_KBPS=1400,h.MAXIMUM_BITRATE_KBPS=1e4},uccp:function(U,c,d){d("5Qd4"),U.exports=d("VSTI").Object.assign},uctb:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LogLevel=void 0;var v;(function(f){f[f.DEBUG=0]="DEBUG",f[f.INFO=1]="INFO",f[f.WARN=2]="WARN",f[f.ERROR=3]="ERROR",f[f.OFF=4]="OFF"})(v=c.LogLevel||(c.LogLevel={})),c.default=v},ugGH:function(U,c,d){U.exports=d("BRsN")},ukM9:function(U,c){U.exports=function(d,v,f,h){if(!(d instanceof v)||h!==void 0&&h in d)throw TypeError(f+": incorrect invocation!");return d}},ukPp:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{create(){const h={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{h.paused=!0},play:()=>(h.paused=!1,Promise.resolve())};return h}},"NoOpVideoElementFactory");c.default=v},v4l7:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=c.numToUint8=c.isEmptyData=c.convertToBuffer=void 0;var v=d("AI3F");Object.defineProperty(c,"convertToBuffer",{enumerable:!0,get:function(){return v.convertToBuffer}});var f=d("N7sO");Object.defineProperty(c,"isEmptyData",{enumerable:!0,get:function(){return f.isEmptyData}});var h=d("sd34");Object.defineProperty(c,"numToUint8",{enumerable:!0,get:function(){return h.numToUint8}});var m=d("eeAN");Object.defineProperty(c,"uint32ArrayFrom",{enumerable:!0,get:function(){return m.uint32ArrayFrom}})},v8aG:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class Ev{equal(h){return this.remoteVideoAvailable===h.remoteVideoAvailable&&this.canStartLocalVideo===h.canStartLocalVideo}clone(){const h=new Ev;return h.remoteVideoAvailable=this.remoteVideoAvailable,h.canStartLocalVideo=this.canStartLocalVideo,h}constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}},"MeetingSessionVideoAvailability");c.default=v},vNbC:function(U,c,d){d("du/1");var v=d("VSTI").Object;U.exports=r(function(h,m){return v.create(h,m)},"create")},vOBO:function(U,c,d){var v=d("nAx8"),f=d("Temt"),h=d("kUGv"),m=d("BfU5"),a=d("7whZ"),o=a.process,i=a.setImmediate,e=a.clearImmediate,t=a.MessageChannel,n=a.Dispatch,s=0,p={},g="onreadystatechange",S,u,l,E=r(function(){var P=+this;if(p.hasOwnProperty(P)){var x=p[P];delete p[P],x()}},"run"),O=r(function(P){E.call(P.data)},"listener");(!i||!e)&&(i=r(function(x){for(var k=[],B=1;arguments.length>B;)k.push(arguments[B++]);return p[++s]=function(){f(typeof x=="function"?x:Function(x),k)},S(s),s},"setImmediate"),e=r(function(x){delete p[x]},"clearImmediate"),d("TYje")(o)=="process"?S=r(function(P){o.nextTick(v(E,P,1))},"defer"):n&&n.now?S=r(function(P){n.now(v(E,P,1))},"defer"):t?(u=new t,l=u.port2,u.port1.onmessage=O,S=v(l.postMessage,l,1)):a.addEventListener&&typeof postMessage=="function"&&!a.importScripts?(S=r(function(P){a.postMessage(P+"","*")},"defer"),a.addEventListener("message",O,!1)):g in m("script")?S=r(function(P){h.appendChild(m("script"))[g]=function(){h.removeChild(this),E.call(P)}},"defer"):S=r(function(P){setTimeout(v(E,P,1),0)},"defer")),U.exports={set:i,clear:e}},va3J:function(U,c,d){"use strict";var v=d("7whZ"),f=d("VSTI"),h=d("GhSp"),m=d("C61u"),a=d("zBWt")("species");U.exports=function(o){var i=typeof f[o]=="function"?f[o]:v[o];m&&i&&!i[a]&&h.f(i,a,{configurable:!0,get:function(){return this}})}},vapa:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RawSha256=void 0;var v=d("9IN5"),f=function(){function h(){this.state=Int32Array.from(v.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r(h,"RawSha2561"),h.prototype.update=function(m){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,o=m.byteLength;if(this.bytesHashed+=o,this.bytesHashed*8>v.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;o>0;)this.buffer[this.bufferLength++]=m[a++],o--,this.bufferLength===v.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},h.prototype.digest=function(){if(!this.finished){var m=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),o=this.bufferLength;if(a.setUint8(this.bufferLength++,128),o%v.BLOCK_SIZE>=v.BLOCK_SIZE-8){for(var i=this.bufferLength;i<v.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<v.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(v.BLOCK_SIZE-8,Math.floor(m/4294967296),!0),a.setUint32(v.BLOCK_SIZE-4,m),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(v.DIGEST_LENGTH),i=0;i<8;i++)e[i*4]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return e},h.prototype.hashBuffer=function(){for(var m=this,a=m.buffer,o=m.state,i=o[0],e=o[1],t=o[2],n=o[3],s=o[4],p=o[5],g=o[6],S=o[7],u=0;u<v.BLOCK_SIZE;u++){if(u<16)this.temp[u]=(a[u*4]&255)<<24|(a[u*4+1]&255)<<16|(a[u*4+2]&255)<<8|a[u*4+3]&255;else{var l=this.temp[u-2],E=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10;l=this.temp[u-15];var O=(l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[u]=(E+this.temp[u-7]|0)+(O+this.temp[u-16]|0)}var P=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&p^~s&g)|0)+(S+(v.KEY[u]+this.temp[u]|0)|0)|0,x=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&e^i&t^e&t)|0;S=g,g=p,p=s,s=n+P|0,n=t,t=e,e=i,i=P+x|0}o[0]+=i,o[1]+=e,o[2]+=t,o[3]+=n,o[4]+=s,o[5]+=p,o[6]+=g,o[7]+=S},h}();c.RawSha256=f},vdHl:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MAX_HASHABLE_LENGTH=c.INIT=c.KEY=c.DIGEST_LENGTH=c.BLOCK_SIZE=void 0,c.BLOCK_SIZE=64,c.DIGEST_LENGTH=32,c.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},vhAZ:function(U,c,d){"use strict";U.exports=f;var v=d("j4TH");(f.prototype=Object.create(v.EventEmitter.prototype)).constructor=f;function f(h,m,a){if(typeof h!="function")throw TypeError("rpcImpl must be a function");v.EventEmitter.call(this),this.rpcImpl=h,this.requestDelimited=Boolean(m),this.responseDelimited=Boolean(a)}r(f,"Service"),f.prototype.rpcCall=r(function h(m,a,o,i,e){if(!i)throw TypeError("request must be specified");var t=this;if(!e)return v.asPromise(h,t,m,a,o,i);if(!t.rpcImpl){setTimeout(function(){e(Error("already ended"))},0);return}try{return t.rpcImpl(m,a[t.requestDelimited?"encodeDelimited":"encode"](i).finish(),r(function(s,p){if(s)return t.emit("error",s,m),e(s);if(p===null){t.end(!0);return}if(!(p instanceof o))try{p=o[t.responseDelimited?"decodeDelimited":"decode"](p)}catch(g){return t.emit("error",g,m),e(g)}return t.emit("data",p,m),e(null,p)},"rpcCallback"))}catch(n){t.emit("error",n,m),setTimeout(function(){e(n)},0);return}},"rpcCall"),f.prototype.end=r(function(m){return this.rpcImpl&&(m||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")},vhVE:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}},"RealtimeVolumeIndicator");c.default=v},viNG:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.WebCryptoSha256=c.Ie11Sha256=void 0;var v=d("D3pN");v.__exportStar(d("ZIxo"),c);var f=d("dFEU");Object.defineProperty(c,"Ie11Sha256",{enumerable:!0,get:function(){return f.Sha256}});var h=d("b4Ml");Object.defineProperty(c,"WebCryptoSha256",{enumerable:!0,get:function(){return h.Sha256}})},vjEy:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BlurStrengthMapper=void 0;const v={LOW:7,MEDIUM:15,HIGH:30};let f=r(class{static getBlurAmount(m,a){if(m<=0)throw new Error(`invalid value for blur strength: ${m}`);return Math.round(m*a.height/this.BLUR_STRENGTH_DIVISOR)}},"BlurStrengthMapper");c.BlurStrengthMapper=f,f.BLUR_STRENGTH_DIVISOR=540,c.default=v},"w1x/":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TargetDisplaySize=void 0;var v;(function(f){f[f.Low=0]="Low",f[f.Medium=1]="Medium",f[f.High=2]="High",f[f.Maximum=3]="Maximum"})(v=c.TargetDisplaySize||(c.TargetDisplaySize={})),c.default=v},wDi9:function(U,c,d){"use strict";U.exports=t;var v=d("j4TH"),f,h=v.LongBits,m=v.base64,a=v.utf8;function o(E,O,P){this.fn=E,this.len=O,this.next=void 0,this.val=P}r(o,"Op");function i(){}r(i,"noop");function e(E){this.head=E.head,this.tail=E.tail,this.len=E.len,this.next=E.states}r(e,"State");function t(){this.len=0,this.head=new o(i,0,0),this.tail=this.head,this.states=null}r(t,"Writer");var n=r(function(){return v.Buffer?r(function(){return(t.create=r(function(){return new f},"create_buffer"))()},"create_buffer_setup"):r(function(){return new t},"create_array")},"create");t.create=n(),t.alloc=r(function(O){return new v.Array(O)},"alloc"),v.Array!==Array&&(t.alloc=v.pool(t.alloc,v.Array.prototype.subarray)),t.prototype._push=r(function(O,P,x){return this.tail=this.tail.next=new o(O,P,x),this.len+=P,this},"push");function s(E,O,P){O[P]=E&255}r(s,"writeByte");function p(E,O,P){for(;E>127;)O[P++]=E&127|128,E>>>=7;O[P]=E}r(p,"writeVarint32");function g(E,O){this.len=E,this.next=void 0,this.val=O}r(g,"VarintOp"),g.prototype=Object.create(o.prototype),g.prototype.fn=p,t.prototype.uint32=r(function(O){return this.len+=(this.tail=this.tail.next=new g((O=O>>>0)<128?1:O<16384?2:O<2097152?3:O<268435456?4:5,O)).len,this},"write_uint32"),t.prototype.int32=r(function(O){return O<0?this._push(S,10,h.fromNumber(O)):this.uint32(O)},"write_int32"),t.prototype.sint32=r(function(O){return this.uint32((O<<1^O>>31)>>>0)},"write_sint32");function S(E,O,P){for(;E.hi;)O[P++]=E.lo&127|128,E.lo=(E.lo>>>7|E.hi<<25)>>>0,E.hi>>>=7;for(;E.lo>127;)O[P++]=E.lo&127|128,E.lo=E.lo>>>7;O[P++]=E.lo}r(S,"writeVarint64"),t.prototype.uint64=r(function(O){var P=h.from(O);return this._push(S,P.length(),P)},"write_uint64"),t.prototype.int64=t.prototype.uint64,t.prototype.sint64=r(function(O){var P=h.from(O).zzEncode();return this._push(S,P.length(),P)},"write_sint64"),t.prototype.bool=r(function(O){return this._push(s,1,O?1:0)},"write_bool");function u(E,O,P){O[P]=E&255,O[P+1]=E>>>8&255,O[P+2]=E>>>16&255,O[P+3]=E>>>24}r(u,"writeFixed32"),t.prototype.fixed32=r(function(O){return this._push(u,4,O>>>0)},"write_fixed32"),t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=r(function(O){var P=h.from(O);return this._push(u,4,P.lo)._push(u,4,P.hi)},"write_fixed64"),t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=r(function(O){return this._push(v.float.writeFloatLE,4,O)},"write_float"),t.prototype.double=r(function(O){return this._push(v.float.writeDoubleLE,8,O)},"write_double");var l=v.Array.prototype.set?r(function(O,P,x){P.set(O,x)},"writeBytes_set"):r(function(O,P,x){for(var k=0;k<O.length;++k)P[x+k]=O[k]},"writeBytes_for");t.prototype.bytes=r(function(O){var P=O.length>>>0;if(!P)return this._push(s,1,0);if(v.isString(O)){var x=t.alloc(P=m.length(O));m.decode(O,x,0),O=x}return this.uint32(P)._push(l,P,O)},"write_bytes"),t.prototype.string=r(function(O){var P=a.length(O);return P?this.uint32(P)._push(a.write,P,O):this._push(s,1,0)},"write_string"),t.prototype.fork=r(function(){return this.states=new e(this),this.head=this.tail=new o(i,0,0),this.len=0,this},"fork"),t.prototype.reset=r(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(i,0,0),this.len=0),this},"reset"),t.prototype.ldelim=r(function(){var O=this.head,P=this.tail,x=this.len;return this.reset().uint32(x),x&&(this.tail.next=O.next,this.tail=P,this.len+=x),this},"ldelim"),t.prototype.finish=r(function(){for(var O=this.head.next,P=this.constructor.alloc(this.len),x=0;O;)O.fn(O.val,P,x),x+=O.len,O=O.next;return P},"finish"),t._configure=function(E){f=E,t.create=n(),f._configure()}},wJ81:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("KJDN"));let h=r(class extends f.default{constructor(a,o){super(a),this.constraint=o,this.name="OverconstrainedError"}},"OverconstrainedError");c.default=h},wQGL:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("VYs+"));let m=r(class $d extends h.default{setEncodingParameters(o){return v(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const i=this._localCameraTransceiver.sender,e=Array.from(o.values());if(e.length<=0)return;const t=i.getParameters();if(!t.encodings)t.encodings=e;else for(let n=0;n<t.encodings.length;n++)t.encodings[n].rid===h.default.LOW_LEVEL_NAME&&this.copyEncodingParams(o.get(h.default.LOW_LEVEL_NAME),t.encodings[n]),t.encodings[n].rid===h.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(o.get(h.default.HIGH_LEVEL_NAME),t.encodings[n]);yield i.setParameters(t),this.logVideoTransceiverParameters()})}constructor(o,i){super(o,i);let e=2;this.videoQualityControlParameterMap=new Map;for(let t=0;t<$d.NAME_ARR_ASCENDING.length;t++){const n=$d.NAME_ARR_ASCENDING[t];this.videoQualityControlParameterMap.set(n,{rid:n,scaleResolutionDownBy:e,maxBitrate:$d.BITRATE_ARR_ASCENDING[t]*1e3}),e=e/2}}},"SimulcastContentShareTransceiverController");c.default=m,m.NAME_ARR_ASCENDING=["low","hi"],m.BITRATE_ARR_ASCENDING=[300,1200]},"wR/T":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3}},"ConnectionHealthPolicyConfiguration");c.default=v},wSXL:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{generateSessionId(){const h=new Uint32Array(1);return window.crypto.getRandomValues(h)[0].toString()}constructor(h,m,a,o){this.userArn=h,this.messagingSessionId=m,this.endpointUrl=a,this.chimeClient=o,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}},"MessagingSessionConfiguration");c.default=v},wXa7:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("JsnC")),h=v(d("2wCG")),m=v(d("CAce"));let a=r(class En{clone(){return new En(this.sdp)}static isRTPCandidate(i){const e=/candidate[:](\S+) (\d+)/g.exec(i);return!(e===null||e[2]!=="1")}static linesToSDP(i){return new En(i.join(En.CRLF))}static candidateTypeFromString(i){switch(i){case f.default.Host:return f.default.Host;case f.default.ServerReflexive:return f.default.ServerReflexive;case f.default.PeerReflexive:return f.default.PeerReflexive;case f.default.Relay:return f.default.Relay}return null}static candidateType(i){const e=/a[=]candidate[:].* typ ([a-z]+) /g.exec(i);return e===null?null:En.candidateTypeFromString(e[1])}static mediaType(i){const e=/m=(audio|video)/g.exec(i);if(e!==null)return e[1]}static mid(i){if(i.includes("a=mid:"))return i.replace(/^(a=mid:)/,"")}static direction(i){const e=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(i);if(e!==null)return e[1]}static splitLines(i){return i.trim().split(`
`).map(e=>e.trim())}static splitSections(i){return i.split(`
m=`).map((t,n)=>(n>0?"m="+t:t).trim()+En.CRLF)}static findActiveCameraSection(i){let e=0,t=!1;for(const n of i){if(/^m=video/.test(n)&&(n.indexOf("sendrecv")>-1||n.indexOf("sendonly")===-1&&n.indexOf("recvonly")===-1&&n.indexOf("inactive")===-1)){t=!0;break}e++}return t===!1&&(e=-1),e}static extractSSRCsFromFIDGroupLine(i){return/^a=ssrc-group:FID\s(.+)/.exec(i)[1]}static matchPrefix(i,e){return En.splitLines(i).filter(t=>t.indexOf(e)===0)}lines(){return this.sdp.split(En.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(i){return En.linesToSDP(this.lines().filter(e=>En.candidateType(e)!==i))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(f.default.ServerReflexive)}withAudioMaxAverageBitrate(i){if(!i)return this.clone();i=Math.trunc(Math.min(Math.max(i,En.rfc7587LowestBitrate),En.rfc7587HighestBitrate));const e=this.lines(),t=En.findOpusFmtpAttributes(e),n=En.updateOpusFmtpAttributes(e,t,[`maxaveragebitrate=${i}`]);return En.linesToSDP(n)}withStereoAudio(){const i=this.lines(),e=En.findOpusFmtpAttributes(i),t=En.updateOpusFmtpAttributes(i,e,["stereo=1","sprop-stereo=1"]);return En.linesToSDP(t)}static findOpusFmtpAttributes(i){const e=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let t=!1;const n=[];for(const s of i)if(s.startsWith("m=audio")&&(n.push(null),t=!0),s.startsWith("m=video")&&(t=!1),t){const p=e.exec(s);p!==null&&(n[n.length-1]=`a=fmtp:${p[1]} `)}return n}static updateOpusFmtpAttributes(i,e,t){const n=[];let s=0,p=null;for(const g of i)if(g.startsWith("m=audio")&&(p=e[s],s++),g.startsWith("m=video")&&(p=null),p&&g.startsWith(p)){const S=g.slice(p.length).split(";"),u=[];for(const l of S)t.findIndex(O=>O.startsWith(l.split("=")[0]))<0&&u.push(l);for(const l of t)u.push(l);n.push(p+u.join(";"))}else n.push(g);return n}withUnifiedPlanFormat(){let i=this.sdp;return i.includes("mozilla")?this.clone():(i=i.replace("o=-","o=mozilla-chrome"),new En(i))}getUniqueRtpHeaderExtensionId(i){const e=[];for(const n of i)if(/^a=extmap:/.test(n.trim())){const p=+n.split("a=extmap:")[1].split(" ")[0];e.includes(p)||e.push(p)}e.sort((n,s)=>n-s);let t=0;for(const n of e){if(n-t>1)return t+1;t=n}return t===14?-1:t+1}withVideoLayersAllocationRtpHeaderExtension(i){const e="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",t=i?i.getRtpHeaderExtensionId(e):-1,n=t===-1?this.getUniqueRtpHeaderExtensionId(En.splitLines(this.sdp)):t,s=En.splitSections(this.sdp),p=[];for(let S of s){if(/^m=video/.test(S)&&En.getRtpHeaderExtensionIdInSection(S,e)===-1){const u=En.splitLines(S),l=[];if(n===-1||this.hasRtpHeaderExtensionId(n)){p.push(S);continue}for(const E of u)if(l.push(E),/^a=sendrecv/.test(E.trim())){const O="a=extmap:"+n+" "+e;l.push(O)}S=l.join(En.CRLF)+En.CRLF}else if(t!==-1&&/^m=video/.test(S)&&En.getRtpHeaderExtensionIdInSection(S,e)!==t){const u=En.splitLines(S),l=[];for(const E of u){if(/^a=extmap:/.test(E.trim())&&E.split("a=extmap:")[1].split(" ")[1]===e){if(!this.hasRtpHeaderExtensionId(t)){const P="a=extmap:"+t+" "+e;l.push(P)}continue}l.push(E)}S=l.join(En.CRLF)+En.CRLF}p.push(S)}const g=p.join("");return new En(g)}ssrcForVideoSendingSection(){const i=this.sdp,e=En.splitSections(i);if(e.length<2)return"";const t=En.findActiveCameraSection(e);if(t===-1)return"";const n=En.matchPrefix(e[t],"a=ssrc-group:FID ");if(n.length<1)return"";const s=En.extractSSRCsFromFIDGroupLine(n[0]),[p]=s.split(" ").map(g=>parseInt(g,10));return p.toString()}videoSendSectionHasDifferentSSRC(i){const e=this.ssrcForVideoSendingSection(),t=i.ssrcForVideoSendingSection();if(e===""||t==="")return!1;const n=parseInt(e,10),s=parseInt(t,10);return n!==s}removeH264SupportFromSendSection(){const i=this.sdp,e=En.splitSections(i),t=En.findActiveCameraSection(e);if(t===-1)return new En(this.sdp);const n=e[t],s=En.splitLines(n),p=[],g=new Map;s.forEach(E=>{if(/^a=rtpmap:/.test(E)){const O=/^a=rtpmap:([0-9]+)\s/.exec(E);O&&E.toLowerCase().includes("h264")&&p.push(parseInt(O[1],10))}if(/^a=fmtp:/.test(E)){const O=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(E);if(O&&O.length===3){const P=parseInt(O[1],10),x=parseInt(O[2],10);g.has(x)?g.get(x).push(P):g.set(x,[P])}}});const S=new Set;for(const E of p){S.add(E);const O=g.get(E);if(O)for(const P of O)S.add(P)}if(p.length>0){const E=s[0].split(" ");s[0]=E.filter(O=>!S.has(parseInt(O))).join(" ")}const u=s.filter(E=>{if(!E.includes("rtpmap")&&!E.includes("rtcp-fb")&&!E.includes("fmtp"))return!0;for(const O of S)if(E.includes(O.toString()))return!1;return!0});e[t]=u.join(En.CRLF)+En.CRLF;const l=e.join("");return new En(l)}mediaSections(){const i=En.splitSections(this.sdp);if(i.length<2)return[];const e=[];for(let t=1;t<i.length;t++){const n=new h.default,s=En.splitLines(i[t]);for(const p of s){const g=En.mediaType(p);if(g!==void 0){n.mediaType=g;continue}const S=En.direction(p);if(S!==void 0){n.direction=S;continue}const u=En.mid(p);if(u!==void 0){n.mid=u;continue}}e.push(n)}return e}static getRtpHeaderExtensionIdInSection(i,e){const t=En.splitLines(i);for(const n of t)if(/^a=extmap:/.test(n.trim())){const s=n.split("a=extmap:")[1].split(" "),p=+s[0];if(s[1]===e)return p}return-1}getRtpHeaderExtensionId(i){const e=En.splitSections(this.sdp);for(const t of e)if(/^m=video/.test(t)){const n=En.getRtpHeaderExtensionIdInSection(t,i);if(n!==-1)return n}return-1}hasRtpHeaderExtensionId(i){const e=En.splitLines(this.sdp);for(const t of e)if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}withVideoSendCodecPreferences(i){const e=this.sdp,t=En.splitSections(e),n=En.findActiveCameraSection(t);if(n===-1)return new En(this.sdp);t[n]=this.sectionWithCodecPreferences(t[n],i);const s=t.join("");return new En(s)}sectionWithCodecPreferences(i,e){const t=new Map,n=En.splitLines(i);n.forEach(S=>{if(/^a=rtpmap:/.test(S))for(const u of e){if(!S.includes(`${u.codecName}/${u.codecCapability.clockRate}`))continue;const l=/^a=rtpmap:([0-9]+)\s/.exec(S);let E=!1;if(u.codecCapability.sdpFmtpLine!==void 0){for(const O of n)if(O.startsWith(`a=fmtp:${l[1]} ${u.codecCapability.sdpFmtpLine}`)){E=!0;break}}else E=!0;if(E){t.set(u.codecName,l[1]);break}}});const s=new Set(t.values()),p=n[0].split(" ").filter(S=>!s.has(S)),g=Array.from(t.values()).sort((S,u)=>{const l=e.findIndex(O=>t.get(O.codecName)===S),E=e.findIndex(O=>t.get(O.codecName)===u);return l-E});return p.splice(3,0,...g.values()),n[0]=p.join(" "),n.join(En.CRLF)+En.CRLF}highestPriorityVideoSendCodec(){const i=this.sdp,e=En.splitSections(i),t=En.findActiveCameraSection(e);if(t===-1)return;const n=En.splitLines(e[t]),s=n[0].split(" ");if(s.length<4)return;const p=s[3];let g,S,u;for(const l of n){const E=/^a=rtpmap:([0-9]+)\s/.exec(l);if(E===null||E.length<2||E[1]!==p)continue;const P=l.split(" ")[1].split("/");if(!(P===void 0||P.length<2)){g=P[0],S=P[1];for(const x of n)if(x.startsWith(`a=fmtp:${p}`)){const k=x.split(" ");if(k===void 0||k.length<2)return;u=k[1];continue}break}}if(g!==void 0)return new m.default(g,{clockRate:parseInt(S),mimeType:`video/${g}`,sdpFmtpLine:u})}constructor(i){this.sdp=i}},"SDP");c.default=a,a.CRLF=`\r
`,a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4},wYM1:function(U,c,d){var v=d("USwo");v(v.S+v.F*!d("C61u"),"Object",{defineProperty:d("GhSp").f})},wcin:function(U,c){(function(){var d=["user-blocking","user-visible","background"];class v{constructor(){this.channel_=new MessageChannel,this.sendPort_=this.channel_.port2,this.messages_={},this.nextMessageHandle_=1,this.channel_.port1.onmessage=t=>this.onMessageReceived_(t)}queueCallback(t){var n=this.nextMessageHandle_++;return this.messages_[n]=t,this.sendPort_.postMessage(n),n}cancelCallback(t){delete this.messages_[t]}onMessageReceived_(t){var n=t.data;if(n in this.messages_){var s=this.messages_[n];delete this.messages_[n],s()}}}r(v,"t");function f(){return f.instance_||(f.instance_=new v),f.instance_}r(f,"i");class h{constructor(t,n,s){s===void 0&&(s=0),this.callback_=t,this.callbackType_=null,this.handle_=null,this.canceled_=!1,this.schedule_(n,s)}isIdleCallback(){return this.callbackType_===0}isMessageChannelCallback(){return this.callbackType_===2}cancel(){if(!this.canceled_)switch(this.canceled_=!0,this.callbackType_){case 0:cancelIdleCallback(this.handle_);break;case 1:clearTimeout(this.handle_);break;case 2:f().cancelCallback(this.handle_);break;default:throw new TypeError("Unknown CallbackType")}}schedule_(t,n){if(n&&n>0)return this.callbackType_=1,void(this.handle_=setTimeout(()=>{this.runCallback_()},n));if(!d.includes(t))throw new TypeError("Invalid task priority : "+t);return t==="background"&&typeof requestIdleCallback=="function"?(this.callbackType_=0,void(this.handle_=requestIdleCallback(()=>{this.runCallback_()}))):typeof MessageChannel=="function"?(this.callbackType_=2,void(this.handle_=f().queueCallback(()=>{this.runCallback_()}))):(this.callbackType_=1,void(this.handle_=setTimeout(()=>{this.runCallback_()})))}runCallback_(){this.canceled_||this.callback_()}}r(h,"s");var m=0;class a{constructor(){this.head_=null,this.tail_=null}isEmpty(){return this.head_==null}push(t){if(typeof t!="object")throw new TypeError("Task must be an Object");t.tq_sequence_=m++,this.isEmpty()?(t.tq_prev_=null,this.head_=t):(t.tq_prev_=this.tail_,this.tail_.tq_next_=t),t.tq_next_=null,this.tail_=t}takeNextTask(){if(this.isEmpty())return null;var t=this.head_;return this.remove_(t),t}merge(t,n){if(typeof n!="function")throw new TypeError("Must provide a selector function.");if(t==null)throw new Error("sourceQueue cannot be null");for(var s=this.head_,p=null,g=t.head_;g;){var S=g;if(g=g.tq_next_,n(S)){for(t.remove_(S);s&&s.tq_sequence_<S.tq_sequence_;)p=s,s=s.tq_next_;this.insert_(S,p),p=S}}}toArray(){for(var t=this.head_,n=[];t!==null;)n.push(t),t=t.tq_next_;return n}insert_(t,n){if(n!=this.tail_){var s=n?n.tq_next_:this.head_;t.tq_next_=s,s.tq_prev_=t,t.tq_prev_=n,n!=null?n.tq_next_=t:this.head_=t}else this.push(t)}remove_(t){if(t==null)throw new Error("Expected task to be non-null");t===this.head_&&(this.head_=t.tq_next_),t===this.tail_&&(this.tail_=this.tail_.tq_prev_),t.tq_next_&&(t.tq_next_.tq_prev_=t.tq_prev_),t.tq_prev_&&(t.tq_prev_.tq_next_=t.tq_next_)}}r(a,"a");class o extends Event{constructor(t,n){if(!n||!d.includes(n.previousPriority))throw new TypeError("Invalid task priority: '"+n.previousPriority+"'");super(t),this.previousPriority=n.previousPriority}}r(o,"n");class i extends AbortController{constructor(t){if(t===void 0&&(t={}),super(),t==null&&(t={}),typeof t!="object")throw new TypeError("'init' is not an object");var n,s,p=t.priority===void 0?"user-visible":t.priority;if(!d.includes(p))throw new TypeError("Invalid task priority: '"+p+"'");this.priority_=p,this.isPriorityChanging_=!1,s=(n=this).signal,Object.defineProperties(s,{priority:{get:function(){return n.priority_},enumerable:!0},onprioritychange:{value:null,writable:!0,enumerable:!0}}),s.addEventListener("prioritychange",g=>{s.onprioritychange&&s.onprioritychange(g)})}setPriority(t){if(!d.includes(t))throw new TypeError("Invalid task priority: "+t);if(this.isPriorityChanging_)throw new DOMException("","NotAllowedError");if(this.signal.priority!==t){this.isPriorityChanging_=!0;var n=this.priority_;this.priority_=t;var s=new o("prioritychange",{previousPriority:n});this.signal.dispatchEvent(s),this.isPriorityChanging_=!1}}}r(i,"l"),self.scheduler===void 0&&(self.scheduler=new class{constructor(){this.queues_={},d.forEach(e=>{this.queues_[e]=new a}),this.pendingHostCallback_=null,this.signals_=new WeakMap}postTask(e,t){if((t=Object.assign({},t)).signal!==void 0){if(t.signal===null||!("aborted"in t.signal)||typeof t.signal.addEventListener!="function")return Promise.reject(new TypeError("'signal' is not a valid 'AbortSignal'"));if(t.signal&&t.signal.priority&&!d.includes(t.signal.priority))return Promise.reject(new TypeError("Invalid task priority: '"+t.signal.priority+"'"))}if(t.priority!==void 0&&(t.priority===null||!d.includes(t.priority)))return Promise.reject(new TypeError("Invalid task priority: '"+t.priority+"'"));if(t.delay===void 0&&(t.delay=0),t.delay=Number(t.delay),t.delay<0)return Promise.reject(new TypeError("'delay' must be a positive number."));var n={callback:e,options:t,resolve:null,reject:null,hostCallback:null,abortCallback:null,onTaskCompleted:function(){this.options.signal&&this.abortCallback&&(this.options.signal.removeEventListener("abort",this.abortCallback),this.abortCallback=null)},onTaskAborted:function(){this.hostCallback&&(this.hostCallback.cancel(),this.hostCallback=null),this.options.signal.removeEventListener("abort",this.abortCallback),this.abortCallback=null,this.reject(this.options.signal.reason)},isAborted:function(){return this.options.signal&&this.options.signal.aborted}},s=new Promise((p,g)=>{n.resolve=p,n.reject=g});return this.schedule_(n),s}schedule_(e){var t=e.options.signal;if(t){if(t.aborted)return void e.reject(t.reason);e.abortCallback=()=>{e.onTaskAborted()},t.addEventListener("abort",e.abortCallback)}e.options.delay>0?e.hostCallback=new h(()=>{e.hostCallback=null,this.onTaskDelayExpired_(e)},null,e.options.delay):(this.pushTask_(e),this.scheduleHostCallbackIfNeeded_())}onTaskDelayExpired_(e){this.pushTask_(e),this.pendingHostCallback_&&(this.pendingHostCallback_.cancel(),this.pendingHostCallback_=null),this.schedulerEntryCallback_()}onPriorityChange_(e){var t=this.signals_.get(e);if(t===void 0)throw new Error("Attempting to change priority on an unregistered signal");t!==e.priority&&(this.queues_[e.priority].merge(this.queues_[t],n=>n.options.signal===e),this.signals_.set(e,e.priority))}schedulerEntryCallback_(){this.pendingHostCallback_=null,this.runNextTask_(),this.scheduleHostCallbackIfNeeded_()}scheduleHostCallbackIfNeeded_(){var e=this.nextTaskPriority_();e!=null&&(e!=="background"&&this.pendingHostCallback_&&this.pendingHostCallback_.isIdleCallback()&&(this.pendingHostCallback_.cancel(),this.pendingHostCallback_=null),this.pendingHostCallback_||(this.pendingHostCallback_=new h(()=>{this.schedulerEntryCallback_()},e,0)))}pushTask_(e){var t;if(!d.includes(t=e.options.priority?e.options.priority:e.options.signal&&e.options.signal.priority?e.options.signal.priority:"user-visible"))throw new TypeError("Invalid task priority: "+t);if(e.options.signal&&e.options.signal.priority){var n=e.options.signal;this.signals_.has(n)||(n.addEventListener("prioritychange",()=>{this.onPriorityChange_(n)}),this.signals_.set(n,n.priority))}this.queues_[t].push(e)}runNextTask_(){var e=null;do{var t=this.nextTaskPriority_();if(t==null)return;e=this.queues_[t].takeNextTask()}while(e.isAborted());try{var n=e.callback();e.resolve(n)}catch(s){e.reject(s)}finally{e.onTaskCompleted()}}nextTaskPriority_(){for(var e=0;e<d.length;e++){var t=d[e];if(!this.queues_[t].isEmpty())return t}return null}},self.TaskController=i,self.TaskPriorityChangeEvent=o)})()},wiFD:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uint32ArrayFrom=void 0;function v(f){if(!Uint32Array.from){for(var h=new Uint32Array(f.length),m=0;m<f.length;)h[m]=f[m],m+=1;return h}return Uint32Array.from(f)}r(v,"uint32ArrayFrom"),c.uint32ArrayFrom=v},wjYw:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("HbHZ")),m=f(d("j+uH"));let a=r(class extends m.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return v(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(i){throw i}finally{for(const e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const i=this.context.videoTileController.getLocalVideoTile();i&&i.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((i,e)=>{let t=r(class{cancel(){this.signalingClient.removeObserver(this),e(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(p){p.type===h.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),i())}constructor(p){this.signalingClient=p}},"Interceptor");const n=new t(this.context.signalingClient);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}constructor(i){super(i.logger),this.context=i,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}},"CleanStoppedSessionTask");c.default=a},wkYg:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("KJDN"));let h=r(class extends f.default{constructor(a,o){super(a,o),this.name="PermissionDeniedError"}},"PermissionDeniedError");c.default=h},wlNh:function(U,t,d){var v=d("nAx8"),f=d("xMGN"),h=d("bS86"),m=d("d+lc"),a=d("0WpP"),o=d("I90/"),i={},e={},t=U.exports=function(n,s,p,g,S){var u=S?function(){return n}:o(n),l=v(p,g,s?2:1),E=0,O,P,x,k;if(typeof u!="function")throw TypeError(n+" is not iterable!");if(h(u)){for(O=a(n.length);O>E;E++)if(k=s?l(m(P=n[E])[0],P[1]):l(n[E]),k===i||k===e)return k}else for(x=u.call(n);!(P=x.next()).done;)if(k=f(x,l,P.value,s),k===i||k===e)return k};t.BREAK=i,t.RETURN=e},wpDl:function(U,c,d){"use strict";var v=d("Ju5/"),f=d("fshX"),h=d("SiRs"),m=d("efZk"),a=v.a.isFinite,o=Math.min;function i(e){var t=Math[e];return function(n,s){if(n=Object(h.a)(n),s=s==null?0:o(Object(f.a)(s),292),s&&a(n)){var p=(Object(m.a)(n)+"e").split("e"),g=t(p[0]+"e"+(+p[1]+s));return p=(Object(m.a)(g)+"e").split("e"),+(p[0]+"e"+(+p[1]-s))}return t(n)}}r(i,"createRound"),c.a=i},wqPz:function(U,c){U.exports=function(d){try{return{e:!1,v:d()}}catch(v){return{e:!0,v}}}},x8On:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientMetricReportMediaType=void 0;var v;(function(f){f[f.AUDIO=0]="AUDIO",f[f.VIDEO=1]="VIDEO"})(v=c.ClientMetricReportMediaType||(c.ClientMetricReportMediaType={})),c.default=v},xGEd:function(U,c,d){"use strict";U.exports=f;var v=d("kU+7");function f(o,i){this.lo=o>>>0,this.hi=i>>>0}r(f,"LongBits");var h=f.zero=new f(0,0);h.toNumber=function(){return 0},h.zzEncode=h.zzDecode=function(){return this},h.length=function(){return 1};var m=f.zeroHash="\0\0\0\0\0\0\0\0";f.fromNumber=r(function(i){if(i===0)return h;var e=i<0;e&&(i=-i);var t=i>>>0,n=(i-t)/4294967296>>>0;return e&&(n=~n>>>0,t=~t>>>0,++t>4294967295&&(t=0,++n>4294967295&&(n=0))),new f(t,n)},"fromNumber"),f.from=r(function(i){if(typeof i=="number")return f.fromNumber(i);if(v.isString(i))if(v.Long)i=v.Long.fromString(i);else return f.fromNumber(parseInt(i,10));return i.low||i.high?new f(i.low>>>0,i.high>>>0):h},"from"),f.prototype.toNumber=r(function(i){if(!i&&this.hi>>>31){var e=~this.lo+1>>>0,t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+t*4294967296)}return this.lo+this.hi*4294967296},"toNumber"),f.prototype.toLong=r(function(i){return v.Long?new v.Long(this.lo|0,this.hi|0,Boolean(i)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(i)}},"toLong");var a=String.prototype.charCodeAt;f.fromHash=r(function(i){return i===m?h:new f((a.call(i,0)|a.call(i,1)<<8|a.call(i,2)<<16|a.call(i,3)<<24)>>>0,(a.call(i,4)|a.call(i,5)<<8|a.call(i,6)<<16|a.call(i,7)<<24)>>>0)},"fromHash"),f.prototype.toHash=r(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash"),f.prototype.zzEncode=r(function(){var i=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^i)>>>0,this.lo=(this.lo<<1^i)>>>0,this},"zzEncode"),f.prototype.zzDecode=r(function(){var i=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^i)>>>0,this.hi=(this.hi>>>1^i)>>>0,this},"zzDecode"),f.prototype.length=r(function(){var i=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?e===0?i<16384?i<128?1:2:i<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:t<128?9:10},"length")},xJ9D:function(U,c,d){"use strict";var v=this&&this.__createBinding||(Object.create?function(u,l,E,O){O===void 0&&(O=E),Object.defineProperty(u,O,{enumerable:!0,get:function(){return l[E]}})}:function(u,l,E,O){O===void 0&&(O=E),u[O]=l[E]}),f=this&&this.__setModuleDefault||(Object.create?function(u,l){Object.defineProperty(u,"default",{enumerable:!0,value:l})}:function(u,l){u.default=l}),h=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var E in u)E!=="default"&&Object.prototype.hasOwnProperty.call(u,E)&&v(l,u,E);return f(l,u),l},m=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})},a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const o=a(d("6Bxv")),i=a(d("lUhs")),e=a(d("V5IF")),t=h(d("DUgj")),n=a(d("hEYi")),s=a(d("COTZ")),p=d("f2XL"),g=a(d("aVV0"));let S=r(class extends g.default{cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return m(this,void 0,void 0,function*(){const l=yield new Promise((E,O)=>{const P=this.context;P.turnCredentials=null;let x=r(class{cancel(){this.signalingClient.removeObserver(this),O(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(N){if(N.type===n.default.WebSocketClosed){if(N.closeCode===4410){P.audioVideoController.handleMeetingSessionStatus(new o.default(i.default.MeetingEnded),new Error("The meeting already ended."));return}this.cancel();return}else if(N.type!==n.default.ReceivedSignalFrame)return;if(N.message.type===p.SdkSignalFrame.Type.JOIN_ACK){const A=N.message.error;if(A){P.audioVideoController.handleMeetingSessionStatus(new o.default(i.default.SignalingBadRequest),new Error(`Received error (status:${A.status}) when joining meeting ${A.description}`)),this.cancel();return}const D=N.message.joinack;if(D&&D.videoSubscriptionLimit&&(P.videoSubscriptionLimit=D.videoSubscriptionLimit),P.serverSupportsCompression=D==null?void 0:D.wantsCompressedSdp,(D==null?void 0:D.defaultServerSideNetworkAdaption)!==void 0&&D.defaultServerSideNetworkAdaption!==t.default.Default&&P.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const K=D.defaultServerSideNetworkAdaption;P.logger.info(`Overriding server side network adaption value to ${K}`),P.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(t.convertServerSideNetworkAdaptionEnumFromSignaled(K))}D&&D.turnCredentials?(P.turnCredentials=new e.default,P.turnCredentials.username=D.turnCredentials.username,P.turnCredentials.password=D.turnCredentials.password,P.turnCredentials.ttl=D.turnCredentials.ttl,P.turnCredentials.uris=D.turnCredentials.uris.map(K=>P.meetingSessionConfiguration.urls.urlRewriter(K)).filter(K=>!!K)):P.logger.error("missing TURN credentials in JoinAckFrame");return}if(N.message.type!==p.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const w=N.message.index;E(w)}constructor(N){this.signalingClient=N}},"IndexFrameInterceptor");const k=new x(this.context.signalingClient);this.context.signalingClient.registerObserver(k),this.taskCanceler=k,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const B=new s.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(B.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),B.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),B.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(B)});this.context.logger.info(`received first index ${JSON.stringify(l)}`),this.context.indexFrame=l})}constructor(l){super(l.logger),this.context=l,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}},"JoinAndReceiveIndexTask");c.default=S},xMGN:function(U,c,d){var v=d("d+lc");U.exports=function(f,h,m,a){try{return a?h(v(m)[0],m[1]):h(m)}catch(i){var o=f.return;throw o!==void 0&&v(o.call(f)),i}}},xXl2:function(U,c,d){"use strict";var v=d("5ETA"),f=d("7whZ"),h=d("nAx8"),m=d("aqg2"),a=d("USwo"),o=d("ekG2"),i=d("FgkJ"),e=d("ukM9"),t=d("wlNh"),n=d("2zfi"),s=d("vOBO").set,p=d("jssz")(),g=d("8sL3"),S=d("wqPz"),u=d("jlxs"),l=d("JKKi"),E="Promise",O=f.TypeError,P=f.process,x=P&&P.versions,k=x&&x.v8||"",B=f[E],R=m(P)=="process",N=r(function(){},"empty"),w,A,D,K,X=A=g.f,j=!!function(){try{var Ue=B.resolve(1),Le=(Ue.constructor={})[d("zBWt")("species")]=function(at){at(N,N)};return(R||typeof PromiseRejectionEvent=="function")&&Ue.then(N)instanceof Le&&k.indexOf("6.6")!==0&&u.indexOf("Chrome/66")===-1}catch{}}(),te=r(function(Ue){var Le;return o(Ue)&&typeof(Le=Ue.then)=="function"?Le:!1},"isThenable"),me=r(function(Ue,Le){if(!Ue._n){Ue._n=!0;var at=Ue._c;p(function(){for(var lt=Ue._v,ot=Ue._s==1,pt=0,ct=r(function(rt){var Tn=ot?rt.ok:rt.fail,Qt=rt.resolve,Ft=rt.reject,Rn=rt.domain,Pn,ti,Sn;try{Tn?(ot||(Ue._h==2&&Ae(Ue),Ue._h=1),Tn===!0?Pn=lt:(Rn&&Rn.enter(),Pn=Tn(lt),Rn&&(Rn.exit(),Sn=!0)),Pn===rt.promise?Ft(O("Promise-chain cycle")):(ti=te(Pn))?ti.call(Pn,Qt,Ft):Qt(Pn)):Ft(lt)}catch(oi){Rn&&!Sn&&Rn.exit(),Ft(oi)}},"run");at.length>pt;)ct(at[pt++]);Ue._c=[],Ue._n=!1,Le&&!Ue._h&&we(Ue)})}},"notify"),we=r(function(Ue){s.call(f,function(){var Le=Ue._v,at=pe(Ue),lt,ot,pt;if(at&&(lt=S(function(){R?P.emit("unhandledRejection",Le,Ue):(ot=f.onunhandledrejection)?ot({promise:Ue,reason:Le}):(pt=f.console)&&pt.error&&pt.error("Unhandled promise rejection",Le)}),Ue._h=R||pe(Ue)?2:1),Ue._a=void 0,at&&lt.e)throw lt.v})},"onUnhandled"),pe=r(function(Ue){return Ue._h!==1&&(Ue._a||Ue._c).length===0},"isUnhandled"),Ae=r(function(Ue){s.call(f,function(){var Le;R?P.emit("rejectionHandled",Ue):(Le=f.onrejectionhandled)&&Le({promise:Ue,reason:Ue._v})})},"onHandleUnhandled"),Je=r(function(Ue){var Le=this;Le._d||(Le._d=!0,Le=Le._w||Le,Le._v=Ue,Le._s=2,Le._a||(Le._a=Le._c.slice()),me(Le,!0))},"$reject"),Fe=r(function(Ue){var Le=this,at;if(!Le._d){Le._d=!0,Le=Le._w||Le;try{if(Le===Ue)throw O("Promise can't be resolved itself");(at=te(Ue))?p(function(){var lt={_w:Le,_d:!1};try{at.call(Ue,h(Fe,lt,1),h(Je,lt,1))}catch(ot){Je.call(lt,ot)}}):(Le._v=Ue,Le._s=1,me(Le,!1))}catch(lt){Je.call({_w:Le,_d:!1},lt)}}},"$resolve");j||(B=r(function(Le){e(this,B,E,"_h"),i(Le),w.call(this);try{Le(h(Fe,this,1),h(Je,this,1))}catch(at){Je.call(this,at)}},"Promise"),w=r(function(Le){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},"Promise"),w.prototype=d("iZ5/")(B.prototype,{then:r(function(Le,at){var lt=X(n(this,B));return lt.ok=typeof Le=="function"?Le:!0,lt.fail=typeof at=="function"&&at,lt.domain=R?P.domain:void 0,this._c.push(lt),this._a&&this._a.push(lt),this._s&&me(this,!1),lt.promise},"then"),catch:function(Ue){return this.then(void 0,Ue)}}),D=r(function(){var Ue=new w;this.promise=Ue,this.resolve=h(Fe,Ue,1),this.reject=h(Je,Ue,1)},"OwnPromiseCapability"),g.f=X=r(function(Ue){return Ue===B||Ue===K?new D(Ue):A(Ue)},"newPromiseCapability")),a(a.G+a.W+a.F*!j,{Promise:B}),d("kvAF")(B,E),d("va3J")(E),K=d("VSTI")[E],a(a.S+a.F*!j,E,{reject:r(function(Le){var at=X(this),lt=at.reject;return lt(Le),at.promise},"reject")}),a(a.S+a.F*(v||!j),E,{resolve:r(function(Le){return l(v&&this===K?B:this,Le)},"resolve")}),a(a.S+a.F*!(j&&d("h3Hq")(function(Ue){B.all(Ue).catch(N)})),E,{all:r(function(Le){var at=this,lt=X(at),ot=lt.resolve,pt=lt.reject,ct=S(function(){var rt=[],Tn=0,Qt=1;t(Le,!1,function(Ft){var Rn=Tn++,Pn=!1;rt.push(void 0),Qt++,at.resolve(Ft).then(function(ti){Pn||(Pn=!0,rt[Rn]=ti,--Qt||ot(rt))},pt)}),--Qt||ot(rt)});return ct.e&&pt(ct.v),lt.promise},"all"),race:r(function(Le){var at=this,lt=X(at),ot=lt.reject,pt=S(function(){t(Le,!1,function(ct){at.resolve(ct).then(lt.resolve,ot)})});return pt.e&&ot(pt.v),lt.promise},"race")})},xeHQ:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("papz")),m=f(d("j+uH"));let a=r(class extends m.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.NoAttendeePresent}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return v(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((e,t)=>{const n=r((s,p,g,S,u)=>{i===s&&p&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),e(),delete this.cancelPromise)},"handler");this.cancelPromise=s=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),t(s)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)})})}constructor(i){super(i.logger),this.context=i,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");c.default=a},xfML:function(U,c,d){var v=d("USwo");v(v.S,"Object",{setPrototypeOf:d("DrT7").set})},xsFo:function(U,c,d){"use strict";(function(v){Object.defineProperty(c,"__esModule",{value:!0}),c.convertToBuffer=void 0;var f=d("f/KM"),h=typeof v<"u"&&v.from?function(a){return v.from(a,"utf8")}:f.fromUtf8;function m(a){return a instanceof Uint8Array?a:typeof a=="string"?h(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}r(m,"convertToBuffer"),c.convertToBuffer=m}).call(this,d("HDXh").Buffer)},xxdO:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=d("7JaV");v.__exportStar(d("je3o"),c)},xzjI:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class extends Error{constructor(h,m){super(m||"Error fetching device."),this.cause=h,this.name="GetUserMediaError"}},"GetUserMediaError");c.default=v},yMiq:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(a,o,i,e){function t(n){return n instanceof i?n:new i(function(s){s(n)})}return r(t,"adopt"),new(i||(i=Promise))(function(n,s){function p(u){try{S(e.next(u))}catch(l){s(l)}}r(p,"fulfilled");function g(u){try{S(e.throw(u))}catch(l){s(l)}}r(g,"rejected");function S(u){u.done?n(u.value):t(u.value).then(p,g)}r(S,"step"),S((e=e.apply(a,o||[])).next())})},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("aVV0"));let m=r(class extends h.default{run(){return v(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}constructor(o){super(o.logger),this.context=o,this.taskName="CleanRestartedSessionTask"}},"CleanRestartedSessionTask");c.default=m},yQ3g:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{start(h){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),h()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(h){this.timeoutMs=h,this.timer=null}},"TimeoutScheduler");c.default=v},yQFZ:function(U,c){U.exports=function(d){if(d==null)throw TypeError("Can't call method on  "+d);return d}},yS4C:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(e,t,n,s){function p(g){return g instanceof n?g:new n(function(S){S(g)})}return r(p,"adopt"),new(n||(n=Promise))(function(g,S){function u(O){try{E(s.next(O))}catch(P){S(P)}}r(u,"fulfilled");function l(O){try{E(s.throw(O))}catch(P){S(P)}}r(l,"rejected");function E(O){O.done?g(O.value):p(O.value).then(u,l)}r(E,"step"),E((s=s.apply(e,t||[])).next())})},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("+DE9")),m=f(d("R+jL")),a=d("Aplu"),o=f(d("Z/hr"));let i=r(class{createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new h.default(new m.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return v(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const t=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,t.destroy()})}bindVideoElement(t,n){const s=this.getVideoTile(t);if(s===null){this.logger.warn(`Ignoring video element binding for unknown tile id ${t}`);return}s.bindVideoElement(n)}unbindVideoElement(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const s=this.getVideoTile(t);if(s===null){this.logger.warn(`Ignoring video element unbinding for unknown tile id ${t}`);return}this.logger.info("Unbinding the video element");const p=s.stateRef().boundVideoElement;s.bindVideoElement(null),n&&(this.logger.info("Cleaning up the video element"),o.default.disconnectVideoStreamFromVideoElement(p,!1))}startLocalVideoTile(){const t=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),t.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(t){const n=this.getVideoTile(t);n&&(this.currentPausedTilesByIds.has(t)||(this.audioVideoController.pauseReceivingStream(n.stateRef().streamId),this.currentPausedTilesByIds.add(t)),n.pause())}unpauseVideoTile(t){const n=this.getVideoTile(t);n&&(this.currentPausedTilesByIds.has(t)&&(this.audioVideoController.resumeReceivingStream(n.stateRef().streamId),this.currentPausedTilesByIds.delete(t)),n.unpause())}getVideoTile(t){return this.tileMap.has(t)?this.tileMap.get(t):null}getVideoTileArea(t){const n=t.state();let s=0,p=0;return n.boundVideoElement&&(s=n.boundVideoElement.clientHeight*n.devicePixelRatio,p=n.boundVideoElement.clientWidth*n.devicePixelRatio),s*p}getAllRemoteVideoTiles(){const t=new Array;return this.tileMap.forEach((n,s)=>{(!this.currentLocalTile||s!==this.currentLocalTile.id())&&t.push(n)}),t}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const s=this.tileFactory.makeTile(n,t,this,this.devicePixelRatioMonitor);return this.tileMap.set(n,s),s}removeVideoTile(t){if(!this.tileMap.has(t))return;const n=this.tileMap.get(t);this.currentLocalTile===n&&(this.currentLocalTile=null),n.destroy(),this.tileMap.delete(t),this.audioVideoController.forEachObserver(s=>{a.Maybe.of(s.videoTileWasRemoved).map(p=>p.bind(s)(t))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(t){const n=[];for(const s of this.getAllVideoTiles()){const p=s.state();p.boundAttendeeId===t&&(this.removeVideoTile(p.tileId),n.push(p.tileId))}return n}removeAllVideoTiles(){const t=Array.from(this.tileMap.keys());for(const n of t)this.removeVideoTile(n)}sendTileStateUpdate(t){this.audioVideoController.forEachObserver(n=>{a.Maybe.of(n.videoTileDidUpdate).map(s=>s.bind(n)(t))})}haveVideoTilesWithStreams(){for(const t of this.getAllVideoTiles())if(t.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(t){return!!this.getVideoTileForAttendeeId(t)}getVideoTileForAttendeeId(t){for(const n of this.getAllVideoTiles())if(n.state().boundAttendeeId===t)return n}captureVideoTile(t){const n=this.getVideoTile(t);return n?n.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}constructor(t,n,s){this.tileFactory=t,this.audioVideoController=n,this.logger=s,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=n.configuration.keepLastFrameWhenPaused}},"DefaultVideoTileController");c.default=i},ySOd:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(n,s,p,g){function S(u){return u instanceof p?u:new p(function(l){l(u)})}return r(S,"adopt"),new(p||(p=Promise))(function(u,l){function E(x){try{P(g.next(x))}catch(k){l(k)}}r(E,"fulfilled");function O(x){try{P(g.throw(x))}catch(k){l(k)}}r(O,"rejected");function P(x){x.done?u(x.value):S(x.value).then(E,O)}r(P,"step"),P((g=g.apply(n,s||[])).next())})},f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("IsLT")),m=f(d("zd8f")),a=f(d("mlaT")),o=f(d("ZZPe")),i=f(d("kud1"));let e=r(class extends o.default{loadAssets(){return v(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return v(this,void 0,void 0,function*(){})}},"NoOpBackgroundReplacementProcessor"),t=r(class Tv extends h.default{static create(s,p){return v(this,void 0,void 0,function*(){s=this.resolveSpec(s),p=this.resolveOptions(p),yield this.resolveOptionsAsync(p);const{logger:g}=p;if(!(yield Tv.isSupported(s,p)))return g.warn("Using no-op processor because background replacement is not supported"),new e;g.info("Using background replacement filter");const u=new i.default(s,p);return yield u.loadAssets(),u})}static resolveOptions(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const p=Object.assign({},s);return p.logger||(p.logger=new m.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(p)}static resolveOptionsAsync(s){return v(this,void 0,void 0,function*(){if(!s.imageBlob){const p=document.createElement("canvas");p.width=100,p.height=100;const g=p.getContext("2d");g.fillStyle="blue",g.fillRect(0,0,100,100);const S=yield new Promise(u=>{p.toBlob(u)});s.imageBlob=S}})}static isSupported(s,p){const g=Object.create(null,{isSupported:{get:()=>super.isSupported}});return v(this,void 0,void 0,function*(){s=this.resolveSpec(s),p=this.resolveOptions(p),yield this.resolveOptionsAsync(p);const S=p.imageBlob,u=URL.createObjectURL(S);try{yield i.default.loadImage(u)}catch(l){return p.logger.info(`Failed to fetch load replacement image ${l.message}`),!1}finally{URL.revokeObjectURL(u)}return g.isSupported.call(this,s,p)})}},"BackgroundReplacementVideoFrameProcessor");c.default=t},ya0l:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{},"ClientVideoStreamReceivingReport");c.default=v},yqyw:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("lUhs")),m=f(d("aVV0"));let a=r(class extends m.default{cancel(){if(this.cancelPromise){const i=new Error(`canceling ${this.name()} due to the meeting status code: ${h.default.NoAttendeePresent}`);this.cancelPromise(i),delete this.cancelPromise}}run(){return v(this,void 0,void 0,function*(){const i=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((e,t)=>{const n=r((s,p,g,S,u)=>{i===s&&p&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),e(),delete this.cancelPromise)},"handler");this.cancelPromise=s=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),t(s)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)})})}constructor(i){super(i.logger),this.context=i,this.taskName="WaitForAttendeePresenceTask"}},"WaitForAttendeePresenceTask");c.default=a},yvTz:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(u,l,E,O){function P(x){return x instanceof E?x:new E(function(k){k(x)})}return r(P,"adopt"),new(E||(E=Promise))(function(x,k){function B(w){try{N(O.next(w))}catch(A){k(A)}}r(B,"fulfilled");function R(w){try{N(O.throw(w))}catch(A){k(A)}}r(R,"rejected");function N(w){w.done?x(w.value):P(w.value).then(B,R)}r(N,"step"),N((O=O.apply(u,l||[])).next())})},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("2nae")),m=f(d("HLgz")),a=f(d("Np2I")),o=f(d("Sa54")),i=f(d("Lrln")),e=f(d("0NFC")),t=f(d("Q8+J")),n=d("rwhO"),s=f(d("eeYi")),p=f(d("ULlC")),g=f(d("jHTc"));let S=r(class{get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return v(this,void 0,void 0,function*(){n.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),n.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),n.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),t.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const l=new o.default,E=`${l.name()} ${l.majorVersion()} (${l.version()})`;if(this.logger.info(`browser is ${E}`),l.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${l.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!l.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(l.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${l.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")))}isSimulcastUplinkPolicy(l){return!!(l&&l.addObserver)}constructor(l,E,O,P){this._eventController=P,this._configuration=l,this._logger=E,this.checkBrowserSupportAndFeatureConfiguration(),t.default.addLogger(this._logger),t.default.register(),this._eventController||(this._eventController=new s.default(l,E)),O.eventController||(O.eventController=this.eventController),this.audioVideoController=new h.default(this._configuration,this._logger,new g.default(this._logger),O,new p.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=O;const x=new i.default(this._logger);this.contentShareController=new e.default(x,new h.default(e.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new g.default(this._logger),x,new p.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new m.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}},"DefaultMeetingSession");c.default=S},ywpn:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(p,g,S,u){function l(E){return E instanceof S?E:new S(function(O){O(E)})}return r(l,"adopt"),new(S||(S=Promise))(function(E,O){function P(B){try{k(u.next(B))}catch(R){O(R)}}r(P,"fulfilled");function x(B){try{k(u.throw(B))}catch(R){O(R)}}r(x,"rejected");function k(B){B.done?E(B.value):l(B.value).then(P,x)}r(k,"step"),k((u=u.apply(p,g||[])).next())})},f=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0});const h=d("GEtQ"),m=d("hlxM"),a=f(d("J93s")),o=f(d("Sa54")),i=f(d("59sL")),e=r(()=>a.default.builder().withSelfieSegmentationDefaults().build(),"CREATE_DEFAULT_MODEL_SPEC"),t="https://static.sdkassets.chime.aws",n={worker:`${t}/bgblur/workers/worker.js`,wasm:`${t}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${t}/bgblur/wasm/_cwt-wasm-simd.wasm`};let s=r(class{static defaultAssetSpec(){const g=i.default.sdkVersionSemVer;return{assetGroup:`sdk-${g.major}.${g.minor}`}}static createUrlWithParams(g,S){const u=new URL(g),l=Object.keys(S);for(const E of l)S[E]!==void 0&&u.searchParams.set(E,S[E]);return u.toString()}static resolveSpec(g){const{paths:S=n,model:u=e(),assetGroup:l=this.defaultAssetSpec().assetGroup,revisionID:E=this.defaultAssetSpec().revisionID}=g||{},O={assetGroup:l,revisionID:E,sdk:encodeURIComponent(i.default.sdkVersion),ua:encodeURIComponent(i.default.sdkUserAgentLowResolution)};return S.worker=this.createUrlWithParams(S.worker,O),S.wasm=this.createUrlWithParams(S.wasm,O),S.simd=this.createUrlWithParams(S.simd,O),u.path=this.createUrlWithParams(u.path,O),{paths:S,model:u,assetGroup:l,revisionID:E}}static resolveOptions(g){g.reportingPeriodMillis||(g.reportingPeriodMillis=1e3);const S=30;return g.filterCPUUtilization?(g.filterCPUUtilization<0||g.filterCPUUtilization>100)&&(g.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${S} percent`),g.filterCPUUtilization=S):g.filterCPUUtilization=S,g}static isSupported(g,S){const{logger:u}=S;return typeof globalThis>"u"?(u.info("Browser does not have globalThis."),Promise.resolve(!1)):new o.default().supportsBackgroundFilter()?m.supportsWASM(globalThis,u)?this.supportsBackgroundFilter(globalThis,g,u):(u.info("Browser does not support WASM."),Promise.resolve(!1)):(u.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:globalThis,S=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0;return v(this,void 0,void 0,function*(){if(!m.supportsWorker(g,u))return u.info("Browser does not support web workers."),!1;const l=S.paths.worker;try{const E=yield h.loadWorker(l,"BackgroundFilterWorker",{},null);try{E.terminate()}catch(O){u.info(`Failed to terminate worker. ${O.message}`)}return!0}catch(E){return u.info(`Failed to fetch and instantiate test worker ${E.message}`),!1}})}},"BackgroundFilterVideoFrameProcessor");c.default=s},yx2K:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(x,k,B,R){function N(w){return w instanceof B?w:new B(function(A){A(w)})}return r(N,"adopt"),new(B||(B=Promise))(function(w,A){function D(j){try{X(R.next(j))}catch(te){A(te)}}r(D,"fulfilled");function K(j){try{X(R.throw(j))}catch(te){A(te)}}r(K,"rejected");function X(j){j.done?w(j.value):N(j.value).then(D,K)}r(X,"step"),X((R=R.apply(x,k||[])).next())})},f=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("WHnE")),m=f(d("Sa54")),a=f(d("RUbL")),o=f(d("V4cD")),i=f(d("aVV0")),e=f(d("L+i+")),t=f(d("Yvks")),n=f(d("jmx1")),s=f(d("zN22")),p=f(d("CPHI")),g=f(d("2Bsk")),S=f(d("aSsB")),u=f(d("kph0")),l=f(d("SdmA")),E=f(d("NFcc")),O=f(d("+7ft"));let P=r(class Iv{static delay(k){return v(this,void 0,void 0,function*(){return new Promise(B=>setTimeout(B,k))})}checkAudioInput(k){return v(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(k),yield this.meetingSession.audioVideo.stopAudioInput(),n.default.Succeeded}catch(B){return this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${B}`),B instanceof o.default?n.default.PermissionDenied:n.default.Failed}})}checkAudioOutput(k,B){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return v(this,void 0,void 0,function*(){try{const N=k?a.default.getIntrinsicDeviceId(k):"";return yield this.playTone(N,this.configuration.audioOutputFrequency,R),(yield B())?s.default.Succeeded:s.default.Failed}catch(N){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${N}`),s.default.Failed}finally{this.stopTone()}})}playTone(k,B,R){return v(this,void 0,void 0,function*(){const w=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=B,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const D=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,D),this.gainNode.gain.linearRampToValueAtTime(w,D+.1),this.oscillatorNode.start();const K=new h.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield K.bindAudioDevice({deviceId:k}))}catch(X){this.logger.error(`Failed to bind audio device: ${X}`)}try{yield K.bindAudioElement(R||new Audio)}catch(X){this.logger.error(`Failed to bind audio element: ${X}`)}yield K.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const k=1,B=.1,R=this.configuration.audioOutputGain,N=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(R,N+B+k),this.gainNode.gain.linearRampToValueAtTime(0,N+B*2+k),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(k){return v(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(k),yield this.meetingSession.audioVideo.stopVideoInput(),E.default.Succeeded}catch(B){return this.logger.error(`MeetingReadinessChecker: Video check failed with error ${B}`),B instanceof o.default?E.default.PermissionDenied:E.default.Failed}})}checkCameraResolution(k,B,R){return v(this,void 0,void 0,function*(){let N;try{const w=a.default.getIntrinsicDeviceId(k),A={video:this.calculateVideoConstraint(w,B,R)};N=yield navigator.mediaDevices.getUserMedia(A)}catch(w){return this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${B} height ${R} failed with error ${w}`),w&&w.name==="OverconstrainedError"?p.default.ResolutionNotSupported:w&&w.name==="NotAllowedError"?p.default.PermissionDenied:p.default.Failed}finally{N&&N.getTracks().forEach(function(w){w.stop()})}return p.default.Succeeded})}calculateVideoConstraint(k,B,R){const N=this.browserBehavior.requiresResolutionAlignment(B,R),w={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(w.deviceId=k,w.width=B,w.height=R):(w.deviceId={exact:k},w.width={exact:N[0]},w.height={exact:N[1]}),w}checkContentShareConnectivity(k){return v(this,void 0,void 0,function*(){let B=!1,R=!1;const N={contentShareDidStart:()=>{B=!0}},w={audioVideoDidStart:()=>{R=!0}};try{return this.meetingSession.audioVideo.addObserver(w),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(N),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(k),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return R&&B})),R?(yield this.stopMeeting(),B?g.default.Succeeded:g.default.TimedOut):g.default.ConnectionFailed}catch(A){return this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${A}`),A.name==="NotAllowedError"?g.default.PermissionDenied:g.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(w),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(N)}})}checkAudioConnectivity(k){return v(this,void 0,void 0,function*(){let B=!1;const R={packetsReceived:0},N=this.meetingSession.audioVideo,w={metricsDidReceive(D){D.getRTCStatsReport().forEach(K=>{K.type==="inbound-rtp"&&K.mediaType==="audio"&&(R.packetsReceived=K.packetsReceived)})}},A=r((D,K,X,j)=>{D===this.meetingSession.configuration.credentials.attendeeId&&K&&(B=!0)},"attendeePresenceHandler");try{yield N.startAudioInput(k)}catch(D){return this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${D}`),D instanceof o.default?t.default.AudioInputPermissionDenied:t.default.AudioInputRequestFailed}return N.realtimeSubscribeToAttendeeIdPresence(A),N.addObserver(w),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(B,R)})),N.removeObserver(w),N.realtimeUnsubscribeToAttendeeIdPresence(A),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(B,R)?t.default.Succeeded:t.default.AudioNotReceived):(N.removeObserver(w),N.realtimeUnsubscribeToAttendeeIdPresence(A),yield this.meetingSession.audioVideo.stopAudioInput(),t.default.ConnectionFailed)})}checkVideoConnectivity(k){return v(this,void 0,void 0,function*(){const B=this.meetingSession.audioVideo;let R=0;const N={metricsDidReceive(w){w.getRTCStatsReport().forEach(D=>{D.type==="outbound-rtp"&&D.mediaType==="video"&&(R=D.packetsSent)})}};try{yield B.startVideoInput(k)}catch(w){return this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${w}`),w instanceof o.default?l.default.VideoInputPermissionDenied:l.default.VideoInputRequestFailed}return B.addObserver(N),(yield this.startMeeting())?(B.startLocalVideoTile(),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return R>0})),yield B.stopVideoInput(),yield this.stopMeeting(),B.removeObserver(N),R<=0?l.default.VideoNotSent:l.default.Succeeded):l.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return v(this,void 0,void 0,function*(){let k=!1;const B={metricsDidReceive(N){N.getRTCStatsReport().forEach(A=>{A.type==="candidate-pair"&&A.state==="succeeded"&&(k=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(N){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${N}`),u.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=N=>{const w=this.originalURLRewriter(N);return w.includes("transport=tcp")?"":w};const R=this.meetingSession.audioVideo;return R.addObserver(B),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),R.removeObserver(B),k?u.default.Succeeded:u.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,u.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return v(this,void 0,void 0,function*(){let k=!1;const B={metricsDidReceive(N){N.getRTCStatsReport().forEach(A=>{A.type==="candidate-pair"&&A.state==="succeeded"&&(k=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(N){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${N}`),S.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=N=>{const w=this.originalURLRewriter(N);return w.includes("transport=udp")?"":w};const R=this.meetingSession.audioVideo;return R.addObserver(B),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),R.removeObserver(B),k?S.default.Succeeded:S.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,S.default.ConnectionFailed)})}startMeeting(){return v(this,void 0,void 0,function*(){let k=!1;const B={audioVideoDidStart:()=>{k=!0}};return this.meetingSession.audioVideo.addObserver(B),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.audioVideo.removeObserver(B),k})}stopMeeting(){return v(this,void 0,void 0,function*(){let k=!1;const B={audioVideoDidStop:R=>{k=!0}};return this.meetingSession.audioVideo.addObserver(B),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>v(this,void 0,void 0,function*(){return k})),this.meetingSession.audioVideo.removeObserver(B),k})}executeTimeoutTask(k){return v(this,void 0,void 0,function*(){let B=!1,R=r(class extends i.default{cancel(){this.isCancelled=!0}run(){return v(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield k()){B=!0;break}yield Iv.delay(this.waitDurationMs)}})}constructor(A,D){super(A),this.waitDurationMs=D,this.isCancelled=!1}},"CheckForConditionTask");return yield new e.default(this.logger,new R(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),B})}isAudioConnectionSuccessful(k,B){return k&&B.packetsReceived>0}constructor(k,B,R=new O.default){this.logger=k,this.meetingSession=B,this.configuration=R,this.browserBehavior=new m.default}},"DefaultMeetingReadinessChecker");c.default=P},"z8+u":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.WebSocketReadyState=void 0;var v;(function(f){f[f.None=0]="None",f[f.Connecting=1]="Connecting",f[f.Open=2]="Open",f[f.Closing=3]="Closing",f[f.Closed=4]="Closed"})(v=c.WebSocketReadyState||(c.WebSocketReadyState={})),c.default=v},zBWt:function(U,c,d){var v=d("s2er")("wks"),f=d("ixoo"),h=d("7whZ").Symbol,m=typeof h=="function",a=U.exports=function(o){return v[o]||(v[o]=m&&h[o]||(m?h:f)("Symbol."+o))};a.store=v},zH6K:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0});const h=f(d("F7zz")),m=f(d("BkFD"));let a=r(class wv{sortedDeviceList(){return v(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const i of this.deviceChangeListeners)h.default.nextTick(()=>{if(this.deviceChangeListeners.has(i)){const e=new Event("devicechange");typeof i=="function"?i(e):i.handleEvent(e)}})}constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(i,e,t)=>{if(!Reflect.has(i,e))return;if(!("ondevicechange"in navigator.mediaDevices)){if(e==="addEventListener")return this.patchAddEventListener(i,e,t);if(e==="removeEventListener")return this.patchRemoveEventListener(i,e,t)}const n=Reflect.get(i,e,t);return typeof n=="function"?n.bind(i):n},this.patchAddEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(s,p,g)=>{if(s==="devicechange")this.deviceChangeListeners.add(p),this.scheduler||(this.scheduler=new m.default(wv.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(n,i,[s,p,g])}},this.patchRemoveEventListener=(i,e,t)=>{const n=Reflect.get(i,e,t);return(s,p,g)=>{if(s==="devicechange")this.deviceChangeListeners.delete(p),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(n,i,[s,p,g])}},this.pollDeviceLists=()=>v(this,void 0,void 0,function*(){const i=yield this.sortedDeviceList();this.devices&&(i.length!==this.devices.length||i.some((t,n)=>t.deviceId!==this.devices[n].deviceId))&&this.handleDeviceChangeEvent(),this.devices=i})}},"MediaDeviceProxyHandler");c.default=a,a.INTERVAL_MS=1e3},zN22:function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CheckAudioOutputFeedback=void 0;var v;(function(f){f[f.Succeeded=0]="Succeeded",f[f.Failed=1]="Failed"})(v=c.CheckAudioOutputFeedback||(c.CheckAudioOutputFeedback={})),c.default=v},zNm1:function(U,c,d){"use strict";var v=this&&this.__awaiter||function(o,i,e,t){function n(s){return s instanceof e?s:new e(function(p){p(s)})}return r(n,"adopt"),new(e||(e=Promise))(function(s,p){function g(l){try{u(t.next(l))}catch(E){p(E)}}r(g,"fulfilled");function S(l){try{u(t.throw(l))}catch(E){p(E)}}r(S,"rejected");function u(l){l.done?s(l.value):n(l.value).then(g,S)}r(u,"step"),u((t=t.apply(o,i||[])).next())})},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(c,"__esModule",{value:!0}),c.NoOpDeviceControllerWithEventController=void 0;const h=f(d("r9Lw"));let m=r(class extends h.default{destroy(){return v(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(i){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(i){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(i){return Promise.reject()}addDeviceChangeObserver(i){}removeDeviceChangeObserver(i){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(i){}stopVideoPreviewForVideoInput(i){}setDeviceLabelTrigger(i){}mixIntoAudioInput(i){return null}chooseVideoInputQuality(i,e,t){}getVideoInputQualitySettings(){return null}constructor(i){super(),this.destroyed=!1}},"NoOpDeviceController");c.default=m;let a=r(class extends m{constructor(i){super(),this.eventController=i}},"NoOpDeviceControllerWithEventController");c.NoOpDeviceControllerWithEventController=a},"zW/2":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmptyData=void 0;function v(f){return typeof f=="string"?f.length===0:f.byteLength===0}r(v,"isEmptyData"),c.isEmptyData=v},"zcg+":function(U,c,d){"use strict";Object.defineProperty(c,"__esModule",{value:!0});let v=r(class{start(h){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),h()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}constructor(h){this.timeoutMs=h,this.timer=null}},"TimeoutScheduler");c.default=v},zd8f:function(U,c,d){"use strict";var v=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0});const f=v(d("mlaT"));let h=r(class{info(a){this.log(f.default.INFO,a)}warn(a){this.log(f.default.WARN,a)}error(a){this.log(f.default.ERROR,a)}debug(a){f.default.DEBUG<this.level||(typeof a=="string"?this.log(f.default.DEBUG,a):a?this.log(f.default.DEBUG,a()):this.log(f.default.DEBUG,""+a))}setLogLevel(a){this.level=a}getLogLevel(){return this.level}log(a,o){if(a<this.level)return;const e=`${new Date().toISOString()} [${f.default[a]}] ${this.name} - ${o}`;switch(a){case f.default.ERROR:console.error(e);break;case f.default.WARN:console.warn(e);break;case f.default.DEBUG:console.debug(e.replace(/\\r\\n/g,`
`));break;case f.default.INFO:console.info(e);break}}constructor(a,o=f.default.WARN){this.name=a,this.level=o}},"ConsoleLogger");c.default=h},znrX:function(U,c,d){var v=d("nA4W"),f=d("CYMq"),h=d("WpRT")("IE_PROTO"),m=Object.prototype;U.exports=Object.getPrototypeOf||function(a){return a=f(a),v(a,h)?a[h]:typeof a.constructor=="function"&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?m:null}}}]);})();
